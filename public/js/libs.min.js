!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(t.document)return e(t);throw new Error("jQuery requires a window with a document")}:e(t)}("undefined"!=typeof window?window:this,function(T,N){"use strict";function v(t){return"function"==typeof t&&"number"!=typeof t.nodeType}function g(t){return null!=t&&t===t.window}var t=[],S=T.document,U=Object.getPrototypeOf,s=t.slice,F=t.concat,j=t.push,B=t.indexOf,H={},W=H.toString,G=H.hasOwnProperty,q=G.toString,V=q.call(Object),m={},Y={type:!0,src:!0,noModule:!0};function z(t,e,n){var i,r=(e=e||S).createElement("script");if(r.text=t,n)for(i in Y)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function p(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?H[W.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)},$=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function K(t){var e=!!t&&"length"in t&&t.length,n=p(t);return!v(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=w.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return w.each(this,t)},map:function(n){return this.pushStack(w.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:j,sort:t.sort,splice:t.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,a=arguments[0]||{},o=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[o]||{},o++),"object"==typeof a||v(a)||(a={}),o===s&&(a=this,o--);o<s;o++)if(null!=(t=arguments[o]))for(e in t)r=a[e],a!==(n=t[e])&&(l&&n&&(w.isPlainObject(n)||(i=Array.isArray(n)))?(r=i?(i=!1,r&&Array.isArray(r)?r:[]):r&&w.isPlainObject(r)?r:{},a[e]=w.extend(l,r,n)):void 0!==n&&(a[e]=n));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==W.call(t)||(t=U(t))&&("function"!=typeof(t=G.call(t,"constructor")&&t.constructor)||q.call(t)!==V))},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t){z(t)},each:function(t,e){var n,i=0;if(K(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace($,"")},makeArray:function(t,e){e=e||[];return null!=t&&(K(Object(t))?w.merge(e,"string"==typeof t?[t]:t):j.call(e,t)),e},inArray:function(t,e,n){return null==e?-1:B.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!=o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(K(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return F.apply([],o)},guid:1,support:m}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=t[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){H["[object "+e+"]"]=e.toLowerCase()});function i(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i}function X(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var t=function(n){function d(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function N(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function U(){S()}var t,f,_,a,F,p,j,B,T,l,u,S,w,i,E,g,r,o,m,C="sizzle"+ +new Date,y=n.document,k=0,H=0,W=ct(),G=ct(),v=ct(),q=function(t,e){return t===e&&(u=!0),0},V={}.hasOwnProperty,e=[],Y=e.pop,z=e.push,D=e.push,$=e.slice,b=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",s="[\\x20\\t\\r\\n\\f]",c="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",X="\\["+s+"*("+c+")(?:"+s+"*([*^$|!~]?=)"+s+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+c+"))|)"+s+"*\\]",Q=":("+c+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+X+")*)|.*)\\)|)",J=new RegExp(s+"+","g"),A=new RegExp("^"+s+"+|((?:^|[^\\\\])(?:\\\\.)*)"+s+"+$","g"),Z=new RegExp("^"+s+"*,"+s+"*"),tt=new RegExp("^"+s+"*([>+~]|"+s+")"+s+"*"),et=new RegExp("="+s+"*([^\\]'\"]*?)"+s+"*\\]","g"),nt=new RegExp(Q),it=new RegExp("^"+c+"$"),h={ID:new RegExp("^#("+c+")"),CLASS:new RegExp("^\\.("+c+")"),TAG:new RegExp("^("+c+"|[*])"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+s+"*(even|odd|(([+-]|)(\\d*)n|)"+s+"*(?:([+-]|)"+s+"*(\\d+)|))"+s+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+s+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+s+"*((?:-\\d)?\\d*)"+s+"*\\)|)(?=[^-]|$)","i")},rt=/^(?:input|select|textarea|button)$/i,at=/^h\d$/i,x=/^[^{]+\{\s*\[native \w/,ot=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,st=/[+~]/,L=new RegExp("\\\\([\\da-f]{1,6}"+s+"?|("+s+")|.)","ig"),lt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ut=mt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{D.apply(e=$.call(y.childNodes),y.childNodes),e[y.childNodes.length].nodeType}catch(n){D={apply:e.length?function(t,e){z.apply(t,$.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function O(t,e,n,i){var r,a,o,s,l,u,c,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&((e?e.ownerDocument||e:y)!==w&&S(e),e=e||w,E)){if(11!==h&&(l=ot.exec(t)))if(r=l[1]){if(9===h){if(!(o=e.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(d&&(o=d.getElementById(r))&&m(e,o)&&o.id===r)return n.push(o),n}else{if(l[2])return D.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&f.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(r)),n}if(f.qsa&&!v[t+" "]&&(!g||!g.test(t))){if(1!==h)d=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(lt,N):e.setAttribute("id",s=C),a=(u=p(t)).length;a--;)u[a]="#"+s+" "+M(u[a]);c=u.join(","),d=st.test(t)&&pt(e.parentNode)||e}if(c)try{return D.apply(n,d.querySelectorAll(c)),n}catch(t){}finally{s===C&&e.removeAttribute("id")}}}return B(t.replace(A,"$1"),e,n,i)}function ct(){var n=[];function i(t,e){return n.push(t+" ")>_.cacheLength&&delete i[n.shift()],i[t+" "]=e}return i}function I(t){return t[C]=!0,t}function R(t){var e=w.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function dt(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function ht(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ut(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function P(o){return I(function(a){return a=+a,I(function(t,e){for(var n,i=o([],t.length,a),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function pt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in f=O.support={},F=O.isXML=function(t){t=t&&(t.ownerDocument||t).documentElement;return!!t&&"HTML"!==t.nodeName},S=O.setDocument=function(t){var t=t?t.ownerDocument||t:y;return t!==w&&9===t.nodeType&&t.documentElement&&(i=(w=t).documentElement,E=!F(w),y!==w&&(t=w.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",U,!1):t.attachEvent&&t.attachEvent("onunload",U)),f.attributes=R(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=R(function(t){return t.appendChild(w.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=x.test(w.getElementsByClassName),f.getById=R(function(t){return i.appendChild(t).id=C,!w.getElementsByName||!w.getElementsByName(C).length}),f.getById?(_.filter.ID=function(t){var e=t.replace(L,d);return function(t){return t.getAttribute("id")===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&E)return(e=e.getElementById(t))?[e]:[]}):(_.filter.ID=function(t){var e=t.replace(L,d);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&E){var n,i,r,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(r=e.getElementsByName(t),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),_.find.TAG=f.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):f.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"!==t)return a;for(;n=a[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=f.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&E)return e.getElementsByClassName(t)},r=[],g=[],(f.qsa=x.test(w.querySelectorAll))&&(R(function(t){i.appendChild(t).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+s+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+s+"*(?:value|"+K+")"),t.querySelectorAll("[id~="+C+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]")}),R(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=w.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+s+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),i.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(f.matchesSelector=x.test(o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&R(function(t){f.disconnectedMatch=o.call(t,"*"),o.call(t,"[s!='']:x"),r.push("!=",Q)}),g=g.length&&new RegExp(g.join("|")),r=r.length&&new RegExp(r.join("|")),t=x.test(i.compareDocumentPosition),m=t||x.test(i.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(n.contains?n.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=t?function(t,e){return t===e?(u=!0,0):!t.compareDocumentPosition-!e.compareDocumentPosition||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===n?t===w||t.ownerDocument===y&&m(y,t)?-1:e===w||e.ownerDocument===y&&m(y,e)?1:l?b(l,t)-b(l,e):0:4&n?-1:1);var n}:function(t,e){if(t===e)return u=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t===w?-1:e===w?1:r?-1:a?1:l?b(l,t)-b(l,e):0;if(r===a)return ht(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?ht(o[i],s[i]):o[i]===y?-1:s[i]===y?1:0}),w},O.matches=function(t,e){return O(t,null,null,e)},O.matchesSelector=function(t,e){if((t.ownerDocument||t)!==w&&S(t),e=e.replace(et,"='$1']"),f.matchesSelector&&E&&!v[e+" "]&&(!r||!r.test(e))&&(!g||!g.test(e)))try{var n=o.call(t,e);if(n||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<O(e,w,null,[t]).length},O.contains=function(t,e){return(t.ownerDocument||t)!==w&&S(t),m(t,e)},O.attr=function(t,e){(t.ownerDocument||t)!==w&&S(t);var n=_.attrHandle[e.toLowerCase()],n=n&&V.call(_.attrHandle,e.toLowerCase())?n(t,e,!E):void 0;return void 0!==n?n:f.attributes||!E?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},O.escape=function(t){return(t+"").replace(lt,N)},O.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},O.uniqueSort=function(t){var e,n=[],i=0,r=0;if(u=!f.detectDuplicates,l=!f.sortStable&&t.slice(0),t.sort(q),u){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return l=null,t},a=O.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=a(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=a(e);return n},(_=O.selectors={cacheLength:50,createPseudo:I,match:h,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(L,d),t[3]=(t[3]||t[4]||t[5]||"").replace(L,d),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||O.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&O.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return h.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&nt.test(n)&&(e=p(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(L,d).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+s+")"+t+"("+s+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(t){t=O.attr(t,e);return null==t?"!="===n:!n||(t+="","="===n?t===i:"!="===n?t!==i:"^="===n?i&&0===t.indexOf(i):"*="===n?i&&-1<t.indexOf(i):"$="===n?i&&t.slice(-i.length)===i:"~="===n?-1<(" "+t.replace(J," ")+" ").indexOf(i):"|="===n&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,t,e,g,m){var y="nth"!==p.slice(0,3),v="last"!==p.slice(-4),b="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,a,o,s,l,u=y!=v?"nextSibling":"previousSibling",c=t.parentNode,d=b&&t.nodeName.toLowerCase(),h=!n&&!b,f=!1;if(c){if(y){for(;u;){for(o=t;o=o[u];)if(b?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(f=(s=(i=(r=(a=(o=c)[C]||(o[C]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===k&&i[1])&&i[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(f=s=0)||l.pop();)if(1===o.nodeType&&++f&&o===t){r[p]=[k,s,f];break}}else if(!1===(f=h?s=(i=(r=(a=(o=t)[C]||(o[C]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===k&&i[1]:f))for(;(o=++s&&o&&o[u]||(f=s=0)||l.pop())&&((b?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++f||(h&&((r=(a=o[C]||(o[C]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]=[k,f]),o!==t)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,a){var e,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||O.error("unsupported pseudo: "+t);return o[C]?o(a):1<o.length?(e=[t,t,"",a],_.setFilters.hasOwnProperty(t.toLowerCase())?I(function(t,e){for(var n,i=o(t,a),r=i.length;r--;)t[n=b(t,i[r])]=!(e[n]=i[r])}):function(t){return o(t,0,e)}):o}},pseudos:{not:I(function(t){var i=[],r=[],s=j(t.replace(A,"$1"));return s[C]?I(function(t,e,n,i){for(var r,a=s(t,null,i,[]),o=t.length;o--;)(r=a[o])&&(t[o]=!(e[o]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),i[0]=null,!r.pop()}}),has:I(function(e){return function(t){return 0<O(e,t).length}}),contains:I(function(e){return e=e.replace(L,d),function(t){return-1<(t.textContent||t.innerText||a(t)).indexOf(e)}}),lang:I(function(n){return it.test(n||"")||O.error("unsupported lang: "+n),n=n.replace(L,d).toLowerCase(),function(t){var e;do{if(e=E?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===i},focus:function(t){return t===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return at.test(t.nodeName)},input:function(t){return rt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:P(function(){return[0]}),last:P(function(t,e){return[e-1]}),eq:P(function(t,e,n){return[n<0?n+e:n]}),even:P(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:P(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:P(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:P(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=function(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}(t);function gt(){}function M(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(o,t,e){var s=t.dir,l=t.next,u=l||s,c=e&&"parentNode"===u,d=H++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||c)return o(t,e,n);return!1}:function(t,e,n){var i,r,a=[k,d];if(n){for(;t=t[s];)if((1===t.nodeType||c)&&o(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||c)if(r=(r=t[C]||(t[C]={}))[t.uniqueID]||(r[t.uniqueID]={}),l&&l===t.nodeName.toLowerCase())t=t[s]||t;else{if((i=r[u])&&i[0]===k&&i[1]===d)return a[2]=i[2];if((r[u]=a)[2]=o(t,e,n))return!0}return!1}}function yt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function vt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,u=null!=e;s<l;s++)!(a=t[s])||n&&!n(a,i,r)||(o.push(a),u&&e.push(s));return o}function bt(f,p,g,m,y,t){return m&&!m[C]&&(m=bt(m)),y&&!y[C]&&(y=bt(y,t)),I(function(t,e,n,i){var r,a,o,s=[],l=[],u=e.length,c=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)O(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?c:vt(c,s,f,n,i),h=g?y||(t?f:u||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(r=vt(h,l),m(r,[],n,i),a=r.length;a--;)(o=r[a])&&(h[l[a]]=!(d[l[a]]=o));if(t){if(y||f){if(y){for(r=[],a=h.length;a--;)(o=h[a])&&r.push(d[a]=o);y(null,h=[],r,i)}for(a=h.length;a--;)(o=h[a])&&-1<(r=y?b(t,o):s[a])&&(t[r]=!(e[r]=o))}}else h=vt(h===e?h.splice(u,h.length):h),y?y(null,e,h,i):D.apply(e,h)})}function _t(m,y){function t(t,e,n,i,r){var a,o,s,l=0,u="0",c=t&&[],d=[],h=T,f=t||b&&_.find.TAG("*",r),p=k+=null==h?1:Math.random()||.1,g=f.length;for(r&&(T=e===w||e||r);u!==g&&null!=(a=f[u]);u++){if(b&&a){for(o=0,e||a.ownerDocument===w||(S(a),n=!E);s=m[o++];)if(s(a,e||w,n)){i.push(a);break}r&&(k=p)}v&&((a=!s&&a)&&l--,t&&c.push(a))}if(l+=u,v&&u!==l){for(o=0;s=y[o++];)s(c,d,e,n);if(t){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=Y.call(i));d=vt(d)}D.apply(i,d),r&&!t&&0<d.length&&1<l+y.length&&O.uniqueSort(i)}return r&&(k=p,T=h),c}var v=0<y.length,b=0<m.length;return v?I(t):t}return gt.prototype=_.filters=_.pseudos,_.setFilters=new gt,p=O.tokenize=function(t,e){var n,i,r,a,o,s,l,u=G[t+" "];if(u)return e?0:u.slice(0);for(o=t,s=[],l=_.preFilter;o;){for(a in n&&!(i=Z.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(r=[])),n=!1,(i=tt.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(A," ")}),o=o.slice(n.length)),_.filter)!(i=h[a].exec(o))||l[a]&&!(i=l[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return e?o.length:o?O.error(t):G(t,s).slice(0)},j=O.compile=function(t,e){var n,i=[],r=[],a=v[t+" "];if(!a){for(n=(e=e||p(t)).length;n--;)((a=function t(e){for(var i,n,r,a=e.length,o=_.relative[e[0].type],s=o||_.relative[" "],l=o?1:0,u=mt(function(t){return t===i},s,!0),c=mt(function(t){return-1<b(i,t)},s,!0),d=[function(t,e,n){return t=!o&&(n||e!==T)||((i=e).nodeType?u:c)(t,e,n),i=null,t}];l<a;l++)if(n=_.relative[e[l].type])d=[mt(yt(d),n)];else{if((n=_.filter[e[l].type].apply(null,e[l].matches))[C]){for(r=++l;r<a&&!_.relative[e[r].type];r++);return bt(1<l&&yt(d),1<l&&M(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(A,"$1"),n,l<r&&t(e.slice(l,r)),r<a&&t(e=e.slice(r)),r<a&&M(e))}d.push(n)}return yt(d)}(e[n]))[C]?i:r).push(a);(a=v(t,_t(r,i))).selector=t}return a},B=O.select=function(t,e,n,i){var r,a,o,s,l,u="function"==typeof t&&t,c=!i&&p(t=u.selector||t);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===e.nodeType&&E&&_.relative[a[1].type]){if(!(e=(_.find.ID(o.matches[0].replace(L,d),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=h.needsContext.test(t)?0:a.length;r--&&(o=a[r],!_.relative[s=o.type]);)if((l=_.find[s])&&(i=l(o.matches[0].replace(L,d),st.test(a[0].type)&&pt(e.parentNode)||e))){if(a.splice(r,1),t=i.length&&M(a))break;return D.apply(n,i),n}}return(u||j(t,c))(i,e,!E,n,!e||st.test(t)&&pt(e.parentNode)||e),n},f.sortStable=C.split("").sort(q).join("")===C,f.detectDuplicates=!!u,S(),f.sortDetached=R(function(t){return 1&t.compareDocumentPosition(w.createElement("fieldset"))}),R(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&R(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),R(function(t){return null==t.getAttribute("disabled")})||dt(K,function(t,e,n){if(!n)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),O}(T),Q=(w.find=t,w.expr=t.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=t.uniqueSort,w.text=t.getText,w.isXMLDoc=t.isXML,w.contains=t.contains,w.escapeSelector=t.escape,w.expr.match.needsContext);function l(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var J=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Z(t,n,i){return v(n)?w.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?w.grep(t,function(t){return t===n!==i}):"string"!=typeof n?w.grep(t,function(t){return-1<B.call(n,t)!==i}):w.filter(n,t,i)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return 1<i?w.uniqueSort(n):n},filter:function(t){return this.pushStack(Z(this,t||[],!1))},not:function(t){return this.pushStack(Z(this,t||[],!0))},is:function(t){return!!Z(this,"string"==typeof t&&Q.test(t)?w(t):t||[],!1).length}});var tt,et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,nt=((w.fn.init=function(t,e,n){if(!t)return this;if(n=n||tt,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:et.exec(t))||!i[1]&&e)return(!e||e.jquery?e||n:this.constructor(e)).find(t);if(i[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),J.test(i[1])&&w.isPlainObject(e))for(var i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=S.getElementById(i[2]))&&(this[0]=n,this.length=1),this}).prototype=w.fn,tt=w(S),/^(?:parents|prev(?:Until|All))/),it={children:!0,contents:!0,next:!0,prev:!0};function rt(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,a=[],o="string"!=typeof t&&w(t);if(!Q.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&w.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?w.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?B.call(w(t),this[0]):B.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return i(t,"parentNode")},parentsUntil:function(t,e,n){return i(t,"parentNode",n)},next:function(t){return rt(t,"nextSibling")},prev:function(t){return rt(t,"previousSibling")},nextAll:function(t){return i(t,"nextSibling")},prevAll:function(t){return i(t,"previousSibling")},nextUntil:function(t,e,n){return i(t,"nextSibling",n)},prevUntil:function(t,e,n){return i(t,"previousSibling",n)},siblings:function(t){return X((t.parentNode||{}).firstChild,t)},children:function(t){return X(t.firstChild)},contents:function(t){return l(t,"iframe")?t.contentDocument:(l(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(i,r){w.fn[i]=function(t,e){var n=w.map(this,r,t);return(e="Until"!==i.slice(-5)?t:e)&&"string"==typeof e&&(n=w.filter(e,n)),1<this.length&&(it[i]||w.uniqueSort(n),nt.test(i)&&n.reverse()),this.pushStack(n)}});var E=/[^\x20\t\r\n\f]+/g;function c(t){return t}function at(t){throw t}function ot(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(i){var t,n;i="string"==typeof i?(t=i,n={},w.each(t.match(E)||[],function(t,e){n[e]=!0}),n):w.extend({},i);function r(){for(s=s||i.once,o=a=!0;u.length;c=-1)for(e=u.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&i.stopOnFalse&&(c=l.length,e=!1);i.memory||(e=!1),a=!1,s&&(l=e?[]:"")}var a,e,o,s,l=[],u=[],c=-1,d={add:function(){return l&&(e&&!a&&(c=l.length-1,u.push(e)),function n(t){w.each(t,function(t,e){v(e)?i.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==p(e)&&n(e)})}(arguments),e&&!a&&r()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;-1<(n=w.inArray(e,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<w.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=u=[],l=e="",this},disabled:function(){return!l},lock:function(){return s=u=[],e||a||(l=e=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),a||r()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},w.extend({Deferred:function(t){var a=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var r=arguments;return w.Deferred(function(i){w.each(a,function(t,e){var n=v(r[e[4]])&&r[e[4]];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&v(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),r=null}).promise()},then:function(e,n,i){var l=0;function u(r,a,o,s){return function(){function t(){var t,e;if(!(r<l)){if((t=o.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,v(e)?s?e.call(t,u(l,a,c,s),u(l,a,at,s)):(l++,e.call(t,u(l,a,c,s),u(l,a,at,s),u(l,a,c,a.notifyWith))):(o!==c&&(n=void 0,i=[t]),(s||a.resolveWith)(n,i))}}var n=this,i=arguments,e=s?t:function(){try{t()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,e.stackTrace),l<=r+1&&(o!==at&&(n=void 0,i=[t]),a.rejectWith(n,i))}};r?e():(w.Deferred.getStackHook&&(e.stackTrace=w.Deferred.getStackHook()),T.setTimeout(e))}}return w.Deferred(function(t){a[0][3].add(u(0,t,v(i)?i:c,t.notifyWith)),a[1][3].add(u(0,t,v(e)?e:c)),a[2][3].add(u(0,t,v(n)?n:at))}).promise()},promise:function(t){return null!=t?w.extend(t,o):o}},s={};return w.each(a,function(t,e){var n=e[2],i=e[5];o[e[1]]=n.add,i&&n.add(function(){r=i},a[3-t][2].disable,a[3-t][3].disable,a[0][2].lock,a[0][3].lock),n.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=n.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function(t){function e(e){return function(t){r[e]=this,a[e]=1<arguments.length?s.call(arguments):t,--n||o.resolveWith(r,a)}}var n=arguments.length,i=n,r=Array(i),a=s.call(arguments),o=w.Deferred();if(n<=1&&(ot(t,o.done(e(i)).resolve,o.reject,!n),"pending"===o.state()||v(a[i]&&a[i].then)))return o.then();for(;i--;)ot(a[i],e(i),o.reject);return o.promise()}});var st=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,lt=(w.Deferred.exceptionHook=function(t,e){T.console&&T.console.warn&&t&&st.test(t.name)&&T.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){T.setTimeout(function(){throw t})},w.Deferred());function ut(){S.removeEventListener("DOMContentLoaded",ut),T.removeEventListener("load",ut),w.ready()}w.fn.ready=function(t){return lt.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||((w.isReady=!0)!==t&&0<--w.readyWait||lt.resolveWith(S,[w]))}}),w.ready.then=lt.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?T.setTimeout(w.ready):(S.addEventListener("DOMContentLoaded",ut),T.addEventListener("load",ut));function d(t,e,n,i,r,a,o){var s=0,l=t.length,u=null==n;if("object"===p(n))for(s in r=!0,n)d(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,v(i)||(o=!0),e=u?o?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(w(t),n)}):e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):a}var ct=/^-ms-/,dt=/-([a-z])/g;function ht(t,e){return e.toUpperCase()}function b(t){return t.replace(ct,"ms-").replace(dt,ht)}function ft(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function e(){this.expando=w.expando+e.uid++}e.uid=1,e.prototype={cache:function(t){var e=t[this.expando];return e||(e={},ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[b(e)]=n;else for(i in e)r[b(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][b(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(b):(e=b(e))in i?[e]:e.match(E)||[]).length;for(;n--;)delete i[e[n]]}void 0!==e&&!w.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var y=new e,u=new e,pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,gt=/[A-Z]/g;function mt(t,e,n){var i,r;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(gt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:pt.test(r)?JSON.parse(r):r)}catch(t){}u.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return u.hasData(t)||y.hasData(t)},data:function(t,e,n){return u.access(t,e,n)},removeData:function(t,e){u.remove(t,e)},_data:function(t,e,n){return y.access(t,e,n)},_removeData:function(t,e){y.remove(t,e)}}),w.fn.extend({data:function(n,t){var e,i,r,a=this[0],o=a&&a.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){u.set(this,n)}):d(this,function(t){var e;if(a&&void 0===t)return void 0!==(e=u.get(a,n))||void 0!==(e=mt(a,n))?e:void 0;this.each(function(){u.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=u.get(a),1===a.nodeType&&!y.get(a,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(i=o[e].name).indexOf("data-")&&(i=b(i.slice(5)),mt(a,i,r[i]));y.set(a,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){u.remove(this,t)})}}),w.extend({queue:function(t,e,n){var i;if(t)return i=y.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=y.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),a=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){w.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return y.get(t,n)||y.access(t,n,{empty:w.Callbacks("once memory").add(function(){y.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?w.queue(this[0],e):void 0===n?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&w.dequeue(this,e)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||a.resolveWith(o,[o])}var i,r=1,a=w.Deferred(),o=this,s=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=y.get(o[s],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),a.promise(e)}});function yt(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&w.contains(t.ownerDocument,t)&&"none"===w.css(t,"display")}function vt(t,e,n,i){var r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in n=n.apply(t,i||[]),e)t.style[r]=a[r];return n}var t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,h=new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i"),f=["Top","Right","Bottom","Left"];function bt(t,e,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return w.css(t,e,"")},l=s(),u=n&&n[3]||(w.cssNumber[e]?"":"px"),c=(w.cssNumber[e]||"px"!==u&&+l)&&h.exec(w.css(t,e));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;o--;)w.style(t,e,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;w.style(t,e,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var _t={};function _(t,e){for(var n,i,r,a,o,s=[],l=0,u=t.length;l<u;l++)(i=t[l]).style&&(n=i.style.display,e?("none"===n&&(s[l]=y.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&yt(i)&&(s[l]=(o=a=void 0,a=(r=i).ownerDocument,r=r.nodeName,(o=_t[r])||(a=a.body.appendChild(a.createElement(r)),o=w.css(a,"display"),a.parentNode.removeChild(a),_t[r]=o="none"===o?"block":o)))):"none"!==n&&(s[l]="none",y.set(i,"display",n)));for(l=0;l<u;l++)null!=s[l]&&(t[l].style.display=s[l]);return t}w.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){yt(this)?w(this).show():w(this).hide()})}});var Tt=/^(?:checkbox|radio)$/i,St=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,wt=/^$|^module$|\/(?:java|ecma)script/i,C={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function k(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&l(t,e)?w.merge([t],n):n}function Et(t,e){for(var n=0,i=t.length;n<i;n++)y.set(t[n],"globalEval",!e||y.get(e[n],"globalEval"))}C.optgroup=C.option,C.tbody=C.tfoot=C.colgroup=C.caption=C.thead,C.th=C.td;var Ct=/<|&#?\w+;/;function kt(t,e,n,i,r){for(var a,o,s,l,u,c=e.createDocumentFragment(),d=[],h=0,f=t.length;h<f;h++)if((a=t[h])||0===a)if("object"===p(a))w.merge(d,a.nodeType?[a]:a);else if(Ct.test(a)){for(o=o||c.appendChild(e.createElement("div")),s=(St.exec(a)||["",""])[1].toLowerCase(),s=C[s]||C._default,o.innerHTML=s[1]+w.htmlPrefilter(a)+s[2],u=s[0];u--;)o=o.lastChild;w.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(e.createTextNode(a));for(c.textContent="",h=0;a=d[h++];)if(i&&-1<w.inArray(a,i))r&&r.push(a);else if(l=w.contains(a.ownerDocument,a),o=k(c.appendChild(a),"script"),l&&Et(o),n)for(u=0;a=o[u++];)wt.test(a.type||"")&&n.push(a);return c}O=S.createDocumentFragment().appendChild(S.createElement("div")),(o=S.createElement("input")).setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),O.appendChild(o),m.checkClone=O.cloneNode(!0).cloneNode(!0).lastChild.checked,O.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!O.cloneNode(!0).lastChild.defaultValue;var Dt=S.documentElement,At=/^key/,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Lt=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function D(){return!1}function It(){try{return S.activeElement}catch(t){}}function Rt(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Rt(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=D;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return w().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),t.each(function(){w.event.add(this,e,r,i,n)})}w.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,u,c,d,h,f,p=y.get(e);if(p)for(n.handler&&(n=(a=n).handler,r=a.selector),r&&w.find.matchesSelector(Dt,r),n.guid||(n.guid=w.guid++),(s=p.events)||(s=p.events={}),(o=p.handle)||(o=p.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(E)||[""]).length;l--;)d=f=(h=Lt.exec(t[l])||[])[1],h=(h[2]||"").split(".").sort(),d&&(u=w.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=w.event.special[d]||{},f=w.extend({type:d,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:h.join(".")},a),(c=s[d])||((c=s[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,h,o)||e.addEventListener&&e.addEventListener(d,o)),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,f):c.push(f),w.event.global[d]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,u,c,d,h,f,p,g,m=y.hasData(t)&&y.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(E)||[""]).length;u--;)if(f=g=(s=Lt.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=w.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)c=h[a],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(a,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||w.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)w.event.remove(t,f+e[u],n,i,!0);w.isEmptyObject(l)&&y.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,a,o=w.event.fix(t),s=new Array(arguments.length),t=(y.get(this,"events")||{})[o.type]||[],l=w.event.special[o.type]||{};for(s[0]=o,e=1;e<arguments.length;e++)s[e]=arguments[e];if(o.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,o)){for(a=w.event.handlers.call(this,o,t),e=0;(i=a[e++])&&!o.isPropagationStopped();)for(o.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(r.namespace)||(o.handleObj=r,o.data=r.data,void 0!==(r=((w.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(o.result=r)&&(o.preventDefault(),o.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,o),o.result}},handlers:function(t,e){var n,i,r,a,o,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[r=(i=e[n]).selector+" "]&&(o[r]=i.needsContext?-1<w(r,this).index(u):w.find(r,this,null,[u]).length),o[r]&&a.push(i);a.length&&s.push({elem:u,handlers:a})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==It()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===It()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(t){return l(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:D,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&At.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){w.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||w.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),w.fn.extend({on:function(t,e,n,i){return Rt(this,t,e,n,i)},one:function(t,e,n,i){return Rt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=D),this.each(function(){w.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var Pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Mt=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ft(t,e){return l(t,"table")&&l(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function jt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ht(t,e){var n,i,r,a,o,s;if(1===e.nodeType){if(y.hasData(t)&&(a=y.access(t),o=y.set(e,a),s=a.events))for(r in delete o.handle,o.events={},s)for(n=0,i=s[r].length;n<i;n++)w.event.add(e,r,s[r][n]);u.hasData(t)&&(a=u.access(t),o=w.extend({},a),u.set(e,o))}}function A(n,i,r,a){i=F.apply([],i);var t,e,o,s,l,u,c=0,d=n.length,h=d-1,f=i[0],p=v(f);if(p||1<d&&"string"==typeof f&&!m.checkClone&&Nt.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),A(e,i,r,a)});if(d&&(e=(t=kt(i,n[0].ownerDocument,!1,n,a)).firstChild,1===t.childNodes.length&&(t=e),e||a)){for(s=(o=w.map(k(t,"script"),jt)).length;c<d;c++)l=t,c!==h&&(l=w.clone(l,!0,!0),s&&w.merge(o,k(l,"script"))),r.call(n[c],l,c);if(s)for(u=o[o.length-1].ownerDocument,w.map(o,Bt),c=0;c<s;c++)l=o[c],wt.test(l.type||"")&&!y.access(l,"globalEval")&&w.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):z(l.textContent.replace(Ut,""),u,l))}return n}function Wt(t,e,n){for(var i,r=e?w.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||w.cleanData(k(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&Et(k(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t.replace(Pt,"<$1></$2>")},clone:function(t,e,n){var i,r,a,o,s,l,u,c=t.cloneNode(!0),d=w.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(o=k(c),i=0,r=(a=k(t)).length;i<r;i++)s=a[i],l=o[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&Tt.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(a=a||k(t),o=o||k(c),i=0,r=a.length;i<r;i++)Ht(a[i],o[i]);else Ht(t,c);return 0<(o=k(c,"script")).length&&Et(o,!d&&k(t,"script")),c},cleanData:function(t){for(var e,n,i,r=w.event.special,a=0;void 0!==(n=t[a]);a++)if(ft(n)){if(e=n[y.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[y.expando]=void 0}n[u.expando]&&(n[u.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Wt(this,t,!0)},remove:function(t){return Wt(this,t)},text:function(t){return d(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ft(this,t).appendChild(t)})},prepend:function(){return A(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Ft(this,t)).insertBefore(t,e.firstChild)})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(k(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return d(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!C[(St.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(k(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return A(this,arguments,function(t){var e=this.parentNode;w.inArray(this,n)<0&&(w.cleanData(k(this)),e&&e.replaceChild(t,this))},n)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){w.fn[t]=function(t){for(var e,n=[],i=w(t),r=i.length-1,a=0;a<=r;a++)e=a===r?this:this.clone(!0),w(i[a])[o](e),j.apply(n,e.get());return this.pushStack(n)}});function Gt(t){var e=t.ownerDocument.defaultView;return(e=e&&e.opener?e:T).getComputedStyle(t)}var qt,Vt,Yt,zt,$t,Kt,n,Xt=new RegExp("^("+t+")(?!px)[a-z%]+$","i"),Qt=new RegExp(f.join("|"),"i");function r(){var t;n&&(Kt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",n.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Dt.appendChild(Kt).appendChild(n),t=T.getComputedStyle(n),qt="1%"!==t.top,$t=12===Jt(t.marginLeft),n.style.right="60%",zt=36===Jt(t.right),Vt=36===Jt(t.width),n.style.position="absolute",Yt=36===n.offsetWidth||"absolute",Dt.removeChild(Kt),n=null)}function Jt(t){return Math.round(parseFloat(t))}function x(t,e,n){var i,r,a=t.style;return(n=n||Gt(t))&&(""!==(r=n.getPropertyValue(e)||n[e])||w.contains(t.ownerDocument,t)||(r=w.style(t,e)),!m.pixelBoxStyles()&&Xt.test(r)&&Qt.test(e)&&(t=a.width,e=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=t,a.minWidth=e,a.maxWidth=i)),void 0!==r?r+"":r}function Zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Kt=S.createElement("div"),(n=S.createElement("div")).style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===n.style.backgroundClip,w.extend(m,{boxSizingReliable:function(){return r(),Vt},pixelBoxStyles:function(){return r(),zt},pixelPosition:function(){return r(),qt},reliableMarginLeft:function(){return r(),$t},scrollboxSize:function(){return r(),Yt}}));var te=/^(none|table(?!-c[ea]).+)/,ee=/^--/,ne={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"},re=["Webkit","Moz","ms"],ae=S.createElement("div").style;function oe(t){return w.cssProps[t]||(w.cssProps[t]=function(t){if(t in ae)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=re.length;n--;)if((t=re[n]+e)in ae)return t}(t)||t)}function se(t,e,n){var i=h.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function le(t,e,n,i,r,a){var o="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=w.css(t,n+f[o],!0,r)),i?("content"===n&&(l-=w.css(t,"padding"+f[o],!0,r)),"margin"!==n&&(l-=w.css(t,"border"+f[o]+"Width",!0,r))):(l+=w.css(t,"padding"+f[o],!0,r),"padding"!==n?l+=w.css(t,"border"+f[o]+"Width",!0,r):s+=w.css(t,"border"+f[o]+"Width",!0,r));return!i&&0<=a&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))),l}function ue(t,e,n){var i=Gt(t),r=x(t,e,i),a="border-box"===w.css(t,"boxSizing",!1,i),o=a;if(Xt.test(r)){if(!n)return r;r="auto"}return o=o&&(m.boxSizingReliable()||r===t.style[e]),"auto"!==r&&(parseFloat(r)||"inline"!==w.css(t,"display",!1,i))||(r=t["offset"+e[0].toUpperCase()+e.slice(1)],o=!0),(r=parseFloat(r)||0)+le(t,e,n||(a?"border":"content"),o,i,r)+"px"}function a(t,e,n,i,r){return new a.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e)return""===(e=x(t,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=b(e),l=ee.test(e),u=t.style;if(l||(e=oe(s)),o=w.cssHooks[e]||w.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:u[e];"string"==(a=typeof n)&&(r=h.exec(n))&&r[1]&&(n=bt(t,e,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(w.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,a=b(e);return ee.test(e)||(e=oe(a)),"normal"===(r=void 0===(r=(a=w.cssHooks[e]||w.cssHooks[a])&&"get"in a?a.get(t,!0,n):r)?x(t,e,i):r)&&e in ie&&(r=ie[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),w.each(["height","width"],function(t,a){w.cssHooks[a]={get:function(t,e,n){if(e)return!te.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ue(t,a,n):vt(t,ne,function(){return ue(t,a,n)})},set:function(t,e,n){var i=Gt(t),r="border-box"===w.css(t,"boxSizing",!1,i),n=n&&le(t,a,n,r,i);return r&&m.scrollboxSize()===i.position&&(n-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-le(t,a,"border",!1,i)-.5)),n&&(r=h.exec(e))&&"px"!==(r[3]||"px")&&(t.style[a]=e,e=w.css(t,a)),se(0,e,n)}}}),w.cssHooks.marginLeft=Zt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(x(t,"marginLeft"))||t.getBoundingClientRect().left-vt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(r,a){w.cssHooks[r+a]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+f[e]+a]=i[e]||i[e-2]||i[0];return n}},"margin"!==r&&(w.cssHooks[r+a].set=se)}),w.fn.extend({css:function(t,e){return d(this,function(t,e,n){var i,r,a={},o=0;if(Array.isArray(e)){for(i=Gt(t),r=e.length;o<r;o++)a[e[o]]=w.css(t,e[o],!1,i);return a}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,1<arguments.length)}}),((w.Tween=a).prototype={constructor:a,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(w.cssNumber[n]?"":"px")},cur:function(){var t=a.propHooks[this.prop];return(t&&t.get?t:a.propHooks._default).get(this)},run:function(t){var e,n=a.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:a.propHooks._default).set(this),this}}).init.prototype=a.prototype,(a.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=w.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[w.cssProps[t.prop]]&&!w.cssHooks[t.prop]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=a.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=a.prototype.init,w.fx.step={};var L,ce,o,O,de=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function fe(){ce&&(!1===S.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(fe):T.setTimeout(fe,w.fx.interval),w.fx.tick())}function pe(){return T.setTimeout(function(){L=void 0}),L=Date.now()}function ge(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=f[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function me(t,e,n){for(var i,r=(I.tweeners[e]||[]).concat(I.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function I(r,t,e){var n,a,i,o,s,l,u,c=0,d=I.prefilters.length,h=w.Deferred().always(function(){delete f.elem}),f=function(){if(a)return!1;for(var t=L||pe(),t=Math.max(0,p.startTime+p.duration-t),e=1-(t/p.duration||0),n=0,i=p.tweens.length;n<i;n++)p.tweens[n].run(e);return h.notifyWith(r,[p,e,t]),e<1&&i?t:(i||h.notifyWith(r,[p,1,0]),h.resolveWith(r,[p]),!1)},p=h.promise({elem:r,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},e),originalProperties:t,originalOptions:e,startTime:L||pe(),duration:e.duration,tweens:[],createTween:function(t,e){e=w.Tween(r,p.opts,t,e,p.opts.specialEasing[t]||p.opts.easing);return p.tweens.push(e),e},stop:function(t){var e=0,n=t?p.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)p.tweens[e].run(1);return t?(h.notifyWith(r,[p,1,0]),h.resolveWith(r,[p,t])):h.rejectWith(r,[p,t]),this}}),g=p.props,m=g,y=p.opts.specialEasing;for(i in m)if(o=b(i),s=y[o],l=m[i],Array.isArray(l)&&(s=l[1],l=m[i]=l[0]),i!==o&&(m[o]=l,delete m[i]),(u=w.cssHooks[o])&&"expand"in u)for(i in l=u.expand(l),delete m[o],l)i in m||(m[i]=l[i],y[i]=s);else y[o]=s;for(;c<d;c++)if(n=I.prefilters[c].call(p,r,g,p.opts))return v(n.stop)&&(w._queueHooks(p.elem,p.opts.queue).stop=n.stop.bind(n)),n;return w.map(g,me,p),v(p.opts.start)&&p.opts.start.call(r,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),w.fx.timer(w.extend(f,{elem:r,anim:p,queue:p.opts.queue})),p}w.Animation=w.extend(I,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return bt(n.elem,t,h.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=v(t)?(e=t,["*"]):t.match(E)).length;i<r;i++)n=t[i],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,l,u,c="width"in e||"height"in e,d=this,h={},f=t.style,p=t.nodeType&&yt(t),g=y.get(t,"fxshow");for(i in n.queue||(null==(o=w._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,w.queue(t,"fx").length||o.empty.fire()})})),e)if(r=e[i],de.test(r)){if(delete e[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||w.style(t,i)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(h))for(i in c&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=y.get(t,"display")),"none"===(c=w.css(t,"display"))&&(u?c=u:(_([t],!0),u=t.style.display||u,c=w.css(t,"display"),_([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(t,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,h)l||(g?"hidden"in g&&(p=g.hidden):g=y.access(t,"fxshow",{display:u}),a&&(g.hidden=!p),p&&_([t],!0),d.done(function(){for(i in p||_([t]),y.remove(t,"fxshow"),h)w.style(t,i,h[i])})),l=me(p?g[i]:0,i,d),i in g||(g[i]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?I.prefilters.unshift(t):I.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(yt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){function r(){var t=I(this,w.extend({},e),o);(a||y.get(this,"finish"))&&t.stop(!0)}var a=w.isEmptyObject(e),o=w.speed(t,n,i);return r.finish=r,a||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(r,t,a){function o(t){var e=t.stop;delete t.stop,e(a)}return"string"!=typeof r&&(a=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=w.timers,i=y.get(this);if(e)i[e]&&i[e].stop&&o(i[e]);else for(e in i)i[e]&&i[e].stop&&he.test(e)&&o(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(a),t=!1,n.splice(e,1));!t&&a||w.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=y.get(this),n=e[o+"queue"],i=e[o+"queueHooks"],r=w.timers,a=n?n.length:0;for(e.finish=!0,w.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===o&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),w.each(["toggle","show","hide"],function(t,i){var r=w.fn[i];w.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(ge(i,!0),t,e,n)}}),w.each({slideDown:ge("show"),slideUp:ge("hide"),slideToggle:ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){w.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(L=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),L=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ce||(ce=!0,fe())},w.fx.stop=function(){ce=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(i,t){return i=w.fx&&w.fx.speeds[i]||i,this.queue(t=t||"fx",function(t,e){var n=T.setTimeout(t,i);e.stop=function(){T.clearTimeout(n)}})},o=S.createElement("input"),O=S.createElement("select").appendChild(S.createElement("option")),o.type="checkbox",m.checkOn=""!==o.value,m.optSelected=O.selected,(o=S.createElement("input")).value="t",o.type="radio",m.radioValue="t"===o.value;var ye,R=w.expr.attrHandle,ve=(w.fn.extend({attr:function(t,e){return d(this,w.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?w.prop(t,e,n):(1===a&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?ye:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):!(r&&"get"in r&&null!==(i=r.get(t,e)))&&null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){var n;if(!m.radioValue&&"radio"===e&&l(t,"input"))return n=t.value,t.setAttribute("type",e),n&&(t.value=n),e}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(E);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ye={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var o=R[e]||w.find.attr;R[e]=function(t,e,n){var i,r,a=e.toLowerCase();return n||(r=R[a],R[a]=i,i=null!=o(t,e,n)?a:null,R[a]=r),i}}),/^(?:input|select|textarea|button)$/i),be=/^(?:a|area)$/i;function P(t){return(t.match(E)||[]).join(" ")}function M(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(E)||[]}w.fn.extend({prop:function(t,e){return d(this,w.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(w.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,i,r,a,o,s=0;if(v(e))return this.each(function(t){w(this).addClass(e.call(this,t,M(this)))});if((t=_e(e)).length)for(;n=this[s++];)if(o=M(n),i=1===n.nodeType&&" "+P(o)+" "){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(o=P(i))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,i,r,a,o,s=0;if(v(e))return this.each(function(t){w(this).removeClass(e.call(this,t,M(this)))});if(!arguments.length)return this.attr("class","");if((t=_e(e)).length)for(;n=this[s++];)if(o=M(n),i=1===n.nodeType&&" "+P(o)+" "){for(a=0;r=t[a++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(o=P(i))&&n.setAttribute("class",o)}return this},toggleClass:function(r,e){var a=typeof r,o="string"==a||Array.isArray(r);return"boolean"==typeof e&&o?e?this.addClass(r):this.removeClass(r):v(r)?this.each(function(t){w(this).toggleClass(r.call(this,t,M(this),e),e)}):this.each(function(){var t,e,n,i;if(o)for(e=0,n=w(this),i=_e(r);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==r&&"boolean"!=a||((t=M(this))&&y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==r&&y.get(this,"__className__")||""))})},hasClass:function(t){for(var e,n=0,i=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+P(M(e))+" ").indexOf(i))return!0;return!1}});function Te(t){t.stopPropagation()}var Se=/\r/g,we=(w.fn.extend({val:function(e){var n,t,i,r=this[0];return arguments.length?(i=v(e),this.each(function(t){1===this.nodeType&&(null==(t=i?e.call(this,t,w(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=w.map(t,function(t){return null==t?"":t+""})),(n=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):r?(n=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(r,"value"))?t:"string"==typeof(t=r.value)?t.replace(Se,""):null==t?"":t:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:P(w.text(t))}},select:{get:function(t){for(var e,n=t.options,i=t.selectedIndex,r="select-one"===t.type,a=r?null:[],o=r?i+1:n.length,s=i<0?o:r?i:0;s<o;s++)if(((e=n[s]).selected||s===i)&&!e.disabled&&(!e.parentNode.disabled||!l(e.parentNode,"optgroup"))){if(e=w(e).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,a=w.makeArray(e),o=r.length;o--;)((i=r[o]).selected=-1<w.inArray(w.valHooks.option.get(i),a))&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<w.inArray(w(t).val(),e)}},m.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in T,/^(?:focusinfocus|focusoutblur)$/),Ee=(w.extend(w.event,{trigger:function(t,e,n,i){var r,a,o,s,l,u,c,d=[n||S],h=G.call(t,"type")?t.type:t,f=G.call(t,"namespace")?t.namespace.split("."):[],p=c=a=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!we.test(h+w.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),s=h.indexOf(":")<0&&"on"+h,(t=t[w.expando]?t:new w.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:w.makeArray(e,[t]),u=w.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!g(n)){for(o=u.delegateType||h,we.test(o+h)||(p=p.parentNode);p;p=p.parentNode)d.push(p),a=p;a===(n.ownerDocument||S)&&d.push(a.defaultView||a.parentWindow||T)}for(r=0;(p=d[r++])&&!t.isPropagationStopped();)c=p,t.type=1<r?o:u.bindType||h,(l=(y.get(p,"events")||{})[t.type]&&y.get(p,"handle"))&&l.apply(p,e),(l=s&&p[s])&&l.apply&&ft(p)&&(t.result=l.apply(p,e),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),e)||!ft(n)||s&&v(n[h])&&!g(n)&&((a=n[s])&&(n[s]=null),w.event.triggered=h,t.isPropagationStopped()&&c.addEventListener(h,Te),n[h](),t.isPropagationStopped()&&c.removeEventListener(h,Te),w.event.triggered=void 0,a&&(n[s]=a)),t.result}},simulate:function(t,e,n){n=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(n,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),m.focusin||w.each({focus:"focusin",blur:"focusout"},function(n,i){function r(t){w.event.simulate(i,t.target,w.event.fix(t))}w.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=y.access(t,i);e||t.addEventListener(n,r,!0),y.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=y.access(t,i)-1;e?y.access(t,i,e):(t.removeEventListener(n,r,!0),y.remove(t,i))}}}),T.location),Ce=Date.now(),ke=/\?/,De=(w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new T.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e},/\[\]$/),Ae=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;w.param=function(t,e){function n(t,e){e=v(e)?e():e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var i,r=[];if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){n(this.name,this.value)});else for(i in t)!function n(i,t,r,a){if(Array.isArray(t))w.each(t,function(t,e){r||De.test(i)?a(i,e):n(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,a)});else if(r||"object"!==p(t))a(i,t);else for(var e in t)n(i+"["+e+"]",t[e],r,a)}(i,t[i],e,n);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Le.test(this.nodeName)&&!xe.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Oe=/%20/g,Ie=/#.*$/,Re=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Ne=/^\/\//,Ue={},Fe={},je="*/".concat("*"),Be=S.createElement("a");function He(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(E)||[];if(v(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(e)):(a[n]=a[n]||[]).push(e)}}function We(e,i,r,a){var o={},s=e===Fe;function l(t){var n;return o[t]=!0,w.each(e[t]||[],function(t,e){e=e(i,r,a);return"string"!=typeof e||s||o[e]?s?!(n=e):void 0:(i.dataTypes.unshift(e),l(e),!1)}),n}return l(i.dataTypes[0])||!o["*"]&&l("*")}function Ge(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i=i||{})[n]=e[n]);return i&&w.extend(!0,t,i),t}Be.href=Ee.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ge(Ge(t,w.ajaxSettings),e):Ge(w.ajaxSettings,t)},ajaxPrefilter:He(Ue),ajaxTransport:He(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var l,u,c,n,d,h,f,i,p=w.ajaxSetup({},e=e||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?w(g):w.event,y=w.Deferred(),v=w.Callbacks("once memory"),b=p.statusCode||{},r={},a={},o="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(h){if(!n)for(n={};e=Pe.exec(c);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?c:null},setRequestHeader:function(t,e){return null==h&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,r[t]=e),this},overrideMimeType:function(t){return null==h&&(p.mimeType=t),this},statusCode:function(t){if(t)if(h)_.always(t[_.status]);else for(var e in t)b[e]=[b[e],t[e]];return this},abort:function(t){t=t||o;return l&&l.abort(t),s(0,t),this}};if(y.promise(_),p.url=((t||p.url||Ee.href)+"").replace(Ne,Ee.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(E)||[""],null==p.crossDomain){t=S.createElement("a");try{t.href=p.url,t.href=t.href,p.crossDomain=Be.protocol+"//"+Be.host!=t.protocol+"//"+t.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),We(Ue,p,e,_),h)return _;for(i in(f=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),u=p.url.replace(Ie,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Oe,"+")):(t=p.url.slice(u.length),p.data&&(p.processData||"string"==typeof p.data)&&(u+=(ke.test(u)?"&":"?")+p.data,delete p.data),!1===p.cache&&(u=u.replace(Re,"$1"),t=(ke.test(u)?"&":"?")+"_="+Ce+++t),p.url=u+t),p.ifModified&&(w.lastModified[u]&&_.setRequestHeader("If-Modified-Since",w.lastModified[u]),w.etag[u]&&_.setRequestHeader("If-None-Match",w.etag[u])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(g,_,p)||h))return _.abort();if(o="abort",v.add(p.complete),_.done(p.success),_.fail(p.error),l=We(Fe,p,e,_)){if(_.readyState=1,f&&m.trigger("ajaxSend",[_,p]),h)return _;p.async&&0<p.timeout&&(d=T.setTimeout(function(){_.abort("timeout")},p.timeout));try{h=!1,l.send(r,s)}catch(t){if(h)throw t;s(-1,t)}}else s(-1,"No Transport");function s(t,e,n,i){var r,a,o,s=e;h||(h=!0,d&&T.clearTimeout(d),l=void 0,c=i||"",_.readyState=0<t?4:0,i=200<=t&&t<300||304===t,n&&(o=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o=o||r}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,_,n)),o=function(t,e,n,i){var r,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if((s=r.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(p,o,_,i),i?(p.ifModified&&((n=_.getResponseHeader("Last-Modified"))&&(w.lastModified[u]=n),(n=_.getResponseHeader("etag"))&&(w.etag[u]=n)),204===t||"HEAD"===p.type?s="nocontent":304===t?s="notmodified":(s=o.state,r=o.data,i=!(a=o.error))):(a=s,!t&&s||(s="error",t<0&&(t=0))),_.status=t,_.statusText=(e||s)+"",i?y.resolveWith(g,[r,s,_]):y.rejectWith(g,[_,s,a]),_.statusCode(b),b=void 0,f&&m.trigger(i?"ajaxSuccess":"ajaxError",[_,p,i?r:a]),v.fireWith(g,[_,s]),f&&(m.trigger("ajaxComplete",[_,p]),--w.active||w.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,r){w[r]=function(t,e,n,i){return v(e)&&(i=i||n,n=e,e=void 0),w.ajax(w.extend({url:t,type:r,dataType:i,data:e,success:n},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(t){return this[0]&&(v(t)&&(t=t.call(this[0])),t=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(t){w(this).wrapInner(n.call(this,t))}):this.each(function(){var t=w(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=v(e);return this.each(function(t){w(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ve=w.ajaxSettings.xhr(),Ye=(m.cors=!!Ve&&"withCredentials"in Ve,m.ajax=Ve=!!Ve,w.ajaxTransport(function(r){var a,o;if(m.cors||Ve&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);a=function(t){return function(){a&&(a=o=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(qe[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),o=i.onerror=i.ontimeout=a("error"),void 0!==i.onabort?i.onabort=o:i.onreadystatechange=function(){4===i.readyState&&T.setTimeout(function(){a&&o()})},a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(t){if(a)throw t}},abort:function(){a&&a()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=w("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(i[0])},abort:function(){r&&r()}}}),[]),ze=/(=)\?(?=&|$)|\?\?/,$e=(w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||w.expando+"_"+Ce++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,a,o=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(ze,"$1"+i):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=T[i],T[i]=function(){a=arguments},n.always(function(){void 0===r?w(T).removeProp(i):T[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),a&&v(r)&&r(a[0]),a=r=void 0}),"script"}),m.createHTMLDocument=((t=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(i)):e=S),i=!n&&[],(n=J.exec(t))?[e.createElement(n[1])]:(n=kt([t],e,i),i&&i.length&&w(i).remove(),w.merge([],n.childNodes)));var i},w.fn.load=function(t,e,n){var i,r,a,o=this,s=t.indexOf(" ");return-1<s&&(i=P(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<o.length&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(t,e,n){var i,r,a,o,s=w.css(t,"position"),l=w(t),u={};"static"===s&&(t.style.position="relative"),a=l.offset(),i=w.css(t,"top"),o=w.css(t,"left"),s=("absolute"===s||"fixed"===s)&&-1<(i+o).indexOf("auto")?(r=(s=l.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(o)||0),null!=(e=v(e)?e.call(t,n,w.extend({},a)):e).top&&(u.top=e.top-a.top+r),null!=e.left&&(u.left=e.left-a.left+s),"using"in e?e.using.call(t,u):l.css(u)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||Dt})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var a="pageYOffset"===r;w.fn[e]=function(t){return d(this,function(t,e,n){var i;if(g(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===n)return i?i[r]:t[e];i?i.scrollTo(a?i.pageXOffset:n,a?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),w.each(["top","left"],function(t,n){w.cssHooks[n]=Zt(m.pixelPosition,function(t,e){if(e)return e=x(t,n),Xt.test(e)?w(t).position()[n]+"px":e})}),w.each({Height:"height",Width:"width"},function(o,s){w.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,a){w.fn[a]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return d(this,function(t,e,n){var i;return g(t)?0===a.indexOf("outer")?t["inner"+o]:t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?w.css(t,e,r):w.style(t,e,n,r)},s,n?t:void 0,n)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){w.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),w.proxy=function(t,e){var n,i;if("string"==typeof e&&(i=t[e],e=t,t=i),v(t))return n=s.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||w.guid++,i},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=l,w.isFunction=v,w.isWindow=g,w.camelCase=b,w.type=p,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w}),T.jQuery),Ke=T.$;return w.noConflict=function(t){return T.$===w&&(T.$=Ke),t&&T.jQuery===w&&(T.jQuery=$e),w},N||(T.jQuery=T.$=w),w}),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e=e||("undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e,t,t.document)}:n(jQuery,window,document)}(function(I,L,v,R){function a(e){var n,i,r={};I.each(e,function(t){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=t.replace(n[0],n[2].toLowerCase()),r[i]=t,"o"===n[1]&&a(e[t]))}),e._hungarianMap=r}function _(e,n,i){var r;e._hungarianMap||a(e),I.each(n,function(t){(r=e._hungarianMap[t])===R||!i&&n[r]!==R||("o"===r.charAt(0)?(n[r]||(n[r]={}),I.extend(!0,n[r],n[t]),_(e[r],n[r],i)):n[r]=n[t])})}function O(t){var e,n=A.defaults.oLanguage,i=n.sDecimal;i&&Qt(i),t&&(e=t.sZeroRecords,!t.sEmptyTable&&e&&"No data available in table"===n.sEmptyTable&&E(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&e&&"Loading..."===n.sLoadingRecords&&E(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&i!==t&&Qt(t))}function B(t){if(i(t,"ordering","bSort"),i(t,"orderMulti","bSortMulti"),i(t,"orderClasses","bSortClasses"),i(t,"orderCellsTop","bSortCellsTop"),i(t,"order","aaSorting"),i(t,"orderFixed","aaSortingFixed"),i(t,"paging","bPaginate"),i(t,"pagingType","sPaginationType"),i(t,"pageLength","iDisplayLength"),i(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&_(A.models.oSearch,t[e])}function H(t){i(t,"orderable","bSortable"),i(t,"orderData","aDataSort"),i(t,"orderSequence","asSorting"),i(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||I.isArray(e)||(t.aDataSort=[e])}function W(t){var e,n,i,r;A.__browser||(A.__browser=e={},r=(i=(n=I("<div/>").css({position:"fixed",top:0,left:-1*I(L).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(I("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(I("<div/>").css({width:"100%",height:10}))).appendTo("body")).children()).children(),e.barWidth=i[0].offsetWidth-i[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==i[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!n[0].getBoundingClientRect().width,n.remove()),I.extend(t.oBrowser,A.__browser),t.oScroll.iBarWidth=A.__browser.barWidth}function n(t,e,n,i,r,a){var o,s=!1;for(n!==R&&(o=n,s=!0);i!==r;)t.hasOwnProperty(i)&&(o=s?e(o,t[i],i,t):t[i],s=!0,i+=a);return o}function G(t,e){var n=A.defaults.column,i=t.aoColumns.length,n=I.extend({},A.models.oColumn,n,{nTh:e||v.createElement("th"),sTitle:n.sTitle||(e?e.innerHTML:""),aDataSort:n.aDataSort||[i],mData:n.mData||i,idx:i});t.aoColumns.push(n),(n=t.aoPreSearchCols)[i]=I.extend({},A.models.oSearch,n[i]),q(t,i,I(e).data())}function q(t,e,n){var i,e=t.aoColumns[e],r=t.oClasses,a=I(e.nTh),o=(e.sWidthOrig||(e.sWidthOrig=a.attr("width")||null,(i=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/))&&(e.sWidthOrig=i[1])),n!==R&&null!==n&&(H(n),_(A.defaults.column,n),n.mDataProp===R||n.mData||(n.mData=n.mDataProp),n.sType&&(e._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&a.addClass(n.sClass),I.extend(e,n),E(e,n,"sWidth","sWidthOrig"),n.iDataSort!==R&&(e.aDataSort=[n.iDataSort]),E(e,n,"aDataSort")),e.mData),s=S(o),l=e.mRender?S(e.mRender):null,n=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=I.isPlainObject(o)&&(n(o.sort)||n(o.type)||n(o.filter)),e._setter=null,e.fnGetData=function(t,e,n){var i=s(t,e,R,n);return l&&e?l(i,e,t,n):i},e.fnSetData=function(t,e,n){return p(o)(t,e,n)},"number"!=typeof o&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,a.addClass(r.sSortableNone)),t=-1!==I.inArray("asc",e.asSorting),n=-1!==I.inArray("desc",e.asSorting),e.bSortable&&(t||n)?t&&!n?(e.sSortingClass=r.sSortableAsc,e.sSortingClassJUI=r.sSortJUIAscAllowed):!t&&n?(e.sSortingClass=r.sSortableDesc,e.sSortingClassJUI=r.sSortJUIDescAllowed):(e.sSortingClass=r.sSortable,e.sSortingClassJUI=r.sSortJUI):(e.sSortingClass=r.sSortableNone,e.sSortingClassJUI="")}function P(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;Rt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}""===(e=t.oScroll).sY&&""===e.sX||It(t),k(t,null,"column-sizing",[t])}function M(t,e){t=V(t,"bVisible");return"number"==typeof t[e]?t[e]:null}function u(t,e){t=V(t,"bVisible");return-1!==(t=I.inArray(e,t))?t:null}function y(t){var n=0;return I.each(t.aoColumns,function(t,e){e.bVisible&&"none"!==I(e.nTh).css("display")&&n++}),n}function V(t,n){var i=[];return I.map(t.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function m(t){for(var e,n,i,r,a,o,s,l=t.aoColumns,u=t.aoData,c=A.ext.type.detect,d=0,h=l.length;d<h;d++)if(s=[],!(a=l[d]).sType&&a._sManualType)a.sType=a._sManualType;else if(!a.sType){for(e=0,n=c.length;e<n;e++){for(i=0,r=u.length;i<r&&(s[i]===R&&(s[i]=b(t,i,d,"type")),(o=c[e](s[i],t))||e===c.length-1)&&"html"!==o;i++);if(o){a.sType=o;break}}a.sType||(a.sType="string")}}function Y(t,e,n,i){var r,a,o,s=t.aoColumns;if(e)for(r=e.length-1;0<=r;r--)for(var l,u=(l=e[r]).targets!==R?l.targets:l.aTargets,c=0,d=(u=I.isArray(u)?u:[u]).length;c<d;c++)if("number"==typeof u[c]&&0<=u[c]){for(;s.length<=u[c];)G(t);i(u[c],l)}else if("number"==typeof u[c]&&u[c]<0)i(s.length+u[c],l);else if("string"==typeof u[c])for(a=0,o=s.length;a<o;a++)"_all"!=u[c]&&!I(s[a].nTh).hasClass(u[c])||i(a,l);if(n)for(r=0,t=n.length;r<t;r++)i(r,n[r])}function T(t,e,n,i){var r=t.aoData.length,a=I.extend(!0,{},A.models.oRow,{src:n?"dom":"data",idx:r});a._aData=e,t.aoData.push(a);for(var o=t.aoColumns,s=0,l=o.length;s<l;s++)o[s].sType=null;return t.aiDisplayMaster.push(r),(e=t.rowIdFn(e))!==R&&(t.aIds[e]=a),!n&&t.oFeatures.bDeferRender||tt(t,r,n,i),r}function z(n,t){var i;return(t=t instanceof I?t:I(t)).map(function(t,e){return i=Z(n,e),T(n,i.data,e,i.cells)})}function b(t,e,n,i){var r=t.iDraw,a=t.aoColumns[n],o=t.aoData[e]._aData,s=a.sDefaultContent,l=a.fnGetData(o,i,{settings:t,row:e,col:n});if(l===R)return t.iDrawError!=r&&null===s&&(F(t,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=r),s;if(l!==o&&null!==l||null===s||i===R){if("function"==typeof l)return l.call(o)}else l=s;return null===l&&"display"==i?"":l}function $(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function K(t){return I.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function S(r){var a,s;return I.isPlainObject(r)?(a={},I.each(r,function(t,e){e&&(a[t]=S(e))}),function(t,e,n,i){var r=a[e]||a._;return r!==R?r(t,e,n,i):t}):null===r?function(t){return t}:"function"==typeof r?function(t,e,n,i){return r(t,e,n,i)}:"string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("(")?function(t){return t[r]}:(s=function(t,e,n){var i;if(""!==n)for(var r,a=0,o=(r=K(n)).length;a<o;a++){if(n=r[a].match(Te),i=r[a].match(f),n){if(r[a]=r[a].replace(Te,""),""!==r[a]&&(t=t[r[a]]),i=[],r.splice(0,a+1),r=r.join("."),I.isArray(t))for(a=0,o=t.length;a<o;a++)i.push(s(t[a],e,r));t=""===(t=n[0].substring(1,n[0].length-1))?i:i.join(t);break}if(i)r[a]=r[a].replace(f,""),t=t[r[a]]();else{if(null===t||t[r[a]]===R)return R;t=t[r[a]]}}return t},function(t,e){return s(t,e,r)})}function p(i){return I.isPlainObject(i)?p(i._):null===i?function(){}:"function"==typeof i?function(t,e,n){i(t,"set",e,n)}:"string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("[")&&-1===i.indexOf("(")?function(t,e){t[i]=e}:(l=function(t,e,n){for(var i,r,a=(n=K(n))[n.length-1],o=0,s=n.length-1;o<s;o++){if(i=n[o].match(Te),r=n[o].match(f),i){if(n[o]=n[o].replace(Te,""),t[n[o]]=[],(a=n.slice()).splice(0,o+1),i=a.join("."),I.isArray(e))for(r=0,s=e.length;r<s;r++)l(a={},e[r],i),t[n[o]].push(a);else t[n[o]]=e;return}r&&(n[o]=n[o].replace(f,""),t=t[n[o]](e)),null!==t[n[o]]&&t[n[o]]!==R||(t[n[o]]={}),t=t[n[o]]}a.match(f)?t[a.replace(f,"")](e):t[a.replace(Te,"")]=e},function(t,e){return l(t,e,i)});var l}function X(t){return j(t.aoData,"_aData")}function Q(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function J(t,e,n){for(var i=-1,r=0,a=t.length;r<a;r++)t[r]==e?i=r:t[r]>e&&t[r]--;-1!=i&&n===R&&t.splice(i,1)}function r(n,i,t,e){var r,a=n.aoData[i],o=function(t,e){for(;t.childNodes.length;)t.removeChild(t.firstChild);t.innerHTML=b(n,i,e,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==a.src)){var s=a.anCells;if(s)if(e!==R)o(s[e],e);else for(t=0,r=s.length;t<r;t++)o(s[t],t)}else a._aData=Z(n,a,e,e===R?R:a._aData).data;if(a._aSortData=null,a._aFilterData=null,o=n.aoColumns,e!==R)o[e].sType=null;else{for(t=0,r=o.length;t<r;t++)o[t].sType=null;et(n,a)}}function Z(t,e,n,i){function r(t,e){var n;"string"==typeof t&&-1!==(n=t.indexOf("@"))&&(n=t.substring(n+1),p(t)(i,e.getAttribute(n)))}function a(t){n!==R&&n!==d||(s=h[d],l=I.trim(t.innerHTML),s&&s._bAttrSrc?(p(s.mData._)(i,l),r(s.mData.sort,t),r(s.mData.type,t),r(s.mData.filter,t)):f?(s._setter||(s._setter=p(s.mData)),s._setter(i,l)):i[d]=l),d++}var o,s,l,u=[],c=e.firstChild,d=0,h=t.aoColumns,f=t._rowReadObject,i=i!==R?i:f?{}:[];if(c)for(;c;)"TD"!=(o=c.nodeName.toUpperCase())&&"TH"!=o||(a(c),u.push(c)),c=c.nextSibling;else for(c=0,o=(u=e.anCells).length;c<o;c++)a(u[c]);return(e=e.firstChild?e:e.nTr)&&(e=e.getAttribute("id"))&&p(t.rowId)(i,e),{data:i,cells:u}}function tt(t,e,n,i){var r,a,o,s,l,u=t.aoData[e],c=u._aData,d=[];if(null===u.nTr){for(r=n||v.createElement("tr"),u.nTr=r,u.anCells=d,r._DT_RowIndex=e,et(t,u),s=0,l=t.aoColumns.length;s<l;s++)o=t.aoColumns[s],(a=n?i[s]:v.createElement(o.sCellType))._DT_CellIndex={row:e,column:s},d.push(a),n&&!o.mRender&&o.mData===s||I.isPlainObject(o.mData)&&o.mData._===s+".display"||(a.innerHTML=b(t,e,s,"display")),o.sClass&&(a.className+=" "+o.sClass),o.bVisible&&!n?r.appendChild(a):!o.bVisible&&n&&a.parentNode.removeChild(a),o.fnCreatedCell&&o.fnCreatedCell.call(t.oInstance,a,b(t,e,s),c,e,s);k(t,"aoRowCreatedCallback",null,[r,c,e,d])}u.nTr.setAttribute("role","row")}function et(t,e){var n=e.nTr,i=e._aData;n&&((t=t.rowIdFn(i))&&(n.id=t),i.DT_RowClass&&(t=i.DT_RowClass.split(" "),e.__rowc=e.__rowc?_e(e.__rowc.concat(t)):t,I(n).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)),i.DT_RowAttr&&I(n).attr(i.DT_RowAttr),i.DT_RowData&&I(n).data(i.DT_RowData))}function nt(t){var e,n,i,r,a,o=t.nTHead,s=t.nTFoot,l=0===I("th, td",o).length,u=t.oClasses,c=t.aoColumns;for(l&&(r=I("<tr/>").appendTo(o)),e=0,n=c.length;e<n;e++)a=c[e],i=I(a.nTh).addClass(a.sClass),l&&i.appendTo(r),t.oFeatures.bSort&&(i.addClass(a.sSortingClass),!1!==a.bSortable&&(i.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Bt(t,a.nTh,e))),a.sTitle!=i[0].innerHTML&&i.html(a.sTitle),Kt(t,"header")(t,i,a,u);if(l&&at(t.aoHeader,o),I(o).find(">tr").attr("role","row"),I(o).find(">tr>th, >tr>td").addClass(u.sHeaderTH),I(s).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==s)for(n=(t=t.aoFooter[e=0]).length;e<n;e++)(a=c[e]).nTf=t[e].cell,a.sClass&&I(a.nTf).addClass(a.sClass)}function it(t,e,n){var i,r,a,o,s=[],l=[],u=t.aoColumns.length;if(e){for(n===R&&(n=!1),i=0,r=e.length;i<r;i++){for(s[i]=e[i].slice(),s[i].nTr=e[i].nTr,a=u-1;0<=a;a--)t.aoColumns[a].bVisible||n||s[i].splice(a,1);l.push([])}for(i=0,r=s.length;i<r;i++){if(t=s[i].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,e=s[i].length;a<e;a++)if(o=u=1,l[i][a]===R){for(t.appendChild(s[i][a].cell),l[i][a]=1;s[i+u]!==R&&s[i][a].cell==s[i+u][a].cell;)l[i+u][a]=1,u++;for(;s[i][a+o]!==R&&s[i][a].cell==s[i][a+o].cell;){for(n=0;n<u;n++)l[i+n][a+o]=1;o++}I(s[i][a].cell).attr("rowspan",u).attr("colspan",o)}}}}function c(t){var e=k(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==I.inArray(!1,e))g(t,!1);else{var e=[],n=0,i=t.asStripeClasses,r=i.length,a=t.oLanguage,o=t.iInitDisplayStart,s="ssp"==D(t),l=t.aiDisplay,o=(t.bDrawing=!0,o!==R&&-1!==o&&(t._iDisplayStart=!s&&o>=t.fnRecordsDisplay()?0:o,t.iInitDisplayStart=-1),t._iDisplayStart),u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,g(t,!1);else if(s){if(!t.bDestroying&&!lt(t))return}else t.iDraw++;if(0!==l.length)for(a=s?t.aoData.length:u,s=s?0:o;s<a;s++){var c,d=l[s],h=t.aoData[d],f=(null===h.nTr&&tt(t,d),h.nTr);0!==r&&(c=i[n%r],h._sRowStripe!=c&&(I(f).removeClass(h._sRowStripe).addClass(c),h._sRowStripe=c)),k(t,"aoRowCallback",null,[f,h._aData,n,s,d]),e.push(f),n++}else n=a.sZeroRecords,1==t.iDraw&&"ajax"==D(t)?n=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(n=a.sEmptyTable),e[0]=I("<tr/>",{class:r?i[0]:""}).append(I("<td />",{valign:"top",colSpan:y(t),class:t.oClasses.sRowEmpty}).html(n))[0];k(t,"aoHeaderCallback","header",[I(t.nTHead).children("tr")[0],X(t),o,u,l]),k(t,"aoFooterCallback","footer",[I(t.nTFoot).children("tr")[0],X(t),o,u,l]),(i=I(t.nTBody)).children().detach(),i.append(I(e)),k(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function s(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&Ut(t),i?ft(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,c(t),t._drawHold=!1}function rt(t){var e=t.oClasses,n=I(t.nTable),n=I("<div/>").insertBefore(n),i=t.oFeatures,r=I("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=r[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,o,s,l,u,c,d=t.sDom.split(""),h=0;h<d.length;h++){if(a=null,"<"==(o=d[h])){if(s=I("<div/>")[0],"'"==(l=d[h+1])||'"'==l){for(u="",c=2;d[h+c]!=l;)u+=d[h+c],c++;"H"==u?u=e.sJUIHeader:"F"==u&&(u=e.sJUIFooter),-1!=u.indexOf(".")?(l=u.split("."),s.id=l[0].substr(1,l[0].length-1),s.className=l[1]):"#"==u.charAt(0)?s.id=u.substr(1,u.length-1):s.className=u,h+=c}r.append(s),r=I(s)}else if(">"==o)r=r.parent();else if("l"==o&&i.bPaginate&&i.bLengthChange)a=Dt(t);else if("f"==o&&i.bFilter)a=ht(t);else if("r"==o&&i.bProcessing)a=Lt(t);else if("t"==o)a=Ot(t);else if("i"==o&&i.bInfo)a=Tt(t);else if("p"==o&&i.bPaginate)a=At(t);else if(0!==A.ext.feature.length)for(c=0,l=(s=A.ext.feature).length;c<l;c++)if(o==s[c].cFeature){a=s[c].fnInit(t);break}a&&((s=t.aanFeatures)[o]||(s[o]=[]),s[o].push(a),r.append(a))}n.replaceWith(r),t.nHolding=null}function at(t,e){var n,i,r,a,o,s,l,u,c,d,h=I(e).children("tr");for(t.splice(0,t.length),r=0,s=h.length;r<s;r++)t.push([]);for(r=0,s=h.length;r<s;r++)for(i=(n=h[r]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(u=(u=+i.getAttribute("colspan"))&&0!==u&&1!==u?u:1,c=(c=+i.getAttribute("rowspan"))&&0!==c&&1!==c?c:1,a=0,o=t[r];o[a];)a++;for(l=a,d=1===u,o=0;o<u;o++)for(a=0;a<c;a++)t[r+a][l+o]={cell:i,unique:d},t[r+a].nTr=n}i=i.nextSibling}}function ot(t,e,n){var i=[];n||(n=t.aoHeader,e&&at(n=[],e));for(var e=0,r=n.length;e<r;e++)for(var a=0,o=n[e].length;a<o;a++)!n[e][a].unique||i[a]&&t.bSortCellsTop||(i[a]=n[e][a].cell);return i}function st(i,t,e){var r,a;k(i,"aoServerParams","serverParams",[t]),t&&I.isArray(t)&&(r={},a=/(.*?)\[\]$/,I.each(t,function(t,e){var n=e.name.match(a);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(e.value)):r[e.name]=e.value}),t=r);function n(t){k(i,null,"xhr",[i,t,i.jqXHR]),e(t)}var o,s,l=i.ajax,u=i.oInstance;I.isPlainObject(l)&&l.data&&(s="function"==typeof(o=l.data)?o(t,i):o,t="function"==typeof o&&s?s:I.extend(!0,t,s),delete l.data),s={data:t,success:function(t){var e=t.error||t.sError;e&&F(i,0,e),i.json=t,n(t)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(t,e){var n=k(i,null,"xhr",[i,null,i.jqXHR]);-1===I.inArray(!0,n)&&("parsererror"==e?F(i,0,"Invalid JSON response",1):4===t.readyState&&F(i,0,"Ajax error",7)),g(i,!1)}},i.oAjaxData=t,k(i,null,"preXhr",[i,t]),i.fnServerData?i.fnServerData.call(u,i.sAjaxSource,I.map(t,function(t,e){return{name:e,value:t}}),n,i):i.sAjaxSource||"string"==typeof l?i.jqXHR=I.ajax(I.extend(s,{url:l||i.sAjaxSource})):"function"==typeof l?i.jqXHR=l.call(u,t,n,i):(i.jqXHR=I.ajax(I.extend(s,l)),l.data=o)}function lt(e){return!e.bAjaxDataGet||(e.iDraw++,g(e,!0),st(e,ut(e),function(t){ct(e,t)}),!1)}function ut(t){function n(t,e){u.push({name:t,value:e})}var e,i,r=t.aoColumns,a=r.length,o=t.oFeatures,s=t.oPreviousSearch,l=t.aoPreSearchCols,u=[],c=w(t),d=t._iDisplayStart,h=!1!==o.bPaginate?t._iDisplayLength:-1,f=(n("sEcho",t.iDraw),n("iColumns",a),n("sColumns",j(r,"sName").join(",")),n("iDisplayStart",d),n("iDisplayLength",h),{draw:t.iDraw,columns:[],order:[],start:d,length:h,search:{value:s.sSearch,regex:s.bRegex}});for(d=0;d<a;d++)e=r[d],i=l[d],h="function"==typeof e.mData?"function":e.mData,f.columns.push({data:h,name:e.sName,searchable:e.bSearchable,orderable:e.bSortable,search:{value:i.sSearch,regex:i.bRegex}}),n("mDataProp_"+d,h),o.bFilter&&(n("sSearch_"+d,i.sSearch),n("bRegex_"+d,i.bRegex),n("bSearchable_"+d,e.bSearchable)),o.bSort&&n("bSortable_"+d,e.bSortable);return o.bFilter&&(n("sSearch",s.sSearch),n("bRegex",s.bRegex)),o.bSort&&(I.each(c,function(t,e){f.order.push({column:e.col,dir:e.dir}),n("iSortCol_"+t,e.col),n("sSortDir_"+t,e.dir)}),n("iSortingCols",c.length)),null===(r=A.ext.legacy.ajax)?t.sAjaxSource?u:f:r?u:f}function ct(t,e){var n=dt(t,e),i=e.sEcho!==R?e.sEcho:e.draw,r=e.iTotalRecords!==R?e.iTotalRecords:e.recordsTotal,a=e.iTotalDisplayRecords!==R?e.iTotalDisplayRecords:e.recordsFiltered;if(i){if(+i<t.iDraw)return;t.iDraw=+i}for(Q(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(a,10),i=0,r=n.length;i<r;i++)T(t,n[i]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,c(t),t._bInitComplete||Ct(t,e),t.bAjaxDataGet=!0,g(t,!1)}function dt(t,e){t=I.isPlainObject(t.ajax)&&t.ajax.dataSrc!==R?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===t?e.aaData||e[t]:""!==t?S(t)(e):e}function ht(n){var t=n.oClasses,e=n.sTableId,i=n.oLanguage,r=n.oPreviousSearch,a=n.aanFeatures,o='<input type="search" class="'+t.sFilterInput+'"/>',s=(s=i.sSearch).match(/_INPUT_/)?s.replace("_INPUT_",o):s+o,t=I("<div/>",{id:a.f?null:e+"_filter",class:t.sFilter}).append(I("<label/>").append(s)),a=function(){var t=this.value||"";t!=r.sSearch&&(ft(n,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),n._iDisplayStart=0,c(n))},o=null!==n.searchDelay?n.searchDelay:"ssp"===D(n)?400:0,l=I("input",t).val(r.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",o?ke(a,o):a).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",e);return I(n.nTable).on("search.dt.DT",function(t,e){if(n===e)try{l[0]!==v.activeElement&&l.val(r.sSearch)}catch(t){}}),t[0]}function ft(t,e,n){function i(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive}var r=t.oPreviousSearch,a=t.aoPreSearchCols;if(m(t),"ssp"!=D(t)){for(mt(t,e.sSearch,n,e.bEscapeRegex!==R?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),i(e),e=0;e<a.length;e++)gt(t,a[e].sSearch,e,a[e].bEscapeRegex!==R?!a[e].bEscapeRegex:a[e].bRegex,a[e].bSmart,a[e].bCaseInsensitive);pt(t)}else i(e);t.bFiltered=!0,k(t,null,"search",[t])}function pt(t){for(var e,n,i=A.ext.search,r=t.aiDisplay,a=0,o=i.length;a<o;a++){for(var s=[],l=0,u=r.length;l<u;l++)n=r[l],e=t.aoData[n],i[a](t,e._aFilterData,n,e._aData,l)&&s.push(n);r.length=0,I.merge(r,s)}}function gt(t,e,n,i,r,a){if(""!==e){for(var o=[],s=t.aiDisplay,i=yt(e,i,r,a),r=0;r<s.length;r++)e=t.aoData[s[r]]._aFilterData[n],i.test(e)&&o.push(s[r]);t.aiDisplay=o}}function mt(t,e,n,i,r,a){var o,i=yt(e,i,r,a),a=t.oPreviousSearch.sSearch,s=t.aiDisplayMaster,r=[];if(0!==A.ext.search.length&&(n=!0),o=vt(t),e.length<=0)t.aiDisplay=s.slice();else{for((o||n||a.length>e.length||0!==e.indexOf(a)||t.bSorted)&&(t.aiDisplay=s.slice()),e=t.aiDisplay,n=0;n<e.length;n++)i.test(t.aoData[e[n]]._sFilterRow)&&r.push(e[n]);t.aiDisplay=r}}function yt(t,e,n,i){return t=e?t:Se(t),n&&(t="^(?=.*?"+I.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){var e;return(t='"'===t.charAt(0)?(e=t.match(/^"(.*)"$/))?e[1]:t:t).replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,i?"i":"")}function vt(t){for(var e,n,i,r,a,o=t.aoColumns,s=A.ext.type.search,l=!1,u=0,c=t.aoData.length;u<c;u++)if(!(a=t.aoData[u])._aFilterData){for(i=[],e=0,n=o.length;e<n;e++)(l=o[e]).bSearchable?(r=b(t,u,e,"filter"),"string"!=typeof(r=null===(r=s[l.sType]?s[l.sType](r):r)?"":r)&&r.toString&&(r=r.toString())):r="",r.indexOf&&-1!==r.indexOf("&")&&(we.innerHTML=r,r=Ee?we.textContent:we.innerText),r.replace&&(r=r.replace(/[\r\n]/g,"")),i.push(r);a._aFilterData=i,a._sFilterRow=i.join("  "),l=!0}return l}function bt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function _t(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function Tt(t){var e=t.sTableId,n=t.aanFeatures.i,i=I("<div/>",{class:t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:St,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),I(t.nTable).attr("aria-describedby",e+"_info")),i[0]}function St(t){var e,n,i,r,a,o,s=t.aanFeatures.i;0!==s.length&&(e=t.oLanguage,n=t._iDisplayStart+1,i=t.fnDisplayEnd(),r=t.fnRecordsTotal(),o=(a=t.fnRecordsDisplay())?e.sInfo:e.sInfoEmpty,a!==r&&(o+=" "+e.sInfoFiltered),o=wt(t,o+=e.sInfoPostFix),null!==(e=e.fnInfoCallback)&&(o=e.call(t.oInstance,t,n,i,r,a,o)),I(s).html(o))}function wt(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,r=t._iDisplayLength,a=t.fnRecordsDisplay(),o=-1===r;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,a)).replace(/_PAGE_/g,n.call(t,o?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(t,o?1:Math.ceil(a/r)))}function Et(n){var i,t,r=n.iInitDisplayStart,e=n.aoColumns,a=n.oFeatures,o=n.bDeferLoading;if(n.bInitialised){for(rt(n),nt(n),it(n,n.aoHeader),it(n,n.aoFooter),g(n,!0),a.bAutoWidth&&Rt(n),i=0,a=e.length;i<a;i++)(t=e[i]).sWidth&&(t.nTh.style.width=U(t.sWidth));k(n,null,"preInit",[n]),s(n),"ssp"==(e=D(n))&&!o||("ajax"==e?st(n,[],function(t){var e=dt(n,t);for(i=0;i<e.length;i++)T(n,e[i]);n.iInitDisplayStart=r,s(n),g(n,!1),Ct(n,t)}):(g(n,!1),Ct(n)))}else setTimeout(function(){Et(n)},200)}function Ct(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&P(t),k(t,null,"plugin-init",[t,e]),k(t,"aoInitComplete","init",[t,e])}function kt(t,e){e=parseInt(e,10);t._iDisplayLength=e,$t(t),k(t,null,"length",[t,e])}function Dt(i){for(var t=i.oClasses,e=i.sTableId,n=i.aLengthMenu,r=(a=I.isArray(n[0]))?n[0]:n,n=a?n[1]:n,a=I("<select/>",{name:e+"_length","aria-controls":e,class:t.sLengthSelect}),o=0,s=r.length;o<s;o++)a[0][o]=new Option("number"==typeof n[o]?i.fnFormatNumber(n[o]):n[o],r[o]);var l=I("<div><label/></div>").addClass(t.sLength);return i.aanFeatures.l||(l[0].id=e+"_length"),l.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),I("select",l).val(i._iDisplayLength).on("change.DT",function(){kt(i,I(this).val()),c(i)}),I(i.nTable).on("length.dt.DT",function(t,e,n){i===e&&I("select",l).val(n)}),l[0]}function At(t){function o(t){c(t)}var e=t.sPaginationType,s=A.ext.pager[e],l="function"==typeof s,e=I("<div/>").addClass(t.oClasses.sPaging+e)[0],u=t.aanFeatures;return l||s.fnInit(t,e,o),u.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(l)for(var e=t._iDisplayStart,n=t._iDisplayLength,i=t.fnRecordsDisplay(),e=(r=-1===n)?0:Math.ceil(e/n),n=r?1:Math.ceil(i/n),i=s(e,n),r=0,a=u.p.length;r<a;r++)Kt(t,"pageButton")(t,u.p[r],r,i,e,n);else s.fnUpdate(t,o)},sName:"pagination"})),e}function xt(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,a=t.fnRecordsDisplay();return 0===a||-1===r?i=0:"number"==typeof e?a<(i=e*r)&&(i=0):"first"==e?i=0:"previous"==e?(i=0<=r?i-r:0)<0&&(i=0):"next"==e?i+r<a&&(i+=r):"last"==e?i=Math.floor((a-1)/r)*r:F(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(k(t,null,"page",[t]),n&&c(t)),e}function Lt(t){return I("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function g(t,e){t.oFeatures.bProcessing&&I(t.aanFeatures.r).css("display",e?"block":"none"),k(t,null,"processing",[t,e])}function Ot(t){var e=I(t.nTable),n=(e.attr("role","grid"),t.oScroll);if(""===n.sX&&""===n.sY)return t.nTable;var i=n.sX,r=n.sY,a=t.oClasses,o=e.children("caption"),s=o.length?o[0]._captionSide:null,l=I(e[0].cloneNode(!1)),u=I(e[0].cloneNode(!1)),c=e.children("tfoot");c.length||(c=null),l=I("<div/>",{class:a.sScrollWrapper}).append(I("<div/>",{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?i?U(i):null:"100%"}).append(I("<div/>",{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===s?o:null).append(e.children("thead"))))).append(I("<div/>",{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:i?U(i):null}).append(e)),c&&l.append(I("<div/>",{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:i?i?U(i):null:"100%"}).append(I("<div/>",{class:a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===s?o:null).append(e.children("tfoot")))));var d=(e=l.children())[0],a=e[1],h=c?e[2]:null;return i&&I(a).on("scroll.DT",function(){var t=this.scrollLeft;d.scrollLeft=t,c&&(h.scrollLeft=t)}),I(a).css(r&&n.bCollapse?"max-height":"height",r),t.nScrollHead=d,t.nScrollBody=a,t.nScrollFoot=h,t.aoDrawCallback.push({fn:It,sName:"scrolling"}),l[0]}function It(n){function t(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0}var e,i,r,a,o=(u=n.oScroll).sX,s=u.sXInner,l=u.sY,u=u.iBarWidth,c=I(n.nScrollHead),d=c[0].style,h=(p=c.children("div"))[0].style,f=p.children("table"),p=n.nScrollBody,g=I(p),m=p.style,y=I(n.nScrollFoot).children("div"),v=y.children("table"),b=I(n.nTHead),_=I(n.nTable),T=_[0],S=T.style,w=n.nTFoot?I(n.nTFoot):null,E=n.oBrowser,C=E.bScrollOversize,k=j(n.aoColumns,"nTh"),D=[],A=[],x=[],L=[],O=p.scrollHeight>p.clientHeight;n.scrollBarVis!==O&&n.scrollBarVis!==R?(n.scrollBarVis=O,P(n)):(n.scrollBarVis=O,_.children("thead, tfoot").remove(),w&&(i=w.clone().prependTo(_),e=w.find("tr"),i=i.find("tr")),r=b.clone().prependTo(_),b=b.find("tr"),O=r.find("tr"),r.find("th, td").removeAttr("tabindex"),o||(m.width="100%",c[0].style.width="100%"),I.each(ot(n,r),function(t,e){a=M(n,t),e.style.width=n.aoColumns[a].sWidth}),w&&N(function(t){t.style.width=""},i),c=_.outerWidth(),""===o?(S.width="100%",C&&(_.find("tbody").height()>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(S.width=U(_.outerWidth()-u)),c=_.outerWidth()):""!==s&&(S.width=U(s),c=_.outerWidth()),N(t,O),N(function(t){x.push(t.innerHTML),D.push(U(I(t).css("width")))},O),N(function(t,e){-1!==I.inArray(t,k)&&(t.style.width=D[e])},b),I(O).height(0),w&&(N(t,i),N(function(t){L.push(t.innerHTML),A.push(U(I(t).css("width")))},i),N(function(t,e){t.style.width=A[e]},e),I(i).height(0)),N(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+x[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=D[e]},O),w&&N(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+L[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=A[e]},i),_.outerWidth()<c?(e=p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y")?c+u:c,C&&(p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(S.width=U(e-u)),""!==o&&""===s||F(n,1,"Possible column misalignment",6)):e="100%",m.width=U(e),d.width=U(e),w&&(n.nScrollFoot.style.width=U(e)),!l&&C&&(m.height=U(T.offsetHeight+u)),o=_.outerWidth(),f[0].style.width=U(o),h.width=U(o),s=_.height()>p.clientHeight||"scroll"==g.css("overflow-y"),h[l="padding"+(E.bScrollbarLeft?"Left":"Right")]=s?u+"px":"0px",w&&(v[0].style.width=U(o),y[0].style.width=U(o),y[0].style[l]=s?u+"px":"0px"),_.children("colgroup").insertBefore(_.children("thead")),g.scroll(),!n.bSorted&&!n.bFiltered||n._drawHold||(p.scrollTop=0))}function N(t,e,n){for(var i,r,a=0,o=0,s=e.length;o<s;){for(i=e[o].firstChild,r=n?n[o].firstChild:null;i;)1===i.nodeType&&(n?t(i,r,a):t(i,a),a++),i=i.nextSibling,r=n?r.nextSibling:null;o++}}function Rt(t){var e,n,i=t.nTable,r=t.aoColumns,a=(g=t.oScroll).sY,o=g.sX,s=g.sXInner,l=r.length,u=V(t,"bVisible"),c=I("th",t.nTHead),d=i.getAttribute("width"),h=i.parentNode,f=!1,p=t.oBrowser,g=p.bScrollOversize;for((e=i.style.width)&&-1!==e.indexOf("%")&&(d=e),e=0;e<u.length;e++)null!==(n=r[u[e]]).sWidth&&(n.sWidth=Pt(n.sWidthOrig,h),f=!0);if(g||!f&&!o&&!a&&l==y(t)&&l==c.length)for(e=0;e<l;e++)null!==(u=M(t,e))&&(r[u].sWidth=U(c.eq(e).width()));else{(l=I(i).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var m=I("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(I(t.nTHead).clone()).append(I(t.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),c=ot(t,l.find("thead")[0]),e=0;e<u.length;e++)n=r[u[e]],c[e].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?U(n.sWidthOrig):"",n.sWidthOrig&&o&&I(c[e]).append(I("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<u.length;e++)n=r[f=u[e]],I(Mt(t,f)).clone(!1).append(n.sContentPadding).appendTo(m);for(I("[name]",l).removeAttr("name"),n=I("<div/>").css(o||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(h),o&&s?l.width(s):o?(l.css("width","auto"),l.removeAttr("width"),l.width()<h.clientWidth&&d&&l.width(h.clientWidth)):a?l.width(h.clientWidth):d&&l.width(d),e=a=0;e<u.length;e++)s=(h=I(c[e])).outerWidth()-h.width(),a+=h=p.bBounding?Math.ceil(c[e].getBoundingClientRect().width):h.outerWidth(),r[u[e]].sWidth=U(h-s);i.style.width=U(a),n.remove()}d&&(i.style.width=U(d)),!d&&!o||t._reszEvt||(i=function(){I(L).on("resize.DT-"+t.sInstance,ke(function(){P(t)}))},g?setTimeout(i,1e3):i(),t._reszEvt=!0)}function Pt(t,e){if(!t)return 0;t=I("<div/>").css("width",U(t)).appendTo(e||v.body),e=t[0].offsetWidth;return t.remove(),e}function Mt(t,e){var n=Nt(t,e);if(n<0)return null;var i=t.aoData[n];return i.nTr?i.anCells[e]:I("<td/>").html(b(t,n,e,"display"))[0]}function Nt(t,e){for(var n,i=-1,r=-1,a=0,o=t.aoData.length;a<o;a++)(n=(n=(n=b(t,a,e,"display")+"").replace(Ce,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=a);return r}function U(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function w(t){var e,n,i,r=[],a=t.aoColumns,o=t.aaSortingFixed,s=I.isPlainObject(o),l=[],u=function(t){t.length&&!I.isArray(t[0])?l.push(t):I.merge(l,t)};for(I.isArray(o)&&u(o),s&&o.pre&&u(o.pre),u(t.aaSorting),s&&o.post&&u(o.post),t=0;t<l.length;t++)for(s=(u=a[i=l[t][o=0]].aDataSort).length;o<s;o++)n=a[e=u[o]].sType||"string",l[t]._idx===R&&(l[t]._idx=I.inArray(l[t][1],a[e].asSorting)),r.push({src:i,col:e,dir:l[t][1],index:l[t]._idx,type:n,formatter:A.ext.type.order[n+"-pre"]});return r}function Ut(t){var e,n,i,u,c=[],d=A.ext.type.order,h=t.aoData,r=0,a=t.aiDisplayMaster;for(m(t),e=0,n=(u=w(t)).length;e<n;e++)(i=u[e]).formatter&&r++,Wt(t,i.col);if("ssp"!=D(t)&&0!==u.length){for(e=0,n=a.length;e<n;e++)c[a[e]]=e;r===u.length?a.sort(function(t,e){for(var n,i,r,a=u.length,o=h[t]._aSortData,s=h[e]._aSortData,l=0;l<a;l++)if(0!==(n=(n=o[(r=u[l]).col])<(i=s[r.col])?-1:i<n?1:0))return"asc"===r.dir?n:-n;return(n=c[t])<(i=c[e])?-1:i<n?1:0}):a.sort(function(t,e){for(var n,i,r,a=u.length,o=h[t]._aSortData,s=h[e]._aSortData,l=0;l<a;l++)if(n=o[(r=u[l]).col],i=s[r.col],0!==(n=(r=d[r.type+"-"+r.dir]||d["string-"+r.dir])(n,i)))return n;return(n=c[t])<(i=c[e])?-1:i<n?1:0})}t.bSorted=!0}function Ft(t){for(var e=t.aoColumns,n=w(t),t=t.oLanguage.oAria,i=0,r=e.length;i<r;i++){var a,o=(a=e[i]).asSorting,s=a.sTitle.replace(/<.*?>/g,""),l=a.nTh;l.removeAttribute("aria-sort"),a.bSortable&&(s+="asc"===(a=0<n.length&&n[0].col==i?(l.setAttribute("aria-sort","asc"==n[0].dir?"ascending":"descending"),o[n[0].index+1]||o[0]):o[0])?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",s)}}function jt(t,e,n,i){function r(t,e){var n=t._idx;return(n=n===R?I.inArray(t[1],o):n)+1<o.length?n+1:e?null:0}var a=t.aaSorting,o=t.aoColumns[e].asSorting;"number"==typeof a[0]&&(a=t.aaSorting=[a]),n&&t.oFeatures.bSortMulti?-1!==(n=I.inArray(e,j(a,"0")))?null===(e=null===(e=r(a[n],!0))&&1===a.length?0:e)?a.splice(n,1):(a[n][1]=o[e],a[n]._idx=e):(a.push([e,o[0],0]),a[a.length-1]._idx=0):a.length&&a[0][0]==e?(e=r(a[0]),a.length=1,a[0][1]=o[e],a[0]._idx=e):(a.length=0,a.push([e,o[0]]),a[0]._idx=0),s(t),"function"==typeof i&&i(t)}function Bt(e,t,n,i){var r=e.aoColumns[n];zt(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(g(e,!0),setTimeout(function(){jt(e,n,t.shiftKey,i),"ssp"!==D(e)&&g(e,!1)},0)):jt(e,n,t.shiftKey,i))})}function Ht(t){var e,n,i=t.aLastSort,r=t.oClasses.sSortColumn,a=w(t),o=t.oFeatures;if(o.bSort&&o.bSortClasses){for(o=0,e=i.length;o<e;o++)n=i[o].src,I(j(t.aoData,"anCells",n)).removeClass(r+(o<2?o+1:3));for(o=0,e=a.length;o<e;o++)n=a[o].src,I(j(t.aoData,"anCells",n)).addClass(r+(o<2?o+1:3))}t.aLastSort=a}function Wt(t,e){var n,i=t.aoColumns[e],r=A.ext.order[i.sSortDataType];r&&(n=r.call(t.oInstance,t,e,u(t,e)));for(var a,o=A.ext.type.order[i.sType+"-pre"],s=0,l=t.aoData.length;s<l;s++)(i=t.aoData[s])._aSortData||(i._aSortData=[]),i._aSortData[e]&&!r||(a=r?n[s]:b(t,s,e,"sort"),i._aSortData[e]=o?o(a):a)}function Gt(n){var t;n.oFeatures.bStateSave&&!n.bDestroying&&(t={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:I.extend(!0,[],n.aaSorting),search:bt(n.oPreviousSearch),columns:I.map(n.aoColumns,function(t,e){return{visible:t.bVisible,search:bt(n.aoPreSearchCols[e])}})},k(n,"aoStateSaveParams","stateSaveParams",[n,t]),n.oSavedState=t,n.fnStateSaveCallback.call(n.oInstance,n,t))}function qt(n,t,i){var r,a,e,o=n.aoColumns,t=function(t){if(t&&t.time){var e=k(n,"aoStateLoadParams","stateLoadParams",[n,t]);if(-1===I.inArray(!1,e)&&!(0<(e=n.iStateDuration)&&t.time<+new Date-1e3*e||t.columns&&o.length!==t.columns.length)){if(n.oLoadedState=I.extend(!0,{},t),t.start!==R&&(n._iDisplayStart=t.start,n.iInitDisplayStart=t.start),t.length!==R&&(n._iDisplayLength=t.length),t.order!==R&&(n.aaSorting=[],I.each(t.order,function(t,e){n.aaSorting.push(e[0]>=o.length?[0,e[1]]:e)})),t.search!==R&&I.extend(n.oPreviousSearch,_t(t.search)),t.columns)for(r=0,a=t.columns.length;r<a;r++)(e=t.columns[r]).visible!==R&&(o[r].bVisible=e.visible),e.search!==R&&I.extend(n.aoPreSearchCols[r],_t(e.search));k(n,"aoStateLoaded","stateLoaded",[n,t])}}i()};n.oFeatures.bStateSave?(e=n.fnStateLoadCallback.call(n.oInstance,n,t))!==R&&t(e):i()}function Vt(t){var e=A.settings;return-1!==(t=I.inArray(t,j(e,"nTable")))?e[t]:null}function F(t,e,n,i){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),e)L.console&&console.log&&console.log(n);else if(e=(e=A.ext).sErrMode||e.errMode,t&&k(t,null,"error",[t,i,n]),"alert"==e)alert(n);else{if("throw"==e)throw Error(n);"function"==typeof e&&e(t,i,n)}}function E(n,i,t,e){I.isArray(t)?I.each(t,function(t,e){I.isArray(e)?E(n,i,e[0],e[1]):E(n,i,e)}):(e===R&&(e=t),i[t]!==R&&(n[e]=i[t]))}function Yt(t,e,n){var i,r;for(r in e)e.hasOwnProperty(r)&&(i=e[r],I.isPlainObject(i)?(I.isPlainObject(t[r])||(t[r]={}),I.extend(!0,t[r],i)):t[r]=n&&"data"!==r&&"aaData"!==r&&I.isArray(i)?i.slice():i);return t}function zt(e,t,n){I(e).on("click.DT",t,function(t){I(e).blur(),n(t)}).on("keypress.DT",t,function(t){13===t.which&&(t.preventDefault(),n(t))}).on("selectstart.DT",function(){return!1})}function C(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function k(e,t,n,i){var r=[];return t&&(r=I.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,i)})),null!==n&&(t=I.Event(n+".dt"),I(e.nTable).trigger(t,i),r.push(t.result)),r}function $t(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;n<=e&&(e=n-i),e-=e%i,t._iDisplayStart=e=-1===i||e<0?0:e}function Kt(t,e){var t=t.renderer,n=A.ext.renderer[e];return I.isPlainObject(t)&&t[e]?n[t[e]]||n._:"string"==typeof t&&n[t]||n._}function D(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Xt(t,e){var n=[],n=Le.numbers_length,i=Math.floor(n/2);return e<=n?n=d(0,e):t<=i?((n=d(0,n-2)).push("ellipsis"),n.push(e-1)):(e-1-i<=t?n=d(e-(n-2),e):((n=d(t-i+2,t+i-1)).push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Qt(n){I.each({num:function(t){return de(t,n)},"num-fmt":function(t){return de(t,n,ve)},"html-num":function(t){return de(t,n,ge)},"html-num-fmt":function(t){return de(t,n,ge,ve)}},function(t,e){h.type.order[t+n+"-pre"]=e,t.match(/^html\-/)&&(h.type.search[t+n]=h.type.search.html)})}function Jt(e){return function(){var t=[Vt(this[A.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return A.ext.internal[e].apply(this,t)}}function o(t){return!t||!0===t||"-"===t}function Zt(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null}function te(t,e,n){var i="string"==typeof t;return!!o(t)||(e&&i&&(t=be(t,e)),n&&i&&(t=t.replace(ve,"")),!isNaN(parseFloat(t))&&isFinite(t))}function ee(t,e,n){return!!o(t)||((o(t)||"string"==typeof t)&&!!te(t.replace(ge,""),e,n)||null)}function ne(t,e,n,i){var r=[],a=0,o=e.length;if(i!==R)for(;a<o;a++)t[e[a]][n]&&r.push(t[e[a]][n][i]);else for(;a<o;a++)r.push(t[e[a]][n]);return r}function d(t,e){var n,i=[];e===R?(e=0,n=t):(n=e,e=t);for(var r=e;r<n;r++)i.push(r);return i}function ie(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e}function re(i,r,t){var e,n;t&&(e=new x(i)).one("draw",function(){t(e.ajax.json())}),"ssp"==D(i)?s(i,r):(g(i,!0),(n=i.jqXHR)&&4!==n.readyState&&n.abort(),st(i,[],function(t){Q(i);for(var e=0,n=(t=dt(i,t)).length;e<n;e++)T(i,t[e]);s(i,r),g(i,!1)}))}function ae(t,e,n,i,r){var a,o,s,l,u,c=[],d=typeof e;for(e&&"string"!==d&&"function"!==d&&e.length!==R||(e=[e]),d=0,s=e.length;d<s;d++)for(l=0,u=(o=e[d]&&e[d].split&&!e[d].match(/[\[\(:]/)?e[d].split(","):[e[d]]).length;l<u;l++)(a=n("string"==typeof o[l]?I.trim(o[l]):o[l]))&&a.length&&(c=c.concat(a));if((t=h.selector[t]).length)for(d=0,s=t.length;d<s;d++)c=t[d](i,r,c);return _e(c)}function oe(t){return(t=t||{}).filter&&t.search===R&&(t.search=t.filter),I.extend({search:"none",order:"current",page:"all"},t)}function se(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t}function le(t,e){var n=t.context;n.length&&(n=n[0].aoData[e!==R?e:t[0]])&&n._details&&(n._details.remove(),n._detailsShow=R,n._details=R)}function ue(t,e){var o,r,s,n=t.context;n.length&&t.length&&((t=n[0].aoData[t[0]])._details&&((t._detailsShow=e)?t._details.insertAfter(t.nTr):t._details.detach(),o=n[0],r=new x(o),s=o.aoData,r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<j(s,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){o===e&&r.rows({page:"current"}).eq(0).each(function(t){(t=s[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(o===e)for(var n,i=y(e),r=0,a=s.length;r<a;r++)(n=s[r])._details&&n._details.children("td[colspan]").attr("colspan",i)}),r.on("destroy.dt.DT_details",function(t,e){if(o===e)for(var n=0,i=s.length;n<i;n++)s[n]._details&&le(r,n)}))))}function ce(t,e,n,i,r){for(var n=[],i=0,a=r.length;i<a;i++)n.push(b(t,r[i],e));return n}function de(t,e,n,i){return 0===t||t&&"-"!==t?((t=e?be(t,e):t).replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),+t):-1/0}function he(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}var h,e,t,A=function(m){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new x(t?Vt(this[h.iApiIndex]):this)},this.fnAddData=function(t,e){var n=this.api(!0),t=(I.isArray(t)&&(I.isArray(t[0])||I.isPlainObject(t[0]))?n.rows:n.row).add(t);return e!==R&&!e||n.draw(),t.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],i=n.oScroll;t===R||t?e.draw(!1):""===i.sX&&""===i.sY||It(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();t!==R&&!t||e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var i=this.api(!0),r=(t=i.rows(t)).settings()[0],a=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,a),n!==R&&!n||i.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,i,r,a){r=this.api(!0),(null===e||e===R?r:r.column(e)).search(t,n,i,a),r.draw()},this.fnGetData=function(t,e){var n,i=this.api(!0);return t!==R?(n=t.nodeName?t.nodeName.toLowerCase():"",e!==R||"td"==n||"th"==n?i.cell(t,e).data():i.row(t).data()||null):i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==R?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){t=this.api(!0).page(t);e!==R&&!e||t.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),n!==R&&!n||t.columns.adjust().draw()},this.fnSettings=function(){return Vt(this[h.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,i,r){var a=this.api(!0);return(n===R||null===n?a.row(e):a.cell(e,n)).data(t),r!==R&&!r||a.columns.adjust(),i!==R&&!i||a.draw(),0},this.fnVersionCheck=h.fnVersionCheck;var t,y=this,v=m===R,b=this.length;for(t in v&&(m={}),this.oApi=this.internal=h.internal,A.ext.internal)t&&(this[t]=Jt(t));return this.each(function(){var t={},n=1<b?Yt(t,m,!0):m,i=0,t=this.getAttribute("id"),r=!1,e=A.defaults,a=I(this);if("table"!=this.nodeName.toLowerCase())F(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{B(e),H(e.column),_(e,e,!0),_(e.column,e.column,!0),_(e,I.extend(n,a.data()));for(var o=A.settings,i=0,s=o.length;i<s;i++){var l=o[i];if(l.nTable==this||l.nTHead&&l.nTHead.parentNode==this||l.nTFoot&&l.nTFoot.parentNode==this){var u=(n.bRetrieve!==R?n:e).bRetrieve;if(v||u)return l.oInstance;if((n.bDestroy!==R?n:e).bDestroy){l.oInstance.fnDestroy();break}return void F(l,0,"Cannot reinitialise DataTable",3)}if(l.sTableId==this.id){o.splice(i,1);break}}null!==t&&""!==t||(this.id=t="DataTables_Table_"+A.ext._unique++);var c,d=I.extend(!0,{},A.models.oSettings,{sDestroyWidth:a[0].style.width,sInstance:t,sTableId:t}),h=(d.nTable=this,d.oApi=y.internal,d.oInit=n,o.push(d),d.oInstance=1===y.length?y:a.dataTable(),B(n),O(n.oLanguage),n.aLengthMenu&&!n.iDisplayLength&&(n.iDisplayLength=(I.isArray(n.aLengthMenu[0])?n.aLengthMenu[0]:n.aLengthMenu)[0]),n=Yt(I.extend(!0,{},e),n),E(d.oFeatures,n,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),E(d,n,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),E(d.oScroll,n,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),E(d.oLanguage,n,"fnInfoCallback"),C(d,"aoDrawCallback",n.fnDrawCallback,"user"),C(d,"aoServerParams",n.fnServerParams,"user"),C(d,"aoStateSaveParams",n.fnStateSaveParams,"user"),C(d,"aoStateLoadParams",n.fnStateLoadParams,"user"),C(d,"aoStateLoaded",n.fnStateLoaded,"user"),C(d,"aoRowCallback",n.fnRowCallback,"user"),C(d,"aoRowCreatedCallback",n.fnCreatedRow,"user"),C(d,"aoHeaderCallback",n.fnHeaderCallback,"user"),C(d,"aoFooterCallback",n.fnFooterCallback,"user"),C(d,"aoInitComplete",n.fnInitComplete,"user"),C(d,"aoPreDrawCallback",n.fnPreDrawCallback,"user"),d.rowIdFn=S(n.rowId),W(d),d.oClasses),f=(I.extend(h,A.ext.classes,n.oClasses),a.addClass(h.sTable),d.iInitDisplayStart===R&&(d.iInitDisplayStart=n.iDisplayStart,d._iDisplayStart=n.iDisplayStart),null!==n.iDeferLoading&&(d.bDeferLoading=!0,t=I.isArray(n.iDeferLoading),d._iRecordsDisplay=t?n.iDeferLoading[0]:n.iDeferLoading,d._iRecordsTotal=t?n.iDeferLoading[1]:n.iDeferLoading),d.oLanguage),t=(I.extend(!0,f,n.oLanguage),f.sUrl&&(I.ajax({dataType:"json",url:f.sUrl,success:function(t){O(t),_(e.oLanguage,t),I.extend(!0,f,t),Et(d)},error:function(){Et(d)}}),r=!0),null===n.asStripeClasses&&(d.asStripeClasses=[h.sStripeOdd,h.sStripeEven]),d.asStripeClasses),p=a.children("tbody").find("tr").eq(0);if(-1!==I.inArray(!0,I.map(t,function(t){return p.hasClass(t)}))&&(I("tbody tr",this).removeClass(t.join(" ")),d.asDestroyStripes=t.slice()),t=[],0!==(o=this.getElementsByTagName("thead")).length&&(at(d.aoHeader,o[0]),t=ot(d)),null===n.aoColumns)for(o=[],i=0,s=t.length;i<s;i++)o.push(null);else o=n.aoColumns;for(i=0,s=o.length;i<s;i++)G(d,t?t[i]:null);Y(d,n.aoColumnDefs,o,function(t,e){q(d,t,e)}),p.length&&(c=function(t,e){return null!==t.getAttribute("data-"+e)?e:null},I(p[0]).children("th, td").each(function(t,e){var n,i=d.aoColumns[t];i.mData===t&&(n=c(e,"sort")||c(e,"order"),e=c(e,"filter")||c(e,"search"),null===n&&null===e||(i.mData={_:t+".display",sort:null!==n?t+".@data-"+n:R,type:null!==n?t+".@data-"+n:R,filter:null!==e?t+".@data-"+e:R},q(d,t)))}));var g=d.oFeatures,t=function(){if(n.aaSorting===R){var t=d.aaSorting;for(i=0,s=t.length;i<s;i++)t[i][1]=d.aoColumns[i].asSorting[0]}Ht(d),g.bSort&&C(d,"aoDrawCallback",function(){var t,n;d.bSorted&&(t=w(d),n={},I.each(t,function(t,e){n[e.src]=e.dir}),k(d,null,"order",[d,t,n]),Ft(d))}),C(d,"aoDrawCallback",function(){(d.bSorted||"ssp"===D(d)||g.bDeferRender)&&Ht(d)},"sc");var t=a.children("caption").each(function(){this._captionSide=I(this).css("caption-side")}),e=a.children("thead");if(0===e.length&&(e=I("<thead/>").appendTo(a)),d.nTHead=e[0],0===(e=a.children("tbody")).length&&(e=I("<tbody/>").appendTo(a)),d.nTBody=e[0],0===(e=0===(e=a.children("tfoot")).length&&0<t.length&&(""!==d.oScroll.sX||""!==d.oScroll.sY)?I("<tfoot/>").appendTo(a):e).length||0===e.children().length?a.addClass(h.sNoFooter):0<e.length&&(d.nTFoot=e[0],at(d.aoFooter,d.nTFoot)),n.aaData)for(i=0;i<n.aaData.length;i++)T(d,n.aaData[i]);else!d.bDeferLoading&&"dom"!=D(d)||z(d,I(d.nTBody).children("tr"));d.aiDisplay=d.aiDisplayMaster.slice(),!(d.bInitialised=!0)===r&&Et(d)};n.bStateSave?(g.bStateSave=!0,C(d,"aoDrawCallback",Gt,"state_save"),qt(d,0,t)):t()}}),y=null,this},fe={},pe=/[\r\n]/g,ge=/<.*?>/g,me=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,ye=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),ve=/[',$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,be=function(t,e){return fe[e]||(fe[e]=RegExp(Se(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(fe[e],"."):t},j=function(t,e,n){var i=[],r=0,a=t.length;if(n!==R)for(;r<a;r++)t[r]&&t[r][e]&&i.push(t[r][e][n]);else for(;r<a;r++)t[r]&&i.push(t[r][e]);return i},_e=function(t){t:{if(!(t.length<2))for(var e,n=(e=t.slice().sort())[0],i=1,r=e.length;i<r;i++){if(e[i]===n){e=!1;break t}n=e[i]}e=!0}if(e)return t.slice();e=[];var a,r=t.length,o=0,i=0;t:for(;i<r;i++){for(n=t[i],a=0;a<o;a++)if(e[a]===n)continue t;e.push(n),o++}return e},i=(A.util={throttle:function(i,t){var r,a,o=t!==R?t:200;return function(){var t=this,e=+new Date,n=arguments;r&&e<r+o?(clearTimeout(a),a=setTimeout(function(){r=R,i.apply(t,n)},o)):(r=e,i.apply(t,n))}},escapeRegex:function(t){return t.replace(ye,"\\$1")}},function(t,e,n){t[e]!==R&&(t[n]=t[e])}),Te=/\[.*?\]$/,f=/\(\)$/,Se=A.util.escapeRegex,we=I("<div>")[0],Ee=we.textContent!==R,Ce=/<.*?>/g,ke=A.util.throttle,De=[],l=Array.prototype,x=function(t,e){if(!(this instanceof x))return new x(t,e);function n(t){var e,n,i,r,a;e=t,r=A.settings,a=I.map(r,function(t){return t.nTable}),(t=e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(n=I.inArray(e,a))?[r[n]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=I(e):e instanceof I&&(i=e),i?i.map(function(){return-1!==(n=I.inArray(this,a))?r[n]:null}).toArray():void 0):[])&&(o=o.concat(t))}var o=[];if(I.isArray(t))for(var i=0,r=t.length;i<r;i++)n(t[i]);else n(t);this.context=_e(o),e&&I.merge(this,e),this.selector={rows:null,cols:null,opts:null},x.extend(this,this,De)},Ae=(A.Api=x,I.extend(x.prototype,{any:function(){return 0!==this.count()},concat:l.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new x(e[t],this[t]):null},filter:function(t){var e=[];if(l.filter)e=l.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new x(this.context,e)},flatten:function(){var t=[];return new x(this.context,t.concat.apply(t,this.toArray()))},join:l.join,indexOf:l.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,i){var r,a,o,s,l,u,c,d=[],h=this.context,f=this.selector;for("string"==typeof t&&(i=n,n=e,e=t,t=!1),a=0,o=h.length;a<o;a++){var p=new x(h[a]);if("table"===e)(r=n.call(p,h[a],a))!==R&&d.push(r);else if("columns"===e||"rows"===e)(r=n.call(p,h[a],this[a],a))!==R&&d.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(c=this[a],"column-rows"===e&&(u=Ae(h[a],f.opts)),s=0,l=c.length;s<l;s++)r=c[s],(r="cell"===e?n.call(p,h[a],r.row,r.column,a,s):n.call(p,h[a],r,a,s,u))!==R&&d.push(r)}return d.length||i?((e=(t=new x(h,t?d.concat.apply([],d):d)).selector).rows=f.rows,e.cols=f.cols,e.opts=f.opts,t):this},lastIndexOf:l.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(l.map)e=l.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new x(this.context,e)},pluck:function(e){return this.map(function(t){return t[e]})},pop:l.pop,push:l.push,reduce:l.reduce||function(t,e){return n(this,t,e,0,this.length,1)},reduceRight:l.reduceRight||function(t,e){return n(this,t,e,this.length-1,-1,-1)},reverse:l.reverse,selector:null,shift:l.shift,slice:function(){return new x(this.context,this)},sort:l.sort,splice:l.splice,toArray:function(){return l.slice.call(this)},to$:function(){return I(this)},toJQuery:function(){return I(this)},unique:function(){return new x(this.context,_e(this))},unshift:l.unshift}),x.extend=function(t,e,n){if(n.length&&e&&(e instanceof x||e.__dt_wrapper))for(var i,r=0,a=n.length;r<a;r++)e[(i=n[r]).name]="function"==typeof i.val?function(e,n,i){return function(){var t=n.apply(e,arguments);return x.extend(t,t,i.methodExt),t}}(t,i.val,i):I.isPlainObject(i.val)?{}:i.val,e[i.name].__dt_wrapper=!0,x.extend(t,e[i.name],i.propExt)},x.register=e=function(t,e){if(I.isArray(t))for(var n=0,i=t.length;n<i;n++)x.register(t[n],e);else for(var r,a=t.split("."),o=De,n=0,i=a.length;n<i;n++){var s=(r=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];t:{for(var l=0,u=o.length;l<u;l++)if(o[l].name===s){l=o[l];break t}l=null}l||o.push(l={name:s,val:{},methodExt:[],propExt:[]}),n===i-1?l.val=e:o=r?l.methodExt:l.propExt}},x.registerPlural=t=function(t,e,n){x.register(t,n),x.register(e,function(){var t=n.apply(this,arguments);return t===this?this:t instanceof x?t.length?I.isArray(t[0])?new x(t.context,t[0]):t[0]:R:t})},e("tables()",function(t){var e,n,i;return e=t?(e=x,n=this.context,new e(t="number"==typeof t?[n[t]]:(i=I.map(n,function(t){return t.nTable}),I(i).filter(t).map(function(){var t=I.inArray(this,i);return n[t]}).toArray()))):this}),e("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new x(e[0]):t}),t("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),t("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),t("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),t("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),t("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),e("draw()",function(e){return this.iterator("table",function(t){"page"===e?c(t):s(t,!1===(e="string"==typeof e?"full-hold"!==e:e))})}),e("page()",function(e){return e===R?this.page.info().page:this.iterator("table",function(t){xt(t,e)})}),e("page.info()",function(){if(0===this.context.length)return R;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(i/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===D(t)}}),e("page.len()",function(e){return e===R?0!==this.context.length?this.context[0]._iDisplayLength:R:this.iterator("table",function(t){kt(t,e)})}),e("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),e("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),e("ajax.reload()",function(e,n){return this.iterator("table",function(t){re(t,!1===n,e)})}),e("ajax.url()",function(e){var t=this.context;return e===R?0===t.length?R:(t=t[0]).ajax?I.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){I.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),e("ajax.url().load()",function(e,n){return this.iterator("table",function(t){re(t,!1===n,e)})}),function(t,e){var n=[],i=t.aiDisplay,r=t.aiDisplayMaster,a=e.search;if(s=e.order,l=e.page,"ssp"==D(t))return"removed"===a?[]:d(0,r.length);if("current"==l)for(s=t._iDisplayStart,l=t.fnDisplayEnd();s<l;s++)n.push(i[s]);else if("current"==s||"applied"==s){if("none"==a)n=r.slice();else if("applied"==a)n=i.slice();else if("removed"==a){for(var o={},s=0,l=i.length;s<l;s++)o[i[s]]=null;n=I.map(r,function(t){return o.hasOwnProperty(t)?null:t})}}else if("index"==s||"original"==s)for(s=0,l=t.aoData.length;s<l;s++)"none"==a?n.push(s):(-1===(r=I.inArray(s,i))&&"removed"==a||0<=r&&"applied"==a)&&n.push(s);return n}),xe=(e("rows()",function(t,e){t===R?t="":I.isPlainObject(t)&&(e=t,t="");var e=oe(e),n=this.iterator("table",function(r){var a,o=e;return ae("row",t,function(n){var t,e=Zt(n),i=r.aoData;return null===e||o?(a=a||Ae(r,o),null!==e&&-1!==I.inArray(e,a)?[e]:null===n||n===R||""===n?a:"function"==typeof n?I.map(a,function(t){var e=i[t];return n(t,e._aData,e.nTr)?t:null}):n.nodeName?(e=n._DT_RowIndex,t=n._DT_CellIndex,e!==R?i[e]&&i[e].nTr===n?[e]:[]:t?i[t.row]&&i[t.row].nTr===n?[t.row]:[]:(e=I(n).closest("*[data-dt-row]")).length?[e.data("dt-row")]:[]):"string"==typeof n&&"#"===n.charAt(0)&&(e=r.aIds[n.replace(/^#/,"")])!==R?[e.idx]:(e=ie(ne(r.aoData,a,"nTr")),I(e).filter(n).map(function(){return this._DT_RowIndex}).toArray())):[e]},r,o)},1);return n.selector.rows=t,n.selector.opts=e,n}),e("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||R},1)}),e("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return ne(t.aoData,e,"_aData")},1)}),t("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,e){t=t.aoData[e];return"search"===n?t._aFilterData:t._aSortData},1)}),t("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,e){r(t,e,n)})}),t("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),t("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;i<r;i++)for(var a=0,o=this[i].length;a<o;a++){var s=n[i].rowIdFn(n[i].aoData[this[i][a]]._aData);e.push((!0===t?"#":"")+s)}return new x(n,e)}),t("rows().remove()","row().remove()",function(){var c=this;return this.iterator("row",function(t,e,n){var i,r,a,o,s,l=t.aoData,u=l[e];for(l.splice(e,1),i=0,r=l.length;i<r;i++)if(s=(a=l[i]).anCells,null!==a.nTr&&(a.nTr._DT_RowIndex=i),null!==s)for(a=0,o=s.length;a<o;a++)s[a]._DT_CellIndex.row=i;J(t.aiDisplayMaster,e),J(t.aiDisplay,e),J(c[n],e,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,$t(t),(e=t.rowIdFn(u._aData))!==R&&delete t.aIds[e]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),e("rows.add()",function(a){var t=this.iterator("table",function(t){for(var e,n=[],i=0,r=a.length;i<r;i++)(e=a[i]).nodeName&&"TR"===e.nodeName.toUpperCase()?n.push(z(t,e)[0]):n.push(T(t,e));return n},1),e=this.rows(-1);return e.pop(),I.merge(e,t),e}),e("row()",function(t,e){return se(this.rows(t,e))}),e("row().data()",function(t){var e=this.context;if(t===R)return e.length&&this.length?e[0].aoData[this[0]]._aData:R;var n=e[0].aoData[this[0]];return n._aData=t,I.isArray(t)&&n.nTr.id&&p(e[0].rowId)(t,n.nTr.id),r(e[0],this[0],"data"),this}),e("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),e("row.add()",function(e){e instanceof I&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?z(t,e)[0]:T(t,e)});return this.row(t[0])}),e("row().child()",function(t,e){var r,a,o,n=this.context;return t===R?n.length&&this.length?n[0].aoData[this[0]]._details:R:(!0===t?this.child.show():!1===t?le(this):n.length&&this.length&&(r=n[0],n=n[0].aoData[this[0]],a=[],(o=function(t,e){if(I.isArray(t)||t instanceof I)for(var n=0,i=t.length;n<i;n++)o(t[n],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?a.push(t):(n=I("<tr><td/></tr>").addClass(e),I("td",n).addClass(e).html(t)[0].colSpan=y(r),a.push(n[0]))})(t,e),n._details&&n._details.detach(),n._details=I(a),n._detailsShow&&n._details.insertAfter(n.nTr)),this)}),e(["row().child.show()","row().child().show()"],function(){return ue(this,!0),this}),e(["row().child.hide()","row().child().hide()"],function(){return ue(this,!1),this}),e(["row().child.remove()","row().child().remove()"],function(){return le(this),this}),e("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}),/^([^:]+):(name|visIdx|visible)$/),Le=(e("columns()",function(e,n){e===R?e="":I.isPlainObject(e)&&(n=e,e="");var n=oe(n),t=this.iterator("table",function(a){var t=e,o=n,s=a.aoColumns,l=j(s,"sName"),u=j(s,"nTh");return ae("column",t,function(n){var i,t=Zt(n);if(""===n)return d(s.length);if(null!==t)return[0<=t?t:s.length+t];if("function"==typeof n)return i=Ae(a,o),I.map(s,function(t,e){return n(e,ce(a,e,0,0,i),u[e])?e:null});var e,r="string"==typeof n?n.match(xe):"";if(r)switch(r[2]){case"visIdx":case"visible":return(t=parseInt(r[1],10))<0?[(e=I.map(s,function(t,e){return t.bVisible?e:null}))[e.length+t]]:[M(a,t)];case"name":return I.map(l,function(t,e){return t===r[1]?e:null});default:return[]}return n.nodeName&&n._DT_CellIndex?[n._DT_CellIndex.column]:(t=I(u).filter(n).map(function(){return I.inArray(this,u)}).toArray()).length||!n.nodeName?t:(t=I(n).closest("*[data-dt-column]")).length?[t.data("dt-column")]:[]},a,o)},1);return t.selector.cols=e,t.selector.opts=n,t}),t("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),t("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),t("columns().data()","column().data()",function(){return this.iterator("column-rows",ce,1)}),t("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),t("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(t,e,n,i,r){return ne(t.aoData,r,"search"===a?"_aFilterData":"_aSortData",e)},1)}),t("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return ne(t.aoData,r,"anCells",e)},1)}),t("columns().visible()","column().visible()",function(u,n){var t=this.iterator("column",function(t,e){if(u===R)return t.aoColumns[e].bVisible;var n,i=t.aoColumns,r=i[e],a=t.aoData;if(u!==R&&r.bVisible!==u){if(u)for(var o=I.inArray(!0,j(i,"bVisible"),e+1),s=0,l=a.length;s<l;s++)n=a[s].nTr,i=a[s].anCells,n&&n.insertBefore(i[e],i[o]||null);else I(j(t.aoData,"anCells",e)).detach();r.bVisible=u,it(t,t.aoHeader),it(t,t.aoFooter),t.aiDisplay.length||I(t.nTBody).find("td[colspan]").attr("colspan",y(t)),Gt(t)}});return u!==R&&(this.iterator("column",function(t,e){k(t,null,"column-visibility",[t,e,u,n])}),n!==R&&!n||this.columns.adjust()),t}),t("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,e){return"visible"===n?u(t,e):e},1)}),e("columns.adjust()",function(){return this.iterator("table",function(t){P(t)},1)}),e("column.index()",function(t,e){var n;if(0!==this.context.length)return n=this.context[0],"fromVisible"===t||"toData"===t?M(n,e):"fromData"===t||"toVisible"===t?u(n,e):void 0}),e("column()",function(t,e){return se(this.columns(t,e))}),e("cells()",function(g,t,m){if(I.isPlainObject(g)&&(g.row===R?(m=g,g=null):(m=t,t=null)),I.isPlainObject(t)&&(m=t,t=null),null===t||t===R)return this.iterator("table",function(n){var i,r,a,o,s,l,u,t=g,e=oe(m),c=n.aoData,d=Ae(n,e),h=ie(ne(c,d,"anCells")),f=I([].concat.apply([],h)),p=n.aoColumns.length;return ae("cell",t,function(t){var e="function"==typeof t;if(null===t||t===R||e){for(r=[],a=0,o=d.length;a<o;a++)for(i=d[a],s=0;s<p;s++)l={row:i,column:s},e?(u=c[i],t(l,b(n,i,s),u.anCells?u.anCells[s]:null)&&r.push(l)):r.push(l);return r}return I.isPlainObject(t)?t.column!==R&&t.row!==R&&-1!==I.inArray(t.row,d)?[t]:[]:(e=f.filter(t).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!t.nodeName?e:(u=I(t).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},n,e)});var n,i,r,a,o,s=this.columns(t),l=this.rows(g),e=(this.iterator("table",function(t,e){for(n=[],i=0,r=l[e].length;i<r;i++)for(a=0,o=s[e].length;a<o;a++)n.push({row:l[e][i],column:s[e][a]})},1),this.cells(n,m));return I.extend(e.selector,{cols:t,rows:g,opts:m}),e}),t("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return(t=t.aoData[e])&&t.anCells?t.anCells[n]:R},1)}),e("cells().data()",function(){return this.iterator("cell",function(t,e,n){return b(t,e,n)},1)}),t("cells().cache()","cell().cache()",function(i){return i="search"===i?"_aFilterData":"_aSortData",this.iterator("cell",function(t,e,n){return t.aoData[e][i][n]},1)}),t("cells().render()","cell().render()",function(i){return this.iterator("cell",function(t,e,n){return b(t,e,n,i)},1)}),t("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:u(t,n)}},1)}),t("cells().invalidate()","cell().invalidate()",function(i){return this.iterator("cell",function(t,e,n){r(t,e,i,n)})}),e("cell()",function(t,e,n){return se(this.cells(t,e,n))}),e("cell().data()",function(t){var e=this.context,n=this[0];return t===R?e.length&&n.length?b(e[0],n[0].row,n[0].column):R:($(e[0],n[0].row,n[0].column,t),r(e[0],n[0].row,"data",n[0].column),this)}),e("order()",function(e,t){var n=this.context;return e===R?0!==n.length?n[0].aaSorting:R:("number"==typeof e?e=[[e,t]]:e.length&&!I.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),e("order.listener()",function(e,n,i){return this.iterator("table",function(t){Bt(t,e,n,i)})}),e("order.fixed()",function(e){var t;return e?this.iterator("table",function(t){t.aaSortingFixed=I.extend(!0,{},e)}):(t=(t=this.context).length?t[0].aaSortingFixed:R,I.isArray(t)?{pre:t}:t)}),e(["columns().order()","column().order()"],function(i){var r=this;return this.iterator("table",function(t,e){var n=[];I.each(r[e],function(t,e){n.push([e,i])}),t.aaSorting=n})}),e("search()",function(e,n,i,r){var t=this.context;return e===R?0!==t.length?t[0].oPreviousSearch.sSearch:R:this.iterator("table",function(t){t.oFeatures.bFilter&&ft(t,I.extend({},t.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===r||r}),1)})}),t("columns().search()","column().search()",function(i,r,a,o){return this.iterator("column",function(t,e){var n=t.aoPreSearchCols;if(i===R)return n[e].sSearch;t.oFeatures.bFilter&&(I.extend(n[e],{sSearch:i+"",bRegex:null!==r&&r,bSmart:null===a||a,bCaseInsensitive:null===o||o}),ft(t,t.oPreviousSearch,1))})}),e("state()",function(){return this.context.length?this.context[0].oSavedState:null}),e("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),e("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),e("state.save()",function(){return this.iterator("table",function(t){Gt(t)})}),A.versionCheck=A.fnVersionCheck=function(t){for(var e,n,i=A.version.split("."),r=0,a=(t=t.split(".")).length;r<a;r++)if((e=parseInt(i[r],10)||0)!==(n=parseInt(t[r],10)||0))return n<e;return!0},A.isDataTable=A.fnIsDataTable=function(t){var r=I(t).get(0),a=!1;return t instanceof A.Api||(I.each(A.settings,function(t,e){var n=e.nScrollHead?I("table",e.nScrollHead)[0]:null,i=e.nScrollFoot?I("table",e.nScrollFoot)[0]:null;e.nTable!==r&&n!==r&&i!==r||(a=!0)}),a)},A.tables=A.fnTables=function(e){var t=!1,n=(I.isPlainObject(e)&&(t=e.api,e=e.visible),I.map(A.settings,function(t){if(!e||I(t.nTable).is(":visible"))return t.nTable}));return t?new x(n):n},A.camelToHungarian=_,e("$()",function(t,e){e=this.rows(e).nodes(),e=I(e);return I([].concat(e.filter(t).toArray(),e.find(t).toArray()))}),I.each(["on","one","off"],function(t,n){e(n+"()",function(){var t=Array.prototype.slice.call(arguments),e=(t[0]=I.map(t[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" "),I(this.tables().nodes()));return e[n].apply(e,t),this})}),e("clear()",function(){return this.iterator("table",function(t){Q(t)})}),e("settings()",function(){return new x(this.context,this.context)}),e("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),e("data()",function(){return this.iterator("table",function(t){return j(t.aoData,"_aData")}).flatten()}),e("destroy()",function(d){return d=d||!1,this.iterator("table",function(e){var n,t=e.nTableWrapper.parentNode,i=e.oClasses,r=e.nTable,a=e.nTBody,o=e.nTHead,s=e.nTFoot,l=I(r),a=I(a),u=I(e.nTableWrapper),c=I.map(e.aoData,function(t){return t.nTr});e.bDestroying=!0,k(e,"aoDestroyCallback","destroy",[e]),d||new x(e).columns().visible(!0),u.off(".DT").find(":not(tbody *)").off(".DT"),I(L).off(".DT-"+e.sInstance),r!=o.parentNode&&(l.children("thead").detach(),l.append(o)),s&&r!=s.parentNode&&(l.children("tfoot").detach(),l.append(s)),e.aaSorting=[],e.aaSortingFixed=[],Ht(e),I(c).removeClass(e.asStripeClasses.join(" ")),I("th, td",o).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),a.children().detach(),a.append(c),l[o=d?"remove":"detach"](),u[o](),!d&&t&&(t.insertBefore(r,e.nTableReinsertBefore),l.css("width",e.sDestroyWidth).removeClass(i.sTable),(n=e.asDestroyStripes.length)&&a.children().each(function(t){I(this).addClass(e.asDestroyStripes[t%n])})),-1!==(t=I.inArray(e,A.settings))&&A.settings.splice(t,1)})}),I.each(["column","row","cell"],function(t,l){e(l+"s().every()",function(a){var o=this.selector.opts,s=this;return this.iterator(l,function(t,e,n,i,r){a.call(s[l](e,"cell"===l?n:o,"cell"===l?o:R),e,n,i,r)})})}),e("i18n()",function(t,e,n){var i=this.context[0];return(t=S(t)(i.oLanguage))===R&&(t=e),(t=n!==R&&I.isPlainObject(t)?t[n]!==R?t[n]:t._:t).replace("%d",n)}),A.version="1.10.19",A.settings=[],A.models={},A.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},A.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},A.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},A.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:I.extend({},A.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},a(A.defaults),A.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(A.defaults.column),A.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:R,oAjaxData:R,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==D(this)?+this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==D(this)?+this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;return r.bServerSide?!1===a||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!a||i<n||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},A.ext=h={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:A.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:A.version},I.extend(h,{afnFiltering:h.search,aTypes:h.type.detect,ofnSearch:h.type.search,oSort:h.type.order,afnSortData:h.order,aoFeatures:h.feature,oApi:h.internal,oStdClasses:h.classes,oPagination:h.pager}),I.extend(A.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),A.ext.pager);I.extend(Le,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Xt(t,e)]},simple_numbers:function(t,e){return["previous",Xt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Xt(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Xt(t,e),"last"]},_numbers:Xt,numbers_length:7}),I.extend(!0,A.ext.renderer,{pageButton:{_:function(s,t,l,e,u,c){function d(t,e){function n(t){xt(s,t.data.action,!0)}for(var i,r,a=0,o=e.length;a<o;a++)if(r=e[a],I.isArray(r))i=I("<"+(r.DT_el||"div")+"/>").appendTo(t),d(i,r);else{switch(h=null,f="",r){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":h=g.sFirst,f=r+(0<u?"":" "+p.sPageButtonDisabled);break;case"previous":h=g.sPrevious,f=r+(0<u?"":" "+p.sPageButtonDisabled);break;case"next":h=g.sNext,f=r+(u<c-1?"":" "+p.sPageButtonDisabled);break;case"last":h=g.sLast,f=r+(u<c-1?"":" "+p.sPageButtonDisabled);break;default:h=r+1,f=u===r?p.sPageButtonActive:""}null!==h&&(zt(i=I("<a>",{class:p.sPageButton+" "+f,"aria-controls":s.sTableId,"aria-label":m[r],"data-dt-idx":y,tabindex:s.iTabIndex,id:0===l&&"string"==typeof r?s.sTableId+"_"+r:null}).html(h).appendTo(t),{action:r},n),y++)}}var h,f,n,p=s.oClasses,g=s.oLanguage.oPaginate,m=s.oLanguage.oAria.paginate||{},y=0;try{n=I(t).find(v.activeElement).data("dt-idx")}catch(t){}d(I(t).empty(),e),n!==R&&I(t).find("[data-dt-idx="+n+"]").focus()}}}),I.extend(A.ext.type.detect,[function(t,e){e=e.oLanguage.sDecimal;return te(t,e)?"num"+e:null},function(t){if(t&&!(t instanceof Date)&&!me.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||o(t)?"date":null},function(t,e){e=e.oLanguage.sDecimal;return te(t,e,!0)?"num-fmt"+e:null},function(t,e){e=e.oLanguage.sDecimal;return ee(t,e)?"html-num"+e:null},function(t,e){e=e.oLanguage.sDecimal;return ee(t,e,!0)?"html-num-fmt"+e:null},function(t){return o(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),I.extend(A.ext.type.search,{html:function(t){return o(t)?t:"string"==typeof t?t.replace(pe," ").replace(ge,""):""},string:function(t){return!o(t)&&"string"==typeof t?t.replace(pe," "):t}}),I.extend(h.type.order,{"date-pre":function(t){return t=Date.parse(t),isNaN(t)?-1/0:t},"html-pre":function(t){return o(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return o(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0}}),Qt(""),I.extend(!0,A.ext.renderer,{header:{_:function(r,a,o,s){I(r.nTable).on("order.dt.DT",function(t,e,n,i){r===e&&(t=o.idx,a.removeClass(o.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[t]?s.sSortAsc:"desc"==i[t]?s.sSortDesc:o.sSortingClass))})},jqueryui:function(r,a,o,s){I("<div/>").addClass(s.sSortJUIWrapper).append(a.contents()).append(I("<span/>").addClass(s.sSortIcon+" "+o.sSortingClassJUI)).appendTo(a),I(r.nTable).on("order.dt.DT",function(t,e,n,i){r===e&&(t=o.idx,a.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[t]?s.sSortAsc:"desc"==i[t]?s.sSortDesc:o.sSortingClass),a.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==i[t]?s.sSortJUIAsc:"desc"==i[t]?s.sSortJUIDesc:o.sSortingClassJUI))})}}});return A.render={number:function(i,r,a,o,s){return{display:function(t){if("number"!=typeof t&&"string"!=typeof t)return t;var e=t<0?"-":"",n=parseFloat(t);return isNaN(n)?he(t):(n=n.toFixed(a),t=Math.abs(n),n=parseInt(t,10),t=a?r+(t-n).toFixed(a).substring(2):"",e+(o||"")+n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,i)+t+(s||""))}}},text:function(){return{display:he,filter:he}}},I.extend(A.ext.internal,{_fnExternApiFunc:Jt,_fnBuildAjax:st,_fnAjaxUpdate:lt,_fnAjaxParameters:ut,_fnAjaxUpdateDraw:ct,_fnAjaxDataSrc:dt,_fnAddColumn:G,_fnColumnOptions:q,_fnAdjustColumnSizing:P,_fnVisibleToColumnIndex:M,_fnColumnIndexToVisible:u,_fnVisbleColumns:y,_fnGetColumns:V,_fnColumnTypes:m,_fnApplyColumnDefs:Y,_fnHungarianMap:a,_fnCamelToHungarian:_,_fnLanguageCompat:O,_fnBrowserDetect:W,_fnAddData:T,_fnAddTr:z,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==R?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return I.inArray(n,t.aoData[e].anCells)},_fnGetCellData:b,_fnSetCellData:$,_fnSplitObjNotation:K,_fnGetObjectDataFn:S,_fnSetObjectDataFn:p,_fnGetDataMaster:X,_fnClearTable:Q,_fnDeleteIndex:J,_fnInvalidate:r,_fnGetRowElements:Z,_fnCreateTr:tt,_fnBuildHead:nt,_fnDrawHead:it,_fnDraw:c,_fnReDraw:s,_fnAddOptionsHtml:rt,_fnDetectHeader:at,_fnGetUniqueThs:ot,_fnFeatureHtmlFilter:ht,_fnFilterComplete:ft,_fnFilterCustom:pt,_fnFilterColumn:gt,_fnFilter:mt,_fnFilterCreateSearch:yt,_fnEscapeRegex:Se,_fnFilterData:vt,_fnFeatureHtmlInfo:Tt,_fnUpdateInfo:St,_fnInfoMacros:wt,_fnInitialise:Et,_fnInitComplete:Ct,_fnLengthChange:kt,_fnFeatureHtmlLength:Dt,_fnFeatureHtmlPaginate:At,_fnPageChange:xt,_fnFeatureHtmlProcessing:Lt,_fnProcessingDisplay:g,_fnFeatureHtmlTable:Ot,_fnScrollDraw:It,_fnApplyToChildren:N,_fnCalculateColumnWidths:Rt,_fnThrottle:ke,_fnConvertToWidth:Pt,_fnGetWidestNode:Mt,_fnGetMaxLenString:Nt,_fnStringToCss:U,_fnSortFlatten:w,_fnSort:Ut,_fnSortAria:Ft,_fnSortListener:jt,_fnSortAttachListener:Bt,_fnSortingClasses:Ht,_fnSortData:Wt,_fnSaveState:Gt,_fnLoadState:qt,_fnSettingsFromNode:Vt,_fnLog:F,_fnMap:E,_fnBindAction:zt,_fnCallbackReg:C,_fnCallbackFire:k,_fnLengthOverflow:$t,_fnRenderer:Kt,_fnDataSource:D,_fnRowAttributes:et,_fnExtend:Yt,_fnCalculateEnd:function(){}}),((I.fn.dataTable=A).$=I).fn.dataTableSettings=A.settings,I.fn.dataTableExt=A.ext,I.fn.DataTable=function(t){return I(this).dataTable(t).api()},I.each(A,function(t,e){I.fn.DataTable[t]=e}),I.fn.dataTable}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),n(e,t,t.document)}:n(jQuery,window,document)}(function(c,s,t,d){function l(a,t,e){function n(e,n){var t,i=a.rows({search:"applied"}).indexes(),r=(i.indexOf(e)>i.indexOf(n)&&(t=n,n=e,e=t),!1);return i.filter(function(t){return t===e&&(r=!0),t===n?!(r=!1):r})}var i=function(e,n){n<e&&(t=n,n=e,e=t);var t,i=!1;return a.columns(":visible").indexes().filter(function(t){return t===e&&(i=!0),t===n?!(i=!1):i})};e=a.cells({selected:!0}).any()||e?(i=i(e.column,t.column),n(e.row,t.row)):(i=i(0,t.column),n(0,t.row)),e=a.cells(e,i).flatten(),a.cells(t,{selected:!0}).any()?a.cells(e).deselect():a.cells(e).select()}function r(t){var e=t.settings()[0]._select.selector;c(t.table().container()).off("mousedown.dtSelect",e).off("mouseup.dtSelect",e).off("click.dtSelect",e),c("body").off("click.dtSelect"+t.table().node().id)}function a(a){var o,e=c(a.table().container()),n=a.settings()[0],i=n._select.selector;e.on("mousedown.dtSelect",i,function(t){(t.shiftKey||t.metaKey||t.ctrlKey)&&e.css("-moz-user-select","none").one("selectstart.dtSelect",i,function(){return!1}),s.getSelection&&(o=s.getSelection())}).on("mouseup.dtSelect",i,function(){e.css("-moz-user-select","")}).on("click.dtSelect",i,function(t){var e=a.select.items();if(s.getSelection&&((!(i=s.getSelection()).anchorNode||c(i.anchorNode).closest("table")[0]===a.table().node())&&i!==o))return;var n,i=a.settings()[0],r=a.settings()[0].oClasses.sWrapper.replace(/ /g,".");c(t.target).closest("div."+r)[0]==a.table().container()&&(r=a.cell(c(t.target).closest("td, th"))).any()&&(n=c.Event("user-select.dt"),u(a,n,[e,r,t]),n.isDefaultPrevented()||(n=r.index(),"row"===e?(e=n.row,p(t,a,i,"row",e)):"column"===e?(e=r.index().column,p(t,a,i,"column",e)):"cell"===e&&(e=r.index(),p(t,a,i,"cell",e)),i._select_lastCell=n))}),c("body").on("click.dtSelect"+a.table().node().id,function(t){!n._select.blurable||c(t.target).parents().filter(a.table().container()).length||0===c(t.target).parents("html").length||c(t.target).parents("div.DTE").length||f(n,!0)})}function u(t,e,n,i){i&&!t.flatten().length||("string"==typeof e&&(e+=".dt"),n.unshift(t),c(t.table().node()).trigger(e,n))}function o(i){var r,a,o,s,t=i.settings()[0];t._select.info&&t.aanFeatures.i&&"api"!==i.select.style()&&(r=i.rows({selected:!0}).flatten().length,a=i.columns({selected:!0}).flatten().length,o=i.cells({selected:!0}).flatten().length,s=function(t,e,n){t.append(c('<span class="select-item"/>').append(i.i18n("select."+e+"s",{_:"%d "+e+"s selected",0:"",1:"1 "+e+" selected"},n)))},c.each(t.aanFeatures.i,function(t,e){var e=c(e),n=c('<span class="select-info"/>'),i=(s(n,"row",r),s(n,"column",a),s(n,"cell",o),e.children("span.select-info"));i.length&&i.remove(),""!==n.text()&&e.append(n)}))}function h(t,e,n,i){var r,a=t[e+"s"]({search:"applied"}).indexes(),i=c.inArray(i,a),o=c.inArray(n,a);t[e+"s"]({selected:!0}).any()||-1!==i?(o<i&&(r=o,o=i,i=r),a.splice(o+1,a.length),a.splice(0,i)):a.splice(c.inArray(n,a)+1,a.length),t[e](n,{selected:!0}).any()?(a.splice(c.inArray(n,a),1),t[e+"s"](a).deselect()):t[e+"s"](a).select()}function f(t,e){!e&&"single"!==t._select.style||((e=new m.Api(t)).rows({selected:!0}).deselect(),e.columns({selected:!0}).deselect(),e.cells({selected:!0}).deselect())}function p(t,e,n,i,r){var a=e.select.style(),o=e[i](r,{selected:!0}).any();"os"===a?t.ctrlKey||t.metaKey?e[i](r).select(!o):t.shiftKey?"cell"===i?l(e,r,n._select_lastCell||null):h(e,i,r,n._select_lastCell?n._select_lastCell[i]:null):(t=e[i+"s"]({selected:!0}),o&&1===t.flatten().length?e[i](r).deselect():(t.deselect(),e[i](r).select())):"multi+shift"==a&&t.shiftKey?"cell"===i?l(e,r,n._select_lastCell||null):h(e,i,r,n._select_lastCell?n._select_lastCell[i]:null):e[i](r).select(!o)}function n(e,n){return function(t){return t.i18n("buttons."+e,n)}}function g(t){return"draw.dt.DT"+(t=t._eventNamespace)+" select.dt.DT"+t+" deselect.dt.DT"+t}var m=c.fn.dataTable,e=(m.select={},m.select.version="1.2.7",m.select.init=function(t){var e=t.settings()[0],n=e.oInit.select,i=m.defaults.select,n=n===d?i:n,i="row",r="api",a=!1,o=!0,s="td, th",l="selected",u=!1;e._select={},!0===n?(r="os",u=!0):"string"==typeof n?(r=n,u=!0):c.isPlainObject(n)&&(n.blurable!==d&&(a=n.blurable),n.info!==d&&(o=n.info),n.items!==d&&(i=n.items),n.style!==d&&(r=n.style,u=!0),n.selector!==d&&(s=n.selector),n.className!==d)&&(l=n.className),t.select.selector(s),t.select.items(i),t.select.style(r),t.select.blurable(a),t.select.info(o),e._select.className=l,c.fn.dataTable.ext.order["select-checkbox"]=function(e,t){return this.api().column(t,{order:"index"}).nodes().map(function(t){return"row"===e._select.items?c(t).parent().hasClass(e._select.className):"cell"===e._select.items&&c(t).hasClass(e._select.className)})},!u&&c(t.table().node()).hasClass("selectable")&&t.select.style("os")},c.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(t,s){m.ext.selector[s.type].push(function(t,e,n){var i,r=[];if(!0!==(e=e.selected)&&!1!==e)return n;for(var a=0,o=n.length;a<o;a++)i=t[s.prop][n[a]],(!0===e&&!0===i._select_selected||!1===e&&!i._select_selected)&&r.push(n[a]);return r})}),m.ext.selector.cell.push(function(t,e,n){var i,r=[];if((e=e.selected)===d)return n;for(var a=0,o=n.length;a<o;a++)i=t.aoData[n[a].row],(!0!==e||!i._selected_cells||!0!==i._selected_cells[n[a].column])&&(!1!==e||i._selected_cells&&i._selected_cells[n[a].column])||r.push(n[a]);return r}),m.Api.register),i=m.Api.registerPlural,y=(e("select()",function(){return this.iterator("table",function(t){m.select.init(new m.Api(t))})}),e("select.blurable()",function(e){return e===d?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),e("select.info()",function(e){return o===d?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),e("select.items()",function(e){return e===d?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,u(new m.Api(t),"selectItems",[e])})}),e("select.style()",function(e){return e===d?this.context[0]._select.style:this.iterator("table",function(i){i._select.style=e,i._select_init||(n=new m.Api(i),i.aoRowCreatedCallback.push({fn:function(t,e,n){for((e=i.aoData[n])._select_selected&&c(t).addClass(i._select.className),t=0,n=i.aoColumns.length;t<n;t++)(i.aoColumns[t]._select_selected||e._selected_cells&&e._selected_cells[t])&&c(e.anCells[t]).addClass(i._select.className)},sName:"select-deferRender"}),n.on("preXhr.dt.dtSelect",function(){var t=n.rows({selected:!0}).ids(!0).filter(function(t){return t!==d}),e=n.cells({selected:!0}).eq(0).map(function(t){var e=n.row(t.row).id(!0);return e?{row:e,column:t.column}:d}).filter(function(t){return t!==d});n.one("draw.dt.dtSelect",function(){n.rows(t).select(),e.any()&&e.each(function(t){n.cells(t.row,t.column).select()})})}),n.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){o(n)}),n.on("destroy.dtSelect",function(){r(n),n.off(".dtSelect")}));var n,t=new m.Api(i);r(t),"api"!==e&&a(t),u(new m.Api(i),"selectStyle",[e])})}),e("select.selector()",function(e){return e===d?this.context[0]._select.selector:this.iterator("table",function(t){r(new m.Api(t)),t._select.selector=e,"api"!==t._select.style&&a(new m.Api(t))})}),i("rows().select()","row().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("row",function(t,e){f(t),t.aoData[e]._select_selected=!0,c(t.aoData[e].nTr).addClass(t._select.className)}),this.iterator("table",function(t,e){u(n,"select",["row",n[e]],!0)}),this)}),i("columns().select()","column().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("column",function(t,e){f(t),t.aoColumns[e]._select_selected=!0;e=new m.Api(t).column(e);c(e.header()).addClass(t._select.className),c(e.footer()).addClass(t._select.className),e.nodes().to$().addClass(t._select.className)}),this.iterator("table",function(t,e){u(n,"select",["column",n[e]],!0)}),this)}),i("cells().select()","cell().select()",function(t){var n=this;return!1===t?this.deselect():(this.iterator("cell",function(t,e,n){f(t),(e=t.aoData[e])._selected_cells===d&&(e._selected_cells=[]),e._selected_cells[n]=!0,e.anCells&&c(e.anCells[n]).addClass(t._select.className)}),this.iterator("table",function(t,e){u(n,"select",["cell",n[e]],!0)}),this)}),i("rows().deselect()","row().deselect()",function(){var n=this;return this.iterator("row",function(t,e){t.aoData[e]._select_selected=!1,c(t.aoData[e].nTr).removeClass(t._select.className)}),this.iterator("table",function(t,e){u(n,"deselect",["row",n[e]],!0)}),this}),i("columns().deselect()","column().deselect()",function(){var n=this;return this.iterator("column",function(i,t){i.aoColumns[t]._select_selected=!1;var e=new m.Api(i),n=e.column(t);c(n.header()).removeClass(i._select.className),c(n.footer()).removeClass(i._select.className),e.cells(null,t).indexes().each(function(t){var e=i.aoData[t.row],n=e._selected_cells;!e.anCells||n&&n[t.column]||c(e.anCells[t.column]).removeClass(i._select.className)})}),this.iterator("table",function(t,e){u(n,"deselect",["column",n[e]],!0)}),this}),i("cells().deselect()","cell().deselect()",function(){var n=this;return this.iterator("cell",function(t,e,n){(e=t.aoData[e])._selected_cells[n]=!1,e.anCells&&!t.aoColumns[n]._select_selected&&c(e.anCells[n]).removeClass(t._select.className)}),this.iterator("table",function(t,e){u(n,"deselect",["cell",n[e]],!0)}),this}),0);return c.extend(m.ext.buttons,{selected:{text:n("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(t,e,n){var i=this;n._eventNamespace=".select"+y++,t.on(g(n),function(){i.enable(!!(-1!==c.inArray("rows",n.limitTo)&&t.rows({selected:!0}).any()||-1!==c.inArray("columns",n.limitTo)&&t.columns({selected:!0}).any()||-1!==c.inArray("cells",n.limitTo)&&t.cells({selected:!0}).any()))}),this.disable()},destroy:function(t,e,n){t.off(n._eventNamespace)}},selectedSingle:{text:n("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,n){var i=this;n._eventNamespace=".select"+y++,e.on(g(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(1===t)}),this.disable()},destroy:function(t,e,n){t.off(n._eventNamespace)}},selectAll:{text:n("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:n("selectNone","Deselect all"),className:"buttons-select-none",action:function(){f(this.settings()[0],!0)},init:function(e,t,n){var i=this;n._eventNamespace=".select"+y++,e.on(g(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(0<t)}),this.disable()},destroy:function(t,e,n){t.off(n._eventNamespace)}}}),c.each(["Row","Column","Cell"],function(t,e){var r=e.toLowerCase();m.ext.buttons["select"+e+"s"]={text:n("select"+e+"s","Select "+r+"s"),className:"buttons-select-"+r+"s",action:function(){this.select.items(r)},init:function(t){var i=this;t.on("selectItems.dt.DT",function(t,e,n){i.active(n===r)})}}}),c(t).on("preInit.dt.dtSelect",function(t,e){"dt"===t.namespace&&m.select.init(new m.Api(e))}),m.select}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),n(e,t,t.document)}:n(jQuery,window,document)}(function(y,v,b,p){function _(t,e,n){y.fn.animate?t.stop().fadeIn(e,n):(t.css("display","block"),n&&n.call(t))}function T(t,e,n){y.fn.animate?t.stop().fadeOut(e,n):(t.css("display","none"),n&&n.call(t))}function t(t,e){return t=new n.Api(t),e=e||t.init().buttons||n.defaults.buttons,new S(t,e).container()}function S(e,t){if(!(this instanceof S))return function(t){return new S(t,e).container()};y.isArray(t=!0===(t=void 0===t?{}:t)?{}:t)&&(t={buttons:t}),this.c=y.extend(!0,{},S.defaults,t),t.buttons&&(this.c.buttons=t.buttons),this.s={dt:new n.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+i++},this.dom={container:y("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()}var r,n=y.fn.dataTable,i=0,c=0,s=n.ext.buttons,a=(y.extend(S.prototype,{action:function(t,e){return t=this._nodeToButton(t),e===p?t.conf.action:(t.conf.action=e,this)},active:function(t,e){var n=this._nodeToButton(t);return t=this.c.dom.button.active,n=y(n.node),e===p?n.hasClass(t):(n.toggleClass(t,e===p||e),this)},add:function(t,e){var n=this.s.buttons;if("string"==typeof e){e=e.split("-");for(var i=this.s,n=0,r=e.length-1;n<r;n++)i=i.buttons[+e[n]];n=i.buttons,e=+e[e.length-1]}return this._expandButton(n,t,i!==p,e),this._draw(),this},container:function(){return this.dom.container},disable:function(t){return t=this._nodeToButton(t),y(t.node).addClass(this.c.dom.button.disabled).attr("disabled",!0),this},destroy:function(){y("body").off("keyup."+this.s.namespace);for(var t=this.s.buttons.slice(),e=0,n=t.length;e<n;e++)this.remove(t[e].node);for(this.dom.container.remove(),e=0,n=(t=this.s.dt.settings()[0]).length;e<n;e++)if(t.inst===this){t.splice(e,1);break}return this},enable:function(t,e){return!1===e?this.disable(t):(t=this._nodeToButton(t),y(t.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled"),this)},name:function(){return this.c.name},node:function(t){return t?(t=this._nodeToButton(t),y(t.node)):this.dom.container},processing:function(t,e){var n=this.s.dt,i=this._nodeToButton(t);return e===p?y(i.node).hasClass("processing"):(y(i.node).toggleClass("processing",e),y(n.table().node()).triggerHandler("buttons-processing.dt",[e,n.button(t),n,y(t),i.conf]),this)},remove:function(t){var e=this._nodeToButton(t),n=this._nodeToHost(t),i=this.s.dt;if(e.buttons.length)for(var r=e.buttons.length-1;0<=r;r--)this.remove(e.buttons[r].node);return e.conf.destroy&&e.conf.destroy.call(i.button(t),i,y(t),e.conf),this._removeKey(e.conf),y(e.node).remove(),t=y.inArray(e,n),n.splice(t,1),this},text:function(t,e){function n(t){return"function"==typeof t?t(r,a,i.conf):t}var i=this._nodeToButton(t),r=(t=this.c.dom.collection.buttonLiner,t=(i.inCollection&&t&&t.tag?t:this.c.dom.buttonLiner).tag,this.s.dt),a=y(i.node);return e===p?n(i.conf.text):(i.conf.text=e,(t?a.children(t):a).html(n(e)),this)},_constructor:function(){var n=this,t=this.s.dt,i=t.settings()[0],e=this.c.buttons;i._buttons||(i._buttons=[]),i._buttons.push({inst:this,name:this.c.name});for(var r=0,a=e.length;r<a;r++)this.add(e[r]);t.on("destroy",function(t,e){e===i&&n.destroy()}),y("body").on("keyup."+this.s.namespace,function(t){var e;b.activeElement&&b.activeElement!==b.body||(e=String.fromCharCode(t.keyCode).toLowerCase(),-1!==n.s.listenKeys.toLowerCase().indexOf(e)&&n._keypress(e,t))})},_addKey:function(t){t.key&&(this.s.listenKeys+=(y.isPlainObject(t.key)?t.key:t).key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var n=0,i=e.length;n<i;n++)t.append(e[n].inserter),t.append(" "),e[n].buttons&&e[n].buttons.length&&this._draw(e[n].collection,e[n].buttons)},_expandButton:function(t,e,n,i){for(var r=this.s.dt,a=0,o=(e=y.isArray(e)?e:[e]).length;a<o;a++){var s,l=this._resolveExtends(e[a]);l&&(y.isArray(l)?this._expandButton(t,l,n,i):(s=this._buildButton(l,n))&&(i!==p&&null!==i?(t.splice(i,0,s),i++):t.push(s),s.conf.buttons&&(s.collection=y("<"+this.c.dom.collection.tag+"/>"),s.conf._collection=s.collection,this._expandButton(s.buttons,s.conf.buttons,!0,i)),l.init&&l.init.call(r.button(s.node),r,y(s.node),l),0))}},_buildButton:function(e,t){function n(t){return"function"==typeof t?t(o,u,e):t}var i=this.c.dom.button,r=this.c.dom.buttonLiner,a=this.c.dom.collection,o=this.s.dt;if(t&&a.button&&(i=a.button),t&&a.buttonLiner&&(r=a.buttonLiner),e.available&&!e.available(o,e))return!1;function s(t,e,n,i){i.action.call(e.button(n),t,e,n,i),y(e.table().node()).triggerHandler("buttons-action.dt",[e.button(n),e,n,i])}var a=e.tag||i.tag,l=e.clickBlurs===p||e.clickBlurs,u=y("<"+a+"/>").addClass(i.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault(),!u.hasClass(i.disabled)&&e.action&&s(t,o,u,e),l&&u.trigger("blur")}).on("keyup.dtb",function(t){13===t.keyCode&&!u.hasClass(i.disabled)&&e.action&&s(t,o,u,e)});return"a"===a.toLowerCase()&&u.attr("href","#"),"button"===a.toLowerCase()&&u.attr("type","button"),r.tag?(a=y("<"+r.tag+"/>").html(n(e.text)).addClass(r.className),"a"===r.tag.toLowerCase()&&a.attr("href","#"),u.append(a)):u.html(n(e.text)),!1===e.enabled&&u.addClass(i.disabled),e.className&&u.addClass(e.className),e.titleAttr&&u.attr("title",n(e.titleAttr)),e.attr&&u.attr(e.attr),e.namespace||(e.namespace=".dt-button-"+c++),r=(r=this.c.dom.buttonContainer)&&r.tag?y("<"+r.tag+"/>").addClass(r.className).append(u):u,this._addKey(e),this.c.buttonCreated&&(r=this.c.buttonCreated(e,r)),{conf:e,node:u.get(0),inserter:r,buttons:[],inCollection:t,collection:null}},_nodeToButton:function(t,e){for(var n=0,i=(e=e||this.s.buttons).length;n<i;n++){if(e[n].node===t)return e[n];if(e[n].buttons.length){var r=this._nodeToButton(t,e[n].buttons);if(r)return r}}},_nodeToHost:function(t,e){for(var n=0,i=(e=e||this.s.buttons).length;n<i;n++){if(e[n].node===t)return e;if(e[n].buttons.length){var r=this._nodeToHost(t,e[n].buttons);if(r)return r}}},_keypress:function(a,o){var s;o._buttonsHandled||(s=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].conf,r=t[e].node;!i.key||i.key!==a&&(!y.isPlainObject(i.key)||i.key.key!==a||i.key.shiftKey&&!o.shiftKey||i.key.altKey&&!o.altKey||i.key.ctrlKey&&!o.ctrlKey||i.key.metaKey&&!o.metaKey)||(o._buttonsHandled=!0,y(r).click()),t[e].buttons.length&&s(t[e].buttons)}})(this.s.buttons)},_removeKey:function(t){var e;t.key&&(e=(y.isPlainObject(t.key)?t.key:t).key,t=this.s.listenKeys.split(""),e=y.inArray(e,t),t.splice(e,1),this.s.listenKeys=t.join(""))},_resolveExtends:function(n){function t(t){for(var e=0;!y.isPlainObject(t)&&!y.isArray(t);){if(t===p)return;if("function"==typeof t){if(!(t=t(i,n)))return!1}else if("string"==typeof t){if(!s[t])throw"Unknown button type: "+t;t=s[t]}if(30<++e)throw"Buttons: Too many iterations"}return y.isArray(t)?t:y.extend({},t)}var e,i=this.s.dt;for(n=t(n);n&&n.extend;){if(!s[n.extend])throw"Cannot extend unknown button type: "+n.extend;var r=t(s[n.extend]);if(y.isArray(r))return r;if(!r)return!1;var a=r.className,o=(n=y.extend({},r,n),a&&n.className!==a&&(n.className=a+" "+n.className),n.postfixButtons);if(o){for(n.buttons||(n.buttons=[]),a=0,e=o.length;a<e;a++)n.buttons.push(o[a]);n.postfixButtons=null}if(o=n.prefixButtons){for(n.buttons||(n.buttons=[]),a=0,e=o.length;a<e;a++)n.buttons.splice(a,0,o[a]);n.prefixButtons=null}n.extend=r.extend}return n},_popover:function(i,t,e){function r(){T(y(".dt-button-collection"),p.fade,function(){y(this).detach()}),y(t.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),y("div.dt-button-background").off("click.dtb-collection"),S.background(!1,p.backgroundClassName,p.fade,g),y("body").off(".dtb-collection"),t.off("buttons-action.b-internal")}var n,a,o,s,l,u,c,d,h,f=this.c,p=y.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:f.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,rightAlignClassName:"dt-button-right",tag:f.dom.collection.tag},e),g=t.node(),m=(!1===i&&r(),(e=y(t.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes())).length&&(g=e.eq(0),r()),e=y("<div/>").addClass("dt-button-collection").addClass(p.collectionLayout).css("display","none"),i=y(i).addClass(p.contentClassName).attr("role","menu").appendTo(e),g.attr("aria-expanded","true"),g.parents("body")[0]!==b.body&&(g=b.body.lastChild),p.collectionTitle&&e.prepend('<div class="dt-button-collection-title">'+p.collectionTitle+"</div>"),_(e.insertAfter(g)),f=y(t.table().container()),e.css("position"));"dt-container"===p.align&&(g=g.parent(),e.css("width",f.width())),"absolute"===m&&(e.hasClass(p.rightAlignClassName)||e.hasClass(p.leftAlignClassName)||"dt-container"===p.align)?(n=g.position(),e.css({top:n.top+g.outerHeight(),left:n.left}),a=e.outerHeight(),o=f.offset().top+f.height(),o=(s=n.top+g.outerHeight()+a)-o,s=n.top-a,l=f.offset().top,u=n.top-a-5,(l-s<o||p.dropup)&&-u<l&&e.css("top",u),f=(n=f.offset().left)+(f=f.width()),c=(m=e.offset().left)+(c=e.width()),d=(h=g.offset().left)+(d=g.outerWidth()),h=0,e.hasClass(p.rightAlignClassName)?m+(h=d-c)<n&&(h=(f-=c+h)<(m=n-(m+h))?h+f:h+m):f<c+(h=n-m)&&(h=(f-=c+h)<(m=n-(m+h))?h+f:h+m),e.css("left",e.position().left+h)):"absolute"===m?(n=g.position(),e.css({top:n.top+g.outerHeight(),left:n.left}),a=e.outerHeight(),m=g.offset().top,h=0,d=(h=g.offset().left)+(d=g.outerWidth()),c=(m=e.offset().left)+(c=i.width()),u=n.top-a-5,o=f.offset().top+f.height(),o=(s=n.top+g.outerHeight()+a)-o,s=n.top-a,((l=f.offset().top)-s<o||p.dropup)&&-u<l&&e.css("top",u),h="button-right"===p.align?d-c:h-m,e.css("left",e.position().left+h)):((m=e.height()/2)>y(v).height()/2&&(m=y(v).height()/2),e.css("marginTop",-1*m)),p.background&&S.background(!0,p.backgroundClassName,p.fade,g),y("div.dt-button-background").on("click.dtb-collection",function(){}),y("body").on("click.dtb-collection",function(t){var e=y.fn.addBack?"addBack":"andSelf",n=y(t.target).parent()[0];(y(t.target).parents()[e]().filter(i).length||y(n).hasClass("dt-buttons"))&&!y(t.target).hasClass("dt-button-background")||r()}).on("keyup.dtb-collection",function(t){27===t.keyCode&&r()}),p.autoClose&&setTimeout(function(){t.on("buttons-action.b-internal",function(t,e,n,i){i[0]!==g[0]&&r()})},0),y(e).trigger("buttons-popover.dt")}}),S.background=function(t,e,n,i){n===p&&(n=400),i=i||b.body,t?_(y("<div/>").addClass(e).css("display","none").insertAfter(i),n):T(y("div."+e),n,function(){y(this).removeClass(e).remove()})},S.instanceSelector=function(t,i){if(t===p||null===t)return y.map(i,function(t){return t.inst});function r(t){if(y.isArray(t))for(var e=0,n=t.length;e<n;e++)r(t[e]);else"string"==typeof t?-1!==t.indexOf(",")?r(t.split(",")):-1!==(t=y.inArray(y.trim(t),o))&&a.push(i[t].inst):"number"==typeof t&&a.push(i[t].inst)}var a=[],o=y.map(i,function(t){return t.name});return r(t),a},S.buttonSelector=function(t,e){function a(t,e){var n,i=[],r=(s(i,e.s.buttons),y.map(i,function(t){return t.node}));if(y.isArray(t)||t instanceof y)for(r=0,n=t.length;r<n;r++)a(t[r],e);else if(null===t||t===p||"*"===t)for(r=0,n=i.length;r<n;r++)o.push({inst:e,node:i[r].node});else if("number"==typeof t)o.push({inst:e,node:e.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(","))for(r=0,n=(i=t.split(",")).length;r<n;r++)a(y.trim(i[r]),e);else if(t.match(/^\d+(\-\d+)*$/))r=y.map(i,function(t){return t.idx}),o.push({inst:e,node:i[y.inArray(t,r)].node});else if(-1!==t.indexOf(":name"))for(t=t.replace(":name",""),r=0,n=i.length;r<n;r++)i[r].name===t&&o.push({inst:e,node:i[r].node});else y(r).filter(t).each(function(){o.push({inst:e,node:this})});else"object"==typeof t&&t.nodeName&&(-1!==(i=y.inArray(t,r))&&o.push({inst:e,node:r[i]}))}for(var o=[],s=function(t,e,n){for(var i,r,a=0,o=e.length;a<o;a++)(i=e[a])&&(t.push({node:i.node,name:i.conf.name,idx:r=n!==p?n+a:a+""}),i.buttons&&s(t,i.buttons,r+"-"))},n=0,i=t.length;n<i;n++)a(e,t[n]);return o},S.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"ActiveXObject"in v?"a":"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},S.version="1.6.3",y.extend(s,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function(t,e,n){e.attr("aria-expanded",!1)},action:function(t,e,n,i){t.stopPropagation(),i._collection.parents("body").length?this.popover(!1,i):this.popover(i._collection,i)},attr:{"aria-haspopup":!0}},copy:function(t,e){return s.copyHtml5?"copyHtml5":s.copyFlash&&s.copyFlash.available(t,e)?"copyFlash":void 0},csv:function(t,e){return s.csvHtml5&&s.csvHtml5.available(t,e)?"csvHtml5":s.csvFlash&&s.csvFlash.available(t,e)?"csvFlash":void 0},excel:function(t,e){return s.excelHtml5&&s.excelHtml5.available(t,e)?"excelHtml5":s.excelFlash&&s.excelFlash.available(t,e)?"excelFlash":void 0},pdf:function(t,e){return s.pdfHtml5&&s.pdfHtml5.available(t,e)?"pdfHtml5":s.pdfFlash&&s.pdfFlash.available(t,e)?"pdfFlash":void 0},pageLength:function(t){t=t.settings()[0].aLengthMenu;var e=y.isArray(t[0])?t[0]:t,n=y.isArray(t[0])?t[1]:t;return{extend:"collection",text:function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())},className:"buttons-page-length",autoClose:!0,buttons:y.map(e,function(r,t){return{text:n[t],className:"button-page-length",action:function(t,e){e.page.len(r).draw()},init:function(t,e,n){var i=this;t.on("length.dt"+n.namespace,e=function(){i.active(t.page.len()===r)}),e()},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}),init:function(t,e,n){var i=this;t.on("length.dt"+n.namespace,function(){i.text(n.text)})},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}}),n.Api.register("buttons()",function(e,n){n===p&&(n=e,e=p),this.selector.buttonGroup=e;var t=this.iterator(!0,"table",function(t){if(t._buttons)return S.buttonSelector(S.instanceSelector(e,t._buttons),n)},!0);return t._groupSelector=e,t}),n.Api.register("button()",function(t,e){return 1<(t=this.buttons(t,e)).length&&t.splice(1,t.length),t}),n.Api.registerPlural("buttons().active()","button().active()",function(e){return e===p?this.map(function(t){return t.inst.active(t.node)}):this.each(function(t){t.inst.active(t.node,e)})}),n.Api.registerPlural("buttons().action()","button().action()",function(e){return e===p?this.map(function(t){return t.inst.action(t.node)}):this.each(function(t){t.inst.action(t.node,e)})}),n.Api.register(["buttons().enable()","button().enable()"],function(e){return this.each(function(t){t.inst.enable(t.node,e)})}),n.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})}),n.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=y();return y(this.each(function(t){e=e.add(t.inst.node(t.node))})),e}),n.Api.registerPlural("buttons().processing()","button().processing()",function(e){return e===p?this.map(function(t){return t.inst.processing(t.node)}):this.each(function(t){t.inst.processing(t.node,e)})}),n.Api.registerPlural("buttons().text()","button().text()",function(e){return e===p?this.map(function(t){return t.inst.text(t.node)}):this.each(function(t){t.inst.text(t.node,e)})}),n.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})}),n.Api.register("button().popover()",function(e,n){return this.map(function(t){return t.inst._popover(e,this.button(this[0].node),n)})}),n.Api.register("buttons().containers()",function(){var i=y(),r=this._groupSelector;return this.iterator(!0,"table",function(t){if(t._buttons)for(var e=0,n=(t=S.instanceSelector(r,t._buttons)).length;e<n;e++)i=i.add(t[e].container())}),i}),n.Api.register("buttons().container()",function(){return this.containers().eq(0)}),n.Api.register("button().add()",function(t,e){var n=this.context;return n.length&&((n=S.instanceSelector(this._groupSelector,n[0]._buttons)).length&&n[0].add(e,t)),this.button(this._groupSelector,t)}),n.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),n.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.remove(t.node)}),this}),n.Api.register("buttons.info()",function(t,e,n){var i=this;return!1===t?(this.off("destroy.btn-info"),T(y("#datatables_buttons_info"),400,function(){y(this).remove()}),clearTimeout(r),r=null):(r&&clearTimeout(r),y("#datatables_buttons_info").length&&y("#datatables_buttons_info").remove(),t=t?"<h2>"+t+"</h2>":"",_(y('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(y("<div/>")["string"==typeof e?"html":"append"](e)).css("display","none").appendTo("body")),n!==p&&0!==n&&(r=setTimeout(function(){i.buttons.info(!1)},n)),this.on("destroy.btn-info",function(){i.buttons.info(!1)})),this}),n.Api.register("buttons.exportData()",function(t){if(this.context.length)return e(new n.Api(this.context[0]),t)}),n.Api.register("buttons.exportInfo()",function(t){var e=t=t||{},n="*"===e.filename&&"*"!==e.title&&e.title!==p&&null!==e.title&&""!==e.title?e.title:e.filename;return(n="function"==typeof n?n():n)===p||null===n?n=null:(n=(n=-1!==n.indexOf("*")?y.trim(n.replace("*",y("head > title").text())):n).replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),n+=e=(e=a(e.extension))?e:""),{filename:n,title:e=null===(e=a(t.title))?null:-1!==e.indexOf("*")?e.replace("*",y("head > title").text()||"Exported data"):e,messageTop:o(this,t.message||t.messageTop,"top"),messageBottom:o(this,t.messageBottom,"bottom")}}),function(t){return null===t||t===p?null:"function"==typeof t?t():t}),o=function(t,e,n){return null===(e=a(e))?null:(t=y("caption",t.table().container()).eq(0),"*"===e?t.css("caption-side")!==n?null:t.length?t.text():"":e)},g=y("<textarea/>")[0],e=function(n,t){var i=y.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return e(t)},footer:function(t){return e(t)},body:function(t){return e(t)}},customizeData:null},t),e=function(t){return"string"!=typeof t||(t=(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),i.stripHtml&&(t=t.replace(/<[^>]*>/g,"")),i.trim&&(t=t.replace(/^\s+|\s+$/g,"")),i.stripNewlines&&(t=t.replace(/\n/g," ")),i.decodeEntities&&(g.innerHTML=t,t=g.value)),t},r=(t=n.columns(i.columns).indexes().map(function(t){var e=n.column(t).header();return i.format.header(e.innerHTML,t,e)}).toArray(),n.table().footer()?n.columns(i.columns).indexes().map(function(t){var e=n.column(t).footer();return i.format.footer(e?e.innerHTML:"",t,e)}).toArray():null),a=y.extend({},i.modifier);n.select&&"function"==typeof n.select.info&&a.selected===p&&n.rows(i.rows,y.extend({selected:!0},a)).any()&&y.extend(a,{selected:!0}),a=n.rows(i.rows,a).indexes().toArray();for(var a=(o=n.cells(a,i.columns)).render(i.orthogonal).toArray(),o=o.nodes().toArray(),s=t.length,l=[],u=0,c=0,d=0<s?a.length/s:0;c<d;c++){for(var h=[s],f=0;f<s;f++)h[f]=i.format.body(a[u],c,f,o[u]),u++;l[c]=h}return t={header:t,footer:r,body:l},i.customizeData&&i.customizeData(t),t};return y.fn.dataTable.Buttons=S,y.fn.DataTable.Buttons=S,y(b).on("init.dt plugin-init.dt",function(t,e){"dt"===t.namespace&&(t=e.oInit.buttons||n.defaults.buttons)&&!e._buttons&&new S(e,t).container()}),n.ext.feature.push({fnInit:t,cFeature:"B"}),n.ext.features&&n.ext.features.register("buttons",t),S}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e(t.bootstrap={},t.jQuery)}(this,function(t,e){"use strict";function N(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,n){e&&N(t.prototype,e),n&&N(t,n)}function a(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);(e="function"==typeof Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})):e).forEach(function(t){var e=i,n=r[t=t];t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return i}ft=e=e&&e.hasOwnProperty("default")?e.default:e,pt="transitionend",gt={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;t=ft(t).css("transition-duration");return parseFloat(t)?(t=t.split(",")[0],1e3*parseFloat(t)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){ft(t).trigger(pt)},supportsTransitionEnd:function(){return Boolean(pt)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],a=e[i],a=a&&gt.isElement(a)?"element":{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+r+'".')}}},ft.fn.emulateTransitionEnd=function(t){var e=this,n=!1;return ft(this).one(gt.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||gt.triggerTransitionEnd(e)},t),this},ft.event.special[gt.TRANSITION_END]={bindType:pt,delegateType:pt,handle:function(t){if(ft(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};for(var i,U,F,j,B,H,o,W,G,q,V,Y,c,z,$,r,K,X,Q,J,Z,d,h,tt,et,l,nt,it,rt,at,ot,st,s,lt,ut,ct,dt,ht,ft,pt,gt,f=gt,u=(u="."+(F="bs.alert"),j=(i=e).fn[U="alert"],B={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},(u=Et.prototype).close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},u.dispose=function(){i.removeData(this._element,F),this._element=null},u._getRootElement=function(t){var e=f.getSelectorFromElement(t),n=!1;return n=(n=e?document.querySelector(e):n)||i(t).closest(".alert")[0]},u._triggerCloseEvent=function(t){var e=i.Event(B.CLOSE);return i(t).trigger(e),e},u._removeElement=function(e){var t,n=this;i(e).removeClass("show"),i(e).hasClass("fade")?(t=f.getTransitionDurationFromElement(e),i(e).one(f.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(t)):this._destroyElement(e)},u._destroyElement=function(t){i(t).detach().trigger(B.CLOSED).remove()},Et._jQueryInterface=function(n){return this.each(function(){var t=i(this),e=t.data(F);e||(e=new Et(this),t.data(F,e)),"close"===n&&e[n](this)})},Et._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},n(Et,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),H=Et,i(document).on(B.CLICK_DATA_API,'[data-dismiss="alert"]',H._handleDismiss(new H)),i.fn[U]=H._jQueryInterface,i.fn[U].Constructor=H,i.fn[U].noConflict=function(){return i.fn[U]=j,H._jQueryInterface},H),mt=(p="."+(G="bs.button"),q=(o=e).fn[W="button"],V="active",yt='[data-toggle^="button"]',p={CLICK_DATA_API:"click"+p+(mt=".data-api"),FOCUS_BLUR_DATA_API:"focus"+p+mt+" blur"+p+mt},(mt=wt.prototype).toggle=function(){var t=!0,e=!0,n=o(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i,r=this._element.querySelector("input");if(r){if("radio"===r.type&&(r.checked&&this._element.classList.contains(V)?t=!1:(i=n.querySelector(".active"))&&o(i).removeClass(V)),t){if(r.hasAttribute("disabled")||n.hasAttribute("disabled")||r.classList.contains("disabled")||n.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(V),o(r).trigger("change")}r.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(V)),t&&o(this._element).toggleClass(V)},mt.dispose=function(){o.removeData(this._element,G),this._element=null},wt._jQueryInterface=function(e){return this.each(function(){var t=o(this).data(G);t||(t=new wt(this),o(this).data(G,t)),"toggle"===e&&t[e]()})},n(wt,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),Y=wt,o(document).on(p.CLICK_DATA_API,yt,function(t){t.preventDefault();t=t.target;o(t).hasClass("btn")||(t=o(t).closest(".btn")),Y._jQueryInterface.call(o(t),"toggle")}).on(p.FOCUS_BLUR_DATA_API,yt,function(t){var e=o(t.target).closest(".btn")[0];o(e).toggleClass("focus",/^focus(in)?$/.test(t.type))}),o.fn[W]=Y._jQueryInterface,o.fn[W].Constructor=Y,o.fn[W].noConflict=function(){return o.fn[W]=q,Y._jQueryInterface},Y),yt=(r="."+($="bs.carousel"),K=(c=e).fn[z="carousel"],X={interval:5e3,keyboard:!0,slide:!".data-api",pause:"hover",wrap:!0},Q={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},J="next",Z="prev",d={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,TOUCHEND:"touchend"+r,LOAD_DATA_API:"load"+r+".data-api",CLICK_DATA_API:"click"+r+".data-api"},h="active",tt=".active.carousel-item",(p=St.prototype).next=function(){this._isSliding||this._slide(J)},p.nextWhenVisible=function(){!document.hidden&&c(this._element).is(":visible")&&"hidden"!==c(this._element).css("visibility")&&this.next()},p.prev=function(){this._isSliding||this._slide(Z)},p.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(f.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},p.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},p.to=function(t){var e=this,n=(this._activeElement=this._element.querySelector(tt),this._getItemIndex(this._activeElement));if(!(t>this._items.length-1||t<0))if(this._isSliding)c(this._element).one(d.SLID,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();this._slide(n<t?J:Z,this._items[t])}},p.dispose=function(){c(this._element).off(r),c.removeData(this._element,$),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},p._getConfig=function(t){return t=a({},X,t),f.typeCheckConfig(z,t,Q),t},p._addEventListeners=function(){var e=this;this._config.keyboard&&c(this._element).on(d.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(c(this._element).on(d.MOUSEENTER,function(t){return e.pause(t)}).on(d.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&c(this._element).on(d.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},p._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},p._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},p._getItemByDirection=function(t,e){var n=t===J,i=t===Z,r=this._getItemIndex(e),a=this._items.length-1;if((i&&0===r||n&&r===a)&&!this._config.wrap)return e;i=(r+(t===Z?-1:1))%this._items.length;return-1==i?this._items[this._items.length-1]:this._items[i]},p._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector(tt)),t=c.Event(d.SLIDE,{relatedTarget:t,direction:e,from:i,to:n});return c(this._element).trigger(t),t},p._setActiveIndicatorElement=function(t){var e;this._indicatorsElement&&(e=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),c(e).removeClass(h),(e=this._indicatorsElement.children[this._getItemIndex(t)])&&c(e).addClass(h))},p._slide=function(t,e){var n,i,r,a=this,o=this._element.querySelector(tt),s=this._getItemIndex(o),l=e||o&&this._getItemByDirection(t,o),e=this._getItemIndex(l),u=Boolean(this._interval),t=t===J?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right");l&&c(l).hasClass(h)?this._isSliding=!1:!this._triggerSlideEvent(l,t).isDefaultPrevented()&&o&&l&&(this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(l),r=c.Event(d.SLID,{relatedTarget:l,direction:t,from:s,to:e}),c(this._element).hasClass("slide")?(c(l).addClass(i),f.reflow(l),c(o).addClass(n),c(l).addClass(n),t=f.getTransitionDurationFromElement(o),c(o).one(f.TRANSITION_END,function(){c(l).removeClass(n+" "+i).addClass(h),c(o).removeClass(h+" "+i+" "+n),a._isSliding=!1,setTimeout(function(){return c(a._element).trigger(r)},0)}).emulateTransitionEnd(t)):(c(o).removeClass(h),c(l).addClass(h),this._isSliding=!1,c(this._element).trigger(r)),u&&this.cycle())},St._jQueryInterface=function(i){return this.each(function(){var t=c(this).data($),e=a({},X,c(this).data()),n=("object"==typeof i&&(e=a({},e,i)),"string"==typeof i?i:e.slide);if(t||(t=new St(this,e),c(this).data($,t)),"number"==typeof i)t.to(i);else if("string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}else e.interval&&(t.pause(),t.cycle())})},St._dataApiClickHandler=function(t){var e,n,i=f.getSelectorFromElement(this);i&&(i=c(i)[0])&&c(i).hasClass("carousel")&&(e=a({},c(i).data(),c(this).data()),(n=this.getAttribute("data-slide-to"))&&(e.interval=!1),St._jQueryInterface.call(c(i),e),n&&c(i).data($).to(n),t.preventDefault())},n(St,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return X}}]),et=St,c(document).on(d.CLICK_DATA_API,"[data-slide], [data-slide-to]",et._dataApiClickHandler),c(window).on(d.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,n=t.length;e<n;e++){var i=c(t[e]);et._jQueryInterface.call(i,i.data())}}),c.fn[z]=et._jQueryInterface,c.fn[z].Constructor=et,c.fn[z].noConflict=function(){return c.fn[z]=K,et._jQueryInterface},et),p=(p="."+(it="bs.collapse"),rt=(l=e).fn[nt="collapse"],at={toggle:!0,parent:""},ot={toggle:"boolean",parent:"(string|element)"},st={SHOW:"show"+p,SHOWN:"shown"+p,HIDE:"hide"+p,HIDDEN:"hidden"+p,CLICK_DATA_API:"click"+p+".data-api"},s="show",lt="collapse",ut="collapsing",ct="collapsed",dt='[data-toggle="collapse"]',(p=g.prototype).toggle=function(){l(this._element).hasClass(s)?this.hide():this.show()},p.show=function(){var t,e,n,i,r=this;this._isTransitioning||l(this._element).hasClass(s)||(t=this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(t){return t.getAttribute("data-parent")===r._config.parent})).length?null:t)&&(i=l(t).not(this._selector).data(it))&&i._isTransitioning||(n=l.Event(st.SHOW),l(this._element).trigger(n),n.isDefaultPrevented()||(t&&(g._jQueryInterface.call(l(t).not(this._selector),"hide"),i||l(t).data(it,null)),e=this._getDimension(),l(this._element).removeClass(lt).addClass(ut),this._element.style[e]=0,this._triggerArray.length&&l(this._triggerArray).removeClass(ct).attr("aria-expanded",!0),this.setTransitioning(!0),n="scroll"+(e[0].toUpperCase()+e.slice(1)),i=f.getTransitionDurationFromElement(this._element),l(this._element).one(f.TRANSITION_END,function(){l(r._element).removeClass(ut).addClass(lt).addClass(s),r._element.style[e]="",r.setTransitioning(!1),l(r._element).trigger(st.SHOWN)}).emulateTransitionEnd(i),this._element.style[e]=this._element[n]+"px"))},p.hide=function(){var t=this;if(!this._isTransitioning&&l(this._element).hasClass(s)){var e=l.Event(st.HIDE);if(l(this._element).trigger(e),!e.isDefaultPrevented()){var e=this._getDimension(),n=(this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",f.reflow(this._element),l(this._element).addClass(ut).removeClass(lt).removeClass(s),this._triggerArray.length);if(0<n)for(var i=0;i<n;i++){var r=this._triggerArray[i],a=f.getSelectorFromElement(r);null===a||l([].slice.call(document.querySelectorAll(a))).hasClass(s)||l(r).addClass(ct).attr("aria-expanded",!1)}this.setTransitioning(!0),this._element.style[e]="";e=f.getTransitionDurationFromElement(this._element);l(this._element).one(f.TRANSITION_END,function(){t.setTransitioning(!1),l(t._element).removeClass(ut).addClass(lt).trigger(st.HIDDEN)}).emulateTransitionEnd(e)}}},p.setTransitioning=function(t){this._isTransitioning=t},p.dispose=function(){l.removeData(this._element,it),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},p._getConfig=function(t){return(t=a({},at,t)).toggle=Boolean(t.toggle),f.typeCheckConfig(nt,t,ot),t},p._getDimension=function(){return l(this._element).hasClass("width")?"width":"height"},p._getParent=function(){var n=this,t=null,e=(f.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent),'[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'),e=[].slice.call(t.querySelectorAll(e));return l(e).each(function(t,e){n._addAriaAndCollapsedClass(g._getTargetFromElement(e),[e])}),t},p._addAriaAndCollapsedClass=function(t,e){t&&(t=l(t).hasClass(s),e.length&&l(e).toggleClass(ct,!t).attr("aria-expanded",t))},g._getTargetFromElement=function(t){t=f.getSelectorFromElement(t);return t?document.querySelector(t):null},g._jQueryInterface=function(i){return this.each(function(){var t=l(this),e=t.data(it),n=a({},at,t.data(),"object"==typeof i&&i?i:{});if(!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||(e=new g(this,n),t.data(it,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},n(g,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return at}}]),ht=g,l(document).on(st.CLICK_DATA_API,dt,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=l(this),t=f.getSelectorFromElement(this),t=[].slice.call(document.querySelectorAll(t));l(t).each(function(){var t=l(this),e=t.data(it)?"toggle":n.data();ht._jQueryInterface.call(t,e)})}),l.fn[nt]=ht._jQueryInterface,l.fn[nt].Constructor=ht,l.fn[nt].noConflict=function(){return l.fn[nt]=rt,ht._jQueryInterface},ht),vt="undefined"!=typeof window&&"undefined"!=typeof document,bt=["Edge","Trident","Firefox"],_t=0,Tt=0;Tt<bt.length;Tt+=1)if(vt&&0<=navigator.userAgent.indexOf(bt[Tt])){_t=1;break}function g(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=l.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(dt)),i=0,r=n.length;i<r;i++){var a=n[i],o=f.getSelectorFromElement(a),s=[].slice.call(document.querySelectorAll(o)).filter(function(t){return t===e});null!==o&&0<s.length&&(this._selector=o,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}function St(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(e),this._element=c(t)[0],this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._addEventListeners()}function wt(t){this._element=t}function Et(t){this._element=t}var Ct=vt&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},_t))}};function kt(t){return t&&"[object Function]"==={}.toString.call(t)}function Dt(t,e){if(1!==t.nodeType)return[];t=getComputedStyle(t,null);return e?t[e]:t}function At(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function xt(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Dt(t),n=e.overflow,i=e.overflowX,e=e.overflowY;return/(auto|scroll|overlay)/.test(n+e+i)?t:xt(At(t))}var Lt=vt&&!(!window.MSInputMethodContext||!document.documentMode),Ot=vt&&/MSIE 10/.test(navigator.userAgent);function It(t){return 11===t?Lt:10!==t&&Lt||Ot}function Rt(t){if(!t)return document.documentElement;for(var e=It(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===Dt(n,"position")?Rt(n):n:(t?t.ownerDocument:document).documentElement}function Pt(t){return null!==t.parentNode?Pt(t.parentNode):t}function Mt(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,n=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(n,0);r=r.commonAncestorContainer;if(t!==r&&e!==r||i.contains(n))return"BODY"===(n=(i=r).nodeName)||"HTML"!==n&&Rt(i.firstElementChild)!==i?Rt(r):r;n=Pt(t);return n.host?Mt(n.host,e):Mt(t,Pt(e).host)}function Nt(t,e){var e="top"===(1<arguments.length&&void 0!==e?e:"top")?"scrollTop":"scrollLeft",n=t.nodeName;return"BODY"===n||"HTML"===n?(n=t.ownerDocument.documentElement,(t.ownerDocument.scrollingElement||n)[e]):t[e]}function Ut(t,e){var e="x"===e?"Left":"Top",n="Left"==e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function Ft(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],It(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function jt(){var t=document.body,e=document.documentElement,n=It(10)&&getComputedStyle(e);return{height:Ft("Height",t,e,n),width:Ft("Width",t,e,n)}}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t,e,n){return e&&Ht(t.prototype,e),n&&Ht(t,n),t},y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function Ht(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t){return y({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Wt(t){var e={};try{It(10)?(e=t.getBoundingClientRect(),i=Nt(t,"top"),r=Nt(t,"left"),e.top+=i,e.left+=r,e.bottom+=i,e.right+=r):e=t.getBoundingClientRect()}catch(t){}var n,i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?jt():{},e=r.width||t.clientWidth||i.right-i.left,r=r.height||t.clientHeight||i.bottom-i.top,e=t.offsetWidth-e,r=t.offsetHeight-r;return(e||r)&&(e-=Ut(n=Dt(t),"x"),r-=Ut(n,"y"),i.width-=e,i.height-=r),v(i)}function Gt(t,e,n){var n=2<arguments.length&&void 0!==n&&n,i=It(10),r="HTML"===e.nodeName,a=Wt(t),o=Wt(e),t=xt(t),s=Dt(e),l=parseFloat(s.borderTopWidth,10),u=parseFloat(s.borderLeftWidth,10),o=(n&&"HTML"===e.nodeName&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0)),v({top:a.top-o.top-l,left:a.left-o.left-u,width:a.width,height:a.height}));return o.marginTop=0,o.marginLeft=0,!i&&r&&(a=parseFloat(s.marginTop,10),r=parseFloat(s.marginLeft,10),o.top-=l-a,o.bottom-=l-a,o.left-=u-r,o.right-=u-r,o.marginTop=a,o.marginLeft=r),o=(i&&!n?e.contains(t):e===t&&"BODY"!==t.nodeName)?function(t,e,n){var n=2<arguments.length&&void 0!==n&&n,i=Nt(e,"top"),e=Nt(e,"left"),n=n?-1:1;return t.top+=i*n,t.bottom+=i*n,t.left+=e*n,t.right+=e*n,t}(o,e):o}function qt(t){if(!t||!t.parentElement||It())return document.documentElement;for(var e=t.parentElement;e&&"none"===Dt(e,"transform");)e=e.parentElement;return e||document.documentElement}function Vt(t,e,n,i,r){var a,r=4<arguments.length&&void 0!==r&&r,o={top:0,left:0},s=r?qt(t):Mt(t,e);return"viewport"===i?o=function(t,e){var e=1<arguments.length&&void 0!==e&&e,n=t.ownerDocument.documentElement,t=Gt(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:Nt(n),e=e?0:Nt(n,"left");return v({top:a-t.top+t.marginTop,left:e-t.left+t.marginLeft,width:i,height:r})}(s,r):(a=void 0,"scrollParent"===i?"BODY"===(a=xt(At(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i,e=Gt(a,s,r),"HTML"!==a.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Dt(e,"position")||t(At(e)))}(s)?o=e:(i=(t=jt()).height,r=t.width,o.top+=e.top-e.marginTop,o.bottom=i+e.top,o.left+=e.left-e.marginLeft,o.right=r+e.left)),o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function Yt(t,e,n,i,r,a){a=5<arguments.length&&void 0!==a?a:0;if(-1===t.indexOf("auto"))return t;var i=Vt(n,i,a,r),o={top:{width:i.width,height:e.top-i.top},right:{width:i.right-e.right,height:i.height},bottom:{width:i.width,height:i.bottom-e.bottom},left:{width:e.left-i.left,height:i.height}},a=Object.keys(o).map(function(t){return y({key:t},o[t],{area:(t=o[t]).width*t.height})}).sort(function(t,e){return e.area-t.area}),r=a.filter(function(t){var e=t.width,t=t.height;return e>=n.clientWidth&&t>=n.clientHeight}),e=(0<r.length?r:a)[0].key,i=t.split("-")[1];return e+(i?"-"+i:"")}function zt(t,e,n,i){i=3<arguments.length&&void 0!==i?i:null;return Gt(n,i?qt(e):Mt(e,n),i)}function $t(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),e=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+e,height:t.offsetHeight+n}}function Kt(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function Xt(t,e,n){n=n.split("-")[0];var t=$t(t),i={width:t.width,height:t.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",o=r?"left":"top",s=r?"height":"width",r=r?"width":"height";return i[a]=e[a]+e[s]/2-t[s]/2,i[o]=n===o?e[o]-t[r]:e[Kt(o)],i}function Qt(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Jt(t,n,e){return(void 0===e?t:t.slice(0,function(t,e){if(Array.prototype.findIndex)return t.findIndex(function(t){return t.name===e});var n=Qt(t,function(t){return t.name===e});return t.indexOf(n)}(t,e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&kt(e)&&(n.offsets.popper=v(n.offsets.popper),n.offsets.reference=v(n.offsets.reference),n=e(n,t))}),n}function Zt(t,n){return t.some(function(t){var e=t.name;return t.enabled&&e===n})}function te(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],r=r?""+r+n:t;if(void 0!==document.body.style[r])return r}return null}function ee(t){t=t.ownerDocument;return t?t.defaultView:window}function ne(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function ie(n,i){Object.keys(i).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&ne(i[t])&&(e="px"),n.style[t]=i[t]+e})}function re(t,e,n){var i,r=Qt(t,function(t){return t.name===e}),t=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});return t||(i="`"+e+"`",console.warn("`"+n+"`"+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")),t}var b=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ae=b.slice(3);function oe(t,e){e=1<arguments.length&&void 0!==e&&e,t=ae.indexOf(t),t=ae.slice(t+1).concat(ae.slice(0,t));return e?t.reverse():t}function se(t,s,l,e){var r=[0,0],i=-1!==["right","left"].indexOf(e),e=t.split(/(\+|\-)/).map(function(t){return t.trim()}),t=e.indexOf(Qt(e,function(t){return-1!==t.search(/,|\s/)})),n=(e[t]&&-1===e[t].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),/\s*,\s*|\s+/);return(-1!==t?[e.slice(0,t).concat([e[t].split(n)[0]]),[e[t].split(n)[1]].concat(e.slice(t+1))]:[e]).map(function(t,e){var o=(1===e?!i:i)?"height":"width",n=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,n=!0,t):n?(t[t.length-1]+=e,n=!1,t):t.concat(e)},[]).map(function(t){return e=o,n=s,i=l,r=(t=t).match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],r=r[2],a?0===r.indexOf("%")?v("%p"===r?n:i)[e]/100*a:"vh"===r||"vw"===r?("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a:a:t;var e,n,i,r,a})}).forEach(function(n,i){n.forEach(function(t,e){ne(t)&&(r[i]+=t*("-"===n[e-1]?-1:1))})}),r}var le={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e,n,i,r=t.placement,a=r.split("-")[0],r=r.split("-")[1];return r&&(e=(n=t.offsets).reference,n=n.popper,i=(a=-1!==["bottom","top"].indexOf(a))?"width":"height",a={start:Bt({},a=a?"left":"top",e[a]),end:Bt({},a,e[a]+e[i]-n[i])},t.offsets.popper=y({},n,a[r])),t}},offset:{order:200,enabled:!0,fn:function(t,e){var e=e.offset,n=t.placement,i=t.offsets,r=i.popper,i=i.reference,n=n.split("-")[0],e=ne(+e)?[+e,0]:se(e,r,i,n);return"left"===n?(r.top+=e[0],r.left-=e[1]):"right"===n?(r.top+=e[0],r.left+=e[1]):"top"===n?(r.left+=e[0],r.top-=e[1]):"bottom"===n&&(r.left+=e[0],r.top+=e[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,i){var e=i.boundariesElement||Rt(t.instance.popper),n=(t.instance.reference===e&&(e=Rt(e)),te("transform")),r=t.instance.popper.style,a=r.top,o=r.left,s=r[n],l=(r.top="",r.left="",r[n]="",Vt(t.instance.popper,t.instance.reference,i.padding,e,t.positionFixed)),e=(r.top=a,r.left=o,r[n]=s,i.boundaries=l,i.priority),u=t.offsets.popper,c={primary:function(t){var e=u[t];return u[t]<l[t]&&!i.escapeWithReference&&(e=Math.max(u[t],l[t])),Bt({},t,e)},secondary:function(t){var e="right"===t?"left":"top",n=u[e];return u[t]>l[t]&&!i.escapeWithReference&&(n=Math.min(u[e],l[t]-("right"===t?u.width:u.height))),Bt({},e,n)}};return e.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=y({},u,c[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,e=e.reference,i=t.placement.split("-")[0],r=Math.floor,i=-1!==["top","bottom"].indexOf(i),a=i?"right":"bottom",o=i?"left":"top",i=i?"width":"height";return n[a]<r(e[o])&&(t.offsets.popper[o]=r(e[o])-n[i]),n[o]>r(e[a])&&(t.offsets.popper[o]=r(e[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){if(!re(t.instance.modifiers,"arrow","keepTogether"))return t;e=e.element;if("string"==typeof e){if(!(e=t.instance.popper.querySelector(e)))return t}else if(!t.instance.popper.contains(e))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var n=t.placement.split("-")[0],i=t.offsets,r=i.popper,i=i.reference,n=-1!==["left","right"].indexOf(n),a=n?"height":"width",o=n?"Top":"Left",s=o.toLowerCase(),l=n?"left":"top",n=n?"bottom":"right",u=$t(e)[a],n=(i[n]-u<r[s]&&(t.offsets.popper[s]-=r[s]-(i[n]-u)),i[s]+u>r[n]&&(t.offsets.popper[s]+=i[s]+u-r[n]),t.offsets.popper=v(t.offsets.popper),i[s]+i[a]/2-u/2),i=Dt(t.instance.popper),c=parseFloat(i["margin"+o],10),i=parseFloat(i["border"+o+"Width"],10),o=n-t.offsets.popper[s]-c-i,o=Math.max(Math.min(r[a]-u,o),0);return t.arrowElement=e,t.offsets.arrow=(Bt(n={},s,Math.round(o)),Bt(n,l,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(l,u){if(Zt(l.instance.modifiers,"inner"))return l;if(l.flipped&&l.placement===l.originalPlacement)return l;var c=Vt(l.instance.popper,l.instance.reference,u.padding,u.boundariesElement,l.positionFixed),d=l.placement.split("-")[0],h=Kt(d),f=l.placement.split("-")[1]||"",p=[];switch(u.behavior){case"flip":p=[d,h];break;case"clockwise":p=oe(d);break;case"counterclockwise":p=oe(d,!0);break;default:p=u.behavior}return p.forEach(function(t,e){if(d!==t||p.length===e+1)return l;d=l.placement.split("-")[0],h=Kt(d);var t=l.offsets.popper,n=l.offsets.reference,i=Math.floor,n="left"===d&&i(t.right)>i(n.left)||"right"===d&&i(t.left)<i(n.right)||"top"===d&&i(t.bottom)>i(n.top)||"bottom"===d&&i(t.top)<i(n.bottom),r=i(t.left)<i(c.left),a=i(t.right)>i(c.right),o=i(t.top)<i(c.top),t=i(t.bottom)>i(c.bottom),i="left"===d&&r||"right"===d&&a||"top"===d&&o||"bottom"===d&&t,s=-1!==["top","bottom"].indexOf(d),r=!!u.flipVariations&&(s&&"start"===f&&r||s&&"end"===f&&a||!s&&"start"===f&&o||!s&&"end"===f&&t);(n||i||r)&&(l.flipped=!0,(n||i)&&(d=p[e+1]),r&&(f="end"===f?"start":"start"===f?"end":f),l.placement=d+(f?"-"+f:""),l.offsets.popper=y({},l.offsets.popper,Xt(l.instance.popper,l.offsets.reference,l.placement)),l=Jt(l.instance.modifiers,l,"flip"))}),l},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,i=i.reference,a=-1!==["left","right"].indexOf(n),o=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=i[n]-(o?r[a?"width":"height"]:0),t.placement=Kt(e),t.offsets.popper=v(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!re(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Qt(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,a=Qt(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration,a=(void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!"),void 0!==a?a:e.gpuAcceleration),e=Wt(Rt(t.instance.popper)),o={position:r.position},r={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},n="bottom"===n?"top":"bottom",i="right"===i?"left":"right",s=te("transform"),l="bottom"==n?-e.height+r.bottom:r.top,e="right"==i?-e.width+r.right:r.left,a=(a&&s?(o[s]="translate3d("+e+"px, "+l+"px, 0)",o[n]=0,o[i]=0,o.willChange="transform"):(r="right"==i?-1:1,o[n]=l*("bottom"==n?-1:1),o[i]=e*r,o.willChange=n+", "+i),{"x-placement":t.placement});return t.attributes=y({},a,t.attributes),t.styles=y({},o,t.styles),t.arrowStyles=y({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return ie(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&ie(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){r=zt(r,e,t,n.positionFixed),r=Yt(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",r),ie(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ue=(m(ce,[{key:"update",value:function(){return function(){var t;this.state.isDestroyed||((t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=zt(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Yt(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Xt(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Jt(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Zt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[te("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){var t,e,n;this.state.eventsEnabled||(this.state=(t=this.reference,this.options,e=this.state,n=this.scheduleUpdate,e.updateBound=n,ee(t).addEventListener("resize",e.updateBound,{passive:!0}),function t(e,n,i,r){var a="BODY"===e.nodeName,e=a?e.ownerDocument.defaultView:e;e.addEventListener(n,i,{passive:!0}),a||t(xt(e.parentNode),n,i,r),r.push(e)}(n=xt(t),"scroll",e.updateBound,e.scrollParents),e.scrollElement=n,e.eventsEnabled=!0,e))}.call(this)}},{key:"disableEventListeners",value:function(){return function(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,ee(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}.call(this)}}]),ce);function ce(t,e){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this;if(!(r instanceof ce))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=Ct(this.update.bind(this)),this.options=y({},ce.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(y({},ce.Defaults.modifiers,i.modifiers)).forEach(function(t){n.options.modifiers[t]=y({},ce.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return y({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&kt(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}ue.Utils=("undefined"!=typeof window?window:global).PopperUtils,ue.placements=b,ue.Defaults=le;T="."+(he="bs.dropdown"),m=".data-api",fe=(_=e).fn[de="dropdown"],pe=new RegExp("38|40|27"),S={HIDE:"hide"+T,HIDDEN:"hidden"+T,SHOW:"show"+T,SHOWN:"shown"+T,CLICK:"click"+T,CLICK_DATA_API:"click"+T+m,KEYDOWN_DATA_API:"keydown"+T+m,KEYUP_DATA_API:"keyup"+T+m},ge="show",me="dropdown-menu-right",ye='[data-toggle="dropdown"]',ve=".dropdown-menu",be={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},_e={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},(b=M.prototype).toggle=function(){if(!this._element.disabled&&!_(this._element).hasClass("disabled")){var t=M._getParentFromElement(this._element),e=_(this._menu).hasClass(ge);if(M._clearMenus(),!e){var e={relatedTarget:this._element},n=_.Event(S.SHOW,e);if(_(t).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar){if(void 0===ue)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");n=this._element;"parent"===this._config.reference?n=t:f.isElement(this._config.reference)&&(n=this._config.reference,void 0!==this._config.reference.jquery&&(n=this._config.reference[0])),"scrollParent"!==this._config.boundary&&_(t).addClass("position-static"),this._popper=new ue(n,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===_(t).closest(".navbar-nav").length&&_(document.body).children().on("mouseover",null,_.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),_(this._menu).toggleClass(ge),_(t).toggleClass(ge).trigger(_.Event(S.SHOWN,e))}}}},b.dispose=function(){_.removeData(this._element,he),_(this._element).off(T),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},b.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},b._addEventListeners=function(){var e=this;_(this._element).on(S.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},b._getConfig=function(t){return t=a({},this.constructor.Default,_(this._element).data(),t),f.typeCheckConfig(de,t,this.constructor.DefaultType),t},b._getMenuElement=function(){var t;return this._menu||(t=M._getParentFromElement(this._element))&&(this._menu=t.querySelector(ve)),this._menu},b._getPlacement=function(){var t=_(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?(e="top-start",_(this._menu).hasClass(me)&&(e="top-end")):t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":_(this._menu).hasClass(me)&&(e="bottom-end"),e},b._detectNavbar=function(){return 0<_(this._element).closest(".navbar").length},b._getPopperConfig=function(){var e=this,t={},t=("function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}});return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},M._jQueryInterface=function(e){return this.each(function(){var t=_(this).data(he);if(t||(t=new M(this,"object"==typeof e?e:null),_(this).data(he,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},M._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(ye)),n=0,i=e.length;n<i;n++){var r,a=M._getParentFromElement(e[n]),o=_(e[n]).data(he),s={relatedTarget:e[n]};t&&"click"===t.type&&(s.clickEvent=t),o&&(o=o._menu,!_(a).hasClass(ge)||t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&_.contains(a,t.target)||(r=_.Event(S.HIDE,s),_(a).trigger(r),r.isDefaultPrevented()||("ontouchstart"in document.documentElement&&_(document.body).children().off("mouseover",null,_.noop),e[n].setAttribute("aria-expanded","false"),_(o).removeClass(ge),_(a).removeClass(ge).trigger(_.Event(S.HIDDEN,s)))))}},M._getParentFromElement=function(t){var e,n=f.getSelectorFromElement(t);return(e=n?document.querySelector(n):e)||t.parentNode},M._dataApiKeydownHandler=function(t){var e,n,i;(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||_(t.target).closest(ve).length):!pe.test(t.which))||(t.preventDefault(),t.stopPropagation(),this.disabled||_(this).hasClass("disabled"))||(e=M._getParentFromElement(this),((i=_(e).hasClass(ge))||27===t.which&&32===t.which)&&(!i||27!==t.which&&32!==t.which)?0!==(i=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"))).length&&(n=i.indexOf(t.target),38===t.which&&0<n&&n--,40===t.which&&n<i.length-1&&n++,i[n=n<0?0:n].focus()):(27===t.which&&(i=e.querySelector(ye),_(i).trigger("focus")),_(this).trigger("click")))},n(M,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return be}},{key:"DefaultType",get:function(){return _e}}]),w=M,_(document).on(S.KEYDOWN_DATA_API,ye,w._dataApiKeydownHandler).on(S.KEYDOWN_DATA_API,ve,w._dataApiKeydownHandler).on(S.CLICK_DATA_API+" "+S.KEYUP_DATA_API,w._clearMenus).on(S.CLICK_DATA_API,ye,function(t){t.preventDefault(),t.stopPropagation(),w._jQueryInterface.call(_(this),"toggle")}).on(S.CLICK_DATA_API,".dropdown form",function(t){t.stopPropagation()}),_.fn[de]=w._jQueryInterface,_.fn[de].Constructor=w,_.fn[de].noConflict=function(){return _.fn[de]=fe,w._jQueryInterface};var _,de,he,T,fe,pe,S,ge,me,ye,ve,be,_e,w,E,Te,Se,C,we,Ee,Ce,k,ke,De,Ae,xe,Le,Oe,D,Ie,Re,A,Pe,Me,Ne,Ue,Fe,je,Be,He,We,Ge,qe,Ve,x,Ye,ze,L,$e,Ke,Xe,Qe,Je,Ze,tn,O,en,nn,rn,an,on,sn,ln,un,cn,dn,hn,fn,I,pn,gn,mn,yn,vn,bn,_n,le=w,b=(C="."+(Se="bs.modal"),we=(E=e).fn[Te="modal"],Ee={backdrop:!0,keyboard:!0,focus:!0,show:!0},Ce={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},k={HIDE:"hide"+C,HIDDEN:"hidden"+C,SHOW:"show"+C,SHOWN:"shown"+C,FOCUSIN:"focusin"+C,RESIZE:"resize"+C,CLICK_DISMISS:"click.dismiss"+C,KEYDOWN_DISMISS:"keydown.dismiss"+C,MOUSEUP_DISMISS:"mouseup.dismiss"+C,MOUSEDOWN_DISMISS:"mousedown.dismiss"+C,CLICK_DATA_API:"click"+C+".data-api"},ke="modal-open",De="fade",Ae="show",xe=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Le=".sticky-top",(m=kn.prototype).toggle=function(t){return this._isShown?this.hide():this.show(t)},m.show=function(t){var e,n=this;this._isTransitioning||this._isShown||(E(this._element).hasClass(De)&&(this._isTransitioning=!0),e=E.Event(k.SHOW,{relatedTarget:t}),E(this._element).trigger(e),this._isShown||e.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),E(document.body).addClass(ke),this._setEscapeEvent(),this._setResizeEvent(),E(this._element).on(k.CLICK_DISMISS,'[data-dismiss="modal"]',function(t){return n.hide(t)}),E(this._dialog).on(k.MOUSEDOWN_DISMISS,function(){E(n._element).one(k.MOUSEUP_DISMISS,function(t){E(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)})))},m.hide=function(t){var e=this;t&&t.preventDefault(),!this._isTransitioning&&this._isShown&&(t=E.Event(k.HIDE),E(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented()&&(this._isShown=!1,(t=E(this._element).hasClass(De))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),E(document).off(k.FOCUSIN),E(this._element).removeClass(Ae),E(this._element).off(k.CLICK_DISMISS),E(this._dialog).off(k.MOUSEDOWN_DISMISS),t?(t=f.getTransitionDurationFromElement(this._element),E(this._element).one(f.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(t)):this._hideModal()))},m.dispose=function(){E.removeData(this._element,Se),E(window,document,this._element,this._backdrop).off(C),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},m.handleUpdate=function(){this._adjustDialog()},m._getConfig=function(t){return t=a({},Ee,t),f.typeCheckConfig(Te,t,Ce),t},m._showElement=function(t){function e(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,E(n._element).trigger(r)}var n=this,i=E(this._element).hasClass(De),r=(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&f.reflow(this._element),E(this._element).addClass(Ae),this._config.focus&&this._enforceFocus(),E.Event(k.SHOWN,{relatedTarget:t}));i?(t=f.getTransitionDurationFromElement(this._element),E(this._dialog).one(f.TRANSITION_END,e).emulateTransitionEnd(t)):e()},m._enforceFocus=function(){var e=this;E(document).off(k.FOCUSIN).on(k.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===E(e._element).has(t.target).length&&e._element.focus()})},m._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?E(this._element).on(k.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||E(this._element).off(k.KEYDOWN_DISMISS)},m._setResizeEvent=function(){var e=this;this._isShown?E(window).on(k.RESIZE,function(t){return e.handleUpdate(t)}):E(window).off(k.RESIZE)},m._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){E(document.body).removeClass(ke),t._resetAdjustments(),t._resetScrollbar(),E(t._element).trigger(k.HIDDEN)})},m._removeBackdrop=function(){this._backdrop&&(E(this._backdrop).remove(),this._backdrop=null)},m._showBackdrop=function(t){var e,n=this,i=E(this._element).hasClass(De)?De:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),E(this._backdrop).appendTo(document.body),E(this._element).on(k.CLICK_DISMISS,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&f.reflow(this._backdrop),E(this._backdrop).addClass(Ae),t&&(i?(i=f.getTransitionDurationFromElement(this._backdrop),E(this._backdrop).one(f.TRANSITION_END,t).emulateTransitionEnd(i)):t())):!this._isShown&&this._backdrop?(E(this._backdrop).removeClass(Ae),i=function(){n._removeBackdrop(),t&&t()},E(this._element).hasClass(De)?(e=f.getTransitionDurationFromElement(this._backdrop),E(this._backdrop).one(f.TRANSITION_END,i).emulateTransitionEnd(e)):i()):t&&t()},m._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},m._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},m._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},m._setScrollbar=function(){var t,e,r=this;this._isBodyOverflowing&&(t=[].slice.call(document.querySelectorAll(xe)),e=[].slice.call(document.querySelectorAll(Le)),E(t).each(function(t,e){var n=e.style.paddingRight,i=E(e).css("padding-right");E(e).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")}),E(e).each(function(t,e){var n=e.style.marginRight,i=E(e).css("margin-right");E(e).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")}),t=document.body.style.paddingRight,e=E(document.body).css("padding-right"),E(document.body).data("padding-right",t).css("padding-right",parseFloat(e)+this._scrollbarWidth+"px"))},m._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(xe)),t=(E(t).each(function(t,e){var n=E(e).data("padding-right");E(e).removeData("padding-right"),e.style.paddingRight=n||""}),[].slice.call(document.querySelectorAll(Le))),t=(E(t).each(function(t,e){var n=E(e).data("margin-right");void 0!==n&&E(e).css("margin-right",n).removeData("margin-right")}),E(document.body).data("padding-right"));E(document.body).removeData("padding-right"),document.body.style.paddingRight=t||""},m._getScrollbarWidth=function(){var t=document.createElement("div"),e=(t.className="modal-scrollbar-measure",document.body.appendChild(t),t.getBoundingClientRect().width-t.clientWidth);return document.body.removeChild(t),e},kn._jQueryInterface=function(n,i){return this.each(function(){var t=E(this).data(Se),e=a({},Ee,E(this).data(),"object"==typeof n&&n?n:{});if(t||(t=new kn(this,e),E(this).data(Se,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](i)}else e.show&&t.show(i)})},n(kn,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Ee}}]),Oe=kn,E(document).on(k.CLICK_DATA_API,'[data-toggle="modal"]',function(t){var e,n=this,i=f.getSelectorFromElement(this),i=(i&&(e=document.querySelector(i)),E(e).data(Se)?"toggle":a({},E(e).data(),E(this).data())),r=("A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),E(e).one(k.SHOW,function(t){t.isDefaultPrevented()||r.one(k.HIDDEN,function(){E(n).is(":visible")&&n.focus()})}));Oe._jQueryInterface.call(E(e),i,this)}),E.fn[Te]=Oe._jQueryInterface,E.fn[Te].Constructor=Oe,E.fn[Te].noConflict=function(){return E.fn[Te]=we,Oe._jQueryInterface},Oe),m=(A="."+(Re="bs.tooltip"),Pe=(D=e).fn[Ie="tooltip"],Me="bs-tooltip",Ne=new RegExp("(^|\\s)"+Me+"\\S+","g"),je={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(Fe={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(Ue={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},He={HIDE:"hide"+A,HIDDEN:"hidden"+A,SHOW:(Be="show")+A,SHOWN:"shown"+A,INSERTED:"inserted"+A,CLICK:"click"+A,FOCUSIN:"focusin"+A,FOCUSOUT:"focusout"+A,MOUSEENTER:"mouseenter"+A,MOUSELEAVE:"mouseleave"+A},We="fade",Ge="show",qe="hover",(m=Cn.prototype).enable=function(){this._isEnabled=!0},m.disable=function(){this._isEnabled=!1},m.toggleEnabled=function(){this._isEnabled=!this._isEnabled},m.toggle=function(t){var e,n;this._isEnabled&&(t?(e=this.constructor.DATA_KEY,(n=D(t.currentTarget).data(e))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),D(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)):D(this.getTipElement()).hasClass(Ge)?this._leave(null,this):this._enter(null,this))},m.dispose=function(){clearTimeout(this._timeout),D.removeData(this.element,this.constructor.DATA_KEY),D(this.element).off(this.constructor.EVENT_KEY),D(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&D(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},m.show=function(){var e=this;if("none"===D(this.element).css("display"))throw new Error("Please use show on visible elements");var t,n,i=D.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(D(this.element).trigger(i),n=D.contains(this.element.ownerDocument.documentElement,this.element),!i.isDefaultPrevented()&&n&&(i=this.getTipElement(),n=f.getUID(this.constructor.NAME),i.setAttribute("id",n),this.element.setAttribute("aria-describedby",n),this.setContent(),this.config.animation&&D(i).addClass(We),n="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,n=this._getAttachment(n),this.addAttachmentClass(n),t=!1===this.config.container?document.body:D(document).find(this.config.container),D(i).data(this.constructor.DATA_KEY,this),D.contains(this.element.ownerDocument.documentElement,this.tip)||D(i).appendTo(t),D(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new ue(this.element,i,{placement:n,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),D(i).addClass(Ge),"ontouchstart"in document.documentElement&&D(document.body).children().on("mouseover",null,D.noop),t=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,D(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)},D(this.tip).hasClass(We)?(n=f.getTransitionDurationFromElement(this.tip),D(this.tip).one(f.TRANSITION_END,t).emulateTransitionEnd(n)):t()))},m.hide=function(t){function e(){n._hoverState!==Be&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),D(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()}var n=this,i=this.getTipElement(),r=D.Event(this.constructor.Event.HIDE);D(this.element).trigger(r),r.isDefaultPrevented()||(D(i).removeClass(Ge),"ontouchstart"in document.documentElement&&D(document.body).children().off("mouseover",null,D.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger[qe]=!1,D(this.tip).hasClass(We)?(r=f.getTransitionDurationFromElement(i),D(i).one(f.TRANSITION_END,e).emulateTransitionEnd(r)):e(),this._hoverState="")},m.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},m.isWithContent=function(){return Boolean(this.getTitle())},m.addAttachmentClass=function(t){D(this.getTipElement()).addClass(Me+"-"+t)},m.getTipElement=function(){return this.tip=this.tip||D(this.config.template)[0],this.tip},m.setContent=function(){var t=this.getTipElement();this.setElementContent(D(t.querySelectorAll(".tooltip-inner")),this.getTitle()),D(t).removeClass("fade show")},m.setElementContent=function(t,e){var n=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?n?D(e).parent().is(t)||t.empty().append(e):t.text(D(e).text()):t[n?"html":"text"](e)},m.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},m._getAttachment=function(t){return Fe[t.toUpperCase()]},m._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(t){var e;"click"===t?D(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)}):"manual"!==t&&(e=t===qe?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,t=t===qe?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT,D(n.element).on(e,n.config.selector,function(t){return n._enter(t)}).on(t,n.config.selector,function(t){return n._leave(t)})),D(n.element).closest(".modal").on("hide.bs.modal",function(){return n.hide()})}),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},m._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==t||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},m._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||D(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),D(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":qe]=!0),D(e.getTipElement()).hasClass(Ge)||e._hoverState===Be?e._hoverState=Be:(clearTimeout(e._timeout),e._hoverState=Be,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===Be&&e.show()},e.config.delay.show):e.show())},m._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||D(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),D(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":qe]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())},m._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},m._getConfig=function(t){return"number"==typeof(t=a({},this.constructor.Default,D(this.element).data(),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),f.typeCheckConfig(Ie,t,this.constructor.DefaultType),t},m._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},m._cleanTipClass=function(){var t=D(this.getTipElement()),e=t.attr("class").match(Ne);null!==e&&e.length&&t.removeClass(e.join(""))},m._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},m._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(D(t).removeClass(We),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},Cn._jQueryInterface=function(n){return this.each(function(){var t=D(this).data(Re),e="object"==typeof n&&n;if((t||!/dispose|hide/.test(n))&&(t||(t=new Cn(this,e),D(this).data(Re,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},n(Cn,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return je}},{key:"NAME",get:function(){return Ie}},{key:"DATA_KEY",get:function(){return Re}},{key:"Event",get:function(){return He}},{key:"EVENT_KEY",get:function(){return A}},{key:"DefaultType",get:function(){return Ue}}]),D.fn[Ie]=(Ve=Cn)._jQueryInterface,D.fn[Ie].Constructor=Ve,D.fn[Ie].noConflict=function(){return D.fn[Ie]=Pe,Ve._jQueryInterface},Ve),Tn=(L="."+(ze="bs.popover"),$e=(x=e).fn[Ye="popover"],Ke="bs-popover",Xe=new RegExp("(^|\\s)"+Ke+"\\S+","g"),Qe=a({},m.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Je=a({},m.DefaultType,{content:"(string|element|function)"}),Ze={HIDE:"hide"+L,HIDDEN:"hidden"+L,SHOW:"show"+L,SHOWN:"shown"+L,INSERTED:"inserted"+L,CLICK:"click"+L,FOCUSIN:"focusin"+L,FOCUSOUT:"focusout"+L,MOUSEENTER:"mouseenter"+L,MOUSELEAVE:"mouseleave"+L},Tn=_n=m,(R=En).prototype=Object.create(Tn.prototype),(R.prototype.constructor=R).__proto__=Tn,(R=En.prototype).isWithContent=function(){return this.getTitle()||this._getContent()},R.addAttachmentClass=function(t){x(this.getTipElement()).addClass(Ke+"-"+t)},R.getTipElement=function(){return this.tip=this.tip||x(this.config.template)[0],this.tip},R.setContent=function(){var t=x(this.getTipElement()),e=(this.setElementContent(t.find(".popover-header"),this.getTitle()),this._getContent());"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},R._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},R._cleanTipClass=function(){var t=x(this.getTipElement()),e=t.attr("class").match(Xe);null!==e&&0<e.length&&t.removeClass(e.join(""))},En._jQueryInterface=function(n){return this.each(function(){var t=x(this).data(ze),e="object"==typeof n?n:null;if((t||!/destroy|hide/.test(n))&&(t||(t=new En(this,e),x(this).data(ze,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},n(En,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Qe}},{key:"NAME",get:function(){return Ye}},{key:"DATA_KEY",get:function(){return ze}},{key:"Event",get:function(){return Ze}},{key:"EVENT_KEY",get:function(){return L}},{key:"DefaultType",get:function(){return Je}}]),x.fn[Ye]=(tn=En)._jQueryInterface,x.fn[Ye].Constructor=tn,x.fn[Ye].noConflict=function(){return x.fn[Ye]=$e,tn._jQueryInterface},tn),R=(rn="."+(nn="bs.scrollspy"),an=(O=e).fn[en="scrollspy"],on={offset:10,method:"auto",target:""},sn={offset:"number",method:"string",target:"(string|element)"},ln={ACTIVATE:"activate"+rn,SCROLL:"scroll"+rn,LOAD_DATA_API:"load"+rn+".data-api"},un="active",cn=".nav, .list-group",dn=".nav-link",hn=".list-group-item",(R=wn.prototype).refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?t:this._config.method,r="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,t=f.getSelectorFromElement(t);if(e=t?document.querySelector(t):e){var n=e.getBoundingClientRect();if(n.width||n.height)return[O(e)[i]().top+r,t]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},R.dispose=function(){O.removeData(this._element,nn),O(this._scrollElement).off(rn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},R._getConfig=function(t){var e;return"string"!=typeof(t=a({},on,"object"==typeof t&&t?t:{})).target&&((e=O(t.target).attr("id"))||(e=f.getUID(en),O(t.target).attr("id",e)),t.target="#"+e),f.typeCheckConfig(en,t,sn),t},R._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},R._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},R._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},R._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),n<=t){e=this._targets[this._targets.length-1];this._activeTarget!==e&&this._activate(e)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}},R._activate=function(e){this._activeTarget=e,this._clear();var t=(t=this._selector.split(",")).map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),t=O([].slice.call(document.querySelectorAll(t.join(","))));t.hasClass("dropdown-item")?(t.closest(".dropdown").find(".dropdown-toggle").addClass(un),t.addClass(un)):(t.addClass(un),t.parents(cn).prev(dn+", "+hn).addClass(un),t.parents(cn).prev(".nav-item").children(dn).addClass(un)),O(this._scrollElement).trigger(ln.ACTIVATE,{relatedTarget:e})},R._clear=function(){var t=[].slice.call(document.querySelectorAll(this._selector));O(t).filter(".active").removeClass(un)},wn._jQueryInterface=function(e){return this.each(function(){var t=O(this).data(nn);if(t||(t=new wn(this,"object"==typeof e&&e),O(this).data(nn,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},n(wn,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return on}}]),fn=wn,O(window).on(ln.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var n=O(t[e]);fn._jQueryInterface.call(n,n.data())}}),O.fn[en]=fn._jQueryInterface,O.fn[en].Constructor=fn,O.fn[en].noConflict=function(){return O.fn[en]=an,fn._jQueryInterface},fn),P=(P="."+(pn="bs.tab"),gn=(I=e).fn.tab,mn={HIDE:"hide"+P,HIDDEN:"hidden"+P,SHOW:"show"+P,SHOWN:"shown"+P,CLICK_DATA_API:"click"+P+".data-api"},yn="active",vn="> li > .active",(P=Sn.prototype).show=function(){var t,e,n,i,r,a,o=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&I(this._element).hasClass(yn)||I(this._element).hasClass("disabled")||(e=I(this._element).closest(".nav, .list-group")[0],n=f.getSelectorFromElement(this._element),e&&(r="UL"===e.nodeName?vn:".active",i=(i=I.makeArray(I(e).find(r)))[i.length-1]),r=I.Event(mn.HIDE,{relatedTarget:this._element}),a=I.Event(mn.SHOW,{relatedTarget:i}),i&&I(i).trigger(r),I(this._element).trigger(a),a.isDefaultPrevented()||r.isDefaultPrevented()||(n&&(t=document.querySelector(n)),this._activate(this._element,e),a=function(){var t=I.Event(mn.HIDDEN,{relatedTarget:o._element}),e=I.Event(mn.SHOWN,{relatedTarget:i});I(i).trigger(t),I(o._element).trigger(e)},t?this._activate(t,t.parentNode,a):a()))},P.dispose=function(){I.removeData(this._element,pn),this._element=null},P._activate=function(t,e,n){function i(){return r._transitionComplete(t,a,n)}var r=this,a=("UL"===e.nodeName?I(e).find(vn):I(e).children(".active"))[0],e=n&&a&&I(a).hasClass("fade");a&&e?(e=f.getTransitionDurationFromElement(a),I(a).one(f.TRANSITION_END,i).emulateTransitionEnd(e)):i()},P._transitionComplete=function(t,e,n){var i;e&&(I(e).removeClass("show "+yn),(i=I(e.parentNode).find("> .dropdown-menu .active")[0])&&I(i).removeClass(yn),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)),I(t).addClass(yn),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),f.reflow(t),I(t).addClass("show"),t.parentNode&&I(t.parentNode).hasClass("dropdown-menu")&&((i=I(t).closest(".dropdown")[0])&&(e=[].slice.call(i.querySelectorAll(".dropdown-toggle")),I(e).addClass(yn)),t.setAttribute("aria-expanded",!0)),n&&n()},Sn._jQueryInterface=function(n){return this.each(function(){var t=I(this),e=t.data(pn);if(e||(e=new Sn(this),t.data(pn,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},n(Sn,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),bn=Sn,I(document).on(mn.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),bn._jQueryInterface.call(I(this),"show")}),I.fn.tab=bn._jQueryInterface,I.fn.tab.Constructor=bn,I.fn.tab.noConflict=function(){return I.fn.tab=gn,bn._jQueryInterface},bn);function Sn(t){this._element=t}function wn(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+dn+","+this._config.target+" "+hn+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,O(this._scrollElement).on(ln.SCROLL,function(t){return n._process(t)}),this.refresh(),this._process()}function En(){return _n.apply(this,arguments)||this}function Cn(t,e){if(void 0===ue)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}function kn(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}function M(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");if((e=e.fn.jquery.split(" ")[0].split("."))[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");t.Util=f,t.Alert=u,t.Button=mt,t.Carousel=yt,t.Collapse=p,t.Dropdown=le,t.Modal=b,t.Popover=Tn,t.Scrollspy=R,t.Tab=P,t.Tooltip=m,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var N;function f(){return N.apply(null,arguments)}function l(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function U(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function F(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function j(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function B(t,e){for(var n=[],i=0;i<t.length;++i)n.push(e(t[i],i));return n}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return Ae(t,e,n,i,!0).utc()}function g(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function H(t){if(null==t._isValid){var e=g(t),n=G.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function W(t){var e=u(NaN);return null!=t?s(g(e),t):g(e).userInvalidated=!0,e}var G=Array.prototype.some||function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},q=f.momentProperties=[];function V(t,e){var n,i,r;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=g(e)),a(e._locale)||(t._locale=e._locale),0<q.length)for(n=0;n<q.length;n++)a(r=e[i=q[n]])||(t[i]=r);return t}var Y=!1;function z(t){V(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Y&&(Y=!0,f.updateOffset(this),Y=!1)}function o(t){return t instanceof z||null!=t&&null!=t._isAMomentObject}function c(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function d(t){var t=+t,e=0;return e=0!=t&&isFinite(t)?c(t):e}function $(t,e,n){for(var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0,o=0;o<i;o++)(n&&t[o]!==e[o]||!n&&d(t[o])!==d(e[o]))&&a++;return a+r}function K(t){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function t(r,a){var o=!0;return s(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,r),o){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}K(r+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var X={};function Q(t,e){null!=f.deprecationHandler&&f.deprecationHandler(t,e),X[t]||(K(e),X[t]=!0)}function h(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function J(t,e){var n,i=s({},t);for(n in e)p(e,n)&&(U(t[n])&&U(e[n])?(i[n]={},s(i[n],t[n]),s(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)p(t,n)&&!p(e,n)&&U(t[n])&&(i[n]=s({},i[n]));return i}function Z(t){null!=t&&this.set(t)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var tt=Object.keys||function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n},et={};function e(t,e){var n=t.toLowerCase();et[n]=et[n+"s"]=et[e]=t}function m(t){return"string"==typeof t?et[t]||et[t.toLowerCase()]:void 0}function nt(t){var e,n,i={};for(n in t)p(t,n)&&(e=m(n))&&(i[e]=t[n]);return i}var it={};function n(t,e){it[t]=e}function y(t,e,n){var i=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,at=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ot={},st={};function i(t,e,n,i){var r="string"==typeof i?function(){return this[i]()}:i;t&&(st[t]=r),e&&(st[e[0]]=function(){return y(r.apply(this,arguments),e[1],e[2])}),n&&(st[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function lt(t,e){return t.isValid()?(e=ut(e,t.localeData()),ot[e]=ot[e]||function(i){for(var t,r=i.match(rt),e=0,a=r.length;e<a;e++)st[r[e]]?r[e]=st[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",n=0;n<a;n++)e+=h(r[n])?r[n].call(t,i):r[n];return e}}(e),ot[e](t)):t.localeData().invalidDate()}function ut(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(at.lastIndex=0;0<=n&&at.test(t);)t=t.replace(at,i),at.lastIndex=0,--n;return t}var r=/\d/,v=/\d\d/,ct=/\d{3}/,dt=/\d{4}/,ht=/[+-]?\d{6}/,b=/\d\d?/,ft=/\d\d\d\d?/,pt=/\d\d\d\d\d\d?/,gt=/\d{1,3}/,mt=/\d{1,4}/,yt=/[+-]?\d{1,6}/,vt=/\d+/,bt=/[+-]?\d+/,_t=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,St={};function T(t,n,i){St[t]=h(n)?n:function(t,e){return t&&i?i:n}}function wt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Et={};function S(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),F(n)&&(i=function(t,e){e[n]=d(t)}),e=0;e<t.length;e++)Et[t[e]]=i}function Ct(t,r){S(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}var w=0,E=1,C=2,k=3,D=4,A=5,kt=6,Dt=7,At=8;function xt(t){return Lt(t)?366:365}function Lt(t){return t%4==0&&t%100!=0||t%400==0}i("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),e("year","y"),n("year",1),T("Y",bt),T("YY",b,v),T("YYYY",mt,dt),T("YYYYY",yt,ht),T("YYYYYY",yt,ht),S(["YYYYY","YYYYYY"],w),S("YYYY",function(t,e){e[w]=2===t.length?f.parseTwoDigitYear(t):d(t)}),S("YY",function(t,e){e[w]=f.parseTwoDigitYear(t)}),S("Y",function(t,e){e[w]=parseInt(t,10)}),f.parseTwoDigitYear=function(t){return d(t)+(68<d(t)?1900:2e3)};var x,Ot=It("FullYear",!0);function It(e,n){return function(t){return null!=t?(Pt(this,e,t),f.updateOffset(this,n),this):Rt(this,e)}}function Rt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Pt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Lt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Mt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Mt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1==n?Lt(t)?29:28:31-n%7%2}x=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),i("MMMM",0,0,function(t){return this.localeData().months(this,t)}),e("month","M"),n("month",8),T("M",b),T("MM",b,v),T("MMM",function(t,e){return e.monthsShortRegex(t)}),T("MMMM",function(t,e){return e.monthsRegex(t)}),S(["M","MM"],function(t,e){e[E]=d(t)-1}),S(["MMM","MMMM"],function(t,e,n,i){i=n._locale.monthsParse(t,i,n._strict);null!=i?e[E]=i:g(n).invalidMonth=t});var Nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ut="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ft="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function jt(t,e){var n;if(t.isValid()){if("string"==typeof e)if(/^\d+$/.test(e))e=d(e);else if(!F(e=t.localeData().monthsParse(e)))return;n=Math.min(t.date(),Mt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)}}function Bt(t){return null!=t?(jt(this,t),f.updateOffset(this,!0),this):Rt(this,"Month")}var Ht=_,Wt=_;function Gt(){function t(t,e){return e.length-t.length}for(var e,n=[],i=[],r=[],a=0;a<12;a++)e=u([2e3,a]),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),r.push(this.months(e,"")),r.push(this.monthsShort(e,""));for(n.sort(t),i.sort(t),r.sort(t),a=0;a<12;a++)n[a]=wt(n[a]),i[a]=wt(i[a]);for(a=0;a<24;a++)r[a]=wt(r[a]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function qt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Vt(t,e,n){n=7+e-n;return-(7+qt(t,0,n).getUTCDay()-e)%7+n-1}function Yt(t,e,n,i,r){var a,e=1+7*(e-1)+(7+n-i)%7+Vt(t,i,r),n=e<=0?xt(a=t-1)+e:e>xt(t)?(a=t+1,e-xt(t)):(a=t,e);return{year:a,dayOfYear:n}}function zt(t,e,n){var i,r,a=Vt(t.year(),e,n),a=Math.floor((t.dayOfYear()-a-1)/7)+1;return a<1?i=a+$t(r=t.year()-1,e,n):a>$t(t.year(),e,n)?(i=a-$t(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function $t(t,e,n){var i=Vt(t,e,n),e=Vt(t+1,e,n);return(xt(t)-i+e)/7}i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),n("week",5),n("isoWeek",5),T("w",b),T("ww",b,v),T("W",b),T("WW",b,v),Ct(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=d(t)}),i("d",0,"do","day"),i("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),i("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),i("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),T("d",b),T("e",b),T("E",b),T("dd",function(t,e){return e.weekdaysMinRegex(t)}),T("ddd",function(t,e){return e.weekdaysShortRegex(t)}),T("dddd",function(t,e){return e.weekdaysRegex(t)}),Ct(["dd","ddd","dddd"],function(t,e,n,i){i=n._locale.weekdaysParse(t,i,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t}),Ct(["d","e","E"],function(t,e,n,i){e[i]=d(t)});var Kt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Jt=_,Zt=_,te=_;function ee(){function t(t,e){return e.length-t.length}for(var e,n,i,r=[],a=[],o=[],s=[],l=0;l<7;l++)i=u([2e3,1]).day(l),e=this.weekdaysMin(i,""),n=this.weekdaysShort(i,""),i=this.weekdays(i,""),r.push(e),a.push(n),o.push(i),s.push(e),s.push(n),s.push(i);for(r.sort(t),a.sort(t),o.sort(t),s.sort(t),l=0;l<7;l++)a[l]=wt(a[l]),o[l]=wt(o[l]),s[l]=wt(s[l]);this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ne(){return this.hours()%12||12}function ie(t,e){i(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function re(t,e){return e._meridiemParse}i("H",["HH",2],0,"hour"),i("h",["hh",2],0,ne),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+ne.apply(this)+y(this.minutes(),2)}),i("hmmss",0,0,function(){return""+ne.apply(this)+y(this.minutes(),2)+y(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+y(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+y(this.minutes(),2)+y(this.seconds(),2)}),ie("a",!0),ie("A",!1),e("hour","h"),n("hour",13),T("a",re),T("A",re),T("H",b),T("h",b),T("k",b),T("HH",b,v),T("hh",b,v),T("kk",b,v),T("hmm",ft),T("hmmss",pt),T("Hmm",ft),T("Hmmss",pt),S(["H","HH"],k),S(["k","kk"],function(t,e,n){t=d(t);e[k]=24===t?0:t}),S(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),S(["h","hh"],function(t,e,n){e[k]=d(t),g(n).bigHour=!0}),S("hmm",function(t,e,n){var i=t.length-2;e[k]=d(t.substr(0,i)),e[D]=d(t.substr(i)),g(n).bigHour=!0}),S("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[k]=d(t.substr(0,i)),e[D]=d(t.substr(i,2)),e[A]=d(t.substr(r)),g(n).bigHour=!0}),S("Hmm",function(t,e,n){var i=t.length-2;e[k]=d(t.substr(0,i)),e[D]=d(t.substr(i))}),S("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[k]=d(t.substr(0,i)),e[D]=d(t.substr(i,2)),e[A]=d(t.substr(r))});var ae,_=It("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ut,monthsShort:Ft,week:{dow:0,doy:6},weekdays:Kt,weekdaysMin:Qt,weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},L={},se={};function le(t){return t&&t.toLowerCase().replace("_","-")}function ue(t){var e;if(!L[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ae._abbr,require("./locale/"+t),ce(e)}catch(t){}return L[t]}function ce(t,e){return t&&((e=a(e)?he(t):de(t,e))?ae=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ae._abbr}function de(t,e){if(null===e)return delete L[t],null;var n,i=oe;if(e.abbr=t,null!=L[t])Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=L[t]._config;else if(null!=e.parentLocale)if(null!=L[e.parentLocale])i=L[e.parentLocale]._config;else{if(null==(n=ue(e.parentLocale)))return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;i=n._config}return L[t]=new Z(J(i,e)),se[t]&&se[t].forEach(function(t){de(t.name,t.config)}),ce(t),L[t]}function he(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return ae;if(!l(t)){if(e=ue(t))return e;t=[t]}for(var n,i,r,a,o=t,s=0;s<o.length;){for(n=(a=le(o[s]).split("-")).length,i=(i=le(o[s+1]))?i.split("-"):null;0<n;){if(r=ue(a.slice(0,n).join("-")))return r;if(i&&i.length>=n&&$(a,i,!0)>=n-1)break;n--}s++}return ae}function fe(t){var e=t._a;return e&&-2===g(t).overflow&&(e=e[E]<0||11<e[E]?E:e[C]<1||e[C]>Mt(e[w],e[E])?C:e[k]<0||24<e[k]||24===e[k]&&(0!==e[D]||0!==e[A]||0!==e[kt])?k:e[D]<0||59<e[D]?D:e[A]<0||59<e[A]?A:e[kt]<0||999<e[kt]?kt:-1,g(t)._overflowDayOfYear&&(e<w||C<e)&&(e=C),g(t)._overflowWeeks&&-1===e&&(e=Dt),g(t)._overflowWeekday&&-1===e&&(e=At),g(t).overflow=e),t}function pe(t,e,n){return null!=t?t:null!=e?e:n}function ge(t){var e,n,i,r,a,o,s,l,u=[];if(!t._d){var c=t,d=new Date(f.now()),h=c._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];for(t._w&&null==t._a[C]&&null==t._a[E]&&(null!=(d=(c=t)._w).GG||null!=d.W||null!=d.E?(r=1,a=4,s=pe(d.GG,c._a[w],zt(O(),1,4).year),l=pe(d.W,1),((n=pe(d.E,1))<1||7<n)&&(i=!0)):(r=c._locale._week.dow,a=c._locale._week.doy,o=zt(O(),r,a),s=pe(d.gg,c._a[w],o.year),l=pe(d.w,o.week),null!=d.d?((n=d.d)<0||6<n)&&(i=!0):null!=d.e?(n=d.e+r,(d.e<0||6<d.e)&&(i=!0)):n=r),l<1||l>$t(s,r,a)?g(c)._overflowWeeks=!0:null!=i?g(c)._overflowWeekday=!0:(o=Yt(s,l,n,r,a),c._a[w]=o.year,c._dayOfYear=o.dayOfYear)),null!=t._dayOfYear&&(d=pe(t._a[w],h[w]),(t._dayOfYear>xt(d)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),i=qt(d,0,t._dayOfYear),t._a[E]=i.getUTCMonth(),t._a[C]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=u[e]=h[e];for(;e<7;e++)t._a[e]=u[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[k]&&0===t._a[D]&&0===t._a[A]&&0===t._a[kt]&&(t._nextDay=!0,t._a[k]=0),t._d=(t._useUTC?qt:function(t,e,n,i,r,a,o){e=new Date(t,e,n,i,r,a,o);return t<100&&0<=t&&isFinite(e.getFullYear())&&e.setFullYear(t),e}).apply(null,u),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[k]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(g(t).weekdayMismatch=!0)}}var me=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/Z|[+-]\d\d(?::?\d\d)?/,be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_e=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Te=/^\/?Date\((\-?\d+)/i;function Se(t){var e,n,i,r,a,o,s=t._i,l=me.exec(s)||ye.exec(s);if(l){for(g(t).iso=!0,e=0,n=be.length;e<n;e++)if(be[e][1].exec(l[1])){r=be[e][0],i=!1!==be[e][2];break}if(null==r)return t._isValid=!1;if(l[3]){for(e=0,n=_e.length;e<n;e++)if(_e[e][1].exec(l[3])){a=(l[2]||" ")+_e[e][0];break}if(null==a)return t._isValid=!1}if(!i&&null!=a)return t._isValid=!1;if(l[4]){if(!ve.exec(l[4]))return t._isValid=!1;o="Z"}t._f=r+(a||"")+(o||""),ke(t)}else t._isValid=!1}var we=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var Ee={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ce(t){var e,n,i,r,a,o,s=we.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());s?(e=s[4],n=s[3],i=s[2],r=s[5],a=s[6],o=s[7],e=[(e=parseInt(e,10))<=49?2e3+e:e<=999?1900+e:e,Ft.indexOf(n),parseInt(i,10),parseInt(r,10),parseInt(a,10)],o&&e.push(parseInt(o,10)),i=n=e,r=t,(a=s[1])&&Xt.indexOf(a)!==new Date(i[0],i[1],i[2]).getDay()?(g(r).weekdayMismatch=!0,r._isValid=!1):(t._a=n,t._tzm=function(t,e,n){if(t)return Ee[t];if(e)return 0;t=parseInt(n,10),e=t%100;return(t-e)/100*60+e}(s[8],s[9],s[10]),t._d=qt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0)):t._isValid=!1}function ke(t){if(t._f!==f.ISO_8601)if(t._f!==f.RFC_2822){t._a=[],g(t).empty=!0;for(var e,n,i,r=""+t._i,a=r.length,o=0,s=ut(t._f,t._locale).match(rt)||[],l=0;l<s.length;l++)e=s[l],(h=(r.match((h=t,p(St,d=e)?St[d](h._strict,h._locale):new RegExp(wt(d.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))))||[])[0])&&(0<(d=r.substr(0,r.indexOf(h))).length&&g(t).unusedInput.push(d),r=r.slice(r.indexOf(h)+h.length),o+=h.length),st[e]?(h?g(t).empty=!1:g(t).unusedTokens.push(e),d=e,i=t,null!=(n=h)&&p(Et,d)&&Et[d](n,i._a,i,d)):t._strict&&!h&&g(t).unusedTokens.push(e);g(t).charsLeftOver=a-o,0<r.length&&g(t).unusedInput.push(r),t._a[k]<=12&&!0===g(t).bigHour&&0<t._a[k]&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[k]=(a=t._locale,u=t._a[k],null==(c=t._meridiem)?u:null!=a.meridiemHour?a.meridiemHour(u,c):(null!=a.isPM&&((a=a.isPM(c))&&u<12&&(u+=12),a||12!==u||(u=0)),u)),ge(t),fe(t)}else Ce(t);else Se(t);var u,c,d,h}function De(t){var e,n,i=t._i,r=t._f;return t._locale=t._locale||he(t._l),null===i||void 0===r&&""===i?W({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),o(i)?new z(fe(i)):(j(i)?t._d=i:l(r)?function(t){var e,n,i,r,a;if(0===t._f.length)return g(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)a=0,e=V({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ke(e),H(e)&&(a=(a+=g(e).charsLeftOver)+10*g(e).unusedTokens.length,g(e).score=a,(null==i||a<i)&&(i=a,n=e));s(t,n||e)}(t):r?ke(t):a(r=(i=t)._i)?i._d=new Date(f.now()):j(r)?i._d=new Date(r.valueOf()):"string"==typeof r?(e=i,null===(n=Te.exec(e._i))?(Se(e),!1===e._isValid&&(delete e._isValid,Ce(e),!1===e._isValid&&(delete e._isValid,f.createFromInputFallback(e)))):e._d=new Date(+n[1])):l(r)?(i._a=B(r.slice(0),function(t){return parseInt(t,10)}),ge(i)):U(r)?(e=i)._d||(n=nt(e._i),e._a=B([n.year,n.month,n.day||n.date,n.hour,n.minute,n.second,n.millisecond],function(t){return t&&parseInt(t,10)}),ge(e)):F(r)?i._d=new Date(r):f.createFromInputFallback(i),H(t)||(t._d=null),t))}function Ae(t,e,n,i,r){var a={};return!0!==n&&!1!==n||(i=n,n=void 0),(U(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return;return 1}(t)||l(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=t,a._f=e,a._strict=i,(r=new z(fe(De(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function O(t,e,n,i){return Ae(t,e,n,i,!1)}f.createFromInputFallback=t("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};ft=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=O.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:W()}),pt=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=O.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:W()});function xe(t,e){var n,i;if(!(e=1===e.length&&l(e[0])?e[0]:e).length)return O();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oe(t){var t=nt(t),e=t.year||0,n=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,s=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===x.call(Le,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Le.length;++i)if(t[Le[i]]){if(n)return!1;parseFloat(t[Le[i]])!==d(t[Le[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*s+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*n+12*e,this._data={},this._locale=he(),this._bubble()}function Ie(t){return t instanceof Oe}function Re(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Pe(t,n){i(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+y(~~(t/60),2)+n+y(~~t%60,2)})}Pe("Z",":"),Pe("ZZ",""),T("Z",Tt),T("ZZ",Tt),S(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ne(Tt,t)});var Me=/([\+\-]|\d\d)/gi;function Ne(t,e){e=(e||"").match(t);if(null===e)return null;t=((e[e.length-1]||[])+"").match(Me)||["-",0,0],e=60*t[1]+d(t[2]);return 0===e?0:"+"===t[0]?e:-e}function Ue(t,e){var n;return e._isUTC?(e=e.clone(),n=(o(t)||j(t)?t:O(t)).valueOf()-e.valueOf(),e._d.setTime(e._d.valueOf()+n),f.updateOffset(e,!1),e):O(t).local()}function Fe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function je(){return!!this.isValid()&&this._isUTC&&0===this._offset}f.updateOffset=function(){};var Be=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,He=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function I(t,e){var n,i,r=t,a=null;return Ie(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:F(t)?(r={},e?r[e]=t:r.milliseconds=t):(a=Be.exec(t))?(n="-"===a[1]?-1:1,r={y:0,d:d(a[C])*n,h:d(a[k])*n,m:d(a[D])*n,s:d(a[A])*n,ms:d(Re(1e3*a[kt]))*n}):(a=He.exec(t))?(n="-"===a[1]?-1:(a[1],1),r={y:We(a[2],n),M:We(a[3],n),w:We(a[4],n),d:We(a[5],n),h:We(a[6],n),m:We(a[7],n),s:We(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(e=O(r.from),a=O(r.to),n=e.isValid()&&a.isValid()?(a=Ue(a,e),e.isBefore(a)?i=Ge(e,a):((i=Ge(a,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0},(r={}).ms=n.milliseconds,r.M=n.months),a=new Oe(r),Ie(t)&&p(t,"_locale")&&(a._locale=t._locale),a}function We(t,e){t=t&&parseFloat(t.replace(",","."));return(isNaN(t)?0:t)*e}function Ge(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function qe(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(Q(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Ve(this,I(t="string"==typeof t?+t:t,e),i),this}}function Ve(t,e,n,i){var r=e._milliseconds,a=Re(e._days),e=Re(e._months);t.isValid()&&(i=null==i||i,e&&jt(t,Rt(t,"Month")+e*n),a&&Pt(t,"Date",Rt(t,"Date")+a*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&f.updateOffset(t,a||e))}I.fn=Oe.prototype,I.invalid=function(){return I(NaN)};Ut=qe(1,"add"),Kt=qe(-1,"subtract");function Ye(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(1+n,"months")-i)))||0}function ze(t){return void 0===t?this._locale._abbr:(null!=(t=he(t))&&(this._locale=t),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Qt=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function $e(){return this._locale}function Ke(t,e){i(0,[t,t.length],0,e)}function Xe(t,e,n,i,r){var a;return null==t?zt(this,i,r).year:((a=$t(t,i,r))<e&&(e=a),function(t,e,n,i,r){t=Yt(t,e,n,i,r),e=qt(t.year,0,t.dayOfYear);return this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}.call(this,t,e,n,i,r))}i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ke("gggg","weekYear"),Ke("ggggg","weekYear"),Ke("GGGG","isoWeekYear"),Ke("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),T("G",bt),T("g",bt),T("GG",b,v),T("gg",b,v),T("GGGG",mt,dt),T("gggg",mt,dt),T("GGGGG",yt,ht),T("ggggg",yt,ht),Ct(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=d(t)}),Ct(["gg","GG"],function(t,e,n,i){e[i]=f.parseTwoDigitYear(t)}),i("Q",0,"Qo","quarter"),e("quarter","Q"),n("quarter",7),T("Q",r),S("Q",function(t,e){e[E]=3*(d(t)-1)}),i("D",["DD",2],"Do","date"),e("date","D"),n("date",9),T("D",b),T("DD",b,v),T("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),S(["D","DD"],C),S("Do",function(t,e){e[C]=d(t.match(b)[0])});mt=It("Date",!0),i("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),n("dayOfYear",4),T("DDD",gt),T("DDDD",ct),S(["DDD","DDDD"],function(t,e,n){n._dayOfYear=d(t)}),i("m",["mm",2],0,"minute"),e("minute","m"),n("minute",14),T("m",b),T("mm",b,v),S(["m","mm"],D),dt=It("Minutes",!1);i("s",["ss",2],0,"second"),e("second","s"),n("second",15),T("s",b),T("ss",b,v),S(["s","ss"],A);var Qe,yt=It("Seconds",!1);for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),n("millisecond",16),T("S",gt,r),T("SS",gt,v),T("SSS",gt,ct),Qe="SSSS";Qe.length<=9;Qe+="S")T(Qe,vt);function Je(t,e){e[kt]=d(1e3*("0."+t))}for(Qe="S";Qe.length<=9;Qe+="S")S(Qe,Je);ht=It("Milliseconds",!1),i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName"),r=z.prototype;function Ze(t){return t}r.add=Ut,r.calendar=function(t,e){var t=t||O(),n=Ue(t,this).startOf("day"),n=f.calendarFormat(this,n)||"sameElse",e=e&&(h(e[n])?e[n].call(this,t):e[n]);return this.format(e||this.localeData().calendar(n,this,O(t)))},r.clone=function(){return new z(this)},r.diff=function(t,e,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=Ue(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=m(e)){case"year":a=Ye(this,i)/12;break;case"month":a=Ye(this,i);break;case"quarter":a=Ye(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:c(a)},r.endOf=function(t){return void 0===(t=m(t))||"millisecond"===t?this:this.startOf(t="date"===t?"day":t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},r.format=function(t){t=t||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat);t=lt(this,t);return this.localeData().postformat(t)},r.from=function(t,e){return this.isValid()&&(o(t)&&t.isValid()||O(t).isValid())?I({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},r.fromNow=function(t){return this.from(O(),t)},r.to=function(t,e){return this.isValid()&&(o(t)&&t.isValid()||O(t).isValid())?I({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},r.toNow=function(t){return this.to(O(),t)},r.get=function(t){return h(this[t=m(t)])?this[t]():this},r.invalidAt=function(){return g(this).overflow},r.isAfter=function(t,e){t=o(t)?t:O(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=m(a(e)?"millisecond":e))?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},r.isBefore=function(t,e){t=o(t)?t:O(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=m(a(e)?"millisecond":e))?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},r.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},r.isSame=function(t,e){var t=o(t)?t:O(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=m(e||"millisecond"))?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},r.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},r.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},r.isValid=function(){return H(this)},r.lang=Qt,r.locale=ze,r.localeData=$e,r.max=pt,r.min=ft,r.parsingFlags=function(){return s({},g(this))},r.set=function(n,t){if("object"==typeof n)for(var e=function(){var t,e=[];for(t in n)e.push({unit:t,priority:it[t]});return e.sort(function(t,e){return t.priority-e.priority}),e}(n=nt(n)),i=0;i<e.length;i++)this[e[i].unit](n[e[i].unit]);else if(h(this[n=m(n)]))return this[n](t);return this},r.startOf=function(t){switch(t=m(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},r.subtract=Kt,r.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},r.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},r.toDate=function(){return new Date(this.valueOf())},r.toISOString=function(t){if(!this.isValid())return null;var t=!0!==t,e=t?this.clone().utc():this;return e.year()<0||9999<e.year()?lt(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):h(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",lt(e,"Z")):lt(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},r.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",t=(this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),"["+t+'("]'),n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},r.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},r.year=Ot,r.isLeapYear=function(){return Lt(this.year())},r.weekYear=function(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},r.isoWeekYear=function(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},r.quarter=r.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},r.month=Bt,r.daysInMonth=function(){return Mt(this.year(),this.month())},r.week=r.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},r.isoWeek=r.isoWeeks=function(t){var e=zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},r.weeksInYear=function(){var t=this.localeData()._week;return $t(this.year(),t.dow,t.doy)},r.isoWeeksInYear=function(){return $t(this.year(),1,4)},r.date=mt,r.day=r.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},r.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},r.isoWeekday=function(t){return this.isValid()?null!=t?(e=t,n=this.localeData(),n="string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e,this.day(this.day()%7?n:n-7)):this.day()||7:null!=t?this:NaN;var e,n},r.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},r.hour=r.hours=_,r.minute=r.minutes=dt,r.second=r.seconds=yt,r.millisecond=r.milliseconds=ht,r.utcOffset=function(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?r:Fe(this);if("string"==typeof t){if(null===(t=Ne(Tt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Fe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Ve(this,I(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},r.utc=function(t){return this.utcOffset(0,t)},r.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},r.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Ne(_t,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},r.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?O(t).utcOffset():0,(this.utcOffset()-t)%60==0)},r.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},r.isLocal=function(){return!!this.isValid()&&!this._isUTC},r.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},r.isUtc=je,r.isUTC=je,r.zoneAbbr=function(){return this._isUTC?"UTC":""},r.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},r.dates=t("dates accessor is deprecated. Use date instead.",mt),r.months=t("months accessor is deprecated. Use month instead",Bt),r.years=t("years accessor is deprecated. Use year instead",Ot),r.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),r.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t,e={};return V(e,this),(e=De(e))._a?(t=(e._isUTC?u:O)(e._a),this._isDSTShifted=this.isValid()&&0<$(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted});v=Z.prototype;function tn(t,e,n,i){var r=he(),i=u().set(i,e);return r[n](i,t)}function en(t,e,n){if(F(t)&&(e=t,t=void 0),t=t||"",null!=e)return tn(t,e,n,"month");for(var i=[],r=0;r<12;r++)i[r]=tn(t,r,n,"month");return i}function nn(t,e,n,i){"boolean"==typeof t?F(e)&&(n=e,e=void 0):(e=t,t=!1,F(n=e)&&(n=e,e=void 0)),e=e||"";var r=he(),a=t?r._week.dow:0;if(null!=n)return tn(e,(n+a)%7,i,"day");for(var o=[],s=0;s<7;s++)o[s]=tn(e,(s+a)%7,i,"day");return o}v.calendar=function(t,e,n){t=this._calendar[t]||this._calendar.sameElse;return h(t)?t.call(e,n):t},v.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},v.invalidDate=function(){return this._invalidDate},v.ordinal=function(t){return this._ordinal.replace("%d",t)},v.preparse=Ze,v.postformat=Ze,v.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return h(r)?r(t,e,n,i):r.replace(/%d/i,t)},v.pastFuture=function(t,e){t=this._relativeTime[0<t?"future":"past"];return h(t)?t(e):t.replace(/%s/i,e)},v.set=function(t){var e,n;for(n in t)h(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},v.months=function(t,e){return t?(l(this._months)?this._months:this._months[(this._months.isFormat||Nt).test(e)?"format":"standalone"])[t.month()]:l(this._months)?this._months:this._months.standalone},v.monthsShort=function(t,e){return t?(l(this._monthsShort)?this._monthsShort:this._monthsShort[Nt.test(e)?"format":"standalone"])[t.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},v.monthsParse=function(t,e,n){var i,r;if(this._monthsParseExact)return function(t,e,n){var i,r,a,t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=x.call(this._shortMonthsParse,t))?r:null:-1!==(r=x.call(this._longMonthsParse,t))?r:null:"MMM"===e?-1!==(r=x.call(this._shortMonthsParse,t))||-1!==(r=x.call(this._longMonthsParse,t))?r:null:-1!==(r=x.call(this._longMonthsParse,t))||-1!==(r=x.call(this._shortMonthsParse,t))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},v.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Gt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Wt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},v.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Gt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Ht),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},v.week=function(t){return zt(t,this._week.dow,this._week.doy).week},v.firstDayOfYear=function(){return this._week.doy},v.firstDayOfWeek=function(){return this._week.dow},v.weekdays=function(t,e){return t?(l(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"])[t.day()]:l(this._weekdays)?this._weekdays:this._weekdays.standalone},v.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},v.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},v.weekdaysParse=function(t,e,n){var i,r;if(this._weekdaysParseExact)return function(t,e,n){var i,r,a,t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=x.call(this._weekdaysParse,t))?r:null:"ddd"===e?-1!==(r=x.call(this._shortWeekdaysParse,t))?r:null:-1!==(r=x.call(this._minWeekdaysParse,t))?r:null:"dddd"===e?-1!==(r=x.call(this._weekdaysParse,t))||-1!==(r=x.call(this._shortWeekdaysParse,t))||-1!==(r=x.call(this._minWeekdaysParse,t))?r:null:"ddd"===e?-1!==(r=x.call(this._shortWeekdaysParse,t))||-1!==(r=x.call(this._weekdaysParse,t))||-1!==(r=x.call(this._minWeekdaysParse,t))?r:null:-1!==(r=x.call(this._minWeekdaysParse,t))||-1!==(r=x.call(this._weekdaysParse,t))||-1!==(r=x.call(this._shortWeekdaysParse,t))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},v.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},v.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},v.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=te),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},v.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},v.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},ce("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===d(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),f.lang=t("moment.lang is deprecated. Use moment.locale instead.",ce),f.langData=t("moment.langData is deprecated. Use moment.localeData instead.",he);var R=Math.abs;function rn(t,e,n,i){e=I(e,n);return t._milliseconds+=i*e._milliseconds,t._days+=i*e._days,t._months+=i*e._months,t._bubble()}function an(t){return t<0?Math.floor(t):Math.ceil(t)}function on(t){return 4800*t/146097}function sn(t){return 146097*t/4800}function ln(t){return function(){return this.as(t)}}gt=ln("ms"),ct=ln("s"),Ut=ln("m"),pt=ln("h"),ft=ln("d"),Kt=ln("w"),_=ln("M"),dt=ln("y");function un(t){return function(){return this.isValid()?this._data[t]:NaN}}var yt=un("milliseconds"),ht=un("seconds"),mt=un("minutes"),Ot=un("hours"),v=un("days"),cn=un("months"),dn=un("years"),hn=Math.round,P={ss:44,s:45,m:45,h:22,d:26,M:11},fn=Math.abs;function pn(t){return(0<t)-(t<0)||+t}function gn(){if(!this.isValid())return this.localeData().invalidDate();var t,e=fn(this._milliseconds)/1e3,n=fn(this._days),i=fn(this._months),r=c((t=c(e/60))/60),a=(e%=60,t%=60,c(i/12)),i=i%=12,e=e?e.toFixed(3).replace(/\.?0+$/,""):"",o=this.asSeconds();if(!o)return"P0D";var s=pn(this._months)!==pn(o)?"-":"",l=pn(this._days)!==pn(o)?"-":"",u=pn(this._milliseconds)!==pn(o)?"-":"";return(o<0?"-":"")+"P"+(a?s+a+"Y":"")+(i?s+i+"M":"")+(n?l+n+"D":"")+(r||t||e?"T":"")+(r?u+r+"H":"")+(t?u+t+"M":"")+(e?u+e+"S":"")}var M=Oe.prototype;return M.isValid=function(){return this._isValid},M.abs=function(){var t=this._data;return this._milliseconds=R(this._milliseconds),this._days=R(this._days),this._months=R(this._months),t.milliseconds=R(t.milliseconds),t.seconds=R(t.seconds),t.minutes=R(t.minutes),t.hours=R(t.hours),t.months=R(t.months),t.years=R(t.years),this},M.add=function(t,e){return rn(this,t,e,1)},M.subtract=function(t,e){return rn(this,t,e,-1)},M.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=m(t))||"year"===t)return e=this._days+i/864e5,n=this._months+on(e),"month"===t?n:n/12;switch(e=this._days+Math.round(sn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},M.asMilliseconds=gt,M.asSeconds=ct,M.asMinutes=Ut,M.asHours=pt,M.asDays=ft,M.asWeeks=Kt,M.asMonths=_,M.asYears=dt,M.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*d(this._months/12):NaN},M._bubble=function(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data;return 0<=t&&0<=e&&0<=n||t<=0&&e<=0&&n<=0||(t+=864e5*an(sn(n)+e),n=e=0),i.milliseconds=t%1e3,t=c(t/1e3),i.seconds=t%60,t=c(t/60),i.minutes=t%60,t=c(t/60),i.hours=t%24,n+=t=c(on(e+=c(t/24))),e-=an(sn(t)),t=c(n/12),n%=12,i.days=e,i.months=n,i.years=t,this},M.clone=function(){return I(this)},M.get=function(t){return t=m(t),this.isValid()?this[t+"s"]():NaN},M.milliseconds=yt,M.seconds=ht,M.minutes=mt,M.hours=Ot,M.days=v,M.weeks=function(){return c(this.days()/7)},M.months=cn,M.years=dn,M.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,i,r,a,o,s,l=this.localeData(),u=(e=!t,n=l,o=I(this).abs(),s=hn(o.as("s")),u=hn(o.as("m")),i=hn(o.as("h")),r=hn(o.as("d")),a=hn(o.as("M")),o=hn(o.as("y")),(s=(s<=P.ss?["s",s]:s<P.s&&["ss",s])||u<=1&&["m"]||u<P.m&&["mm",u]||i<=1&&["h"]||i<P.h&&["hh",i]||r<=1&&["d"]||r<P.d&&["dd",r]||a<=1&&["M"]||a<P.M&&["MM",a]||o<=1&&["y"]||["yy",o])[2]=e,s[3]=0<+this,s[4]=n,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,s));return t&&(u=l.pastFuture(+this,u)),l.postformat(u)},M.toISOString=gn,M.toString=gn,M.toJSON=gn,M.locale=ze,M.localeData=$e,M.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gn),M.lang=Qt,i("X",0,0,"unix"),i("x",0,0,"valueOf"),T("x",bt),T("X",/[+-]?\d+(\.\d{1,3})?/),S("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),S("x",function(t,e,n){n._d=new Date(d(t))}),f.version="2.22.1",N=O,f.fn=r,f.min=function(){return xe("isBefore",[].slice.call(arguments,0))},f.max=function(){return xe("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=u,f.unix=function(t){return O(1e3*t)},f.months=function(t,e){return en(t,e,"months")},f.isDate=j,f.locale=ce,f.invalid=W,f.duration=I,f.isMoment=o,f.weekdays=function(t,e,n){return nn(t,e,n,"weekdays")},f.parseZone=function(){return O.apply(null,arguments).parseZone()},f.localeData=he,f.isDuration=Ie,f.monthsShort=function(t,e){return en(t,e,"monthsShort")},f.weekdaysMin=function(t,e,n){return nn(t,e,n,"weekdaysMin")},f.defineLocale=de,f.updateLocale=function(t,e){var n,i;return null!=e?(i=oe,(n=new Z(e=J(i=null!=(n=ue(t))?n._config:i,e))).parentLocale=L[t],L[t]=n,ce(t)):null!=L[t]&&(null!=L[t].parentLocale?L[t]=L[t].parentLocale:null!=L[t]&&delete L[t]),L[t]},f.locales=function(){return tt(L)},f.weekdaysShort=function(t,e,n){return nn(t,e,n,"weekdaysShort")},f.normalizeUnits=m,f.relativeTimeRounding=function(t){return void 0===t?hn:"function"==typeof t&&(hn=t,!0)},f.relativeTimeThreshold=function(t,e){return void 0!==P[t]&&(void 0===e?P[t]:(P[t]=e,"s"===t&&(P.ss=e-1),!0))},f.calendarFormat=function(t,e){t=t.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},f.prototype=r,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},f}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.videojs=e()}(this,function(){var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function M(t,e){return t(e={exports:{}},e.exports),e.exports}function N(t,e){var n,i=F.levels[j],r=new RegExp("^("+i+")$");"log"!==t&&e.unshift(t.toUpperCase()+":"),B&&B.push([].concat(e)),e.unshift("VIDEOJS:"),h.console&&(n=(n=h.console[t])||"debug"!==t?n:h.console.info||h.console.log)&&i&&r.test(t)&&n[Array.isArray(e)?"apply":"call"](h.console,e)}var h="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},U={},e=Object.freeze({default:U}),t=void 0!==t?t:"undefined"!=typeof window?window:{},n="undefined"!=typeof document?document:(n=t["__GLOBAL_DOCUMENT_CACHE@4"])||(t["__GLOBAL_DOCUMENT_CACHE@4"]=e&&U),c=n,F=void 0,j="info",B=[],d=((F=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];N("log",e)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:j},F.level=function(t){if("string"==typeof t){if(!F.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');j=t}return j},F.history=function(){return B?[].concat(B):[]},F.history.clear=function(){B&&(B.length=0)},F.history.disable=function(){null!==B&&(B.length=0,B=null)},F.history.enable=function(){null===B&&(B=[])},F.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return N("error",e)},F.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return N("warn",e)},F.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return N("debug",e)},F);function H(t){for(var e="",n=0;n<arguments.length;n++)e+=t[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function W(t,e){return t.raw=e,t}function G(t){return Y(t)?Object.keys(t):[]}var Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q=Object.prototype.toString;function V(e,n){G(e).forEach(function(t){return n(e[t],t)})}function p(n){for(var t=arguments.length,e=Array(1<t?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(e)):(e.forEach(function(t){t&&V(t,function(t,e){n[e]=t})}),n)}function Y(t){return!!t&&"object"===(void 0===t?"undefined":Se(t))}function z(t){return Y(t)&&"[object Object]"===q.call(t)&&t.constructor===Object}function $(t,e){return t&&e&&"function"==typeof h.getComputedStyle&&(t=h.getComputedStyle(t))?t[e]:""}var K=W(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function X(t){return"string"==typeof t&&/\S/.test(t)}function Q(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function J(){return c===h.document}function Z(t){return Y(t)&&1===t.nodeType}function tt(){try{return h.parent!==h.self}catch(t){return!0}}function et(n){return function(t,e){if(!X(t))return c[n](null);e=Z(e=X(e)?c.querySelector(e):e)?e:c;return e[n]&&e[n](t)}}function nt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],r=c.createElement(t);return Object.getOwnPropertyNames(n).forEach(function(t){var e=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(d.warn(H(K,t,e)),r.setAttribute(t,e)):"textContent"===t?it(r,e):r[t]=e}),Object.getOwnPropertyNames(e).forEach(function(t){r.setAttribute(t,e[t])}),i&&St(r,i),r}function it(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function rt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function at(t,e){return Q(e),t.classList?t.classList.contains(e):new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)}function ot(t,e){return t.classList?t.classList.add(e):at(t,e)||(t.className=(t.className+" "+e).trim()),t}function st(t,e){return t.classList?t.classList.remove(e):(Q(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function lt(t,e,n){var i=at(t,e);if((n="boolean"!=typeof(n="function"==typeof n?n(t,e):n)?!i:n)!==i)return(n?ot:st)(t,e),t}function ut(n,i){Object.getOwnPropertyNames(i).forEach(function(t){var e=i[t];null==e||!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})}function ct(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&0<t.attributes.length)for(var i=t.attributes,r=i.length-1;0<=r;r--){var a=i[r].name,o=i[r].value;"boolean"!=typeof t[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),e[a]=o}return e}function dt(t,e){return t.getAttribute(e)}function ht(t,e,n){t.setAttribute(e,n)}function ft(t,e){t.removeAttribute(e)}function pt(){c.body.focus(),c.onselectstart=function(){return!1}}function gt(){c.onselectstart=function(){return!0}}function mt(t){var e,n;if(t&&t.getBoundingClientRect&&t.parentNode)return e=t.getBoundingClientRect(),n={},["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat($(t,"height"))),n.width||(n.width=parseFloat($(t,"width"))),n}function yt(t){var e=void 0;if(!(e=t.getBoundingClientRect&&t.parentNode?t.getBoundingClientRect():e))return{left:0,top:0};var t=c.documentElement,n=c.body,i=t.clientLeft||n.clientLeft||0,r=h.pageXOffset||n.scrollLeft,r=e.left+r-i,i=t.clientTop||n.clientTop||0,t=h.pageYOffset||n.scrollTop,n=e.top+t-i;return{left:Math.round(r),top:Math.round(n)}}function vt(t,e){var n={},i=yt(t),r=t.offsetWidth,t=t.offsetHeight,a=i.top,i=i.left,o=e.pageY,s=e.pageX;return e.changedTouches&&(s=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-o+t)/t)),n.x=Math.max(0,Math.min(1,(s-i)/r)),n}function bt(t){return Y(t)&&3===t.nodeType}function _t(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Tt(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return Z(t="function"==typeof t?t():t)||bt(t)?t:"string"==typeof t&&/\S/.test(t)?c.createTextNode(t):void 0}).filter(function(t){return t})}function St(e,t){return Tt(t).forEach(function(t){return e.appendChild(t)}),e}function wt(t,e){return St(_t(t),e)}function Et(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||0===t.button&&1===t.buttons)}var Ct=et("querySelector"),kt=et("querySelectorAll"),Dt=Object.freeze({isReal:J,isEl:Z,isInFrame:tt,createEl:nt,textContent:it,prependTo:rt,hasClass:at,addClass:ot,removeClass:st,toggleClass:lt,setAttributes:ut,getAttributes:ct,getAttribute:dt,setAttribute:ht,removeAttribute:ft,blockTextSelection:pt,unblockTextSelection:gt,getBoundingClientRect:mt,findPosition:yt,getPointerPosition:vt,isTextNode:bt,emptyEl:_t,normalizeContent:Tt,appendContent:St,insertContent:wt,isSingleLeftClick:Et,$:Ct,$$:kt}),At=1;var xt={},Lt="vdata"+(new Date).getTime();function Ot(t){var e=(e=t[Lt])||(t[Lt]=At++);return xt[e]||(xt[e]={}),xt[e]}function It(t){t=t[Lt];return t&&Object.getOwnPropertyNames(xt[t]).length}function Rt(e){var t=e[Lt];if(t){delete xt[t];try{delete e[Lt]}catch(t){e.removeAttribute?e.removeAttribute(Lt):e[Lt]=null}}}function Pt(t,e){var n=Ot(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Rt(t)}function Mt(e,n,t,i){t.forEach(function(t){e(n,t,i)})}function Nt(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i,r,a,o=t||h.event;for(i in t={},o)"layerX"===i||"layerY"===i||"keyLocation"===i||"webkitMovementX"===i||"webkitMovementY"===i||"returnValue"===i&&o.preventDefault||(t[i]=o[i]);t.target||(t.target=t.srcElement||c),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){o.preventDefault&&o.preventDefault(),t.returnValue=!1,o.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),t.cancelBubble=!0,o.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX&&(r=c.documentElement,a=c.body,t.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Ut=!1;try{var Ft=Object.defineProperty({},"passive",{get:function(){Ut=!0}});h.addEventListener("test",null,Ft),h.removeEventListener("test",null,Ft)}catch(t){}var jt=["touchstart","touchmove"];function Bt(o,t,e){if(Array.isArray(t))return Mt(Bt,o,t,e);var s=Ot(o);s.handlers||(s.handlers={}),s.handlers[t]||(s.handlers[t]=[]),e.guid||(e.guid=At++),s.handlers[t].push(e),s.dispatcher||(s.disabled=!1,s.dispatcher=function(t,e){if(!s.disabled){t=Nt(t);var n=s.handlers[t.type];if(n)for(var i=n.slice(0),r=0,a=i.length;r<a&&!t.isImmediatePropagationStopped();r++)try{i[r].call(o,t,e)}catch(t){d.error(t)}}}),1===s.handlers[t].length&&(o.addEventListener?(e=!1,Ut&&-1<jt.indexOf(t)&&(e={passive:!0}),o.addEventListener(t,s.dispatcher,e)):o.attachEvent&&o.attachEvent("on"+t,s.dispatcher))}function Ht(t,e,n){if(It(t)){var i=Ot(t);if(i.handlers){if(Array.isArray(e))return Mt(Ht,t,e,n);function r(t,e){i.handlers[e]=[],Pt(t,e)}if(void 0===e)for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(t,a);else{var o=i.handlers[e];if(o)if(n){if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);Pt(t,e)}else r(t,e)}}}}function Wt(t,e,n){var i=It(t)?Ot(t):{},r=t.parentNode||t.ownerDocument;return"string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Nt(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles?Wt.call(null,r,e,n):r||e.defaultPrevented||(i=Ot(e.target),e.target[e.type]&&(i.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),i.disabled=!1)),!e.defaultPrevented}function Gt(t,e,n){if(Array.isArray(e))return Mt(Gt,t,e,n);function i(){Ht(t,e,i),n.apply(this,arguments)}i.guid=n.guid=n.guid||At++,Bt(t,e,i)}function qt(){if(J()&&!1!==zt.options.autoSetup){var t=Array.prototype.slice.call(c.getElementsByTagName("video")),e=Array.prototype.slice.call(c.getElementsByTagName("audio")),n=Array.prototype.slice.call(c.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&0<i.length)for(var r=0,a=i.length;r<a;r++){var o=i[r];if(!o||!o.getAttribute){$t(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&zt(o)}else Yt||$t(1)}}var Vt=Object.freeze({fixEvent:Nt,on:Bt,off:Ht,trigger:Wt,one:Gt}),Yt=!1,zt=void 0;function $t(t,e){e&&(zt=e),h.setTimeout(qt,t)}J()&&"complete"===c.readyState?Yt=!0:Gt(h,"load",function(){Yt=!0});function Kt(t){var e=c.createElement("style");return e.className=t,e}function Xt(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}function Qt(e,n){var i=Date.now();return function(){var t=Date.now();n<=t-i&&(e.apply(void 0,arguments),i=t)}}function Jt(i,r,a){function t(){var t=this,e=arguments,n=function(){n=s=null,a||i.apply(t,e)};!s&&a&&i.apply(t,e),o.clearTimeout(s),s=o.setTimeout(n,r)}var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h,s=void 0;return t.cancel=function(){o.clearTimeout(s),s=null},t}function Zt(){}function te(t){if(!t.nodeName&&!oe(t))throw new Error("Invalid target; must be a DOM node or evented object.")}function ee(t){if(!se(t))throw new Error("Invalid event type; must be a non-empty string or array.")}function ne(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")}function ie(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,i=void 0,r=void 0,a=void 0,a=n?(i=t.eventBusEl_,3<=e.length&&e.shift(),r=e[0],e[1]):(i=e[0],r=e[1],e[2]);return te(i),ee(r),ne(a),{isTargetingSelf:n,target:i,type:r,listener:a=l(t,a)}}function re(t,e,n,i){te(t),t.nodeName?Vt[e](t,n,i):t[e](n,i)}var l=function(t,e,n){e.guid||(e.guid=At++);function i(){return e.apply(t,arguments)}return i.guid=n?n+"_"+e.guid:e.guid,i},ae=(Zt.prototype.allowedEvents_={},Zt.prototype.addEventListener=Zt.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Bt(this,t,e),this.addEventListener=n},Zt.prototype.removeEventListener=Zt.prototype.off=function(t,e){Ht(this,t,e)},Zt.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Gt(this,t,e),this.addEventListener=n},Zt.prototype.dispatchEvent=Zt.prototype.trigger=function(t){var e=t.type||t;t=Nt(t="string"==typeof t?{type:e}:t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Wt(this,t)},void 0),oe=(Zt.prototype.queueTrigger=function(t){var e=this,n=(ae=ae||new Map,t.type||t),i=ae.get(this),r=(i||(i=new Map,ae.set(this,i)),i.get(n)),r=(i.delete(n),h.clearTimeout(r),h.setTimeout(function(){0===i.size&&(i=null,ae.delete(e)),e.trigger(t)},0));i.set(n,r)},function(e){return e instanceof Zt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})}),se=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},le={on:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r,a=ie(this,n),o=a.isTargetingSelf,s=a.target,l=a.type,u=a.listener;re(s,"on",l,u),o||((r=function(){return t.off(s,l,u)}).guid=u.guid,(a=function(){return t.off("dispose",r)}).guid=u.guid,re(this,"on","dispose",r),re(s,"on","dispose",a))},one:function(){for(var r=this,t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=ie(this,e),a=i.isTargetingSelf,o=i.target,s=i.type,l=i.listener;a?re(o,"one",s,l):((i=function t(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];r.off(o,s,t),l.apply(null,n)}).guid=l.guid,re(o,"one",s,i))},off:function(t,e,n){!t||se(t)?Ht(this.eventBusEl_,t,e):(e=e,te(t=t),ee(e),ne(n),n=l(this,n),this.off("dispose",n),t.nodeName?(Ht(t,e,n),Ht(t,"dispose",n)):oe(t)&&(t.off(e,n),t.off("dispose",n)))},trigger:function(t,e){return Wt(this.eventBusEl_,t,e)}};function ue(t,e){var n=(1<arguments.length&&void 0!==e?e:{}).eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=nt("span",{className:"vjs-event-bus"});p(t,le),t.on("dispose",function(){t.off(),h.setTimeout(function(){t.eventBusEl_=null},0)})}var ce={state:{},setState:function(t){var n=this,i=("function"==typeof t&&(t=t()),void 0);return V(t,function(t,e){n.state[e]!==t&&((i=i||{})[e]={from:n.state[e],to:t}),n.state[e]=t}),i&&oe(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function de(t,e){p(t,ce),t.state=p({},t.state,e),"function"==typeof t.handleStateChanged&&oe(t)&&t.on("statechanged",t.handleStateChanged)}function g(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function m(){for(var n={},t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.forEach(function(t){t&&V(t,function(t,e){z(t)?(z(n[e])||(n[e]={}),n[e]=m(n[e],t)):n[e]=t})}),n}s.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Rt(this.el_),this.el_=null),this.player_=null},s.prototype.player=function(){return this.player_},s.prototype.options=function(t){return d.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t&&(this.options_=m(this.options_,t)),this.options_},s.prototype.el=function(){return this.el_},s.prototype.createEl=function(t,e,n){return nt(t,e,n)},s.prototype.localize=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[i],i=i&&i.split("-")[0],r=r&&r[i],i=e;return a&&a[t]?i=a[t]:r&&r[t]&&(i=r[t]),i=n?i.replace(/\{(\d+)\}/g,function(t,e){e=n[e-1];return void 0===e?t:e}):i},s.prototype.contentEl=function(){return this.contentEl_||this.el_},s.prototype.id=function(){return this.id_},s.prototype.name=function(){return this.name_},s.prototype.children=function(){return this.children_},s.prototype.getChildById=function(t){return this.childIndex_[t]},s.prototype.getChild=function(t){if(t)return t=g(t),this.childNameIndex_[t]},s.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,r=void 0;if("string"==typeof t){var r=g(t),a=e.componentClass||r,o=(e.name=r,s.getComponent(a));if(!o)throw new Error("Component "+a+" does not exist");if("function"!=typeof o)return null;i=new o(this.player_||this,e)}else i=t;return this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(r=r||i.name&&g(i.name()))&&(this.childNameIndex_[r]=i),"function"==typeof i.el&&i.el()&&(a=this.contentEl().children[n]||null,this.contentEl().insertBefore(i.el(),a)),i},s.prototype.removeChild=function(t){if((t="string"==typeof t?this.getChild(t):t)&&this.children_){for(var e,n=!1,i=this.children_.length-1;0<=i;i--)if(this.children_[i]===t){n=!0,this.children_.splice(i,1);break}n&&(this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null,(e=t.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el()))}},s.prototype.initChildren=function(){var n,e,t,i=this,r=this.options_.children;r&&(n=this.options_,t=void 0,e=s.getComponent("Tech"),(t=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter(function(e){return!t.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(t){var e=void 0,n=void 0,n="string"==typeof t?r[e=t]||i.options_[e]||{}:(e=t.name,t);return{name:e,opts:n}}).filter(function(t){t=s.getComponent(t.opts.componentClass||g(t.name));return t&&!e.isTech(t)}).forEach(function(t){var e=t.name,t=t.opts;!1!==(t=void 0!==n[e]?n[e]:t)&&((t=!0===t?{}:t).playerOptions=i.options_.playerOptions,(t=i.addChild(e,t))&&(i[e]=t))}))},s.prototype.buildCSSClass=function(){return""},s.prototype.ready=function(t){if(t)return this.isReady_?void(1<arguments.length&&void 0!==arguments[1]&&arguments[1]?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},s.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&0<t.length&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},s.prototype.$=function(t,e){return Ct(t,e||this.contentEl())},s.prototype.$$=function(t,e){return kt(t,e||this.contentEl())},s.prototype.hasClass=function(t){return at(this.el_,t)},s.prototype.addClass=function(t){ot(this.el_,t)},s.prototype.removeClass=function(t){st(this.el_,t)},s.prototype.toggleClass=function(t,e){lt(this.el_,t,e)},s.prototype.show=function(){this.removeClass("vjs-hidden")},s.prototype.hide=function(){this.addClass("vjs-hidden")},s.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},s.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},s.prototype.getAttribute=function(t){return dt(this.el_,t)},s.prototype.setAttribute=function(t,e){ht(this.el_,t,e)},s.prototype.removeAttribute=function(t){ft(this.el_,t)},s.prototype.width=function(t,e){return this.dimension("width",t,e)},s.prototype.height=function(t,e){return this.dimension("height",t,e)},s.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},s.prototype.dimension=function(t,e,n){if(void 0!==e)return-1!==(""+(e=null!==e&&e==e?e:0)).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;e=this.el_.style[t],n=e.indexOf("px");return-1!==n?parseInt(e.slice(0,n),10):parseInt(this.el_["offset"+g(t)],10)},s.prototype.currentDimension=function(t){var e,n=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");return"function"==typeof h.getComputedStyle&&(n=(e=h.getComputedStyle(this.el_)).getPropertyValue(t)||e[t]),0===(n=parseFloat(n))&&(e="offset"+g(t),n=this.el_[e]),n},s.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},s.prototype.currentWidth=function(){return this.currentDimension("width")},s.prototype.currentHeight=function(){return this.currentDimension("height")},s.prototype.focus=function(){this.el_.focus()},s.prototype.blur=function(){this.el_.blur()},s.prototype.emitTapEvents=function(){function t(){i=!1}var e=0,n=null,i=void 0;this.on("touchstart",function(t){1===t.touches.length&&(n={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){var e;1<t.touches.length?i=!1:n&&(e=t.touches[0].pageX-n.pageX,t=t.touches[0].pageY-n.pageY,10<Math.sqrt(e*e+t*t)&&(i=!1))});this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",function(t){!(n=null)===i&&(new Date).getTime()-e<200&&(t.preventDefault(),this.trigger("tap"))})},s.prototype.enableTouchActivity=function(){var e,n,t;this.player()&&this.player().reportUserActivity&&(e=l(this.player(),this.player().reportUserActivity),n=void 0,this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)}),t=function(t){e(),this.clearInterval(n)},this.on("touchmove",e),this.on("touchend",t),this.on("touchcancel",t))},s.prototype.setTimeout=function(t,e){var n,i,r=this;return t=l(this,t),n=h.setTimeout(function(){r.off("dispose",i),t()},e),(i=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",i),n},s.prototype.clearTimeout=function(t){h.clearTimeout(t);function e(){}return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},s.prototype.setInterval=function(t,e){function n(){return i.clearInterval(r)}var i=this,r=(t=l(this,t),h.setInterval(t,e));return n.guid="vjs-interval-"+r,this.on("dispose",n),r},s.prototype.clearInterval=function(t){h.clearInterval(t);function e(){}return e.guid="vjs-interval-"+t,this.off("dispose",e),t},s.prototype.requestAnimationFrame=function(t){var e,n,i=this;return this.supportsRaf_?(t=l(this,t),e=h.requestAnimationFrame(function(){i.off("dispose",n),t()}),(n=function(){return i.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},s.prototype.cancelAnimationFrame=function(t){var e;return this.supportsRaf_?(h.cancelAnimationFrame(t),(e=function(){}).guid="vjs-raf-"+t,this.off("dispose",e),t):this.clearTimeout(t)},s.registerComponent=function(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=s.getComponent("Tech"),n=n&&n.isTech(e),i=s===e||s.prototype.isPrototypeOf(e.prototype);if(n||!i)throw i=void 0,i=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+i+".");t=g(t),s.components_||(s.components_={});n=s.getComponent("Player");if("Player"===t&&n&&n.players){var r=n.players,i=Object.keys(r);if(r&&0<i.length&&i.map(function(t){return r[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return s.components_[t]=e},s.getComponent=function(t){if(t)return t=g(t),s.components_&&s.components_[t]?s.components_[t]:void 0};var y=s;function s(t,e,n){u(this,s),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=m({},this.options_),e=this.options_=m(this.options_,e),this.id_=e.id||e.el&&e.el.id,this.id_||(t=t&&t.id&&t.id()||"no_player",this.id_=t+"_component_"+At++),this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&ue(this,{eventBusKey:this.el_?"el_":null}),de(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}y.prototype.supportsRaf_="function"==typeof h.requestAnimationFrame&&"function"==typeof h.cancelAnimationFrame,y.registerComponent("Component",y);var he=h.navigator&&h.navigator.userAgent||"",t=/AppleWebKit\/([\d.]+)/i.exec(he),e=t?parseFloat(t.pop()):null,U=/iPad/i.test(he),fe=/iPhone/i.test(he)&&!U,n=/iPod/i.test(he),pe=fe||U||n,t=(Ft=he.match(/OS (\d+)_/i))&&Ft[1]?Ft[1]:null,ge=/Android/i.test(he),me=function(){var t=he.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),ye=ge&&me<5&&e<537,ve=/Firefox/i.test(he),e=/Edge/i.test(he),be=!e&&(/Chrome/i.test(he)||/CriOS/i.test(he)),_e=(r=he.match(/(Chrome|CriOS)\/(\d+)/))&&r[2]?parseFloat(r[2]):null,Te=r=!(r=(r=/MSIE\s(\d+)\.\d/.exec(he))&&parseFloat(r[1]))&&/Trident\/7.0/i.test(he)&&/rv:11.0/.test(he)?11:r,r=/Safari/i.test(he)&&!be&&!ge&&!e,we=(r||pe)&&!be,Ee=J()&&("ontouchstart"in h||h.navigator.maxTouchPoints||h.DocumentTouch&&h.document instanceof h.DocumentTouch),U=Object.freeze({IS_IPAD:U,IS_IPHONE:fe,IS_IPOD:n,IS_IOS:pe,IOS_VERSION:t,IS_ANDROID:ge,ANDROID_VERSION:me,IS_NATIVE_ANDROID:ye,IS_FIREFOX:ve,IS_EDGE:e,IS_CHROME:be,CHROME_VERSION:_e,IE_VERSION:Te,IS_SAFARI:r,IS_ANY_SAFARI:we,TOUCH_ENABLED:Ee});function Ce(t,e,n,i){var r=i,a=n.length-1;if("number"!=typeof r||r<0||a<r)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+r+") is non-numeric or out of bounds (0-"+a+").");return n[i][e]}function ke(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Ce.bind(null,"start",0,t),end:Ce.bind(null,"end",1,t)}}function De(t,e){return Array.isArray(t)?ke(t):void 0===t||void 0===e?ke():ke([[t,e]])}function Ae(t,e){var n,i=0,r=void 0;if(!e)return 0;t&&t.length||(t=De(0,0));for(var a=0;a<t.length;a++)n=t.start(a),i+=(r=e<(r=t.end(a))?e:r)-n;return i/e}for(var xe={},Le=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Oe=Le[0],Ie=void 0,Re=0;Re<Le.length;Re++)if(Le[Re][1]in c){Ie=Le[Re];break}if(Ie)for(var Pe=0;Pe<Ie.length;Pe++)xe[Oe[Pe]]=Ie[Pe];function Me(t){if(t instanceof Me)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:Y(t)&&("number"==typeof t.code&&(this.code=t.code),p(this,t)),this.message||(this.message=Me.defaultMessages[this.code]||"")}Me.prototype.code=0,Me.prototype.message="",Me.prototype.status=null,Me.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Me.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ne=0;Ne<Me.errorTypes.length;Ne++)Me[Me.errorTypes[Ne]]=Ne,Me.prototype[Me.errorTypes[Ne]]=Ne;var Ue=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]};function Fe(t){return null!=t&&"function"==typeof t.then}function je(t){Fe(t)&&t.then(null,function(t){})}function Be(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,e,n){return i[e]&&(t[e]=i[e]),t},{cues:i.cues&&Array.prototype.map.call(i.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})}var He,We=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=Be(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(Be))},Ge=function(t,n){return t.forEach(function(t){var e=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return e.addCue(t)})}),n.textTracks()},qe="vjs-modal-dialog",Ve=(i(a,He=y),a.prototype.createEl=function(){return He.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},a.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,He.prototype.dispose.call(this)},a.prototype.buildCSSClass=function(){return qe+" vjs-hidden "+He.prototype.buildCSSClass.call(this)},a.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},a.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},a.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},a.prototype.open=function(){var t;this.opened_||(t=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",l(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},a.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},a.prototype.close=function(){var t;this.opened_&&(t=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",l(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},a.prototype.closeable=function(t){var e,n;return"boolean"==typeof t&&(t=this.closeable_=!!t,e=this.getChild("closeButton"),t&&!e&&(n=this.contentEl_,this.contentEl_=this.el_,e=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(e,"close",this.close)),!t&&e&&(this.off(e,"close",this.close),this.removeChild(e),e.dispose())),this.closeable_},a.prototype.fill=function(){this.fillWith(this.content())},a.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling,t=(this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),wt(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e),this.getChild("closeButton"));t&&n.appendChild(t.el_)},a.prototype.empty=function(){this.trigger("beforemodalempty"),_t(this.contentEl()),this.trigger("modalempty")},a.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},a.prototype.conditionalFocus_=function(){var t=c.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,!e.contains(t)&&e!==t||(this.previouslyActiveEl_=t,this.focus(),this.on(c,"keydown",this.handleKeyDown))},a.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(c,"keydown",this.handleKeyDown)},a.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,r=0;r<e.length;r++)if(n===e[r]){i=r;break}c.activeElement===this.el_&&(i=0),t.shiftKey&&0===i?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||i!==e.length-1||(e[0].focus(),t.preventDefault())}},a.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof h.HTMLAnchorElement||t instanceof h.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof h.HTMLInputElement||t instanceof h.HTMLSelectElement||t instanceof h.HTMLTextAreaElement||t instanceof h.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof h.HTMLIFrameElement||t instanceof h.HTMLObjectElement||t instanceof h.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},a);function a(t,e){u(this,a);t=f(this,He.call(this,t,e));return t.opened_=t.hasBeenOpened_=t.hasBeenFilled_=!1,t.closeable(!t.options_.uncloseable),t.content(t.options_.content),t.contentEl_=nt("div",{className:qe+"-content"},{role:"document"}),t.descEl_=nt("p",{className:qe+"-description vjs-control-text",id:t.el().getAttribute("aria-describedby")}),it(t.descEl_,t.description()),t.el_.appendChild(t.descEl_),t.el_.appendChild(t.contentEl_),t}Ve.prototype.options_={pauseOnOpen:!0,temporary:!0},y.registerComponent("ModalDialog",Ve);i(Ke,Ye=Zt),Ke.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},Ke.prototype.removeTrack=function(t){for(var e=void 0,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},Ke.prototype.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e};var Ye,ze,$e=Ke;function Ke(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=(u(this,Ke),f(this,Ye.call(this)));e.tracks_=[],Object.defineProperty(e,"length",{get:function(){return this.tracks_.length}});for(var n=0;n<t.length;n++)e.addTrack(t[n]);return e}for(ze in $e.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},$e.prototype.allowedEvents_)$e.prototype["on"+ze]=null;function Xe(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)}i(Je,Qe=$e),Je.prototype.addTrack=function(t){var e=this;t.enabled&&Xe(this,t),Qe.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){e.changing_||(e.changing_=!0,Xe(e,t),e.changing_=!1,e.trigger("change"))})};var Qe,n=Je;function Je(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];u(this,Je);for(var e=t.length-1;0<=e;e--)if(t[e].enabled){Xe(t,t[e]);break}var n=f(this,Qe.call(this,t));return n.changing_=!1,n}function Ze(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)}i(en,tn=$e),en.prototype.addTrack=function(t){var e=this;t.selected&&Ze(this,t),tn.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){e.changing_||(e.changing_=!0,Ze(e,t),e.changing_=!1,e.trigger("change"))})};var tn,t=en;function en(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];u(this,en);for(var e=t.length-1;0<=e;e--)if(t[e].selected){Ze(t,t[e]);break}var n=f(this,tn.call(this,t));return n.changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}i(rn,nn=$e),rn.prototype.addTrack=function(t){nn.prototype.addTrack.call(this,t),t.addEventListener("modechange",l(this,function(){this.queueTrigger("change")}));-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",l(this,function(){this.trigger("selectedlanguagechange")}))};var nn,e=rn;function rn(){return u(this,rn),f(this,nn.apply(this,arguments))}an.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},an.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},an.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}};r=an;function an(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];u(this,an),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}sn.prototype.setCues_=function(t){function e(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})}var n=this.length||0,i=0,r=t.length;this.cues_=t,this.length_=t.length;if(n<r)for(i=n;i<r;i++)e.call(this,i)},sn.prototype.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e};var on=sn;function sn(t){u(this,sn),sn.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var ln,un={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},cn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},dn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},hn={disabled:"disabled",hidden:"hidden",showing:"showing"},o=(i(fn,ln=Zt),fn);function fn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(u(this,fn),f(this,ln.call(this))),i={id:e.id||"vjs_track_"+At++,kind:e.kind||"",label:e.label||"",language:e.language||""};for(t in i)!function(t){Object.defineProperty(n,t,{get:function(){return i[t]},set:function(){}})}(t);return n}function pn(t){for(var e=["protocol","hostname","port","pathname","search","hash","host"],n=c.createElement("a"),i=(n.href=t,""===n.host&&"file:"!==n.protocol),r=void 0,a=(i&&((r=c.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),c.body.appendChild(r)),{}),o=0;o<e.length;o++)a[e[o]]=n[e[o]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=h.location.protocol),i&&c.body.removeChild(r),a}function gn(t){var e;return t.match(/^https?:\/\//)||((e=c.createElement("div")).innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href),t}function mn(t){var e=_n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var yn=function(t){if("string"==typeof t){t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(t)return t.pop().toLowerCase()}return""},vn=function(t){var e=h.location,t=pn(t);return(":"===t.protocol?e:t).protocol+t.host!==e.protocol+e.host},bn=Object.freeze({parseUrl:pn,getAbsoluteURL:gn,getFileExtension:yn,isCrossOrigin:vn}),_n=Object.prototype.toString;function Tn(t,e,n){if(!Sn(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),("[object Array]"===wn.call(t)?function(t,e,n){for(var i=0,r=t.length;i<r;i++)En.call(t,i)&&e.call(n,t[i],i,t)}:"string"==typeof t?function(t,e,n){for(var i=0,r=t.length;i<r;i++)e.call(n,t.charAt(i),i,t)}:function(t,e,n){for(var i in t)En.call(t,i)&&e.call(n,t[i],i,t)})(t,e,n)}var v=Object.freeze({default:mn,__moduleExports:mn}),b=M(function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),_=b.left,T=b.right,_=Object.freeze({default:b,__moduleExports:b,left:_,right:T}),Sn=v&&mn,wn=Object.prototype.toString,En=Object.prototype.hasOwnProperty;function Cn(t){if(!t)return{};var i={};return An(Dn(t).split("\n"),function(t){var e=t.indexOf(":"),n=Dn(t.slice(0,e)).toLowerCase(),t=Dn(t.slice(e+1));void 0===i[n]?i[n]=t:(e=i[n],"[object Array]"===Object.prototype.toString.call(e)?i[n].push(t):i[n]=[i[n],t])}),i}function kn(){for(var t={},e=0;e<arguments.length;e++){var n,i=arguments[e];for(n in i)xn.call(i,n)&&(t[n]=i[n])}return t}var T=Object.freeze({default:Tn,__moduleExports:Tn}),Dn=_&&b||_,An=T&&Tn,v=Object.freeze({default:Cn,__moduleExports:Cn}),xn=Object.prototype.hasOwnProperty;for(var b=Object.freeze({default:kn,__moduleExports:kn}),Ln=v&&Cn,On=b&&kn,In=Un,Rn=(Un.XMLHttpRequest=h.XMLHttpRequest||function(){},Un.XDomainRequest="withCredentials"in new Un.XMLHttpRequest?Un.XMLHttpRequest:h.XDomainRequest,["get","put","post","patch","head","delete"]),Pn=function(i){Un["delete"===i?"del":i]=function(t,e,n){return(e=Nn(t,e,n)).method=i.toUpperCase(),Fn(e)}},Mn=0;Mn<Rn.length;Mn++)Pn(Rn[Mn]);function Nn(t,e,n){var i=t;return Sn(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=On(e,{uri:t}),i.callback=n,i}function Un(t,e,n){return Fn(e=Nn(t,e,n))}function Fn(i){if(void 0===i.callback)throw new Error("callback argument missing");var r=!1,a=function(t,e,n){r||(r=!0,i.callback(t,e,n))};function o(){var t=void 0,t=u.response||u.responseText||function(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}(u);if(g)try{t=JSON.parse(t)}catch(t){}return t}function e(t){return clearTimeout(l),(t=t instanceof Error?t:new Error(""+(t||"Unknown XMLHttpRequest Error"))).statusCode=0,a(t,m)}function t(){var t,e,n;if(!s)return clearTimeout(l),t=i.useXDR&&void 0===u.status?200:1223===u.status?204:u.status,e=m,n=null,0!==t?(e={body:o(),statusCode:t,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(e.headers=Ln(u.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),a(n,e,e.body)}var n,s,l,u=i.xhr||null,c=(u=u||new(i.cors||i.useXDR?Un.XDomainRequest:Un.XMLHttpRequest)).url=i.uri||i.url,d=u.method=i.method||"GET",h=i.body||i.data,f=u.headers=i.headers||{},p=!!i.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in i&&!1!==i.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===i.json?h:i.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(t,0)},u.onload=t,u.onerror=e,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=e,u.open(d,c,!p,i.username,i.password),p||(u.withCredentials=!!i.withCredentials),!p&&0<i.timeout&&(l=setTimeout(function(){var t;s||(s=!0,u.abort("timeout"),(t=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",e(t))},i.timeout)),u.setRequestHeader)for(n in f)f.hasOwnProperty(n)&&u.setRequestHeader(n,f[n]);else if(i.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(u.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(u),u.send(h||null),u}var jn,Bn=function(t,e){var n=new h.WebVTT.Parser(h,h.vttjs,h.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),0<i.length&&(h.console&&h.console.groupCollapsed&&h.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return d.error(t)}),h.console&&h.console.groupEnd&&h.console.groupEnd()),n.flush()},Hn=(i(Wn,jn=o),Wn.prototype.addCue=function(t){var e=t;if(h.vttjs&&!(t instanceof h.vttjs.VTTCue)){for(var n in e=new h.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},Wn.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},Wn);function Wn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(u(this,Wn),!t.tech)throw new Error("A tech was not provided.");var t=m(t,{kind:dn[t.kind]||"subtitles",language:t.language||t.srclang||""}),n=hn[t.mode]||"disabled",e=t.default,i=("metadata"!==t.kind&&"chapters"!==t.kind||(n="hidden"),f(this,jn.call(this,t))),r=(i.tech_=t.tech,i.cues_=[],i.activeCues_=[],new on(i.cues_)),o=new on(i.activeCues_),s=!1,a=l(i,function(){this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1)});return"disabled"!==n&&i.tech_.ready(function(){i.tech_.on("timeupdate",a)},!0),Object.defineProperties(i,{default:{get:function(){return e},set:function(){}},mode:{get:function(){return n},set:function(t){var e=this;hn[t]&&("showing"===(n=t)&&this.tech_.ready(function(){e.tech_.on("timeupdate",a)},!0),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?r:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(s=!1,e.length!==this.activeCues_.length)s=!0;else for(var a=0;a<e.length;a++)-1===this.activeCues_.indexOf(e[a])&&(s=!0);return this.activeCues_=e,o.setCues_(this.activeCues_),o},set:function(){}}}),t.src?(i.src=t.src,function(t,r){var e={uri:t},t=vn(t);t&&(e.cors=t),In(e,l(this,function(t,e,n){if(t)return d.error(t,e);var i;r.loaded_=!0,"function"!=typeof h.WebVTT?r.tech_&&(r.tech_.on("vttjsloaded",i=function(){return Bn(n,r)}),r.tech_.on("vttjserror",function(){d.error("vttjs failed to load, stopping trying to process "+r.src),r.tech_.off("vttjsloaded",i)})):Bn(n,r)}))}(t.src,i)):i.loaded_=!0,i}Hn.prototype.allowedEvents_={cuechange:"cuechange"};i(qn,Gn=o);var Gn,_=qn;function qn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(u(this,qn),m(t,{kind:cn[t.kind]||""})),e=f(this,Gn.call(this,t)),n=!1;return Object.defineProperty(e,"enabled",{get:function(){return n},set:function(t){"boolean"==typeof t&&t!==n&&(n=t,this.trigger("enabledchange"))}}),t.enabled&&(e.enabled=t.enabled),e.loaded_=!0,e}i(Yn,Vn=o);var Vn,T=Yn;function Yn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(u(this,Yn),m(t,{kind:un[t.kind]||""})),e=f(this,Vn.call(this,t)),n=!1;return Object.defineProperty(e,"selected",{get:function(){return n},set:function(t){"boolean"==typeof t&&t!==n&&(n=t,this.trigger("selectedchange"))}}),t.selected&&(e.selected=t.selected),e}i($n,zn=Zt);var zn,v=$n;function $n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(u(this,$n),f(this,zn.call(this))),n=void 0,i=new Hn(t);return e.kind=i.kind,e.src=i.src,e.srclang=i.language,e.label=i.label,e.default=i.default,Object.defineProperties(e,{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=0,i.addEventListener("loadeddata",function(){n=2,e.trigger({type:"load",target:e})}),e}v.prototype.allowedEvents_={load:"load"},v.NONE=0,v.LOADING=1,v.LOADED=2,v.ERROR=3;var Kn={audio:{ListClass:n,TrackClass:_,capitalName:"Audio"},video:{ListClass:t,TrackClass:T,capitalName:"Video"},text:{ListClass:e,TrackClass:Hn,capitalName:"Text"}},Xn=(Object.keys(Kn).forEach(function(t){Kn[t].getterName=t+"Tracks",Kn[t].privateName=t+"Tracks_"}),{remoteText:{ListClass:e,TrackClass:Hn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:r,TrackClass:v,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),Qn=m(Kn,Xn),Jn=(Xn.names=Object.keys(Xn),Kn.names=Object.keys(Kn),Qn.names=[].concat(Xn.names).concat(Kn.names),Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Zn.prototype=t,new Zn});function Zn(){}function ti(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function ei(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}t=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null}function ni(){this.values=Jn(null)}function ii(t,e,n,i){var r,a,o=i?t.split(i):[t];for(r in o)"string"==typeof o[r]&&(2===(a=o[r].split(n)).length&&e(a[0],a[1]))}((ti.prototype=Jn(Error.prototype)).constructor=ti).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ni.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var ri={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â","&rlm;":"â","&nbsp;":"Â "},ai={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},oi={v:"title",lang:"lang"},si={rt:"ruby"};function li(r,e){function n(t){return ri[t]}for(var t,i,a,o,s,l=r.document.createElement("div"),u=l,c=[];null!==(t=function(){if(!e)return null;var t=e.match(/^([^<]*)(<[^>]*>?)?/);return t=t[1]||t[2],e=e.substr(t.length),t}());)"<"===t[0]?"/"===t[1]?c.length&&c[c.length-1]===t.substr(2).replace(">","")&&(c.pop(),u=u.parentNode):(o=ei(t.substr(1,t.length-2)))?(i=r.document.createProcessingInstruction("timestamp",o),u.appendChild(i)):(a=t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(i=function(t,e){var n=ai[t];if(!n)return null;var i=r.document.createElement(n);return i.localName=n,(n=oi[t])&&e&&(i[n]=e.trim()),i}(a[1],a[3]))&&(o=u,si[(s=i).localName]&&si[s.localName]!==o.localName||(a[2]&&(i.className=a[2].substr(1).replace("."," ")),c.push(a[1]),u.appendChild(i),u=i)):u.appendChild(r.document.createTextNode(function(t){for(;a=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(a[0],n);return t}(t)));return l}var ui=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ci(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function a(t,e){for(var n=e.childNodes.length-1;0<=n;n--)t.push(e.childNodes[n])}for(a(e,t);n=function t(e){if(!e||!e.length)return null;var n,i=e.pop(),r=i.textContent||i.innerText;return r?(n=r.match(/^.*(\n|\r)/))?n[e.length=0]:r:"ruby"===i.tagName?t(e):i.childNodes?(a(e,i),t(e)):void 0}(e);)for(var i=0;i<n.length;i++)if(function(t){for(var e=0;e<ui.length;e++){var n=ui[e];if(t>=n[0]&&t<=n[1])return 1}}(n.charCodeAt(i)))return"rtl";return"ltr"}function di(){}function hi(t,e,n){di.call(this),this.cue=e,this.cueDiv=li(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"},r=(this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:ci(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv),0);switch(e.positionAlign){case"start":r=e.position;break;case"middle":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function fi(t){var e,n,i,r;t.div&&(e=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop,r=(r=t.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects(),t=t.div.getBoundingClientRect(),r=r?Math.max(r[0]&&r[0].height||0,t.height/r.length):0),this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||e,this.bottom=t.bottom||i+(t.height||e),this.width=t.width||n,this.lineHeight=void 0!==r?r:t.lineHeight}function pi(t,e,s,l){var n,i=new fi(e),r=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||0<=t.line&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(r),o=[];if(r.snapToLines){switch(r.vertical){case"":o=["+y","-y"],n="height";break;case"rl":o=["+x","-x"],n="width";break;case"lr":o=["-x","+x"],n="width"}var u=i.lineHeight,c=u*Math.round(a),d=s[n]+u,h=o[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),a<0&&(c+=""===r.vertical?s.height:s.width,o=o.reverse()),i.move(h,c)}else{var f=i.lineHeight/s.height*100;switch(r.lineAlign){case"middle":a-=f/2;break;case"end":a-=f}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],i=new fi(e)}d=function(t,e){for(var n,i=new fi(t),r=1,a=0;a<e.length;a++){for(;t.overlapsOppositeAxis(s,e[a])||t.within(s)&&t.overlapsAny(l);)t.move(e[a]);if(t.within(s))return t;var o=t.intersectPercentage(s);o<r&&(n=new fi(t),r=o),t=new fi(i)}return n||i}(i,o);e.move(d.toCSSCompatValues(s))}function gi(){}di.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},di.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(hi.prototype=Jn(di.prototype)).constructor=hi,fi.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},fi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},fi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},fi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},fi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},fi.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},fi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},fi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},gi.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},gi.convertCueToDOMTree=function(t,e){return t&&e?li(t,e):null};gi.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return 1}(e))for(var r,a,o=[],s=fi.getSimpleBoxPosition(i),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"},u=0;u<e.length;u++)a=e[u],r=new hi(t,a,l),i.appendChild(r.div),pi(0,r,s,o),a.displayState=r.div,o.push(fi.getSimpleBoxPosition(r));else for(var c=0;c<e.length;c++)i.appendChild(e[c].displayState)},(gi.Parser=function(t,e,n){n||(n=e,e={}),e=e||{},this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof ti))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var i=this;function e(){for(var t=i.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,i.buffer=t.substr(e),n}function n(t){t.match(/X-TIMESTAMP-MAP/)?ii(t,function(t,e){var n;"X-TIMESTAMP-MAP"===t&&(t=e,n=new ni,ii(t,function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",ei(e))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")}))},/=/):ii(t,function(t,e){var r;"Region"===t&&(t=e,r=new ni,ii(t,function(t,e){switch(t){case"id":r.set(t,e);break;case"width":r.percent(t,e);break;case"lines":r.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var i=new ni;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(t+"X",i.get("x")),r.set(t+"Y",i.get("y"));break;case"scroll":r.alt(t,e,["up"])}},/=/,/\s/),r.has("id")&&((t=new(i.vttjs.VTTRegion||i.window.VTTRegion)).width=r.get("width",100),t.lines=r.get("lines",3),t.regionAnchorX=r.get("regionanchorX",0),t.regionAnchorY=r.get("regionanchorY",100),t.viewportAnchorX=r.get("viewportanchorX",0),t.viewportAnchorY=r.get("viewportanchorY",100),t.scroll=r.get("scroll",""),i.onregion&&i.onregion(t),i.regionList.push({id:r.get("id"),region:t})))},/:/)}t&&(i.buffer+=i.decoder.decode(t,{stream:!0}));try{if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var r,a=(r=e()).match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new ti(ti.Errors.BadSignature);i.state="HEADER"}for(var o=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(o?o=!1:r=e(),i.state){case"HEADER":/:/.test(r)?n(r):r||(i.state="ID");continue;case"NOTE":r||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){i.state="NOTE";break}if(!r)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===r.indexOf("--\x3e")){i.cue.id=r;continue}case"CUE":try{!function(e,t,a){var n,o,i=e;function r(){var t=ei(e);if(null===t)throw new ti(ti.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function s(){e=e.replace(/^\s+/,"")}if(s(),t.startTime=r(),s(),"--\x3e"!==e.substr(0,3))throw new ti(ti.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),s(),t.endTime=r(),s(),n=e,t=t,o=new ni,ii(n,function(t,e){switch(t){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===e){o.set(t,a[n].region);break}break;case"vertical":o.alt(t,e,["rl","lr"]);break;case"line":var i=e.split(","),r=i[0];o.integer(t,r),o.percent(t,r)&&o.set("snapToLines",!1),o.alt(t,r,["auto"]),2===i.length&&o.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=e.split(","),o.percent(t,i[0]),2===i.length&&o.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":o.percent(t,e);break;case"align":o.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),t.region=o.get("region",null),t.vertical=o.get("vertical",""),t.line=o.get("line","auto"),t.lineAlign=o.get("lineAlign","start"),t.snapToLines=o.get("snapToLines",!0),t.size=o.get("size",100),t.align=o.get("align","middle"),t.position=o.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=o.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(r,i.cue,i.regionList)}catch(t){i.reportOrThrowError(t),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(o=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=r;continue;case"BADCUE":r||(i.state="ID");continue}}}catch(t){i.reportOrThrowError(t),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),!e.cue&&"HEADER"!==e.state||(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new ti(ti.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var b=gi,o=Object.freeze({default:b,__moduleExports:b}),mi={"":1,lr:1,rl:1},yi={start:1,middle:1,end:1,left:1,right:1};function vi(t){return"string"==typeof t&&(!!yi[t.toLowerCase()]&&t.toLowerCase())}function bi(t,e,n){this.hasBeenReset=!1;var i="",r=!1,a=t,o=e,s=n,l=null,u="",c=!0,d="auto",h="start",f=50,p="middle",g=50,m="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(t){i=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");a=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");o=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(t){l=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(t){t="string"==typeof(t=t)&&(!!mi[t.toLowerCase()]&&t.toLowerCase());if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");u=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(t){t=vi(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return f},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");f=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){t=vi(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(t){t=vi(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}}}),this.displayState=void 0}bi.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var n=Object.freeze({default:bi,__moduleExports:bi}),_i={"":!0,up:!0};function Ti(t){return"number"==typeof t&&0<=t&&t<=100}function Si(){var e=100,n=3,i=0,r=100,a=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!Ti(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return n},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");n=t}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!Ti(t))throw new Error("RegionAnchorX must be between 0 and 100.");r=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!Ti(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Ti(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!Ti(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return s},set:function(t){t="string"==typeof(t=t)&&(!!_i[t.toLowerCase()]&&t.toLowerCase());if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}var t=Object.freeze({default:Si,__moduleExports:Si}),wi=o&&b,Ei=n&&bi,Ci=t&&Si,ki=M(function(t){var t=t.exports={WebVTT:wi,VTTCue:Ei,VTTRegion:Ci},e=(h.vttjs=t,h.WebVTT=t.WebVTT,t.VTTCue),n=t.VTTRegion,i=h.VTTCue,r=h.VTTRegion;t.shim=function(){h.VTTCue=e,h.VTTRegion=n},t.restore=function(){h.VTTCue=i,h.VTTRegion=r},h.VTTCue||t.shim()});ki.WebVTT,ki.VTTCue,ki.VTTRegion;i(w,Di=y),w.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},w.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},w.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},w.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(l(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),1===(this.bufferedPercent_=t)&&this.stopTrackingProgress()}),500)},w.prototype.onDurationChange=function(t){this.duration_=this.duration()},w.prototype.buffered=function(){return De(0,0)},w.prototype.bufferedPercent=function(){return Ae(this.buffered(),this.duration_)},w.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},w.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},w.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},w.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},w.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},w.prototype.dispose=function(){this.clearTracks(Kn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),Di.prototype.dispose.call(this)},w.prototype.clearTracks=function(t){var r=this;(t=[].concat(t)).forEach(function(t){for(var e=r[t+"Tracks"]()||[],n=e.length;n--;){var i=e[n];"text"===t&&r.removeRemoteTextTrack(i),e.removeTrack(i)}})},w.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},w.prototype.reset=function(){},w.prototype.error=function(t){return void 0!==t&&(this.error_=new Me(t),this.trigger("error")),this.error_},w.prototype.played=function(){return this.hasStarted_?De(0,0):De()},w.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},w.prototype.initTrackListeners=function(){var r=this;Kn.names.forEach(function(t){function e(){r.trigger(t+"trackchange")}var n=Kn[t],i=r[n.getterName]();i.addEventListener("removetrack",e),i.addEventListener("addtrack",e),r.on("dispose",function(){i.removeEventListener("removetrack",e),i.removeEventListener("addtrack",e)})})},w.prototype.addWebVttScript_=function(){var t,e=this;h.WebVTT||(c.body.contains(this.el())?!this.options_["vtt.js"]&&z(ki)&&0<Object.keys(ki).length?this.trigger("vttjsloaded"):((t=c.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),h.WebVTT=!0,this.el().parentNode.appendChild(t)):this.ready(this.addWebVttScript_))},w.prototype.emulateTextTracks=function(){function e(t){return r.addTrack(t.track)}function n(t){return r.removeTrack(t.track)}function i(){o();for(var t=0;t<r.length;t++){var e=r[t];e.removeEventListener("cuechange",o),"showing"===e.mode&&e.addEventListener("cuechange",o)}}var t=this,r=this.textTracks(),a=this.remoteTextTracks(),o=(a.on("addtrack",e),a.on("removetrack",n),this.addWebVttScript_(),function(){return t.trigger("texttrackchange")});i(),r.addEventListener("change",i),r.addEventListener("addtrack",i),r.addEventListener("removetrack",i),this.on("dispose",function(){a.off("addtrack",e),a.off("removetrack",n),r.removeEventListener("change",i),r.removeEventListener("addtrack",i),r.removeEventListener("removetrack",i);for(var t=0;t<r.length;t++)r[t].removeEventListener("cuechange",o)})},w.prototype.addTextTrack=function(t,e,n){if(t)return function(t,e,n,i,r){var a=4<arguments.length&&void 0!==r?r:{},o=t.textTracks(),a=(a.kind=e,n&&(a.label=n),i&&(a.language=i),a.tech=t,new Qn.text.TrackClass(a));return o.addTrack(a),a}(this,t,e,n);throw new Error("TextTrack kind is required but was not provided")},w.prototype.createRemoteTextTrack=function(t){t=m(t,{tech:this});return new Xn.remoteTextEl.TrackClass(t)},w.prototype.addRemoteTextTrack=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(e);return!0!==n&&!1!==n&&(d.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==n&&this.ready(function(){return t.autoRemoteTextTracks_.addTrack(i.track)}),i},w.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},w.prototype.getVideoPlaybackQuality=function(){return{}},w.prototype.setPoster=function(){},w.prototype.playsinline=function(){},w.prototype.setPlaysinline=function(){},w.prototype.overrideNativeAudioTracks=function(){},w.prototype.overrideNativeVideoTracks=function(){},w.prototype.canPlayType=function(){return""},w.canPlayType=function(){return""},w.canPlaySource=function(t,e){return w.canPlayType(t.type)},w.isTech=function(t){return t.prototype instanceof w||t instanceof w||t===w},w.registerTech=function(t,e){if(w.techs_||(w.techs_={}),!w.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!w.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(w.canPlaySource)return t=g(t),w.techs_[t]=e,"Tech"!==t&&w.defaultTechOrder_.push(t),e;throw new Error("Techs must have a static canPlaySource method on them")},w.getTech=function(t){if(t)return t=g(t),w.techs_&&w.techs_[t]?w.techs_[t]:h&&h.videojs&&h.videojs[t]?(d.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),h.videojs[t]):void 0};var Di,S=w;function w(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=(u(this,w),e.reportTouchActivity=!1,f(this,Di.call(this,null,e,t)));return n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Qn.names.forEach(function(t){t=Qn[t];e&&e[t.getterName]&&(n[t.privateName]=e[t.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(n["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Qn.text.ListClass,n.initTrackListeners(),e.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}Qn.names.forEach(function(t){var e=Qn[t];S.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),S.prototype.featuresVolumeControl=!0,S.prototype.featuresMuteControl=!0,S.prototype.featuresFullscreenResize=!1,S.prototype.featuresPlaybackRate=!1,S.prototype.featuresProgressEvents=!1,S.prototype.featuresSourceset=!1,S.prototype.featuresTimeupdateEvents=!1,S.prototype.featuresNativeTextTracks=!1,S.withSourceHandlers=function(r){r.registerSourceHandler=function(t,e){var n=(n=r.sourceHandlers)||(r.sourceHandlers=[]);void 0===e&&(e=n.length),n.splice(e,0,t)},r.canPlayType=function(t){for(var e,n=r.sourceHandlers||[],i=0;i<n.length;i++)if(e=n[i].canPlayType(t))return e;return""},r.selectSourceHandler=function(t,e){for(var n=r.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,e))return n[i];return null},r.canPlaySource=function(t,e){var n=r.selectSourceHandler(t,e);return n?n.canHandleSource(t,e):""};["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(t){var e=r.selectSourceHandler(t,this.options_);e||(r.nativeSourceHandler?e=r.nativeSourceHandler:d.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),e!==r.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=e.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},y.registerComponent("Tech",S),S.registerTech("Tech",S),S.defaultTechOrder_=[];var Ai={},xi={},Li={};function Oi(t,e,n){t.setTimeout(function(){return function n(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];var r=arguments[2];var a=arguments[3];var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];var s=5<arguments.length&&void 0!==arguments[5]&&arguments[5];var e=t[0],l=t.slice(1);if("string"==typeof e)n(i,Ai[e],r,a,o,s);else if(e){var u=Ui(a,e);if(!u.setSource)return o.push(u),n(i,l,r,a,o,s);u.setSource(p({},i),function(t,e){if(t)return n(i,l,r,a,o,s);o.push(u),n(e,i.type===e.type?l:Ai[e.type],r,a,o,s)})}else l.length?n(i,l,r,a,o,s):s?r(i,o):n(i,Ai["*"],r,a,o,!0)}(e,Ai[e.type],n,t)},1)}function Ii(t,e,n,i){for(var r=3<arguments.length&&void 0!==i?i:null,a="call"+g(n),a=t.reduce(Ni(a),r),r=a===Li,a=r?null:e[n](a),o=t,s=n,l=a,u=r,c=o.length-1;0<=c;c--){var d=o[c];d[s]&&d[s](u,l)}return a}var Ri={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Pi={setCurrentTime:1},Mi={play:1,pause:1};function Ni(n){return function(t,e){return t===Li?Li:e[n]?e[n](t):t}}function Ui(t,e){var n=xi[t.id()],i=null;if(null==n)return i=e(t),xi[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],o=a[0],a=a[1];o===e&&(i=a)}return null===i&&(i=e(t),n.push([e,i])),i}function Fi(t){var e;return t=Array.isArray(t)?(e=[],t.forEach(function(t){t=Fi(t),Array.isArray(t)?e=e.concat(t):Y(t)&&e.push(t)}),e):"string"==typeof t&&t.trim()?[Hi({src:t})]:Y(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Hi(t)]:[]}var ji={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Bi=function(){var t=yn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return ji[t.toLowerCase()]||""};function Hi(t){var e=Bi(t.src);return!t.type&&e&&(t.type=e),t}i(Gi,Wi=y);var Wi,e=Gi;function Gi(t,e,n){u(this,Gi);var i=m({createEl:!1},e),i=f(this,Wi.call(this,t,i,n));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)t.src(e.playerOptions.sources);else for(var r=0,a=e.playerOptions.techOrder;r<a.length;r++){var o=g(a[r]),s=S.getTech(o);if((s=o?s:y.getComponent(o))&&s.isSupported()){t.loadTech_(o);break}}return i}y.registerComponent("MediaLoader",e);i(Vi,qi=y),Vi.prototype.createEl=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=p({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},e),t=("button"===t&&d.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=p({role:"button"},n),this.tabIndex_=e.tabIndex,qi.prototype.createEl.call(this,t,e,n));return this.createControlTextEl(t),t},Vi.prototype.dispose=function(){this.controlTextEl_=null,qi.prototype.dispose.call(this)},Vi.prototype.createControlTextEl=function(t){return this.controlTextEl_=nt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},Vi.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,it(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},Vi.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+qi.prototype.buildCSSClass.call(this)},Vi.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},Vi.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},Vi.prototype.handleClick=function(t){},Vi.prototype.handleFocus=function(t){Bt(c,"keydown",l(this,this.handleKeyPress))},Vi.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):qi.prototype.handleKeyPress&&qi.prototype.handleKeyPress.call(this,t)},Vi.prototype.handleBlur=function(t){Ht(c,"keydown",l(this,this.handleKeyPress))};var qi,r=Vi;function Vi(t,e){u(this,Vi);t=f(this,qi.call(this,t,e));return t.emitTapEvents(),t.enable(),t}y.registerComponent("ClickableComponent",r);i(zi,Yi=r),zi.prototype.dispose=function(){this.player().off("posterchange",this.update),Yi.prototype.dispose.call(this)},zi.prototype.createEl=function(){return nt("div",{className:"vjs-poster",tabIndex:-1})},zi.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},zi.prototype.setSrc=function(t){t=t?'url("'+t+'")':"";this.el_.style.backgroundImage=t},zi.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?je(this.player_.play()):this.player_.pause())};var Yi,v=zi;function zi(t,e){u(this,zi);e=f(this,Yi.call(this,t,e));return e.update(),t.on("posterchange",l(e,e.update)),e}y.registerComponent("PosterImage",v);var $i={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ki(t,e){var n=void 0;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Xi(t,e,n){try{t.style[e]=n}catch(t){return}}i(Ji,Qi=y),Ji.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,r=void 0,a=void 0,o=0;o<e.length;o++){var s=e[o];n&&n.enabled&&n.language===s.language?a=s.kind!==n.kind&&a||s:n&&!n.enabled?r=i=a=null:s.default&&("descriptions"!==s.kind||i?s.kind in t&&!r&&(r=s):i=s)}a?a.mode="showing":r?r.mode="showing":i&&(i.mode="showing")},Ji.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},Ji.prototype.createEl=function(){return Qi.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},Ji.prototype.clearDisplay=function(){"function"==typeof h.WebVTT&&h.WebVTT.processCues(h,[],this.el_)},Ji.prototype.updateDisplay=function(){for(var t=this.player_.textTracks(),e=(this.clearDisplay(),null),n=null,i=t.length;i--;){var r=t[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},Ji.prototype.updateForTrack=function(t){if("function"==typeof h.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(h.WebVTT.processCues(h,e,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),r=e.length;r--;){var a,o=e[r];o&&(o=o.displayState,i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&Xi(o.firstChild,"color",Ki(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Xi(o.firstChild,"backgroundColor",Ki(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Xi(o,"backgroundColor",Ki(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent&&(a=h.parseFloat(o.style.fontSize),o.style.fontSize=a*i.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"),i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=$i[i.fontFamily]))}}};var Qi,o=Ji;function Ji(n,t,e){u(this,Ji);t=f(this,Qi.call(this,n,t,e));return n.on("loadstart",l(t,t.toggleDisplay)),n.on("texttrackchange",l(t,t.updateDisplay)),n.on("loadstart",l(t,t.preselectTrack)),n.ready(l(t,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",l(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}})),t}y.registerComponent("TextTrackDisplay",o);i(tr,Zi=y),tr.prototype.createEl=function(){var t=this.player_.isAudio(),t=this.localize(t?"Audio Player":"Video Player"),t=nt("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),e=Zi.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return e.appendChild(t),e};var Zi,b=tr;function tr(){return u(this,tr),f(this,Zi.apply(this,arguments))}y.registerComponent("LoadingSpinner",b);i(ir,er=r),ir.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=(t="button",e=p({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=p({type:"button"},n),y.prototype.createEl.call(this,t,e,n));return this.createControlTextEl(e),e},ir.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return d.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),y.prototype.addChild.call(this,t,e)},ir.prototype.enable=function(){er.prototype.enable.call(this),this.el_.removeAttribute("disabled")},ir.prototype.disable=function(){er.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},ir.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&er.prototype.handleKeyPress.call(this,t)};var er,nr=ir;function ir(){return u(this,ir),f(this,er.apply(this,arguments))}y.registerComponent("Button",nr);i(ar,rr=nr),ar.prototype.buildCSSClass=function(){return"vjs-big-play-button"},ar.prototype.handleClick=function(t){var e,n=this.player_.play();this.mouseused_&&t.clientX&&t.clientY?je(n):(t=this.player_.getChild("controlBar"),(e=t&&t.getChild("playToggle"))?(t=function(){return e.focus()},Fe(n)?n.then(t,function(){}):this.setTimeout(t,1)):this.player_.focus())},ar.prototype.handleKeyPress=function(t){this.mouseused_=!1,rr.prototype.handleKeyPress.call(this,t)},ar.prototype.handleMouseDown=function(t){this.mouseused_=!0};var rr,n=ar;function ar(t,e){u(this,ar);t=f(this,rr.call(this,t,e));return t.mouseused_=!1,t.on("mousedown",t.handleMouseDown),t}n.prototype.controlText_="Play Video",y.registerComponent("BigPlayButton",n);i(sr,or=nr),sr.prototype.buildCSSClass=function(){return"vjs-close-button "+or.prototype.buildCSSClass.call(this)},sr.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})};var or,t=sr;function sr(t,e){u(this,sr);t=f(this,or.call(this,t,e));return t.controlText(e&&e.controlText||t.localize("Close")),t}y.registerComponent("CloseButton",t);i(ur,lr=nr),ur.prototype.buildCSSClass=function(){return"vjs-play-control "+lr.prototype.buildCSSClass.call(this)},ur.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},ur.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},ur.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},ur.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},ur.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)};var lr,e=ur;function ur(t,e){u(this,ur);e=f(this,lr.call(this,t,e));return e.on(t,"play",e.handlePlay),e.on(t,"pause",e.handlePause),e.on(t,"ended",e.handleEnded),e}e.prototype.controlText_="Play",y.registerComponent("PlayToggle",e);function cr(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),a=Math.floor(e/60%60),e=Math.floor(e/3600);return(r=0<(r=!isNaN(t)&&t!==1/0?r:i=n="-")||0<e?r+":":"")+(i=((r||10<=a)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)}var dr=cr;function hr(t){return dr(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:t)}i(pr,fr=y),pr.prototype.createEl=function(t){var e=this.buildCSSClass(),n=fr.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"Â </span>"});return this.contentEl_=nt("span",{className:e+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},pr.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,fr.prototype.dispose.call(this)},pr.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=c.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},pr.prototype.formatTime_=function(t){return hr(t)},pr.prototype.updateFormattedTime_=function(t){t=this.formatTime_(t);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},pr.prototype.updateContent=function(t){};var fr,v=pr;function pr(t,e){u(this,pr);e=f(this,fr.call(this,t,e));return e.throttledUpdateContent=Qt(l(e,e.updateContent),25),e.on(t,"timeupdate",e.throttledUpdateContent),e}v.prototype.labelText_="Time",v.prototype.controlText_="Time",y.registerComponent("TimeDisplay",v);i(mr,gr=v),mr.prototype.buildCSSClass=function(){return"vjs-current-time"},mr.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},mr.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())};var gr,o=mr;function mr(t,e){u(this,mr);e=f(this,gr.call(this,t,e));return e.on(t,"ended",e.handleEnded),e}o.prototype.labelText_="Current Time",o.prototype.controlText_="Current Time",y.registerComponent("CurrentTimeDisplay",o);i(vr,yr=v),vr.prototype.buildCSSClass=function(){return"vjs-duration"},vr.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))};var yr,b=vr;function vr(t,e){u(this,vr);e=f(this,yr.call(this,t,e));return e.on(t,"durationchange",e.updateContent),e.on(t,"loadedmetadata",e.throttledUpdateContent),e}b.prototype.labelText_="Duration",b.prototype.controlText_="Duration",y.registerComponent("DurationDisplay",b);i(_r,br=y),_r.prototype.createEl=function(){return br.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};var br,n=_r;function _r(){return u(this,_r),f(this,br.apply(this,arguments))}y.registerComponent("TimeDivider",n);i(Sr,Tr=v),Sr.prototype.buildCSSClass=function(){return"vjs-remaining-time"},Sr.prototype.formatTime_=function(t){return"-"+Tr.prototype.formatTime_.call(this,t)},Sr.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},Sr.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)};var Tr,t=Sr;function Sr(t,e){u(this,Sr);e=f(this,Tr.call(this,t,e));return e.on(t,"durationchange",e.throttledUpdateContent),e.on(t,"ended",e.handleEnded),e}t.prototype.labelText_="Remaining Time",t.prototype.controlText_="Remaining Time",y.registerComponent("RemainingTimeDisplay",t);i(Er,wr=y),Er.prototype.createEl=function(){var t=wr.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=nt("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"Â </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},Er.prototype.dispose=function(){this.contentEl_=null,wr.prototype.dispose.call(this)},Er.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()};var wr,e=Er;function Er(t,e){u(this,Er);t=f(this,wr.call(this,t,e));return t.updateShowing(),t.on(t.player(),"durationchange",t.updateShowing),t}y.registerComponent("LiveDisplay",e);i(kr,Cr=y),kr.prototype.enabled=function(){return this.enabled_},kr.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},kr.prototype.disable=function(){var t;this.enabled()&&(t=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},kr.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e.className=e.className+" vjs-slider",e=p({tabIndex:0},e),n=p({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),Cr.prototype.createEl.call(this,t,e,n)},kr.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument,n="vjs-selectionbar-arrow-RS"===t.srcElement.className;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||be||t.preventDefault(),pt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp),n||(this.on(e,"mousemove",this.handleMouseMove),this.on(e,"touchmove",this.handleMouseMove),this.handleMouseMove(t))},kr.prototype.handleMouseMove=function(t){},kr.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;gt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},kr.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),n=this.bar;if(n)return t=(100*(e="number"!=typeof e||e!=e||e<0||e===1/0?0:e)).toFixed(2)+"%",n=n.el().style,this.vertical()?n.height=t:n.width=t,e}},kr.prototype.calculateDistance=function(t){t=vt(this.el_,t);return this.vertical()?t.y:t.x},kr.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},kr.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},kr.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},kr.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},kr.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")};var Cr,o=kr;function kr(t,e){u(this,kr);t=f(this,Cr.call(this,t,e));return t.bar=t.getChild(t.options_.barName),t.vertical(!!t.options_.vertical),t.enable(),t}y.registerComponent("Slider",o);i(Ar,Dr=y),Ar.prototype.createEl=function(){return Dr.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},Ar.prototype.dispose=function(){this.partEls_=null,Dr.prototype.dispose.call(this)},Ar.prototype.update=function(t){function e(t,e){return 100*(1<=(t=t/e||0)?1:t)+"%"}var n=this.player_.buffered(),i=this.player_.duration(),r=this.player_.bufferedEnd(),a=this.partEls_;this.el_.style.width=e(r,i);for(var o=0;o<n.length;o++){var s=n.start(o),l=n.end(o),u=a[o];u||(u=this.el_.appendChild(nt()),a[o]=u),u.style.left=e(s,r),u.style.width=e(l-s,r)}for(var c=a.length;c>n.length;c--)this.el_.removeChild(a[c-1]);a.length=n.length};var Dr,b=Ar;function Ar(t,e){u(this,Ar);e=f(this,Dr.call(this,t,e));return e.partEls_=[],e.on(t,"progress",e.update),e}y.registerComponent("LoadProgressBar",b);i(Lr,xr=y),Lr.prototype.createEl=function(){return xr.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},Lr.prototype.update=function(t,e,n){var i,r=mt(this.el_),a=mt(this.player_.el()),e=t.width*e;a&&r&&(i=t.left-a.left+e,e=t.width-e+(a.right-t.right),i<(a=r.width/2)?a+=a-i:e<a&&(a=e),a<0?a=0:a>r.width&&(a=r.width),this.el_.style.right="-"+a+"px",it(this.el_,n))};var xr,n=Lr;function Lr(){return u(this,Lr),f(this,xr.apply(this,arguments))}y.registerComponent("TimeTooltip",n);i(Ir,Or=y),Ir.prototype.createEl=function(){return Or.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},Ir.prototype.update=function(n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=hr(r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),r.player_.duration()),e=r.getChild("timeTooltip");e&&e.update(n,i,t)})};var Or,v=Ir;function Ir(){return u(this,Ir),f(this,Or.apply(this,arguments))}v.prototype.options_={children:[]},pe||ge||v.prototype.options_.children.push("timeTooltip"),y.registerComponent("PlayProgressBar",v);i(Pr,Rr=y),Pr.prototype.createEl=function(){return Rr.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},Pr.prototype.update=function(e,n){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=i.player_.duration(),t=hr(n*t,t);i.el_.style.left=e.width*n+"px",i.getChild("timeTooltip").update(e,n,t)})};var Rr,t=Pr;function Pr(t,e){u(this,Pr);t=f(this,Rr.call(this,t,e));return t.update=Qt(l(t,t.update),25),t}t.prototype.options_={children:["timeTooltip"]},y.registerComponent("MouseTimeDisplay",t);i(Nr,Mr=o),Nr.prototype.setEventHandlers_=function(){var t=this;this.update=Qt(l(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},Nr.prototype.createEl=function(){return Mr.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},Nr.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[hr(t,n),hr(n,n)],"{1} of {2}")),this.bar.update(mt(this.el_),e)},Nr.prototype.update=function(t){var e=Mr.prototype.update.call(this);return this.update_(this.getCurrentTime_(),e),e},Nr.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},Nr.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},Nr.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return 1<=t?1:t||0},Nr.prototype.handleMouseDown=function(t){Et(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),Mr.prototype.handleMouseDown.call(this,t))},Nr.prototype.handleMouseMove=function(t){Et(t)&&((t=this.calculateDistance(t)*this.player_.duration())===this.player_.duration()&&(t-=.1),this.player_.currentTime(t))},Nr.prototype.enable=function(){Mr.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},Nr.prototype.disable=function(){Mr.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},Nr.prototype.handleMouseUp=function(t){Mr.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&je(this.player_.play())},Nr.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},Nr.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},Nr.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},Nr.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):Mr.prototype.handleKeyPress&&Mr.prototype.handleKeyPress.call(this,t)};var Mr,e=Nr;function Nr(t,e){u(this,Nr);t=f(this,Mr.call(this,t,e));return t.setEventHandlers_(),t}e.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},pe||ge||e.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),e.prototype.playerEvent="timeupdate",y.registerComponent("SeekBar",e);i(Fr,Ur=y),Fr.prototype.createEl=function(){return Ur.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},Fr.prototype.handleMouseMove=function(t){var e,n,i=this.getChild("seekBar");i&&(e=i.getChild("mouseTimeDisplay"),n=mt(i=i.el()),1<(i=vt(i,t).x)?i=1:i<0&&(i=0),e&&e.update(n,i))},Fr.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},Fr.prototype.enabled=function(){return this.enabled_},Fr.prototype.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},Fr.prototype.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},Fr.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Fr.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)};var Ur,b=Fr;function Fr(t,e){u(this,Fr);t=f(this,Ur.call(this,t,e));return t.handleMouseMove=Qt(l(t,t.handleMouseMove),25),t.throttledHandleMouseSeek=Qt(l(t,t.handleMouseSeek),25),t.enable(),t}b.prototype.options_={children:["seekBar"]},y.registerComponent("ProgressControl",b);i(Br,jr=nr),Br.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+jr.prototype.buildCSSClass.call(this)},Br.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},Br.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()};var jr,n=Br;function Br(t,e){u(this,Br);e=f(this,jr.call(this,t,e));return e.on(t,"fullscreenchange",e.handleFullscreenChange),!1===c[xe.fullscreenEnabled]&&e.disable(),e}n.prototype.controlText_="Fullscreen",y.registerComponent("FullscreenToggle",n);i(Wr,Hr=y),Wr.prototype.createEl=function(){return Hr.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};var Hr,v=Wr;function Wr(){return u(this,Wr),f(this,Hr.apply(this,arguments))}y.registerComponent("VolumeLevel",v);i(qr,Gr=o),qr.prototype.createEl=function(){return Gr.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},qr.prototype.handleMouseDown=function(t){Et(t)&&Gr.prototype.handleMouseDown.call(this,t)},qr.prototype.handleMouseMove=function(t){Et(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},qr.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},qr.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},qr.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},qr.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},qr.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},qr.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},qr.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})};var Gr,t=qr;function qr(t,e){u(this,qr);var n=f(this,Gr.call(this,t,e));return n.on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready(function(){return n.updateARIAAttributes()}),n}t.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},t.prototype.playerEvent="volumechange",y.registerComponent("VolumeBar",t);i(Yr,Vr=y),Yr.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),Vr.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},Yr.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Yr.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},Yr.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)};var Vr,e=Yr;function Yr(t){var e,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=(u(this,Yr),i.vertical=i.vertical||!1,void 0!==i.volumeBar&&!z(i.volumeBar)||(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),f(this,Vr.call(this,t,i)));return e=r,(n=t).tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}),r.throttledHandleMouseMove=Qt(l(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}e.prototype.options_={children:["volumeBar"]},y.registerComponent("VolumeControl",e);i($r,zr=nr),$r.prototype.buildCSSClass=function(){return"vjs-mute-control "+zr.prototype.buildCSSClass.call(this)},$r.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();0===e?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},$r.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},$r.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;pe&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)st(this.el_,"vjs-vol-"+n);ot(this.el_,"vjs-vol-"+e)},$r.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)};var zr,b=$r;function $r(t,e){u(this,$r);var n,i,e=f(this,zr.call(this,t,e));return n=e,(i=t).tech_&&!i.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(i,"loadstart",function(){i.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")}),e.on(t,["loadstart","volumechange"],e.update),e}b.prototype.controlText_="Mute",y.registerComponent("MuteToggle",b);i(Xr,Kr=y),Xr.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},Xr.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},Xr.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},Xr.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),Kr.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})};var Kr,n=Xr;function Xr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(u(this,Xr),void 0!==e.inline?e.inline=e.inline:e.inline=!0,void 0!==e.volumeControl&&!z(e.volumeControl)||(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),f(this,Kr.call(this,t,e)));return e.on(t,["loadstart"],e.volumePanelState_),e.on(e.volumeControl,["slideractive"],e.sliderActive_),e.on(e.volumeControl,["sliderinactive"],e.sliderInactive_),e}n.prototype.options_={children:["muteToggle","volumeControl"]},y.registerComponent("VolumePanel",n);i(Zr,Qr=y),Zr.prototype.addItem=function(e){this.addChild(e),e.on("click",l(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},Zr.prototype.createEl=function(){var t=this.options_.contentElType||"ul",t=(this.contentEl_=nt(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),Qr.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}));return t.appendChild(this.contentEl_),Bt(t,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),t},Zr.prototype.dispose=function(){this.contentEl_=null,Qr.prototype.dispose.call(this)},Zr.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},Zr.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},Zr.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},Zr.prototype.focus=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),0<e.length&&(t<0?t=0:t>=e.length&&(t=e.length-1),e[this.focusedChild_=t].el_.focus())};var Qr,Jr=Zr;function Zr(t,e){u(this,Zr);t=f(this,Qr.call(this,t,e));return e&&(t.menuButton_=e.menuButton),t.focusedChild_=-1,t.on("keydown",t.handleKeyPress),t}y.registerComponent("Menu",Jr);i(E,ta=y),E.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},E.prototype.createMenu=function(){var t,e=new Jr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(t=nt("li",{className:"vjs-menu-title",innerHTML:g(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,e.children_.unshift(t),rt(t,e.contentEl())),this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},E.prototype.createItems=function(){},E.prototype.createEl=function(){return ta.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},E.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button",e=(!0===this.options_.inline?t+="-inline":t+="-popup",nr.prototype.buildCSSClass());return"vjs-menu-button "+t+" "+e+" "+ta.prototype.buildCSSClass.call(this)},E.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+ta.prototype.buildCSSClass.call(this)},E.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},E.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",l(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},E.prototype.focus=function(){this.menuButton_.focus()},E.prototype.blur=function(){this.menuButton_.blur()},E.prototype.handleFocus=function(){Bt(c,"keydown",l(this,this.handleKeyPress))},E.prototype.handleBlur=function(){Ht(c,"keydown",l(this,this.handleKeyPress))},E.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},E.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},E.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),pe&&tt()||this.menu.focus())},E.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},E.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},E.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()};var ta,v=E;function E(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(u(this,E),f(this,ta.call(this,t,e))),e=(n.menuButton_=new nr(t,e),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true"),nr.prototype.buildCSSClass());return n.menuButton_.el_.className=n.buildCSSClass()+" "+e,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}y.registerComponent("MenuButton",v);i(na,ea=v);var ea,o=na;function na(t,e){u(this,na);var n=e.tracks,t=f(this,ea.call(this,t,e));if(t.items.length<=1&&t.hide(),!n)return f(t);var i=l(t,t.update);return n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),t.player_.on("ready",i),t.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}),t}y.registerComponent("TrackButton",o);i(ra,ia=r),ra.prototype.createEl=function(t,e,n){return this.nonIconControl=!0,ia.prototype.createEl.call(this,"li",p({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},e),n)},ra.prototype.handleClick=function(t){this.selected(!0)},ra.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))};var ia,t=ra;function ra(t,e){u(this,ra);t=f(this,ia.call(this,t,e));return t.selectable=e.selectable,t.isSelected_=e.selected||!1,t.multiSelectable=e.multiSelectable,t.selected(t.isSelected_),t.selectable?t.multiSelectable?t.el_.setAttribute("role","menuitemcheckbox"):t.el_.setAttribute("role","menuitemradio"):t.el_.setAttribute("role","menuitem"),t}y.registerComponent("MenuItem",t);i(sa,aa=t),sa.prototype.handleClick=function(t){var e=this.track.kind,n=this.track.kinds,i=this.player_.textTracks(),n=n||[e];if(aa.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var a=i[r];a===this.track&&-1<n.indexOf(a.kind)?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},sa.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},sa.prototype.handleSelectedLanguageChange=function(t){var e;"showing"!==this.track.mode||(e=this.player_.cache_.selectedLanguage)&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind})},sa.prototype.dispose=function(){this.track=null,aa.prototype.dispose.call(this)};var aa,oa=sa;function sa(t,e){u(this,sa);function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];s.handleTracksChange.apply(s,e)}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];s.handleSelectedLanguageChange.apply(s,e)}var r,a=e.track,o=t.textTracks(),s=(e.label=a.label||a.language||"Unknown",e.selected="showing"===a.mode,f(this,aa.call(this,t,e)));s.track=a;return t.on(["loadstart","texttrackchange"],n),o.addEventListener("change",n),o.addEventListener("selectedlanguagechange",i),s.on("dispose",function(){t.off(["loadstart","texttrackchange"],n),o.removeEventListener("change",n),o.removeEventListener("selectedlanguagechange",i)}),void 0===o.onchange&&(r=void 0,s.on(["tap","click"],function(){if("object"!==Se(h.Event))try{r=new h.Event("change")}catch(t){}r||(r=c.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(r)})),s.handleTracksChange(),s}y.registerComponent("TextTrackMenuItem",oa);i(ca,la=oa),ca.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(-1<this.options_.kinds.indexOf(a.kind)&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},ca.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(-1<["captions","descriptions","subtitles"].indexOf(a.kind)&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})};var la,ua=ca;function ca(t,e){return u(this,ca),e.track={player:t,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,f(this,la.call(this,t,e))}y.registerComponent("OffTextTrackMenuItem",ua);i(ha,da=o),ha.prototype.createItems=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:oa,n=void 0,i=(this.label_&&(n=this.label_+" off"),t.push(new ua(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1,this.player_.textTracks());Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var a,o=i[r];-1<this.kinds_.indexOf(o.kind)&&((a=new e(this.player_,{track:o,selectable:!0,multiSelectable:!1})).addClass("vjs-"+o.kind+"-menu-item"),t.push(a))}return t};var da,e=ha;function ha(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,ha),e.tracks=t.textTracks(),f(this,da.call(this,t,e))}y.registerComponent("TextTrackButton",e);i(ga,fa=t),ga.prototype.handleClick=function(t){fa.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},ga.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)};var fa,pa=ga;function ga(t,e){u(this,ga);var n=e.track,i=e.cue,r=t.currentTime(),r=(e.selectable=!0,e.multiSelectable=!1,e.label=i.text,e.selected=i.startTime<=r&&r<i.endTime,f(this,fa.call(this,t,e)));return r.track=n,r.cue=i,n.addEventListener("cuechange",l(r,r.update)),r}y.registerComponent("ChaptersTrackMenuItem",pa);i(ya,ma=e),ya.prototype.buildCSSClass=function(){return"vjs-chapters-button "+ma.prototype.buildCSSClass.call(this)},ya.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+ma.prototype.buildWrapperCSSClass.call(this)},ya.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),ma.prototype.update.call(this)},ya.prototype.setTrack=function(t){var e;this.track_!==t&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.removeEventListener("load",this.updateHandler_),this.track_=null),this.track_=t,this.track_&&(this.track_.mode="hidden",(e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.addEventListener("load",this.updateHandler_)))},ya.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if(n.kind===this.kind_)return n}},ya.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(g(this.kind_))},ya.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),ma.prototype.createMenu.call(this)},ya.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],r=new pa(this.player_,{track:this.track_,cue:r});t.push(r)}return t};var ma,b=ya;function ya(t,e,n){return u(this,ya),f(this,ma.call(this,t,e,n))}b.prototype.kind_="chapters",b.prototype.controlText_="Chapters",y.registerComponent("ChaptersButton",b);i(ba,va=e),ba.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var a=e[i];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},ba.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+va.prototype.buildCSSClass.call(this)},ba.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+va.prototype.buildWrapperCSSClass.call(this)};var va,n=ba;function ba(t,e,n){u(this,ba);var e=f(this,va.call(this,t,e,n)),i=t.textTracks(),r=l(e,e.handleTracksChange);return i.addEventListener("change",r),e.on("dispose",function(){i.removeEventListener("change",r)}),e}n.prototype.kind_="descriptions",n.prototype.controlText_="Descriptions",y.registerComponent("DescriptionsButton",n);i(Ta,_a=e),Ta.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+_a.prototype.buildCSSClass.call(this)},Ta.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+_a.prototype.buildWrapperCSSClass.call(this)};var _a,r=Ta;function Ta(t,e,n){return u(this,Ta),f(this,_a.call(this,t,e,n))}r.prototype.kind_="subtitles",r.prototype.controlText_="Subtitles",y.registerComponent("SubtitlesButton",r);i(Ea,Sa=oa),Ea.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()};var Sa,wa=Ea;function Ea(t,e){u(this,Ea),e.track={player:t,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem";t=f(this,Sa.call(this,t,e));return t.addClass("vjs-texttrack-settings"),t.controlText(", opens "+e.kind+" settings dialog"),t}y.registerComponent("CaptionSettingsMenuItem",wa);i(ka,Ca=e),ka.prototype.buildCSSClass=function(){return"vjs-captions-button "+Ca.prototype.buildCSSClass.call(this)},ka.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+Ca.prototype.buildWrapperCSSClass.call(this)},ka.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new wa(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),Ca.prototype.createItems.call(this,t)};var Ca,b=ka;function ka(t,e,n){return u(this,ka),f(this,Ca.call(this,t,e,n))}b.prototype.kind_="captions",b.prototype.controlText_="Captions",y.registerComponent("CaptionsButton",b);i(xa,Da=oa),xa.prototype.createEl=function(t,e,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),Da.prototype.createEl.call(this,t,p({innerHTML:i+="</span>"},e),n)};var Da,Aa=xa;function xa(){return u(this,xa),f(this,Da.apply(this,arguments))}y.registerComponent("SubsCapsMenuItem",Aa);i(Oa,La=e),Oa.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+La.prototype.buildCSSClass.call(this)},Oa.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+La.prototype.buildWrapperCSSClass.call(this)},Oa.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new wa(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=La.prototype.createItems.call(this,t,Aa)};var La,n=Oa;function Oa(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(u(this,Oa),f(this,La.call(this,t,e)));return e.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(e.player_.language_)&&(e.label_="captions"),e.menuButton_.controlText(g(e.label_)),e}n.prototype.kinds_=["captions","subtitles"],n.prototype.controlText_="Subtitles",y.registerComponent("SubsCapsButton",n);i(Pa,Ia=t),Pa.prototype.createEl=function(t,e,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),Ia.prototype.createEl.call(this,t,p({innerHTML:i+="</span>"},e),n)},Pa.prototype.handleClick=function(t){var e=this.player_.audioTracks();Ia.prototype.handleClick.call(this,t);for(var n=0;n<e.length;n++){var i=e[n];i.enabled=i===this.track}},Pa.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)};var Ia,Ra=Pa;function Pa(t,e){u(this,Pa);function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.handleTracksChange.apply(a,e)}var i=e.track,r=t.audioTracks(),a=(e.label=i.label||i.language||"Unknown",e.selected=i.enabled,f(this,Ia.call(this,t,e)));a.track=i,a.addClass("vjs-"+i.kind+"-menu-item");return r.addEventListener("change",n),a.on("dispose",function(){r.removeEventListener("change",n)}),a}y.registerComponent("AudioTrackMenuItem",Ra);i(Na,Ma=o),Na.prototype.buildCSSClass=function(){return"vjs-audio-button "+Ma.prototype.buildCSSClass.call(this)},Na.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+Ma.prototype.buildWrapperCSSClass.call(this)},Na.prototype.createItems=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=(this.hideThreshold_=1,this.player_.audioTracks()),n=0;n<e.length;n++){var i=e[n];t.push(new Ra(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t};var Ma,r=Na;function Na(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,Na),e.tracks=t.audioTracks(),f(this,Ma.call(this,t,e))}r.prototype.controlText_="Audio Track",y.registerComponent("AudioTrackButton",r);i(ja,Ua=t),ja.prototype.handleClick=function(t){Ua.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},ja.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)};var Ua,Fa=ja;function ja(t,e){u(this,ja);var n=e.rate,i=parseFloat(n,10),e=(e.label=n,e.selected=1===i,e.selectable=!0,e.multiSelectable=!1,f(this,Ua.call(this,t,e)));return e.label=n,e.rate=i,e.on(t,"ratechange",e.update),e}Fa.prototype.contentElType="button",y.registerComponent("PlaybackRateMenuItem",Fa);i(Ha,Ba=v),Ha.prototype.createEl=function(){var t=Ba.prototype.createEl.call(this);return this.labelEl_=nt("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},Ha.prototype.dispose=function(){this.labelEl_=null,Ba.prototype.dispose.call(this)},Ha.prototype.buildCSSClass=function(){return"vjs-playback-rate "+Ba.prototype.buildCSSClass.call(this)},Ha.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Ba.prototype.buildWrapperCSSClass.call(this)},Ha.prototype.createMenu=function(){var t=new Jr(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;0<=n;n--)t.addChild(new Fa(this.player(),{rate:e[n]+"x"}));return t},Ha.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},Ha.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},Ha.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},Ha.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},Ha.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},Ha.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")};var Ba,b=Ha;function Ha(t,e){u(this,Ha);e=f(this,Ba.call(this,t,e));return e.updateVisibility(),e.updateLabel(),e.on(t,"loadstart",e.updateVisibility),e.on(t,"ratechange",e.updateLabel),e}b.prototype.controlText_="Playback Rate",y.registerComponent("PlaybackRateMenuButton",b);i(Ga,Wa=y),Ga.prototype.buildCSSClass=function(){return"vjs-spacer "+Wa.prototype.buildCSSClass.call(this)},Ga.prototype.createEl=function(){return Wa.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};var Wa,e=Ga;function Ga(){return u(this,Ga),f(this,Wa.apply(this,arguments))}y.registerComponent("Spacer",e);i(Va,qa=e),Va.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+qa.prototype.buildCSSClass.call(this)},Va.prototype.createEl=function(){var t=qa.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="Â ",t};var qa,n=Va;function Va(){return u(this,Va),f(this,qa.apply(this,arguments))}y.registerComponent("CustomControlSpacer",n);i(za,Ya=y),za.prototype.createEl=function(){return Ya.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})};var Ya,o=za;function za(){return u(this,za),f(this,Ya.apply(this,arguments))}o.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},y.registerComponent("ControlBar",o);i(Ka,$a=Ve),Ka.prototype.buildCSSClass=function(){return"vjs-error-display "+$a.prototype.buildCSSClass.call(this)},Ka.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""};var $a,r=Ka;function Ka(t,e){u(this,Ka);e=f(this,$a.call(this,t,e));return e.on(t,"error",e.open),e}r.prototype.options_=m(Ve.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),y.registerComponent("ErrorDisplay",r);var Xa="vjs-text-track-settings",t=["#000","Black"],v=["#00F","Blue"],b=["#0FF","Cyan"],e=["#0F0","Green"],n=["#F0F","Magenta"],o=["#F00","Red"],r=["#FFF","White"],Qa=["#FF0","Yellow"],Ja=["1","Opaque"],Za=["0.5","Semi-Transparent"],to=["0","Transparent"],eo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[t,r,o,e,v,Qa,n,b]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ja,Za,to]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[r,t,o,e,v,Qa,n,b]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ja,Za]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[to,Za,Ja]}};function no(t,e){if((t=e?e(t):t)&&"none"!==t)return t}eo.windowColor.options=eo.backgroundColor.options;i(C,io=Ve),C.prototype.dispose=function(){this.endDialog=null,io.prototype.dispose.call(this)},C.prototype.createElSelect_=function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",r=eo[t],a=r.id.replace("%s",this.id_),o=[e,a].join(" ").trim();return["<"+i+' id="'+a+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+o+'">'].concat(r.options.map(function(t){var e=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+e+'">',n.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},C.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},C.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},C.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},C.prototype.createElColors_=function(){return nt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},C.prototype.createElFont_=function(){return nt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},C.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return nt("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},C.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},C.prototype.label=function(){return this.localize("Caption Settings Dialog")},C.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},C.prototype.buildCSSClass=function(){return io.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},C.prototype.getValues=function(){var r=this;return function(n,i,t){var e=2<arguments.length&&void 0!==t?t:0;return G(n).reduce(function(t,e){return i(t,n[e],e)},e)}(eo,function(t,e,n){i=r.$(e.selector),e=e.parser;var i=no(i.options[i.options.selectedIndex].value,e);return void 0!==i&&(t[n]=i),t},{})},C.prototype.setValues=function(o){var s=this;V(eo,function(t,e){var n=s.$(t.selector),i=o[e],r=t.parser;if(i)for(var a=0;a<n.options.length;a++)if(no(n.options[a].value,r)===i){n.selectedIndex=a;break}})},C.prototype.setDefaults=function(){var n=this;V(eo,function(t){var e=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=e})},C.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(h.localStorage.getItem(Xa))}catch(t){d.warn(t)}t&&this.setValues(t)},C.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?h.localStorage.setItem(Xa,JSON.stringify(t)):h.localStorage.removeItem(Xa)}catch(t){d.warn(t)}}},C.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},C.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(c,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,t=t&&t.captionsButton;e?e.focus():t&&t.focus()};var io,r=C;function C(t,e){u(this,C),e.temporary=!1;var n=f(this,io.call(this,t,e));return n.updateDisplay=l(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=nt("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===e.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),V(eo,function(t){n.on(n.$(t.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}y.registerComponent("TextTrackSettings",r);i(ao,ro=y),ao.prototype.createEl=function(){return ro.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},ao.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},ao.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Ht(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null};var ro,t=ao;function ao(t,e){u(this,ao);var n=e.ResizeObserver||h.ResizeObserver,i=m({createEl:!(n=null===e.ResizeObserver?!1:n),reportTouchActivity:!1},e),r=f(this,ro.call(this,t,i));return r.ResizeObserver=e.ResizeObserver||h.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=Jt(function(){r.resizeHandler()},100,!1,r),n?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){r.el_&&r.el_.contentWindow&&Bt(r.el_.contentWindow,"resize",r.debouncedHandler_)},r.one("load",r.loadListener_)),r}y.registerComponent("ResizeManager",t);function oo(a){var e,t,n,o=a.el();o.resetSourceWatch_||(e={},t=fo(a),n=function(r){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=r.apply(o,e);return uo(a),i}},["append","appendChild","insertAdjacentHTML"].forEach(function(t){o[t]&&(e[t]=o[t],o[t]=n(e[t]))}),Object.defineProperty(o,"innerHTML",m(t,{set:n(t.set)})),o.resetSourceWatch_=function(){o.resetSourceWatch_=null,Object.keys(e).forEach(function(t){o[t]=e[t]}),Object.defineProperty(o,"innerHTML",t)},a.one("sourceset",o.resetSourceWatch_))}function so(n){var i,e,r,a;n.featuresSourceset&&!(i=n.el()).resetSourceset_&&(e=ho([n.el(),h.HTMLMediaElement.prototype,po],"src"),r=i.setAttribute,a=i.load,Object.defineProperty(i,"src",m(e,{set:function(t){t=e.set.call(i,t);return n.triggerSourceset(i.src),t}})),i.setAttribute=function(t,e){e=r.call(i,t,e);return/src/i.test(t)&&n.triggerSourceset(i.src),e},i.load=function(){var t=a.call(i);return uo(n)||(n.triggerSourceset(""),oo(n)),t},i.currentSrc?n.triggerSourceset(i.currentSrc):uo(n)||oo(n),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=a,i.setAttribute=r,Object.defineProperty(i,"src",e),i.resetSourceWatch_&&i.resetSourceWatch_()})}var lo,uo=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],e="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var a=n[r].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(e=i[0]),t.triggerSourceset(e),!0)},co=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){for(var e=c.createElement(this.nodeName.toLowerCase()),n=(e.innerHTML=t,c.createDocumentFragment());e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",h.Element.prototype.appendChild.call(this,n),this.innerHTML}}),ho=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},fo=function(t){return ho([t.el(),h.HTMLMediaElement.prototype,h.Element.prototype,co],"innerHTML")},po=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?gn(h.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return h.Element.prototype.setAttribute.call(this,"src",t),t}}),go=W(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),k=(i(D,lo=S),D.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),D.disposeMediaElement(this.el_),this.options_=null,lo.prototype.dispose.call(this)},D.prototype.setupSourcesetHandling_=function(){so(this)},D.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){r=[];for(var t=0;t<i.length;t++){var e=i[t];"metadata"===e.kind&&r.push({track:e,storedMode:e.mode})}}function n(){for(var t=0;t<r.length;t++){var e=r[t];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}i.removeEventListener("change",n)}var i=this.textTracks(),r=void 0;t(),i.addEventListener("change",t),this.on("dispose",function(){return i.removeEventListener("change",t)});this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",t),i.removeEventListener("change",n),i.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",t),i.addEventListener("change",t),i.removeEventListener("change",n)})},D.prototype.overrideNative_=function(t,e){var n,i=this;e===this["featuresNative"+t+"Tracks"]&&(this[(n=t.toLowerCase())+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(t){i.el()[n+"Tracks"].removeEventListener(t,i[n+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n))},D.prototype.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},D.prototype.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},D.prototype.proxyNativeTracksForType_=function(t){var i,e,r=this,t=Kn[t],a=this.el()[t.getterName],o=this[t.getterName]();this["featuresNative"+t.capitalName+"Tracks"]&&a&&a.addEventListener&&(e=function(){for(var t=[],e=0;e<o.length;e++){for(var n=!1,i=0;i<a.length;i++)if(a[i]===o[e]){n=!0;break}n||t.push(o[e])}for(;t.length;)o.removeTrack(t.shift())},this[t.getterName+"Listeners_"]=i={change:function(t){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function(t){o.addTrack(t.track)},removetrack:function(t){o.removeTrack(t.track)}},Object.keys(i).forEach(function(e){var n=i[e];a.addEventListener(e,n),r.on("dispose",function(t){return a.removeEventListener(e,n)})}),this.on("loadstart",e),this.on("dispose",function(t){return r.off("loadstart",e)}))},D.prototype.proxyNativeTracks_=function(){var e=this;Kn.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},D.prototype.createEl=function(){for(var t,e=this.options_.tag,n=(e&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(e?(t=e.cloneNode(!0),e.parentNode&&e.parentNode.insertBefore(t,e),D.disposeMediaElement(e),e=t):(e=c.createElement("video"),t=m({},this.options_.tag&&ct(this.options_.tag)),Ee&&!0===this.options_.nativeControlsForTouch||delete t.controls,ut(e,p(t,{id:this.options_.techId,class:"vjs-tech"}))),e.playerId=this.options_.playerId),void 0!==this.options_.preload&&ht(e,"preload",this.options_.preload),["loop","muted","playsinline","autoplay"]),i=0;i<n.length;i++){var r=n[i],a=this.options_[r];void 0!==a&&(a?ht(e,r,r):ft(e,r),e[r]=a)}return e},D.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){var e,n,i;if(0===t.readyState)return e=!1,this.on("loadstart",n=function(){e=!0}),this.on("loadedmetadata",i=function(){e||this.trigger("loadstart")}),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")});var r=["loadstart"];r.push("loadedmetadata"),2<=t.readyState&&r.push("loadeddata"),3<=t.readyState&&r.push("canplay"),4<=t.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},D.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){d(t,"Video is not ready. (Video.js)")}},D.prototype.duration=function(){var e=this;return this.el_.duration===1/0&&ge&&be&&0===this.el_.currentTime?(this.on("timeupdate",function t(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN):this.el_.duration||NaN},D.prototype.width=function(){return this.el_.offsetWidth},D.prototype.height=function(){return this.el_.offsetHeight},D.prototype.proxyWebkitFullscreen_=function(){var t,e,n=this;"webkitDisplayingFullscreen"in this.el_&&(t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},this.on("webkitbeginfullscreen",e=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))}),this.on("dispose",function(){n.off("webkitbeginfullscreen",e),n.off("webkitendfullscreen",t)}))},D.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=h.navigator&&h.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},D.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},D.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},D.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},D.prototype.reset=function(){D.resetMediaElement(this.el_)},D.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},D.prototype.setControls=function(t){this.el_.controls=!!t},D.prototype.addTextTrack=function(t,e,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,n):lo.prototype.addTextTrack.call(this,t,e,n)},D.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return lo.prototype.createRemoteTextTrack.call(this,t);var e=c.createElement("track");return t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t.default&&(e.default=t.default),t.id&&(e.id=t.id),t.src&&(e.src=t.src),e},D.prototype.addRemoteTextTrack=function(t,e){t=lo.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(t),t},D.prototype.removeRemoteTextTrack=function(t){if(lo.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),n=e.length;n--;)t!==e[n]&&t!==e[n].track||this.el().removeChild(e[n])},D.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),h.performance&&"function"==typeof h.performance.now?t.creationTime=h.performance.now():h.performance&&h.performance.timing&&"number"==typeof h.performance.timing.navigationStart&&(t.creationTime=h.Date.now()-h.performance.timing.navigationStart),t},D);function D(t,e){u(this,D);var n=f(this,lo.call(this,t,e)),e=t.source,i=!1;if(e&&(n.el_.currentSrc!==e.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(e):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var r=n.el_.childNodes,a=r.length,o=[];a--;){var s=r[a];"track"===s.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(s),n.remoteTextTracks().addTrack(s.track),n.textTracks().addTrack(s.track),i||n.el_.hasAttribute("crossorigin")||!vn(s.src)||(i=!0)):o.push(s))}for(var l=0;l<o.length;l++)n.el_.removeChild(o[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&i&&d.warn(H(go)),n.restoreMetadataTracksInIOSNativePlayer_(),(Ee||fe||ye)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}J()&&(k.TEST_VID=c.createElement("video"),(o=c.createElement("track")).kind="captions",o.srclang="en",o.label="English",k.TEST_VID.appendChild(o)),k.isSupported=function(){try{k.TEST_VID.volume=.5}catch(t){return!1}return!(!k.TEST_VID||!k.TEST_VID.canPlayType)},k.canPlayType=function(t){return k.TEST_VID.canPlayType(t)},k.canPlaySource=function(t,e){return k.canPlayType(t.type)},k.canControlVolume=function(){try{var t=k.TEST_VID.volume;return k.TEST_VID.volume=t/2+.1,t!==k.TEST_VID.volume}catch(t){return!1}},k.canMuteVolume=function(){try{var t=k.TEST_VID.muted;return k.TEST_VID.muted=!t,k.TEST_VID.muted?ht(k.TEST_VID,"muted","muted"):ft(k.TEST_VID,"muted"),t!==k.TEST_VID.muted}catch(t){return!1}},k.canControlPlaybackRate=function(){if(ge&&be&&_e<58)return!1;try{var t=k.TEST_VID.playbackRate;return k.TEST_VID.playbackRate=t/2+.1,t!==k.TEST_VID.playbackRate}catch(t){return!1}},k.canOverrideAttributes=function(){try{function t(){}Object.defineProperty(c.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(c.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(c.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(c.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},k.supportsNativeTextTracks=function(){return we||pe&&be},k.supportsNativeVideoTracks=function(){return!(!k.TEST_VID||!k.TEST_VID.videoTracks)},k.supportsNativeAudioTracks=function(){return!(!k.TEST_VID||!k.TEST_VID.audioTracks)},k.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],k.prototype.featuresVolumeControl=k.canControlVolume(),k.prototype.featuresMuteControl=k.canMuteVolume(),k.prototype.featuresPlaybackRate=k.canControlPlaybackRate(),k.prototype.featuresSourceset=k.canOverrideAttributes(),k.prototype.movingMediaElementInDOM=!pe,k.prototype.featuresFullscreenResize=!0,k.prototype.featuresProgressEvents=!0,k.prototype.featuresTimeupdateEvents=!0,k.prototype.featuresNativeTextTracks=k.supportsNativeTextTracks(),k.prototype.featuresNativeVideoTracks=k.supportsNativeVideoTracks(),k.prototype.featuresNativeAudioTracks=k.supportsNativeAudioTracks();var mo,yo=k.TEST_VID&&k.TEST_VID.constructor.prototype.canPlayType,vo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,bo=(k.patchCanPlayType=function(){4<=me&&!ve&&!be&&(k.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&vo.test(t)?"maybe":yo.call(this,t)})},k.unpatchCanPlayType=function(){var t=k.TEST_VID.constructor.prototype.canPlayType;return k.TEST_VID.constructor.prototype.canPlayType=yo,t},k.patchCanPlayType(),k.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(t){}}},k.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(t){}}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){k.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){k.prototype["set"+g(e)]=function(t){(this.el_[e]=t)?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){k.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){k.prototype["set"+g(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(t){k.prototype[t]=function(){return this.el_[t]()}}),S.withSourceHandlers(k),k.nativeSourceHandler={},k.nativeSourceHandler.canPlayType=function(t){try{return k.TEST_VID.canPlayType(t)}catch(t){return""}},k.nativeSourceHandler.canHandleSource=function(t,e){return t.type?k.nativeSourceHandler.canPlayType(t.type):t.src?(t=yn(t.src),k.nativeSourceHandler.canPlayType("video/"+t)):""},k.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},k.nativeSourceHandler.dispose=function(){},k.registerSourceHandler(k.nativeSourceHandler),S.registerTech("Html5",k),W(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "])),_o=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],To={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},So=(i(A,mo=y),A.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),A.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),xi[this.id()]=null,mo.prototype.dispose.call(this)},A.prototype.createEl=function(){var t,e,n=this.tag,i=void 0,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase(),o=(r?i=this.el_=n.parentNode:a||(i=this.el_=mo.prototype.createEl.call(this,"div")),ct(n));if(a){for(i=this.el_=n,n=this.tag=c.createElement("video");i.children.length;)n.appendChild(i.firstChild);at(i,"video-js")||ot(i,"video-js"),i.appendChild(n),r=this.playerElIngest_=i,Object.keys(i).forEach(function(t){n[t]=i[t]})}n.setAttribute("tabindex","-1"),o.tabindex="-1",Te&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(t){a&&"class"===t||i.setAttribute(t,o[t]),a&&n.setAttribute(t,o[t])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",(n.player=i.player=this).addClass("vjs-paused"),!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=Kt("vjs-styles-dimensions"),t=Ct(".vjs-styles-defaults"),(e=Ct("head")).insertBefore(this.styleEl_,t?t.nextSibling:e.firstChild)),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=n.getElementsByTagName("a"),l=0;l<s.length;l++){var u=s.item(l);ot(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(i,n),rt(n,i),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=i},A.prototype.width=function(t){return this.dimension("width",t)},A.prototype.height=function(t){return this.dimension("height",t)},A.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?d.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},A.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},A.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},A.prototype.updateStyleEl_=function(){if(!0===h.VIDEOJS_NO_DYNAMIC_STYLE)return t="number"==typeof this.width_?this.width_:this.options_.width,n="number"==typeof this.height_?this.height_:this.options_.height,void((e=this.tech_&&this.tech_.el())&&(0<=t&&(e.width=t),0<=n&&(e.height=n)));var t=void 0,e=void 0,n=void 0,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=i[1]/i[0],t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(n),Xt(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")},A.prototype.loadTech_=function(t,e){var n=this,i=(this.tech_&&this.unloadTech_(),g(t)),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(S.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset},r=(Qn.names.forEach(function(t){t=Qn[t];a[t.getterName]=n[t.privateName]}),p(a,this.options_[i]),p(a,this.options_[r]),p(a,this.options_[t.toLowerCase()]),this.tag&&(a.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(a.startTime=this.cache_.currentTime),S.getTech(t));if(!r)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new r(a),this.tech_.ready(l(this,this.handleTechReady_),!0),Ge(this.textTracksJson_||[],this.tech_),_o.forEach(function(t){n.on(n.tech_,t,n["handleTech"+g(t)+"_"])}),Object.keys(To).forEach(function(e){n.on(n.tech_,e,function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+To[e]+"_"].bind(n),event:t}):n["handleTech"+To[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||rt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},A.prototype.unloadTech_=function(){var e=this;Qn.names.forEach(function(t){t=Qn[t];e[t.privateName]=e[t.getterName]()}),this.textTracksJson_=We(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},A.prototype.tech=function(t){return void 0===t&&d.warn(H(bo)),this.tech_},A.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},A.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},A.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},A.prototype.handleTechLoadStart_=function(){A.prototype.is_first_play=!0,this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},A.prototype.manualAutoplay_=function(e){var n=this;if(this.tech_&&"string"==typeof e){function t(){var e=n.muted(),t=(n.muted(!0),n.play());if(t&&t.then&&t.catch)return t.catch(function(t){n.muted(e)})}var i=void 0;if("any"===e?(i=this.play())&&i.then&&i.catch&&i.catch(t):i="muted"===e?t():this.play(),i&&i.then&&i.catch)return i.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(t){n.trigger({type:"autoplay-failure",autoplay:e})})}},A.prototype.updateSourceCaches_=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=t,n="";if("string"!=typeof e&&(e=t.src,n=t.type),!/^blob:/.test(e)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var a=i[r];if(a.type&&a.src&&a.src===e)return a.type}return Bi(e)}(this,e)),this.cache_.source=m({},t,{src:e,type:n});for(var t=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),i=[],r=this.$$("source"),a=[],o=0;o<r.length;o++){var s=ct(r[o]);i.push(s),s.src&&s.src===e&&a.push(s.src)}a.length&&!t.length?this.cache_.sources=i:t.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e}},A.prototype.handleTechSourceset_=function(t){var n=this;this.changingSrc_||(this.updateSourceCaches_(t.src),t.src||this.tech_.one(["sourceset","loadstart"],function t(e){"sourceset"!==e.type&&n.updateSourceCaches_(n.techGet_("currentSrc")),n.tech_.off(["sourceset","loadstart"],t)})),this.trigger({src:t.src,type:"sourceset"})},A.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},A.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},A.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},A.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},A.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},A.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},A.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},A.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},A.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},A.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(d.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},A.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},A.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},A.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration")),void 0===this.rangeslider||void 0===this.rangeslider.bar||void 0===this.rangeslider.bar.rs||0!=this.rangeslider.start&&1!=A.prototype.is_first_play||(this.rangeslider._reset(),this.rangeslider._setValuesLocked(0,this.techGet_("duration"),!0),A.prototype.is_first_play=!1)},A.prototype.handleTechClick_=function(t){Et(t)&&this.controls_&&(this.paused()?je(this.play()):this.pause())},A.prototype.handleTechDoubleClick_=function(e){this.controls_&&!Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})&&(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())},A.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},A.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},A.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},A.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},A.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},A.prototype.handleStageClick_=function(){this.reportUserActivity()},A.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},A.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},A.prototype.handleTechTextData_=function(){var t=1<arguments.length?arguments[1]:null;this.trigger("textdata",t)},A.prototype.getCache=function(){return this.cache_},A.prototype.techCall_=function(e,n){this.ready(function(){if(e in Pi)return t=this.middleware_,this.tech_[e](t.reduce(Ni(e),n));if(e in Mi)return Ii(this.middleware_,this.tech_,e,n);var t;try{this.tech_&&this.tech_[e](n)}catch(t){throw d(t),t}},!0)},A.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Ri)return t=this.middleware_,n=this.tech_,t.reduceRight(Ni(e),n[e]());if(e in Mi)return Ii(this.middleware_,this.tech_,e);var t,n;try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw d("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw d("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw d(t),t}}},A.prototype.play=function(){var e=this,t=this.options_.Promise||h.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},A.prototype.play_=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:je;this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_?this.changingSrc_||!this.src()&&!this.currentSrc()?(this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)):e(this.techGet_("play")):this.playWaitingForReady_||(this.playWaitingForReady_=!0,this.ready(function(){t.playWaitingForReady_=!1,e(t.play())}))},A.prototype.pause=function(){this.techCall_("pause")},A.prototype.paused=function(){return!1!==this.techGet_("paused")},A.prototype.played=function(){return this.techGet_("played")||De(0,0)},A.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},A.prototype.currentTime=function(t){if(void 0===t)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;this.techCall_("setCurrentTime",t=t<0?0:t)},A.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=(t=parseFloat(t))<0?1/0:t)!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},A.prototype.remainingTime=function(){return this.duration()-this.currentTime()},A.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},A.prototype.buffered=function(){var t;return t=(t=this.techGet_("buffered"))&&t.length?t:De(0,0)},A.prototype.bufferedPercent=function(){return Ae(this.buffered(),this.duration())},A.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),t=t.end(t.length-1);return t=e<t?e:t},A.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(0<e&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},A.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},A.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},A.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},A.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},A.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},A.prototype.requestFullscreen=function(){var n=xe;this.isFullscreen(!0),n.requestFullscreen?(Bt(c,n.fullscreenchange,l(this,function t(e){this.isFullscreen(c[n.fullscreenElement]),!1===this.isFullscreen()&&Ht(c,n.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},A.prototype.exitFullscreen=function(){var t=xe;this.isFullscreen(!1),t.requestFullscreen?c[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},A.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c.documentElement.style.overflow,Bt(c,"keydown",l(this,this.fullWindowOnEscKey)),c.documentElement.style.overflow="hidden",ot(c.body,"vjs-full-window"),this.trigger("enterFullWindow")},A.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},A.prototype.exitFullWindow=function(){this.isFullWindow=!1,Ht(c,"keydown",this.fullWindowOnEscKey),c.documentElement.style.overflow=this.docOrigOverflow,st(c.body,"vjs-full-window"),this.trigger("exitFullWindow")},A.prototype.canPlayType=function(t){for(var e=0,n=this.options_.techOrder;e<n.length;e++){var i=n[e],r=S.getTech(i);if(r=r||y.getComponent(i)){if(r.isSupported()&&(r=r.canPlayType(t)))return r}else d.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},A.prototype.selectSource=function(t){function e(t,n,i){var r=void 0;return t.some(function(e){return n.some(function(t){if(r=i(e,t))return!0})}),r}function n(t,e){var n=t[0];if(t[1].canPlaySource(e,r.options_[n.toLowerCase()]))return{source:e,tech:n}}var i,r=this,a=this.options_.techOrder.map(function(t){return[t,S.getTech(t)]}).filter(function(t){var e=t[0],t=t[1];return t?t.isSupported():(d.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?e(t,a,(i=n,function(t,e){return i(e,t)})):e(a,t,n))||!1},A.prototype.src=function(t){var i=this;if(void 0===t)return this.cache_.src||"";var r=Fi(t);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),Oi(this,r[0],function(t,e){var n;if(i.middleware_=e,i.cache_.sources=r,i.updateSourceCaches_(t),i.src_(t))return 1<r.length?i.src(r.slice(1)):(i.changingSrc_=!1,i.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void i.triggerReady());n=i.tech_,e.forEach(function(t){return t.setTech&&t.setTech(n)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},A.prototype.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,g(e)!==g(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){i.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1)},A.prototype.load=function(){this.techCall_("load")},A.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},A.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},A.prototype.currentSource=function(){return this.cache_.source||{}},A.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},A.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},A.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},A.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},A.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},A.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},A.prototype.poster=function(t){if(void 0===t)return this.poster_;(t=t||"")!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},A.prototype.handleTechPosterChange_=function(){var t;(!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster&&(t=this.tech_.poster()||"")!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))},A.prototype.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},A.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},A.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Me(t),this.addClass("vjs-error"),d.error("(CODE:"+this.error_.code+" "+Me.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},A.prototype.reportUserActivity=function(t){this.userActivity_=!0},A.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},A.prototype.listenForUserActivity_=function(){var e=void 0,n=void 0,i=void 0,r=l(this,this.reportUserActivity),a=(this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,r())}),this.on("mouseup",function(t){r(),this.clearInterval(e)}),this.on("keydown",r),this.on("keyup",r),void 0);this.setInterval(function(){var t;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a),(t=this.options_.inactivityTimeout)<=0||(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t)))},250)},A.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},A.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},A.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},A.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},A.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},A.prototype.removeRemoteTextTrack=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track;if(this.tech_)return this.tech_.removeRemoteTextTrack(void 0===t?arguments[0]:t)},A.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},A.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},A.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},A.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},A.prototype.languages=function(){return m(A.prototype.options_.languages,this.languages_)},A.prototype.toJSON=function(){var t=m(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=m(i)).player=void 0,t.tracks[n]=i}return t},A.prototype.createModal=function(t,e){var n=this,i=((e=e||{}).content=t||"",new Ve(this,e));return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},A.getTagSettings=function(t){var e,n={sources:[],tracks:[]},i=ct(t),r=i["data-setup"];if(at(t,"vjs-fluid")&&(i.fluid=!0),null!==r&&(e=(r=Ue(r||"{}"))[0],r=r[1],e&&d.error(e),p(i,r)),p(n,i),t.hasChildNodes())for(var a=t.childNodes,o=0,s=a.length;o<s;o++){var l=a[o],u=l.nodeName.toLowerCase();"source"===u?n.sources.push(ct(l)):"track"===u&&n.tracks.push(ct(l))}return n},A.prototype.flexNotSupported_=function(){var t=c.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},A);function A(t,e,n){if(u(this,A),t.id=t.id||e.id||"vjs_video_"+At++,(e=p(A.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var i=t.closest("[lang]");i&&i.getAttribute&&(e.language=i.getAttribute("lang"))}else for(var r=t;r&&1===r.nodeType;){if(ct(r).hasOwnProperty("lang")){e.language=r.getAttribute("lang");break}r=r.parentNode}var a,i=f(this,mo.call(this,null,e,n));if(i.isPosterFromTech_=!1,i.queuedCallbacks_=[],i.isReady_=!1,i.hasStarted_=!1,i.userActive_=!1,!i.options_||!i.options_.techOrder||!i.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");i.tag=t,i.tagAttributes=t&&ct(t),i.language(i.options_.language),e.languages?(a={},Object.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),i.languages_=a):i.languages_=A.prototype.options_.languages,i.cache_={},i.poster_=e.poster||"",i.controls_=!!e.controls,i.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?i.options_.autoplay=!0:i.autoplay(i.options_.autoplay),i.scrubbing_=!1,i.el_=i.createEl(),i.cache_.lastPlaybackRate=i.defaultPlaybackRate(),ue(i,{eventBusKey:"el_"});var o,n=m(i.options_),n=(e.plugins&&(o=e.plugins,Object.keys(o).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](o[t])},i)),i.options_.playerOptions=n,i.middleware_=[],i.initChildren(),i.isAudio("audio"===t.nodeName.toLowerCase()),i.controls()?i.addClass("vjs-controls-enabled"):i.addClass("vjs-controls-disabled"),i.el_.setAttribute("role","region"),i.isAudio()?i.el_.setAttribute("aria-label",i.localize("Audio Player")):i.el_.setAttribute("aria-label",i.localize("Video Player")),i.isAudio()&&i.addClass("vjs-audio"),i.flexNotSupported_()&&i.addClass("vjs-no-flex"),pe||i.addClass("vjs-workinghover"),A.players[i.id_]=i,"7.2.3".split(".")[0]);return i.addClass("vjs-v"+n),i.userActive(!0),i.reportUserActivity(),i.one("play",i.listenForUserActivity_),i.on("fullscreenchange",i.handleFullscreenChange_),i.on("stageclick",i.handleStageClick_),i.changingSrc_=!1,i.playWaitingForReady_=!1,i.playOnLoadstart_=null,i}Qn.names.forEach(function(t){var e=Qn[t];So.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),So.players={};function wo(t){return Oo.hasOwnProperty(t)}function Eo(t){return wo(t)?Oo[t]:void 0}function Co(t,e){t[Lo]=t[Lo]||{},t[Lo][e]=!0}function ko(t,e,n){n=(n?"before":"")+"pluginsetup",t.trigger(n,e),t.trigger(n+":"+e.name,e)}function Do(e,n){function i(){ko(this,{name:e,plugin:n,instance:null},!0);var t=n.apply(this,arguments);return Co(this,e),ko(this,{name:e,plugin:n,instance:t}),t}return Object.keys(n).forEach(function(t){i[t]=n[t]}),i}function Ao(r,a){return a.prototype.name=r,function(){ko(this,{name:r,plugin:a,instance:null},!0);for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=new(Function.prototype.bind.apply(a,[null].concat([this].concat(e))));return this[r]=function(){return i},ko(this,i.getEventHash()),i}}var e=h.navigator,xo=(So.prototype.options_={techOrder:S.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:e&&(e.languages&&e.languages[0]||e.userLanguage||e.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){So.prototype[t]=function(){return this.techGet_(t)}}),_o.forEach(function(t){So.prototype["handleTech"+g(t)+"_"]=function(){return this.trigger(t)}}),y.registerComponent("Player",So),"plugin"),Lo="activePlugins_",Oo={},Io=(Ro.prototype.version=function(){return this.constructor.VERSION},Ro.prototype.getEventHash=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},Ro.prototype.trigger=function(t){return Wt(this.eventBusEl_,t,this.getEventHash(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))},Ro.prototype.handleStateChanged=function(t){},Ro.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Lo][t]=!1,this.player=this.state=null,e[t]=Ao(t,Oo[t])},Ro.isBasic=function(t){t="string"==typeof t?Eo(t):t;return"function"==typeof t&&!Ro.prototype.isPrototypeOf(t.prototype)},Ro.registerPlugin=function(t,e){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":Se(t))+".");if(wo(t))d.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(So.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===e?"undefined":Se(e))+".");return Oo[t]=e,t!==xo&&(Ro.isBasic(e)?So.prototype[t]=Do(t,e):So.prototype[t]=Ao(t,e)),e},Ro.deregisterPlugin=function(t){if(t===xo)throw new Error("Cannot de-register base plugin.");wo(t)&&(delete Oo[t],delete So.prototype[t])},Ro.getPlugins=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Oo),n=void 0;return t.forEach(function(t){var e=Eo(t);e&&((n=n||{})[t]=e)}),n},Ro.getPluginVersion=function(t){t=Eo(t);return t&&t.VERSION||""},Ro);function Ro(t){if(u(this,Ro),this.constructor===Ro)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,ue(this),delete this.trigger,de(this,this.constructor.defaultState),Co(t,this.name),this.dispose=l(this,this.dispose),t.on("dispose",this.dispose)}Io.getPlugin=Eo,Io.BASE_PLUGIN_NAME=xo,Io.registerPlugin(xo,Io),So.prototype.usingPlugin=function(t){return!!this[Lo]&&!0===this[Lo][t]},So.prototype.hasPlugin=function(t){return!!wo(t)};function Po(t){return 0===t.indexOf("#")?t.slice(1):t}function x(t,e,n){if(r=x.getPlayer(t))return e&&d.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof t?Ct("#"+Po(t)):t;if(!Z(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");c.body.contains(i)||d.warn("The element supplied is not included in the DOM"),e=e||{},x.hooks("beforesetup").forEach(function(t){t=t(i,m(e));!Y(t)||Array.isArray(t)?d.error("please return an object in beforesetup hooks"):e=m(e,t)});var r=new(y.getComponent("Player"))(i,e,n);return x.hooks("setup").forEach(function(t){return t(r)}),r}x.hooks_={},x.hooks=function(t,e){return x.hooks_[t]=x.hooks_[t]||[],e&&(x.hooks_[t]=x.hooks_[t].concat(e)),x.hooks_[t]},x.hook=function(t,e){x.hooks(t,e)},x.hookOnce=function(n,t){x.hooks(n,[].concat(t).map(function(e){return function t(){return x.removeHook(n,t),e.apply(void 0,arguments)}}))},x.removeHook=function(t,e){e=x.hooks(t).indexOf(e);return!(e<=-1)&&(x.hooks_[t]=x.hooks_[t].slice(),x.hooks_[t].splice(e,1),!0)},!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&J()&&!(v=Ct(".vjs-styles-defaults"))&&(v=Kt("vjs-styles-defaults"),(Qa=Ct("head"))&&Qa.insertBefore(v,Qa.firstChild),Xt(v,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")),$t(1,x),x.VERSION="7.2.3",x.options=So.prototype.options_,x.getPlayers=function(){return So.players},x.getPlayer=function(t){var e=So.players,n=void 0;if("string"==typeof t){var i=Po(t),r=e[i];if(r)return r;n=Ct("#"+i)}else n=t;if(Z(n)){r=n,i=r.player,t=r.playerId;if(i||e[t])return i||e[t]}},x.getAllPlayers=function(){return Object.keys(So.players).map(function(t){return So.players[t]}).filter(Boolean)},x.players=So.players,x.getComponent=y.getComponent,x.registerComponent=function(t,e){S.isTech(e)&&d.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),y.registerComponent.call(y,t,e)},x.getTech=S.getTech,x.registerTech=S.registerTech,x.use=function(t,e){Ai[t]=Ai[t]||[],Ai[t].push(e)},Object.defineProperty(x,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(x.middleware,"TERMINATOR",{value:Li,writeable:!1,enumerable:!0}),x.browser=U,x.TOUCH_ENABLED=Ee,x.extend=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},r={},n=("object"===(void 0===n?"undefined":Se(n))?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),r=n):"function"==typeof n&&(i=n),i),a=t;if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+(void 0===a?"undefined":Se(a)));for(e in n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.super_=a),r)r.hasOwnProperty(e)&&(i.prototype[e]=r[e]);return i},x.mergeOptions=m,x.bind=l,x.registerPlugin=Io.registerPlugin,x.deregisterPlugin=Io.deregisterPlugin,x.plugin=function(t,e){return d.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Io.registerPlugin(t,e)},x.getPlugins=Io.getPlugins,x.getPlugin=Io.getPlugin,x.getPluginVersion=Io.getPluginVersion,x.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),x.options.languages=m(x.options.languages,((n={})[t]=e,n)),x.options.languages[t]},x.log=d,x.createTimeRange=x.createTimeRanges=De,x.formatTime=hr,x.setFormatTime=function(t){dr=t},x.resetFormatTime=function(){dr=cr},x.parseUrl=pn,x.isCrossOrigin=vn,x.EventTarget=Zt,x.on=Bt,x.one=Gt,x.off=Ht,x.trigger=Wt,x.xhr=In,x.TextTrack=Hn,x.AudioTrack=_,x.VideoTrack=T,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){x[t]=function(){return d.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Dt[t].apply(null,arguments)}}),x.computedStyle=$,x.dom=Dt,x.url=bn;function Mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function No(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":Se(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Uo(t,e){if(t)return!e||"object"!==(void 0===e?"undefined":Se(e))&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var Fo=M(function(t,e){var n,a,i,r,o;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,a=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=o.parseURL(t);if(i)return i.path=o.normalizePath(i.path),o.buildURLFromParts(i);throw new Error("Error trying to parse base URL.")}i=o.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=o.normalizePath(i.path),o.buildURLFromParts(i)):e;e=o.parseURL(t);if(!e)throw new Error("Error trying to parse base URL.");!e.netLoc&&e.path&&"/"!==e.path[0]&&(t=a.exec(e.path),e.netLoc=t[1],e.path=t[2]),e.netLoc&&!e.path&&(e.path="/");var r,t={scheme:e.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};return i.netLoc||(t.netLoc=e.netLoc,"/"!==i.path[0]&&(i.path?(r=(r=e.path).substring(0,r.lastIndexOf("/")+1)+i.path,t.path=o.normalizePath(r)):(t.path=e.path,i.params||(t.params=e.params,i.query||(t.query=e.query))))),null===t.path&&(t.path=n.alwaysNormalize?o.normalizePath(i.path):i.path),o.buildURLFromParts(t)},parseURL:function(t){t=n.exec(t);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(r,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}),jo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n=(Bo.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},Bo.prototype.off=function(t,e){if(!this.listeners[t])return!1;e=this.listeners[t].indexOf(e);return this.listeners[t].splice(e,1),-1<e},Bo.prototype.trigger=function(t){var e,n=this.listeners[t],i=void 0,r=void 0;if(n)if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else for(e=Array.prototype.slice.call(arguments,1),r=n.length,i=0;i<r;++i)n[i].apply(this,e)},Bo.prototype.dispose=function(){this.listeners={}},Bo.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},Bo);function Bo(){Mo(this,Bo),this.listeners={}}No(Go,Ho=n),Go.prototype.push=function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");-1<e;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};var Ho,Wo=Go;function Go(){Mo(this,Go);var t=Uo(this,Ho.call(this));return t.buffer="",t}function qo(t){for(var e=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=e.length,r=void 0;i--;)""!==e[i]&&((r=/([^=]*)=(.*)/.exec(e[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n}No(zo,Vo=n),zo.prototype.push=function(t){var e=void 0,n=void 0;if(0!==(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"!==t[0])this.trigger("data",{type:"uri",uri:t});else{for(var i,r,a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,t))return;if(0!==t.indexOf("#EXT"))this.trigger("data",{type:"comment",text:t.slice(1)});else if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t))return n={type:"tag",tagType:"map"},e[1]&&((i=qo(e[1])).URI&&(n.uri=i.URI),i.BYTERANGE&&(r=(i=i.BYTERANGE.split("@"))[0],i=i[1],n.byterange={},r&&(n.byterange.length=parseInt(r,10)),i&&(n.byterange.offset=parseInt(i,10)))),void this.trigger("data",n);if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t))return n={type:"tag",tagType:"stream-inf"},e[1]&&(n.attributes=qo(e[1]),n.attributes.RESOLUTION&&(r={},(i=n.attributes.RESOLUTION.split("x"))[0]&&(r.width=parseInt(i[0],10)),i[1]&&(r.height=parseInt(i[1],10)),n.attributes.RESOLUTION=r),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=qo(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))this.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(e=/^#EXT-X-DISCONTINUITY/.exec(t)))return(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))?(n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n)):(e=/^#EXT-X-KEY:?(.*)$/.exec(t))?(n={type:"tag",tagType:"key"},e[1]&&(n.attributes=qo(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):(e=/^#EXT-X-START:?(.*)$/.exec(t))?(n={type:"tag",tagType:"start"},e[1]&&(n.attributes=qo(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:t.slice(4)});this.trigger("data",{type:"tag",tagType:"discontinuity"})}}}},zo.prototype.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,a=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:a}),!0})};var Vo,Yo=zo;function zo(){Mo(this,zo);var t=Uo(this,Vo.call(this));return t.customParsers=[],t}No(Xo,$o=n),Xo.prototype.push=function(t){this.lineStream.push(t)},Xo.prototype.end=function(){this.lineStream.push("\n")},Xo.prototype.addParser=function(t){this.parseStream.addParser(t)};var $o,Ko=Xo;function Xo(){Mo(this,Xo);var t=Uo(this,$o.call(this)),r=(t.lineStream=new Wo,t.parseStream=new Yo,t.lineStream.pipe(t.parseStream),t),a=[],o={},s=void 0,l=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(e){var n=void 0,i=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&((o.byterange=t).length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&((o.byterange=t).offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<e.duration&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){e.attributes?"NONE"===e.attributes.METHOD?l=null:e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(l.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){s={},e.uri&&(s.uri=e.uri),e.byterange&&(s.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(o.attributes||(o.attributes={}),jo(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var t;this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME?((t=this.manifest.mediaGroups[e.attributes.TYPE])[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},n=t[e.attributes["GROUP-ID"]],(i={default:/yes/i.test(e.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(i.language=e.attributes.LANGUAGE),e.attributes.URI&&(i.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(i.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(i.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(i.forced=/yes/i.test(e.attributes.FORCED)),n[e.attributes.NAME]=i):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){!e.attributes||isNaN(e.attributes["TIME-OFFSET"])?this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"}):this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}}[e.tagType]||function(){}).call(r)},uri:function(){o.uri=e.uri,a.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),l&&(o.key=l),o.timeline=c,s&&(o.map=s),o={}},comment:function(){},custom:function(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)}),t}function Qo(t){return!!t&&"object"===(void 0===t?"undefined":fs(t))}function Jo(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(e,n){return Object.keys(n).forEach(function(t){Array.isArray(e[t])&&Array.isArray(n[t])?e[t]=e[t].concat(n[t]):Qo(e[t])&&Qo(n[t])?e[t]=Jo(e[t],n[t]):e[t]=n[t]}),e},{})}function Zo(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=Fo.buildAbsoluteURL(h.location.href,t)),Fo.buildAbsoluteURL(t,e))}function ts(t){var e=t.baseUrl,n=void 0===(n=t.source)?"":n,t=void 0===(t=t.range)?"":t,e={uri:n,resolvedUri:Zo((void 0===e?"":e)||"",n)};return t&&(n=t.split("-"),t=parseInt(n[0],10),n=parseInt(n[1],10),e.byterange={length:n-t,offset:t}),e}function es(t,e){for(var n,i,r,a,o,s,l,u=t.type,c=void 0===u?"static":u,d=void 0===(u=t.minimumUpdatePeriod)?0:u,h=void 0===(u=t.media)?"":u,f=t.sourceDuration,p=void 0===(u=t.timescale)?1:u,g=void 0===(u=t.startNumber)?1:u,m=t.periodIndex,y=[],v=-1,b=0;b<e.length;b++)for(var _,T=(w=e[b]).d,S=w.r||0,w=w.t||0,w=(v<0&&(v=w),w&&v<w&&(v=w),void 0),E=(w=S<0?(_=b+1)===e.length?"dynamic"===c&&0<d&&0<h.indexOf("$Number$")?(i=v,l=s=o=a=r=void 0,r=(n=t).NOW,a=n.clientOffset,o=n.availabilityStartTime,s=n.timescale,l=n.start,n=n.minimumUpdatePeriod,Math.ceil((((r+a)/1e3+(void 0===n?0:n)-(o+(void 0===l?0:l)))*(void 0===s?1:s)-i)/T)):(f*p-v)/T:(e[_].t-v)/T:S+1,g+y.length+w),C=g+y.length;C<E;)y.push({number:C,duration:T/p,time:v,timeline:m}),v+=T,C++;return y}function ns(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function is(t){var o,e=void 0===(e=t.type)?"static":e,n=t.duration,i=void 0===(i=t.timescale)?1:i,r=t.sourceDuration,a=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}((a=gs[e](t)).start,a.end).map((o=t,function(t,e){var n=o.duration,i=o.timescale,r=o.periodIndex,a=o.startNumber;return{number:(void 0===a?1:a)+t,duration:n/(void 0===i?1:i),timeline:r,time:e*n}}));return"static"===e&&(a[t=a.length-1].duration=r-n/i*t),a}function rs(t,e){return t.replace(ms,(r=e,function(t,e,n,i){if("$$"===t)return"$";if(void 0===r[e])return t;t=""+r[e];return"RepresentationID"===e||(i=n?parseInt(i,10):1)<=t.length?t:new Array(i-t.length+1).join("0")+t}));var r}function as(n,t){var i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},e=void 0===(e=n.initialization)?{sourceURL:"",range:""}:e,r=ts({baseUrl:n.baseUrl,source:rs(e.sourceURL,i),range:e.range});return e=t,((t=n).duration||e?t.duration?is(t):es(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]).map(function(t){i.Number=t.number,i.Time=t.time;var e=rs(n.media||"",i);return{uri:e,timeline:t.timeline,duration:t.duration,resolvedUri:Zo(n.baseUrl||"",e),map:r,number:t.number}})}function os(i,t){var e=i.duration,n=void 0===(n=i.segmentUrls)?[]:n;if(!e&&!t||e&&t)throw new Error(ys.SEGMENT_TIME_UNSPECIFIED);var r=n.map(function(t){return t=t,n=(e=i).baseUrl,e=e.initialization,e=ts({baseUrl:n,source:(e=void 0===e?{}:e).sourceURL,range:e.range}),(n=ts({baseUrl:n,source:t.media,range:t.mediaRange})).map=e,n;var e,n}),n=void 0;return e&&(n=is(i)),(n=t?es(i,t):n).map(function(t,e){if(r[e])return(e=r[e]).timeline=t.timeline,e.duration=t.duration,e.number=t.number,e}).filter(function(t){return t})}function ss(t){var e=t.baseUrl,n=void 0===(n=t.initialization)?{}:n,i=t.sourceDuration,r=void 0===(r=t.timescale)?1:r,a=void 0===(a=t.indexRange)?"":a,o=t.duration;if(e)return n=ts({baseUrl:e,source:n.sourceURL,range:n.range}),(e=ts({baseUrl:e,source:e,range:a})).map=n,o?(a=is(t)).length&&(e.duration=a[0].duration,e.timeline=a[0].timeline):i&&(e.duration=i/r,e.timeline=0),e.number=0,[e];throw new Error(ys.NO_BASE_URL)}function ls(t){return t.textContent.trim()}function us(t){if(!(t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t)))return 0;var e=(t=t.slice(1))[0],n=t[1],i=t[2],r=t[3],a=t[4],t=t[5];return 31536e3*parseFloat(e||0)+2592e3*parseFloat(n||0)+86400*parseFloat(i||0)+3600*parseFloat(r||0)+60*parseFloat(a||0)+parseFloat(t||0)}var cs=function(t){return t.reduce(function(t,e){var n=e.attributes.role&&e.attributes.role.value||"main",i=e.attributes.lang||"",r="main";return t[r=i?e.attributes.lang+" ("+n+")":r]&&t[r].playlists[0].attributes.BANDWIDTH>e.attributes.bandwidth||(t[r]={language:i,autoselect:!0,default:"main"===n,playlists:[(i=(r=e).attributes,r=r.segments,n={attributes:((n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1},i.contentProtection&&(n.contentProtection=i.contentProtection),n)],uri:""}),t},{})},ds=function(t){return t.reduce(function(t,e){var n,i=e.attributes.lang||"text";return t[i]||(t[i]={language:i,default:!1,autoselect:!1,playlists:[(e=(i=e).attributes,void 0===(i=i.segments)&&(i=[{uri:e.baseUrl,timeline:e.periodIndex,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration),{attributes:((n={NAME:e.id,BANDWIDTH:e.bandwidth})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(e.type||"static"),timeline:e.periodIndex,resolvedUri:e.baseUrl||"",targetDuration:e.duration,segments:i,mediaSequence:i.length?i[0].number:1})],uri:""}),t},{})},hs=function(t){var e=t.attributes,t=t.segments,n={attributes:((n={NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(e.type||"static"),timeline:e.periodIndex,resolvedUri:"",targetDuration:e.duration,segments:t,mediaSequence:t.length?t[0].number:1};return e.contentProtection&&(n.contentProtection=e.contentProtection),n},fs="function"==typeof Symbol&&"symbol"===Se(Symbol.iterator)?function(t){return void 0===t?"undefined":Se(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":Se(t)},ps=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},gs={static:function(t){var e=t.duration,n=t.timescale,t=t.sourceDuration;return{start:0,end:Math.ceil(t/(e/(void 0===n?1:n)))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,r=void 0===r?1:r,a=t.duration,o=t.start,s=t.minimumUpdatePeriod,t=t.timeShiftBufferDepth,t=void 0===t?1/0:t,e=(e+n)/1e3,n=i+(void 0===o?0:o),i=Math.ceil((e+(void 0===s?0:s)-n)*r/a),o=Math.floor((e-n-t)*r/a),s=Math.floor((e-n)*r/a);return{start:Math.max(0,o),end:Math.min(i,s)}}},ms=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ys={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},vs=function(t){var e=t.attributes,t=t.segmentInfo,n=void 0,i=void 0;if(t.template?(i=as,n=Jo(e,t.template)):t.base?(i=ss,n=Jo(e,t.base)):t.list&&(i=os,n=Jo(e,t.list)),!i)return{attributes:e};e=i(n,t.timeline);return n.duration?(t=(i=n).duration,i=i.timescale,n.duration=t/(void 0===i?1:i)):e.length?n.duration=e.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):n.duration=0,{attributes:n,segments:e}},bs=function(t,e){return ns(t.childNodes).filter(function(t){return t.tagName===e})},_s={mediaPresentationDuration:us,availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=t)&&(t+="Z"),Date.parse(t)/1e3},minimumUpdatePeriod:us,timeShiftBufferDepth:us,start:us,width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?us(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},Ts=function(t){return t&&t.attributes?ns(t.attributes).reduce(function(t,e){var n=_s[e.name]||_s.DEFAULT;return t[e.name]=n(e.value),t},{}):{}};function Ss(t){var e=bs(t,"SegmentTemplate")[0],n=bs(t,"SegmentList")[0],i=n&&bs(n,"SegmentURL").map(function(t){return Jo({tag:"SegmentURL"},Ts(t))}),t=bs(t,"SegmentBase")[0],r=(r=n||e)&&bs(r,"SegmentTimeline")[0],a=(a=n||t||e)&&bs(a,"Initialization")[0],o=((e=e&&Ts(e))&&a?e.initialization=a&&Ts(a):e&&e.initialization&&(e.initialization={sourceURL:e.initialization}),{template:e,timeline:r&&bs(r,"S").map(function(t){return Ts(t)}),list:n&&Jo(Ts(n),{segmentUrls:i,initialization:Ts(a)}),base:t&&Jo(Ts(t),{initialization:Ts(a)})});return Object.keys(o).forEach(function(t){o[t]||delete o[t]}),o}function ws(t){return t.reduce(function(t,e){var n=Ts(e),i=ul[n.schemeIdUri];return i&&(t[i]={attributes:n},(n=bs(e,"cenc:pssh")[0])&&(n=(e=ls(n))&&function(t){for(var e=h.atob(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),t[i].pssh=n)),t},{})}function Es(s,l,u){return function(t){var r,a,o,e=Ts(t),n=cl(l,bs(t,"BaseURL")),i=bs(t,"Role")[0],i={role:Ts(i)},e=Jo(s,e,i),i=ws(bs(t,"ContentProtection")),i=(Object.keys(i).length&&(e=Jo(e,{contentProtection:i})),Ss(t)),t=bs(t,"Representation"),i=Jo(u,i);return ps(t.map((r=e,a=n,o=i,function(t){var e=bs(t,"BaseURL"),e=cl(a,e),n=Jo(r,Ts(t)),i=Ss(t);return e.map(function(t){return{segmentInfo:Jo(o,i),attributes:Jo(n,{baseUrl:t})}})})))}}function Cs(t){if(""===t)throw new Error(ys.DASH_EMPTY_MANIFEST);if(!(t=(t=(new h.DOMParser).parseFromString(t,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null)||0<t.getElementsByTagName("parsererror").length)throw new Error(ys.DASH_INVALID_XML);return t}function ks(t,e){if(!(t=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.manifestUri,n=void 0===n?"":n,i=e.NOW,i=void 0===i?Date.now():i,e=e.clientOffset,e=void 0===e?0:e,r=bs(t,"Period");if(1!==r.length)throw new Error(ys.INVALID_NUMBER_OF_PERIOD);var a=Ts(t),n=cl([n],bs(t,"BaseURL"));return a.sourceDuration=a.mediaPresentationDuration||0,a.NOW=i,a.clientOffset=e,ps(r.map(dl(a,n)))}(Cs(t),e).map(vs)).length)return{};var n=(e=t[0].attributes).sourceDuration,e=void 0===(e=e.minimumUpdatePeriod)?0:e,i=t.filter(function(t){t=t.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType}).map(hs),r=t.filter(function(t){t=t.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType}),t=t.filter(function(t){t=t.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),a={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((a={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},a.SUBTITLES={},a),uri:"",duration:n,playlists:i,minimumUpdatePeriod:1e3*e};return r.length&&(a.mediaGroups.AUDIO.audio=cs(r)),t.length&&(a.mediaGroups.SUBTITLES.subs=ds(t)),a}function Ds(t){if(t=Cs(t),!(t=bs(t,"UTCTiming")[0]))return null;var e=Ts(t);switch(e.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":e.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":e.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":e.method="DIRECT",e.value=Date.parse(e.value);break;default:throw new Error(ys.UNSUPPORTED_UTC_TIMING_SCHEME)}return e}var L,As,xs,Ls,Os,Is,Rs,Ps,Ms,Ns,Us,Fs,js,Bs,Hs,Ws,Gs,qs,Vs,Ys,O,zs,$s,Ks,Xs,Qs,Js,Zs,tl,el,nl,il,rl,al,ol,sl,ll,ul={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},cl=function(t,n){return n.length?ps(t.map(function(e){return n.map(function(t){return Zo(e,ls(t))})})):t},dl=function(r,a){return function(t,e){var n=cl(a,bs(t,"BaseURL")),i=Ts(t),i=Jo(r,i,{periodIndex:e}),e=bs(t,"AdaptationSet"),t=Ss(t);return ps(e.map(Es(i,n,t)))}},b={toUnsigned:function(t){return t>>>0}},to=Object.freeze({default:b,__moduleExports:b,toUnsigned:b.toUnsigned}),hl=(to&&b).toUnsigned,fl=function(t,e){var n,i,r,a=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=hl(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=pl(t.subarray(n+4,n+8)),i=1<i?n+i:t.byteLength,r===e[0]&&(1===e.length?a.push(t.subarray(n+8,i)):(r=fl(t.subarray(n+8,i),e.slice(1))).length&&(a=a.concat(r))),n=i;return a},pl=function(t){var e="";return(e+=String.fromCharCode(t[0]))+String.fromCharCode(t[1])+String.fromCharCode(t[2])+String.fromCharCode(t[3])},gl={findBox:fl,parseType:pl,timescale:function(t){return fl(t,["moov","trak"]).reduce(function(t,e){var n,i,r=fl(e,["tkhd"])[0];return r?(n=r[0],r=hl(r[i=0===n?12:20]<<24|r[1+i]<<16|r[2+i]<<8|r[3+i]),(e=fl(e,["mdia","mdhd"])[0])?(n=e[0],t[r]=hl(e[i=0===n?12:20]<<24|e[1+i]<<16|e[2+i]<<8|e[3+i]),t):null):null},{})},startTime:function(i,t){t=fl(t,["moof","traf"]),t=[].concat.apply([],t.map(function(n){return fl(n,["tfhd"]).map(function(t){var t=hl(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),t=i[t]||9e4,e=fl(n,["tfdt"]).map(function(t){var e=t[0],n=hl(t[4]<<24|t[5]<<16|t[6]<<8|t[7]);return n=1===e?(n*=Math.pow(2,32))+hl(t[8]<<24|t[9]<<16|t[10]<<8|t[11]):n})[0];return(e||1/0)/t})})),t=Math.min.apply(null,t);return isFinite(t)?t:0},videoTrackIds:function(t){var t=fl(t,["moov","trak"]),i=[];return t.forEach(function(t){var e=fl(t,["mdia","hdlr"]),n=fl(t,["tkhd"]);e.forEach(function(t,e){var t=pl(t.subarray(8,12)),e=n[e];"vide"===t&&(e=0===(t=new DataView(e.buffer,e.byteOffset,e.byteLength)).getUint8(0)?t.getUint32(12):t.getUint32(20),i.push(e))})}),i}},ml=Math.pow(2,32)-1;if(O={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var yl in O)O.hasOwnProperty(yl)&&(O[yl]=[yl.charCodeAt(0),yl.charCodeAt(1),yl.charCodeAt(2),yl.charCodeAt(3)]);zs=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ks=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),$s=new Uint8Array([0,0,0,1]),Za=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ja=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Xs={video:Za,audio:Ja},Zs=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Js=new Uint8Array([0,0,0,0,0,0,0,0]),tl=new Uint8Array([0,0,0,0,0,0,0,0]),el=tl,nl=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),il=tl,Qs=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}L=function(t){for(var e,n=[],i=0,r=1;r<arguments.length;r++)n.push(arguments[r]);for(r=n.length;r--;)i+=n[r].byteLength;for(e=new Uint8Array(i+8),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(0,e.byteLength),e.set(t,4),r=0,i=8;r<n.length;r++)e.set(n[r],i),i+=n[r].byteLength;return e},As=function(){return L(O.dinf,L(O.dref,Zs))},xs=function(t){return L(O.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},Bs=function(t){return L(O.hdlr,Xs[t])},js=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),L(O.mdhd,e)},Fs=function(t){return L(O.mdia,js(t),Bs(t.type),Is(t))},Os=function(t){return L(O.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},Is=function(t){return L(O.minf,"video"===t.type?L(O.vmhd,Qs):L(O.smhd,Js),As(),Ws(t))},Ps=function(t){for(var e=t.length,n=[];e--;)n[e]=Vs(t[e]);return L.apply(null,[O.mvex].concat(n))},Ms=function(t){t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return L(O.mvhd,t)},Hs=function(t){for(var e,n=t.samples||[],i=new Uint8Array(4+n.length),r=0;r<n.length;r++)e=n[r].flags,i[r+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return L(O.sdtp,i)},Ws=function(t){return L(O.stbl,Gs(t),L(O.stts,il),L(O.stsc,el),L(O.stsz,nl),L(O.stco,tl))},Gs=function(t){return L(O.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===t.type?rl:al)(t))},rl=function(t){for(var e=t.sps||[],n=t.pps||[],i=[],r=[],a=0;a<e.length;a++)i.push((65280&e[a].byteLength)>>>8),i.push(255&e[a].byteLength),i=i.concat(Array.prototype.slice.call(e[a]));for(a=0;a<n.length;a++)r.push((65280&n[a].byteLength)>>>8),r.push(255&n[a].byteLength),r=r.concat(Array.prototype.slice.call(n[a]));return L(O.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),L(O.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([e.length]).concat(i).concat([n.length]).concat(r))),L(O.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},al=function(t){return L(O.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),xs(t))},Us=function(t){t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return L(O.tkhd,t)},qs=function(t){var e,n=L(O.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(t.baseMediaDecodeTime/(1+ml)),r=Math.floor(t.baseMediaDecodeTime%(1+ml)),i=L(O.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r]));return"audio"===t.type?(e=Ys(t,92),L(O.traf,n,i,e)):(r=Hs(t),e=Ys(t,r.length+92),L(O.traf,n,i,e,r))},Ns=function(t){return t.duration=t.duration||4294967295,L(O.trak,Us(t),Fs(t))},Vs=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),L(O.trex,e)},ol=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},sl=function(t,e){var n,i,r,a=t.samples||[];for(e+=20+16*a.length,n=ol(a,e),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size,i.flags.isLeading<<2|i.flags.dependsOn,i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,61440&i.flags.degradationPriority,15&i.flags.degradationPriority,(4278190080&i.compositionTimeOffset)>>>24,(16711680&i.compositionTimeOffset)>>>16,(65280&i.compositionTimeOffset)>>>8,255&i.compositionTimeOffset]);return L(O.trun,new Uint8Array(n))},ll=function(t,e){var n,i,r,a=t.samples||[];for(e+=20+8*a.length,n=ol(a,e),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size]);return L(O.trun,new Uint8Array(n))},Ys=function(t,e){return("audio"===t.type?ll:sl)(t,e)};function vl(){this.init=function(){var a={};this.on=function(t,e){a[t]||(a[t]=[]),a[t]=a[t].concat(e)},this.off=function(t,e){return!!a[t]&&(e=a[t].indexOf(e),a[t]=a[t].slice(),a[t].splice(e,1),-1<e)},this.trigger=function(t){var e,n,i,r=a[t];if(r)if(2===arguments.length)for(n=r.length,e=0;e<n;++e)r[e].call(this,arguments[1]);else{for(i=[],e=arguments.length,e=1;e<arguments.length;++e)i.push(arguments[e]);for(n=r.length,e=0;e<n;++e)r[e].apply(this,i)}},this.dispose=function(){a={}}}}r={ftyp:Ls=function(){return L(O.ftyp,zs,$s,zs,Ks)},mdat:function(t){return L(O.mdat,t)},moof:function(t,e){for(var n=[],i=e.length;i--;)n[i]=qs(e[i]);return L.apply(null,[O.moof,Os(t)].concat(n))},moov:Rs=function(t){for(var e=t.length,n=[];e--;)n[e]=Ns(t[e]);return L.apply(null,[O.moov,Ms(4294967295)].concat(n).concat(Ps(t)))},initSegment:function(t){var e=Ls(),t=Rs(t),n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.byteLength),n}},t=Object.freeze({default:r,__moduleExports:r,ftyp:r.ftyp,mdat:r.mdat,moof:r.moof,moov:r.moov,initSegment:r.initSegment});vl.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},vl.prototype.push=function(t){this.trigger("data",t)},vl.prototype.flush=function(t){this.trigger("done",t)};function bl(){bl.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new I(0,0),new I(0,1),new I(1,0),new I(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)}function _l(t){return null===t?"":(t=xl[t]||t,String.fromCharCode(t))}function Tl(){for(var t=[],e=Ll+1;e--;)t.push("");return t}function Sl(t,e){var n=1;for(e<t&&(n=-1);Math.abs(e-t)>Rl;)t+=n*Il;return t}function wl(t){var e,n;wl.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=Sl(t.dts,n),t.pts=Sl(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){e=n=void 0}}function El(t,e,n){for(var i="",r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i}function Cl(t,e,n){return decodeURIComponent(El(t,e,n))}function kl(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var o=Object.freeze({default:vl,__moduleExports:vl}),Dl=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},e={groupNalsIntoFrames:function(t){for(var e,n=[],i=[],r=n.byteLength=0;r<t.length;r++)"access_unit_delimiter_rbsp"===(e=t[r]).nalUnitType?(n.length&&(n.duration=e.dts-n.dts,i.push(n)),(n=[e]).byteLength=e.data.byteLength,n.pts=e.pts,n.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(n.keyFrame=!0),n.duration=e.dts-n.dts,n.byteLength+=e.data.byteLength,n.push(e));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.push(n),i},groupFramesIntoGops:function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(t){var e;return!t[0][0].keyFrame&&1<t.length&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},generateSampleTable:function(t,e){for(var n,i,r,a,o,s=e||0,l=[],u=0;u<t.length;u++)for(i=t[u],n=0;n<i.length;n++)r=i[n],r=r,a=s,o=void 0,(o=Dl()).dataOffset=a,o.compositionTimeOffset=r.pts-r.dts,o.duration=r.duration,o.size=4*r.length,o.size+=r.byteLength,r.keyFrame&&(o.flags.dependsOn=2,o.flags.isNonSyncSample=0),s+=(a=o).size,l.push(a);return l},concatenateNalData:function(t){for(var e,n,i,r,a,o=0,s=t.byteLength,l=t.nalCount,u=new Uint8Array(s+4*l),c=new DataView(u.buffer),d=0;d<t.length;d++)for(i=t[d],e=0;e<i.length;e++)for(r=i[e],n=0;n<r.length;n++)a=r[n],c.setUint32(o,a.data.byteLength),u.set(a.data,o+=4),o+=a.data.byteLength;return u}},Qa=Object.freeze({default:e,__moduleExports:e,groupNalsIntoFrames:e.groupNalsIntoFrames,groupFramesIntoGops:e.groupFramesIntoGops,extendFirstKeyFrame:e.extendFirstKeyFrame,generateSampleTable:e.generateSampleTable,concatenateNalData:e.concatenateNalData}),v={clearDtsInfo:function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(t,e){var n=t.minSegmentDts;return e||(n-=t.timelineStartInfo.dts),e=t.timelineStartInfo.baseMediaDecodeTime,e+=n,e=Math.max(0,e),"audio"===t.type&&(e*=t.samplerate/9e4,e=Math.floor(e)),e},collectDtsInfo:function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}},U=Object.freeze({default:v,__moduleExports:v,clearDtsInfo:v.clearDtsInfo,calculateTrackBaseMediaDecodeTime:v.calculateTrackBaseMediaDecodeTime,collectDtsInfo:v.collectDtsInfo}),_={parseSei:function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,r=i=0}return n},parseUserData:function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var n,i,r,a,o=[];if(!(64&e[0]))return o;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[2+r]&&(a.ccData=e[3+r]<<8|e[4+r],o.push(a));return o},discardEmulationPreventionBytes:function(t){for(var e=t.byteLength,n=[],i=1;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return t;for(var r=e-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=t[o];return a},USER_DATA_REGISTERED_ITU_T_T35:4},T=Object.freeze({default:_,__moduleExports:_,parseSei:_.parseSei,parseUserData:_.parseUserData,parseCaptionPackets:_.parseCaptionPackets,discardEmulationPreventionBytes:_.discardEmulationPreventionBytes,USER_DATA_REGISTERED_ITU_T_T35:_.USER_DATA_REGISTERED_ITU_T_T35}),bn=o&&vl,Al=T&&_,xl=((bl.prototype=new bn).push=function(t){var e,n;if("sei_rbsp"===t.nalUnitType&&(n=Al.parseSei(t.escapedRBSP)).payloadType===Al.USER_DATA_REGISTERED_ITU_T_T35&&(e=Al.parseUserData(n)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Al.parseCaptionPackets(t.pts,e),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},bl.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},bl.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},bl.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},bl.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},bl.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},{42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496}),Ll=14,Ol=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],I=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a=32639&t.ccData;a===this.lastControlCode_?this.lastControlCode_=null:(4096==(61440&a)?this.lastControlCode_=a:a!==this.PADDING_&&(this.lastControlCode_=null),e=a>>>8,n=255&a,a!==this.PADDING_&&(a===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":a===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=t.pts):a===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(t.pts)):a===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(t.pts)):a===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(t.pts)):a===this.CARRIAGE_RETURN_?(this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts):a===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):a===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(t.pts),this.displayed_=Tl()):a===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=Tl():a===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Tl()),this.mode_="paintOn",this.startPts_=t.pts):this.isSpecialCharacter(e,n)?(i=_l((e=(3&e)<<8)|n),this[this.mode_](t.pts,i),this.column_++):this.isExtCharacter(e,n)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=_l((e=(3&e)<<8)|n),this[this.mode_](t.pts,i),this.column_++):this.isMidRowCode(e,n)?(this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&n)&&this.addFormatting(t.pts,["i"]),1==(1&n)&&this.addFormatting(t.pts,["u"])):this.isOffsetControlCode(e,n)?this.column_+=3&n:this.isPAC(e,n)?(r=Ol.indexOf(7968&a),"rollUp"===this.mode_&&this.setRollUp(t.pts,r),r!==this.row_&&(this.clearFormatting(t.pts),this.row_=r),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&a)&&(this.column_=4*((14&a)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(t.pts,["i"])):this.isNormalChar(e)&&(0===n&&(n=null),i=_l(e),i+=_l(n),this[this.mode_](t.pts,i),this.column_+=i.length)))}},to=(I.prototype=new bn,I.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},I.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Tl(),this.nonDisplayed_=Tl(),this.lastControlCode_=null,this.column_=0,this.row_=Ll,this.rollUpRows_=2,this.formatting_=[]},I.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},I.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&48<=e&&e<=63},I.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&32<=e&&e<=63},I.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&32<=e&&e<=47},I.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&33<=e&&e<=35},I.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&64<=e&&e<=127},I.prototype.isColorPAC=function(t){return 64<=t&&t<=79||96<=t&&t<=127},I.prototype.isNormalChar=function(t){return 32<=t&&t<=127},I.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=Ll,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Tl(),this.displayed_=Tl()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},I.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);e=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,e)},I.prototype.clearFormatting=function(t){var e;this.formatting_.length&&(e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},""),this.formatting_=[],this[this.mode_](t,e))},I.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=n+=e},I.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=e},I.prototype.shiftRowsUp_=function(){for(var t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<Ll+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},I.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=e},{CaptionStream:bl,Cea608Stream:I}),b=Object.freeze({default:to,__moduleExports:to,CaptionStream:to.CaptionStream,Cea608Stream:to.Cea608Stream}),Za={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ja=Object.freeze({default:Za,__moduleExports:Za,H264_STREAM_TYPE:Za.H264_STREAM_TYPE,ADTS_STREAM_TYPE:Za.ADTS_STREAM_TYPE,METADATA_STREAM_TYPE:Za.METADATA_STREAM_TYPE}),Il=8589934592,Rl=4294967296,o=(wl.prototype=new bn,{TimestampRolloverStream:wl,handleRollover:Sl}),T=Object.freeze({default:o,__moduleExports:o,TimestampRolloverStream:o.TimestampRolloverStream,handleRollover:o.handleRollover}),Pl=Ja&&Za,Ml={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Cl(t.data,1,e),t.value=Cl(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Cl(t.data,1,e),t.url=Cl(t.data,e+1,t.data.length);break}},PRIV:function(t){for(var e,n=0;n<t.data.length;n++)if(0===t.data[n]){t.owner=(e=t.data,unescape(El(e,0,n)));break}t.privateData=t.data.subarray(n+1),t.data=t.privateData}},Nl=function(t){var e,l={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},u=0,c=[],d=0;if(Nl.prototype.init.call(this),this.dispatchType=Pl.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(e=0;e<l.descriptor.length;e++)this.dispatchType+=("00"+l.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,i,r,a,o,s;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(d=0,c.length=0),0===c.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(t),d+=t.data.byteLength,1===c.length&&(u=kl(t.data.subarray(6,10)),u+=10),!(d<u)){for(e={data:new Uint8Array(u),frames:[],pts:c[0].pts,dts:c[0].dts},r=0;r<u;)e.data.set(c[0].data.subarray(0,u-r),r),r+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();n=10,64&e.data[5]&&(n=(n+=4)+kl(e.data.subarray(10,14)),u-=kl(e.data.subarray(16,20)));do{if((i=kl(e.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}while((s={id:String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),data:e.data.subarray(n+10,n+i+10)}).key=s.id,Ml[s.id]&&(Ml[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner&&(o=(1&(a=s.data)[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2,o=(o*=4)+(3&a[7]),s.timeStamp=o,void 0===e.pts&&void 0===e.dts&&(e.pts=s.timeStamp,e.dts=s.timeStamp),this.trigger("timestamp",s))),e.frames.push(s),(n=n+10+i)<u);this.trigger("data",e)}}};Nl.prototype=new bn;var Ul,Fl,jl,_=Object.freeze({default:Nl,__moduleExports:Nl}),Ja=b&&to,Za=T&&o,b=_&&Nl,to=Za.TimestampRolloverStream,Bl=function(){var r=new Uint8Array(188),a=0;Bl.prototype.init.call(this),this.push=function(t){var e,n=0,i=188;for(a?((e=new Uint8Array(t.byteLength+a)).set(r.subarray(0,a)),e.set(t,a),a=0):e=t;i<e.byteLength;)71===e[n]&&71===e[i]?(this.trigger("data",e.subarray(n,i)),n+=188,i+=188):(n++,i++);n<e.byteLength&&(r.set(e.subarray(n),0),a=e.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}},Hl=(Bl.prototype=new bn,(Ul=function(){var i,r,a,o;Ul.prototype.init.call(this),(o=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(t,e){var n=0;e.payloadUnitStartIndicator&&(n+=t[n]+1),("pat"===e.type?r:a)(t.subarray(n),e)},r=function(t,e){e.section_number=t[7],e.last_section_number=t[8],o.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=o.pmtPid},a=function(t,e){var n,i;if(1&t[5]){for(o.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var r=t[i],a=(31&t[i+1])<<8|t[i+2];r===Pl.H264_STREAM_TYPE&&null===o.programMapTable.video?o.programMapTable.video=a:r===Pl.ADTS_STREAM_TYPE&&null===o.programMapTable.audio?o.programMapTable.audio=a:r===Pl.METADATA_STREAM_TYPE&&(o.programMapTable["timed-metadata"][a]=r),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=o.programMapTable}},this.push=function(t){var e={},n=4;if(e.payloadUnitStartIndicator=!!(64&t[1]),e.pid=31&t[1],e.pid<<=8,e.pid|=t[2],1<(48&t[3])>>>4&&(n+=t[n]+1),0===e.pid)e.type="pat",i(t.subarray(n),e),this.trigger("data",e);else if(e.pid===this.pmtPid)for(e.type="pmt",i(t.subarray(n),e),this.trigger("data",e);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,e]):this.processPes_(t,n,e)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Pl.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Pl.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new bn,Ul.STREAM_TYPES={h264:27,adts:15},(Fl=function(){function i(t,e,n){var i,r=new Uint8Array(t.size),a={type:e},o=0,s=0;if(t.data.length&&!(t.size<9)){for(a.trackId=t.data[0].pid,o=0;o<t.data.length;o++)i=t.data[o],r.set(i.data,s),s+=i.data.byteLength;u(r,a),e="video"===e||a.packetLength<=t.size,(n||e)&&(t.size=0,t.data.length=0),e&&l.trigger("data",a)}}var l=this,r={data:[],size:0},a={data:[],size:0},o={data:[],size:0},u=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!=(4&t[6]),192&(n=t[7])&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])};Fl.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var t,e;switch(n.streamType){case Pl.H264_STREAM_TYPE:case Pl.H264_STREAM_TYPE:t=r,e="video";break;case Pl.ADTS_STREAM_TYPE:t=a,e="audio";break;case Pl.METADATA_STREAM_TYPE:t=o,e="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(t,e,!0),t.data.push(n),t.size+=n.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},e=n.programMapTable;null!==e.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),l.trigger("data",t)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(o,"timed-metadata"),this.trigger("done")}}).prototype=new bn,{PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Bl,TransportParseStream:Ul,ElementaryStream:Fl,TimestampRolloverStream:to,CaptionStream:Ja.CaptionStream,Cea608Stream:Ja.Cea608Stream,MetadataStream:b});for(jl in Pl)Pl.hasOwnProperty(jl)&&(Hl[jl]=Pl[jl]);function R(t){for(var e=[];t--;)e.push(0);return e}function Wl(t){return new Date(1e3*t-20828448e5)}function Gl(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}function ql(){var e,o,s,l,u,t=!1;this.isInitialized=function(){return t},this.init=function(){e=new ju,t=!0,e.on("data",function(t){t.startTime=t.startPts/l,t.endTime=t.endPts/l,u.captions.push(t),u.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"===(void 0===e?"undefined":Se(e))&&0===Object.keys(e).length)&&(s!==t[0]||l!==e[s])},this.parse=function(t,e,n){var i,r;if(!this.isInitialized())return null;if(!e||!n)return null;if(this.isNewInit(e,n))s=e[0],l=n[s];else if(!s||!l)return o.push(t),null;for(;0<o.length;){var a=o.shift();this.parse(a,e,n)}return t=t,r=l,null!==(t=(i=s)?{seiNals:Bu(t,i)[i],timescale:r}:null)&&t.seiNals?(this.pushNals(t.seiNals),this.flushStream(),u):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){u.captions=[],u.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){o=[],l=s=null,u?this.clearParsedCaptions():u={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}function Vl(t){var e=31&t[1];return e<<8|t[2]}function Yl(t){return!!(64&t[1])}function zl(t){var e=0;return 1<(48&t[3])>>>4&&(e+=t[4]+1),e}function $l(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}function Kl(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var Xl,Ql,Jl,Zl,tu,eu,T=Hl,o=Object.freeze({default:T,__moduleExports:T}),nu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],iu=function(){var l;iu.prototype.init.call(this),this.push=function(t){var e,n,i,r,a,o=0,s=0;if("audio"===t.type)for(l?(i=l,(l=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),l.set(t.data,i.byteLength)):l=t.data;o+5<l.length;)if(255!==l[o]||240!=(246&l[o+1]))o++;else{if(e=2*(1&~l[o+1]),n=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,a=9e4*(r=1024*(1+(3&l[o+6])))/nu[(60&l[o+2])>>>2],l.byteLength<(n=o+n))return;if(this.trigger("data",{pts:t.pts+s*a,dts:t.dts+s*a,sampleCount:r,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:nu[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+e,n)}),l.byteLength===n)return void(l=void 0);s++,l=l.subarray(n)}},this.flush=function(){this.trigger("done")}},_=(iu.prototype=new bn,iu),to=Object.freeze({default:_,__moduleExports:_}),b=function(i){var r=i.byteLength,a=0,o=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+o},this.loadWord=function(){var t=i.byteLength-r,e=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");e.set(i.subarray(t,t+n)),a=new DataView(e.buffer).getUint32(0),o=8*n,r-=n},this.skipBits=function(t){var e;t<o||(t=(t-=o)-8*(e=Math.floor(t/8)),r-=e,this.loadWord()),a<<=t,o-=t},this.readBits=function(t){var e=Math.min(o,t),n=a>>>32-e;return 0<(o-=e)?a<<=e:0<r&&this.loadWord(),0<(e=t-e)?n<<e|this.readBits(e):n},this.skipLeadingZeros=function(){for(var t=0;t<o;++t)if(0!=(a&2147483648>>>t))return a<<=t,o-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},ru=Object.freeze({default:b,__moduleExports:b}),au=ru&&b,ou=function(){var n,i,r=0;ou.prototype.init.call(this),this.push=function(t){var e;for(i=i?((e=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),e.set(t.data,i.byteLength),e):t.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}},ru=(ou.prototype=new bn,Ql={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Xl=function(){var n,i,r,a,o,s,m,e=new ou;Xl.prototype.init.call(this),(n=this).push=function(t){"video"===t.type&&(i=t.trackId,r=t.pts,a=t.dts,e.push(t))},e.on("data",function(t){var e={trackId:i,pts:r,dts:a,data:t};switch(31&t[0]){case 5:e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:e.nalUnitType="sei_rbsp",e.escapedRBSP=o(t.subarray(1));break;case 7:e.nalUnitType="seq_parameter_set_rbsp",e.escapedRBSP=o(t.subarray(1)),e.config=s(e.escapedRBSP);break;case 8:e.nalUnitType="pic_parameter_set_rbsp";break;case 9:e.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",e)}),e.on("done",function(){n.trigger("done")}),this.flush=function(){e.flush()},m=function(t,e){for(var n=8,i=8,r=0;r<t;r++)n=0===(i=0!==i?(n+e.readExpGolomb()+256)%256:i)?n:i},o=function(t){for(var e=t.byteLength,n=[],i=1;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return t;for(var r=e-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=t[o];return a},s=function(t){var e,n,i,r,a,o,s,l=0,u=0,c=0,d=0,h=1,f=new au(t),t=f.readUnsignedByte(),p=f.readUnsignedByte(),g=f.readUnsignedByte();if(f.skipUnsignedExpGolomb(),Ql[t]&&(3===(n=f.readUnsignedExpGolomb())&&f.skipBits(1),f.skipUnsignedExpGolomb(),f.skipUnsignedExpGolomb(),f.skipBits(1),f.readBoolean()))for(a=3!==n?8:12,s=0;s<a;s++)f.readBoolean()&&m(s<6?16:64,f);if(f.skipUnsignedExpGolomb(),0===(n=f.readUnsignedExpGolomb()))f.readUnsignedExpGolomb();else if(1===n)for(f.skipBits(1),f.skipExpGolomb(),f.skipExpGolomb(),e=f.readUnsignedExpGolomb(),s=0;s<e;s++)f.skipExpGolomb();if(f.skipUnsignedExpGolomb(),f.skipBits(1),n=f.readUnsignedExpGolomb(),i=f.readUnsignedExpGolomb(),0===(r=f.readBits(1))&&f.skipBits(1),f.skipBits(1),f.readBoolean()&&(l=f.readUnsignedExpGolomb(),u=f.readUnsignedExpGolomb(),c=f.readUnsignedExpGolomb(),d=f.readUnsignedExpGolomb()),f.readBoolean()&&f.readBoolean()){switch(f.readUnsignedByte()){case 1:o=[1,1];break;case 2:o=[12,11];break;case 3:o=[10,11];break;case 4:o=[16,11];break;case 5:o=[40,33];break;case 6:o=[24,11];break;case 7:o=[20,11];break;case 8:o=[32,11];break;case 9:o=[80,33];break;case 10:o=[18,11];break;case 11:o=[15,11];break;case 12:o=[64,33];break;case 13:o=[160,99];break;case 14:o=[4,3];break;case 15:o=[3,2];break;case 16:o=[2,1];break;case 255:o=[f.readUnsignedByte()<<8|f.readUnsignedByte(),f.readUnsignedByte()<<8|f.readUnsignedByte()]}o&&(h=o[0]/o[1])}return{profileIdc:t,levelIdc:g,profileCompatibility:p,width:Math.ceil((16*(n+1)-2*l-2*u)*h),height:(2-r)*(i+1)*16-2*c-2*d}}}).prototype=new bn,{H264Stream:Xl,NalByteStream:ou}),b=Object.freeze({default:ru,__moduleExports:ru,H264Stream:ru.H264Stream,NalByteStream:ru.NalByteStream}),su=function(){var a=new Uint8Array,o=0;su.prototype.init.call(this),this.setTimestamp=function(t){o=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?20+n:10+n},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},this.push=function(t){var e,n,i=0,r=0;for(a.length?(n=a.length,(a=new Uint8Array(t.byteLength+n)).set(a.subarray(0,n)),a.set(t,n)):a=t;3<=a.length-r;)if(a[r]==="I".charCodeAt(0)&&a[r+1]==="D".charCodeAt(0)&&a[r+2]==="3".charCodeAt(0)){if(a.length-r<10)break;if((i=this.parseId3TagSize(a,r))>a.length)break;e={type:"timed-metadata",data:a.subarray(r,r+i)},this.trigger("data",e),r+=i}else if(!0&a[r]&&240==(240&a[r+1])){if(a.length-r<7)break;if((i=this.parseAdtsSize(a,r))>a.length)break;e={type:"audio",data:a.subarray(r,r+i),pts:o,dts:o},this.trigger("data",e),r+=i}else r++;n=a.length-r,a=0<n?a.subarray(r):new Uint8Array}},lu=(su.prototype=new bn,su),uu=Object.freeze({default:lu,__moduleExports:lu}),cu=[33,16,5,32,164,27],du=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],cu={96e3:[cu,[227,64],R(154),[56]],88200:[cu,[231],R(170),[56]],64e3:[cu,[248,192],R(240),[56]],48e3:[cu,[255,192],R(268),[55,148,128],R(54),[112]],44100:[cu,[255,192],R(268),[55,163,128],R(84),[112]],32e3:[cu,[255,192],R(268),[55,234],R(226),[112]],24e3:[cu,[255,192],R(268),[55,255,128],R(268),[111,112],R(126),[224]],16e3:[cu,[255,192],R(268),[55,255,128],R(268),[111,255],R(269),[223,108],R(195),[1,192]],12e3:[du,R(268),[3,127,248],R(268),[6,255,240],R(268),[13,255,224],R(268),[27,253,128],R(259),[56]],11025:[du,R(268),[3,127,248],R(268),[6,255,240],R(268),[13,255,224],R(268),[27,255,192],R(268),[55,175,128],R(108),[112]],8e3:[du,R(268),[3,121,16],R(47),[7]]},du=(Jl=cu,Object.keys(Jl).reduce(function(t,e){return t[e]=new Uint8Array(Jl[e].reduce(function(t,e){return t.concat(e)},[])),t},{})),cu=Object.freeze({default:du,__moduleExports:du}),hu=function(t){return 9e4*t},fu=function(t,e){return t*e},pu=function(t){return t/9e4},gu=function(t,e){return t/e},mu={secondsToVideoTs:hu,secondsToAudioTs:fu,videoTsToSeconds:pu,audioTsToSeconds:gu,audioTsToVideoTs:function(t,e){return hu(gu(t,e))},videoTsToAudioTs:function(t,e){return fu(pu(t),e)}},yu=Object.freeze({default:mu,__moduleExports:mu,secondsToVideoTs:mu.secondsToVideoTs,secondsToAudioTs:mu.secondsToAudioTs,videoTsToSeconds:mu.videoTsToSeconds,audioTsToSeconds:mu.audioTsToSeconds,audioTsToVideoTs:mu.audioTsToVideoTs,videoTsToAudioTs:mu.videoTsToAudioTs}),vu=t&&r,bu=Qa&&e,_u=U&&v,Tu=o&&T||o,Su=to&&_,wu=uu&&lu,Eu=cu&&du||cu,Cu=yu&&mu,ku=(b&&ru).H264Stream,Du=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Au=["width","height","profileIdc","levelIdc","profileCompatibility"],xu=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},Lu=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Ou=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].data.byteLength;return e},Iu=function(i,r){var a=[],o=0,e=0,l=0,u=1/0;r=r||{},Iu.prototype.init.call(this),this.push=function(e){_u.collectDtsInfo(i,e),i&&Du.forEach(function(t){i[t]=e[t]}),a.push(e)},this.setEarliestDts=function(t){e=t-i.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){u=t},this.setAudioAppendStart=function(t){l=t},this.flush=function(){var t,e,n;0!==a.length&&(e=this.trimAdtsFramesByEarliestDts_(a),i.baseMediaDecodeTime=_u.calculateTrackBaseMediaDecodeTime(i,r.keepOriginalTimestamps),this.prefixWithSilence_(i,e),i.samples=this.generateSampleTable_(e),e=vu.mdat(this.concatenateFrameData_(e)),a=[],t=vu.moof(o,[i]),n=new Uint8Array(t.byteLength+e.byteLength),o++,n.set(t),n.set(e,t.byteLength),_u.clearDtsInfo(i),this.trigger("data",{track:i,boxes:n})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,i,r,a,o=0,s=0;if(e.length&&(i=Cu.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),n=Math.ceil(9e4/(t.samplerate/1024)),l&&u&&(i=i-Math.max(l,u),s=(o=Math.floor(i/n))*n),!(o<1||45e3<s))){for(r=(r=Eu[t.samplerate])||e[0].data,a=0;a<o;a++)e.splice(a,0,{data:r});t.baseMediaDecodeTime-=Math.floor(Cu.videoTsToAudioTs(s,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return i.minSegmentDts>=e?t:(i.minSegmentDts=1/0,t.filter(function(t){return t.dts>=e&&(i.minSegmentDts=Math.min(i.minSegmentDts,t.dts),i.minSegmentPts=i.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){for(var e,n=[],i=0;i<t.length;i++)e=t[i],n.push({size:e.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(t){for(var e,n=0,i=new Uint8Array(Ou(t)),r=0;r<t.length;r++)e=t[r],i.set(e.data,n),n+=e.data.byteLength;return i}},t=(Iu.prototype=new bn,(Zl=function(o,i){var e,n,r=0,a=[],u=[];i=i||{},Zl.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(t){_u.collectDtsInfo(o,t),"seq_parameter_set_rbsp"!==t.nalUnitType||e||(e=t.config,o.sps=[t.data],Au.forEach(function(t){o[t]=e[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,o.pps=[t.data]),a.push(t)},this.flush=function(){for(var t,e;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(t=bu.groupNalsIntoFrames(a),(t=bu.groupFramesIntoGops(t))[0][0].keyFrame||((n=this.getGopForFusion_(a[0],o))?(t.unshift(n),t.byteLength+=n.byteLength,t.nalCount+=n.nalCount,t.pts=n.pts,t.dts=n.dts,t.duration+=n.duration):t=bu.extendFirstKeyFrame(t)),u.length){var n=i.alignGopsAtEnd?this.alignGopsAtEnd_(t):this.alignGopsAtStart_(t);if(!n)return this.gopCache_.unshift({gop:t.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");_u.clearDtsInfo(o),t=n}_u.collectDtsInfo(o,t),o.samples=bu.generateSampleTable(t),n=vu.mdat(bu.concatenateNalData(t)),o.baseMediaDecodeTime=_u.calculateTrackBaseMediaDecodeTime(o,i.keepOriginalTimestamps),this.trigger("processedGopsInfo",t.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:t.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),t=vu.moof(r,[o]),e=new Uint8Array(t.byteLength+n.byteLength),r++,e.set(t),e.set(n,t.byteLength),this.trigger("data",{track:o,boxes:e}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){_u.clearDtsInfo(o),n=e=void 0},this.getGopForFusion_=function(t){for(var e,n,i,r=1/0,a=0;a<this.gopCache_.length;a++)n=(i=this.gopCache_[a]).gop,o.pps&&Lu(o.pps[0],i.pps[0])&&o.sps&&Lu(o.sps[0],i.sps[0])&&(n.dts<o.timelineStartInfo.dts||-1e4<=(n=t.dts-n.dts-n.duration)&&n<=45e3&&(!e||n<r)&&(e=i,r=n));return e?e.gop:null},this.alignGopsAtStart_=function(t){for(var e,n,i,r,a=t.byteLength,o=t.nalCount,s=t.duration,l=e=0;l<u.length&&e<t.length&&(n=u[l],i=t[e],n.pts!==i.pts);)i.pts>n.pts?l++:(e++,a-=i.byteLength,o-=i.nalCount,s-=i.duration);return 0===e?t:e===t.length?null:((r=t.slice(e)).byteLength=a,r.duration=s,r.nalCount=o,r.pts=r[0].pts,r.dts=r[0].dts,r)},this.alignGopsAtEnd_=function(t){for(var e,n,i=u.length-1,r=t.length-1,a=null,o=!1;0<=i&&0<=r;){if(e=u[i],n=t[r],e.pts===n.pts){o=!0;break}e.pts>n.pts?i--:(i===u.length-1&&(a=r),r--)}if(!o&&null===a)return null;if(0===(s=o?r:a))return t;var s=t.slice(s),l=s.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return s.byteLength=l.byteLength,s.duration=l.duration,s.nalCount=l.nalCount,s.pts=s[0].pts,s.dts=s[0].dts,s},this.alignGopsWith=function(t){u=t}}).prototype=new bn,((eu=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,eu.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new bn).flush=function(t){var e,n,i,r=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Au.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Du.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,t=vu.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(t.byteLength),a.initSegment.set(t),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],r),r+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(e=this.pendingCaptions[i]).startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,a.captionStreams[e.stream]=!0,a.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts-o,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(tu=function(i){var r,a,o=this,n=!0;tu.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};(this.transmuxPipeline_=e).type="aac",e.metadataStream=new Tu.MetadataStream,e.aacStream=new wu,e.audioTimestampRolloverStream=new Tu.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new Tu.TimestampRolloverStream("timed-metadata"),e.adtsStream=new Su,e.coalesceStream=new eu(i,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Iu(a,i),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new Tu.MetadataStream,n.packetStream=new Tu.TransportPacketStream,n.parseStream=new Tu.TransportParseStream,n.elementaryStream=new Tu.ElementaryStream,n.videoTimestampRolloverStream=new Tu.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new Tu.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new Tu.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Su,n.h264Stream=new ku,n.captionStream=new Tu.CaptionStream,n.coalesceStream=new eu(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(t){var e;if("metadata"===t.type){for(e=t.tracks.length;e--;)r||"video"!==t.tracks[e].type?a||"audio"!==t.tracks[e].type||((a=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(r=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Zl(r,i),n.videoSegmentStream.on("timelineStartInfo",function(t){a&&(a.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts))}),n.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(t){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new Iu(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;this.baseMediaDecodeTime=t,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,_u.clearDtsInfo(a),a.timelineStartInfo.baseMediaDecodeTime=t,e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),r&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[],e.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,_u.clearDtsInfo(r),e.captionStream.reset(),r.timelineStartInfo.baseMediaDecodeTime=t),e.timedMetadataTimestampRolloverStream&&e.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){var e;n&&((e=xu(t))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1),this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new bn,{Transmuxer:tu,VideoSegmentStream:Zl,AudioSegmentStream:Iu,AUDIO_PROPERTIES:Du,VIDEO_PROPERTIES:Au}),r=Object.freeze({default:t,__moduleExports:t,Transmuxer:t.Transmuxer,VideoSegmentStream:t.VideoSegmentStream,AudioSegmentStream:t.AudioSegmentStream,AUDIO_PROPERTIES:t.AUDIO_PROPERTIES,VIDEO_PROPERTIES:t.VIDEO_PROPERTIES}),Ru=gl.parseType,Pu={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:Mu(t.subarray(78,t.byteLength))}},avcC:function(t){for(var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},a=31&t[5],o=6,s=0;s<a;s++)n=i.getUint16(o),o+=2,r.sps.push(new Uint8Array(t.subarray(o,o+n))),o+=n;for(e=t[o],o++,s=0;s<e;s++)n=i.getUint16(o),o+=2,r.pps.push(new Uint8Array(t.subarray(o,o+n))),o+=n;return r},btrt:function(t){t=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:Ru(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(Ru(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:Mu(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:Mu(t.subarray(8))}},hdlr:function(t){for(var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:Ru(t.subarray(8,12)),name:""},n=8,n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){for(var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=[],r=0;r+4<t.length;r+=e)if(e=n.getUint32(r),r+=4,e<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[r]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+t[r]&31)}return i}(t)}},mdhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,t={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===t.version?(t.creationTime=Wl(e.getUint32(n+=4)),t.modificationTime=Wl(e.getUint32(n+=8)),t.timescale=e.getUint32(n+=4),t.duration=e.getUint32(n+=8)):(t.creationTime=Wl(e.getUint32(n)),t.modificationTime=Wl(e.getUint32(n+=4)),t.timescale=e.getUint32(n+=4),t.duration=e.getUint32(n+=4)),e=e.getUint16(n+=4),t.language+=String.fromCharCode(96+(e>>10)),t.language+=String.fromCharCode(96+((992&e)>>5)),t.language+=String.fromCharCode(96+(31&e)),t},mdia:function(t){return{boxes:Mu(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:Mu(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),e={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return 28<t.byteLength&&(e.streamDescriptor=Mu(t.subarray(28))[0]),e},moof:function(t){return{boxes:Mu(t)}},moov:function(t){return{boxes:Mu(t)}},mvex:function(t){return{boxes:Mu(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(i.creationTime=Wl(e.getUint32(n+=4)),i.modificationTime=Wl(e.getUint32(n+=8)),i.timescale=e.getUint32(n+=4),i.duration=e.getUint32(n+=8)):(i.creationTime=Wl(e.getUint32(n)),i.modificationTime=Wl(e.getUint32(n+=4)),i.timescale=e.getUint32(n+=4),i.duration=e.getUint32(n+=4)),i.rate=e.getUint16(n+=4)+e.getUint16(n+2)/16,i.volume=e.getUint8(n+=4)+e.getUint8(n+1)/8,n=(n+=2)+2+8,i.matrix=new Uint32Array(t.subarray(n,n+36)),i.nextTrackId=e.getUint32(n=n+36+24),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){for(var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=4;n<t.byteLength;n++)e.samples.push({dependsOn:(48&t[n])>>4,isDependedOn:(12&t[n])>>2,hasRedundancy:3&t[n]});return e},sidx:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8),earliestPresentationTime:e.getUint32(12),firstOffset:e.getUint32(16)},i=e.getUint16(22),r=24;i;r+=12,i--)n.references.push({referenceType:(128&t[r])>>>7,referencedSize:2147483647&e.getUint32(r),subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(128&t[r+8]),sapType:(112&t[r+8])>>>4,sapDeltaTime:268435455&e.getUint32(r+8)});return n},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:Mu(t)}},stco:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},i=e.getUint32(4),r=8;i;r+=4,i--)n.chunkOffsets.push(e.getUint32(r));return n},stsc:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=e.getUint32(4),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]},r=8;n;r+=12,n--)i.sampleToChunks.push({firstChunk:e.getUint32(r),samplesPerChunk:e.getUint32(r+4),sampleDescriptionIndex:e.getUint32(r+8)});return i},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:Mu(t.subarray(8))}},stsz:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:e.getUint32(4),entries:[]},i=12;i<t.byteLength;i+=4)n.entries.push(e.getUint32(i));return n},stts:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},i=e.getUint32(4),r=8;i;r+=8,i--)n.timeToSamples.push({sampleCount:e.getUint32(r),sampleDelta:e.getUint32(r+4)});return n},styp:function(t){return Pu.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),t={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4)},n=1&t.flags[2],i=2&t.flags[2],r=8&t.flags[2],a=16&t.flags[2],o=32&t.flags[2],s=65536&t.flags[0],l=131072&t.flags[0],u=8;return n&&(u+=4,t.baseDataOffset=e.getUint32(12),u+=4),i&&(t.sampleDescriptionIndex=e.getUint32(u),u+=4),r&&(t.defaultSampleDuration=e.getUint32(u),u+=4),a&&(t.defaultSampleSize=e.getUint32(u),u+=4),o&&(t.defaultSampleFlags=e.getUint32(u)),s&&(t.durationIsEmpty=!0),!n&&l&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(i.creationTime=Wl(e.getUint32(n+=4)),i.modificationTime=Wl(e.getUint32(n+=8)),i.trackId=e.getUint32(n+=4),i.duration=e.getUint32(n=n+4+8)):(i.creationTime=Wl(e.getUint32(n)),i.modificationTime=Wl(e.getUint32(n+=4)),i.trackId=e.getUint32(n+=4),i.duration=e.getUint32(n=n+4+4)),i.layer=e.getUint16(n=n+4+8),i.alternateGroup=e.getUint16(n+=2),i.volume=e.getUint8(n+=2)+e.getUint8(n+1)/8,n=n+2+2,i.matrix=new Uint32Array(t.subarray(n,n+36)),i.width=e.getUint16(n+=36)+e.getUint16(n+2)/16,i.height=e.getUint16(n+=4)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:Mu(t)}},trak:function(t){return{boxes:Mu(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),a&&c&&(e={flags:Gl(t.subarray(d,d+4))},d+=4,o&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),u&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),c--);c--;)e={},o&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),l&&(e.flags=Gl(t.subarray(d,d+4)),d+=4),u&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},Mu=function(t){for(var e,n,i,r,a,o=0,s=[],l=new ArrayBuffer(t.length),u=new Uint8Array(l),c=0;c<t.length;++c)u[c]=t[c];for(e=new DataView(l);o<t.byteLength;)n=e.getUint32(o),i=Ru(t.subarray(o+4,o+8)),r=1<n?o+n:t.byteLength,(a=(Pu[i]||function(t){return{data:t}})(t.subarray(o+8,r))).size=n,a.type=i,s.push(a),o=r;return s},Nu=function(t,e){var r;return e=e||0,r=new Array(2*e+1).join(" "),t.map(function(i,t){return r+i.type+"\n"+Object.keys(i).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(t){var e,n=r+"  "+t+": ",t=i[t];return t instanceof Uint8Array||t instanceof Uint32Array?(e=Array.prototype.slice.call(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g))?1===e.length?n+"<"+e.join("").slice(1)+">":n+"<\n"+e.map(function(t){return r+"  "+t}).join("\n")+"\n"+r+"  >":n+"<>":n+JSON.stringify(t,null,2).split("\n").map(function(t,e){return 0===e?t:r+"  "+t}).join("\n")}).join("\n")+(i.boxes?"\n"+Nu(i.boxes,e+1):"")}).join("\n")},Qa={inspect:Mu,textify:Nu,parseTfdt:Pu.tfdt,parseHdlr:Pu.hdlr,parseTfhd:Pu.tfhd,parseTrun:Pu.trun},e=Object.freeze({default:Qa,__moduleExports:Qa,inspect:Qa.inspect,textify:Qa.textify,parseTfdt:Qa.parseTfdt,parseHdlr:Qa.parseHdlr,parseTfhd:Qa.parseTfhd,parseTrun:Qa.parseTrun}),Uu=e&&Qa,Fu=Al.discardEmulationPreventionBytes,ju=Ja.CaptionStream,Bu=function(t,c){var n=gl.findBox(t,["moof","traf"]),t=gl.findBox(t,["mdat"]),d={},i=[];return t.forEach(function(t,e){e=n[e];i.push({mdat:t,traf:e})}),i.forEach(function(t){var e,n,i,r,a,o=t.mdat,t=t.traf,s=gl.findBox(t,["tfhd"]),s=Uu.parseTfhd(s[0]),l=s.trackId,u=gl.findBox(t,["tfdt"]),u=0<u.length?Uu.parseTfdt(u[0]).baseMediaDecodeTime:0,t=gl.findBox(t,["trun"]);c===l&&0<t.length&&(e=u,n=s.defaultSampleDuration||0,i=s.defaultSampleSize||0,r=s.trackId,a=[],t.forEach(function(t){t=Uu.parseTrun(t).samples;t.forEach(function(t){void 0===t.duration&&(t.duration=n),void 0===t.size&&(t.size=i),t.trackId=r,t.dts=e,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=e+t.compositionTimeOffset,e+=t.duration}),a=a.concat(t)}),u=function(t,e,n){for(var i,r=new DataView(t.buffer,t.byteOffset,t.byteLength),a=[],o=0;o+4<t.length;o+=u){var s,l,u=r.getUint32(o);o+=4,u<=0||6==(31&t[o])&&(l=t.subarray(o+1,o+1+u),s=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null}(o,e),l={nalUnitType:"sei_rbsp",size:u,data:l,escapedRBSP:Fu(l),trackId:n},s?(l.pts=s.pts,l.dts=s.dts,i=s):(l.pts=i.pts,l.dts=i.dts),a.push(l))}return a}(o,a,l),d[l]||(d[l]=[]),d[l]=d[l].concat(u))}),d},U=Object.freeze({default:ql,__moduleExports:ql}),v=r&&t,Hu={generator:vu,probe:gl,Transmuxer:v.Transmuxer,AudioSegmentStream:v.AudioSegmentStream,VideoSegmentStream:v.VideoSegmentStream,CaptionParser:U&&ql}.CaptionParser,T={parseType:function(t,e){t=Vl(t);return 0===t?"pat":t===e?"pmt":e?"pes":null},parsePat:function(t){var e=Yl(t),n=4+zl(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=Yl(t),i=4+zl(t);if(n&&(i+=t[i]+1),1&t[i+5]){for(var r=3+((15&t[i+1])<<8|t[i+2])-4,a=12+((15&t[i+10])<<8|t[i+11]);a<r;){var o=i+a;e[(31&t[o+1])<<8|t[o+2]]=t[o],a+=5+((15&t[o+3])<<8|t[o+4])}return e}},parsePayloadUnitStartIndicator:Yl,parsePesType:function(t,e){switch(e[Vl(t)]){case Pl.H264_STREAM_TYPE:return"video";case Pl.ADTS_STREAM_TYPE:return"audio";case Pl.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Yl(t))return null;var e=4+zl(t);if(e>=t.byteLength)return null;var n=null,i=t[e+7];return 192&i&&((n={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,n.pts*=4,n.pts+=(6&t[e+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,n.dts*=4,n.dts+=(6&t[e+18])>>>1)),n},videoPacketContainsKeyFrame:function(t){for(var e=4+zl(t),n=t.subarray(e),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===$l(31&n[r+3])&&(a=!0);1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===$l(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,a=n&&3<n.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===$l(31&n[r+3])?!0:a}},o=Object.freeze({default:T,__moduleExports:T,parseType:T.parseType,parsePat:T.parsePat,parsePmt:T.parsePmt,parsePayloadUnitStartIndicator:T.parsePayloadUnitStartIndicator,parsePesType:T.parsePesType,parsePesTime:T.parsePesTime,videoPacketContainsKeyFrame:T.videoPacketContainsKeyFrame}),Wu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Gu=function(t,e,n){for(var i="",r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},to={parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?20+n:10+n},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return Wu[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n=10;64&t[5]&&(n=(n+=4)+Kl(t.subarray(10,14)));do{if((e=Kl(t.subarray(n+4,n+8)))<1)return null;if("PRIV"===String.fromCharCode(t[n],t[n+1],t[n+2],t[n+3]))for(var i,r,a=t.subarray(n+10,n+e+10),o=0;o<a.byteLength;o++)if(0===a[o]){if("com.apple.streaming.transportStreamTimestamp"===unescape(Gu(a,0,o)))return r=(1&(i=a.subarray(o+1))[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2,(r*=4)+(3&i[7]);break}}while((n=n+10+e)<t.byteLength);return null}},_=Object.freeze({default:to,__moduleExports:to,parseId3TagSize:to.parseId3TagSize,parseAdtsSize:to.parseAdtsSize,parseType:to.parseType,parseSampleRate:to.parseSampleRate,parseAacTimestamp:to.parseAacTimestamp}),uu=_&&to,qu=Za.handleRollover,P={},Vu=(P.ts=o&&T,P.aac=uu,9e4),Yu=function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71===t[i]&&71===t[r]){switch(n=t.subarray(i,r),P.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=P.ts.parsePat(n));break;case"pmt":e.table||(e.table=P.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}else i++,r++},zu=function(t,e,n){for(var i,r,a,o,s=0,l=188,u=!1;l<t.byteLength;)if(71===t[s]&&71===t[l]){if(i=t.subarray(s,l),"pes"===P.ts.parseType(i,e.pid)&&(r=P.ts.parsePesType(i,e.table),a=P.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=P.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),u=!0)),u)break;s+=188,l+=188}else s++,l++;for(s=(l=t.byteLength)-188,u=!1;0<=s;)if(71===t[s]&&71===t[l]){if(i=t.subarray(s,l),"pes"===P.ts.parseType(i,e.pid)&&(r=P.ts.parsePesType(i,e.table),a=P.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=P.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),u=!0)),u)break;s-=188,l-=188}else s--,l--},$u=function(t,e,n){for(var i,r,a,o,s,l,u,c=0,d=188,h=!1,f={data:[],size:0};d<t.byteLength;)if(71===t[c]&&71===t[d]){if(i=t.subarray(c,d),"pes"===P.ts.parseType(i,e.pid))if(r=P.ts.parsePesType(i,e.table),a=P.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!h&&(o=P.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),h=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(s=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),s.set(u,l),l+=u.byteLength;P.ts.videoPacketContainsKeyFrame(s)&&(n.firstKeyFrame=P.ts.parsePesTime(s),n.firstKeyFrame.type="video"),f.size=0}f.data.push(i),f.size+=i.byteLength}if(h&&n.firstKeyFrame)break;c+=188,d+=188}else c++,d++;for(c=(d=t.byteLength)-188,h=!1;0<=c;)if(71===t[c]&&71===t[d]){if(i=t.subarray(c,d),"pes"===P.ts.parseType(i,e.pid)&&(r=P.ts.parsePesType(i,e.table),a=P.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(o=P.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),h=!0)),h)break;c-=188,d-=188}else c--,d--},lu=function(t,e){var n,i,r=((r=t)[0]==="I".charCodeAt(0)&&r[1]==="D".charCodeAt(0)&&r[2]==="3".charCodeAt(0)?function(t){for(var e,n=!1,i=0,r=null,a=null,o=0,s=0;3<=t.length-s;){switch(P.aac.parseType(t,s)){case"timed-metadata":if(t.length-s<10){n=!0;break}if((o=P.aac.parseId3TagSize(t,s))>t.length){n=!0;break}null===a&&(e=t.subarray(s,s+o),a=P.aac.parseAacTimestamp(e)),s+=o;break;case"audio":if(t.length-s<7){n=!0;break}if((o=P.aac.parseAdtsSize(t,s))>t.length){n=!0;break}null===r&&(e=t.subarray(s,s+o),r=P.aac.parseSampleRate(e)),i++,s+=o;break;default:s++}if(n)return null}if(null===r||null===a)return null;var l=Vu/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*l,pts:a+1024*i*l}]}}:function(t){var e,n={pid:null,table:null},i={};for(e in Yu(t,n),n.table)if(n.table.hasOwnProperty(e))switch(n.table[e]){case Pl.H264_STREAM_TYPE:i.video=[],$u(t,n,i),0===i.video.length&&delete i.video;break;case Pl.ADTS_STREAM_TYPE:i.audio=[],zu(t,n,i),0===i.audio.length&&delete i.audio}return i})(t);return r&&(r.audio||r.video)?(t=e,(e=r).audio&&e.audio.length&&(void 0===(n=t)&&(n=e.audio[0].dts),e.audio.forEach(function(t){t.dts=qu(t.dts,n),t.pts=qu(t.pts,n),t.dtsTime=t.dts/Vu,t.ptsTime=t.pts/Vu})),e.video&&e.video.length&&(void 0===(i=t)&&(i=e.video[0].dts),e.video.forEach(function(t){t.dts=qu(t.dts,i),t.pts=qu(t.pts,i),t.dtsTime=t.dts/Vu,t.ptsTime=t.pts/Vu}),e.firstKeyFrame&&((t=e.firstKeyFrame).dts=qu(t.dts,i),t.pts=qu(t.pts,i),t.dtsTime=t.dts/Vu,t.ptsTime=t.dts/Vu)),r):null};function Ku(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}du=function(t,e,n){return e&&Xu(t.prototype,e),n&&Xu(t,n),t};function Xu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Qu=null,Ju=(Zu.prototype.decrypt=function(t,e,n,i,r,a){for(var o,s,l=this._key[1],u=t^l[0],c=i^l[1],d=n^l[2],h=e^l[3],f=void 0,p=l.length/4-2,g=void 0,m=4,t=this._tables[1],y=t[0],v=t[1],b=t[2],_=t[3],T=t[4],g=0;g<p;g++)f=y[u>>>24]^v[c>>16&255]^b[d>>8&255]^_[255&h]^l[m],o=y[c>>>24]^v[d>>16&255]^b[h>>8&255]^_[255&u]^l[m+1],s=y[d>>>24]^v[h>>16&255]^b[u>>8&255]^_[255&c]^l[m+2],h=y[h>>>24]^v[u>>16&255]^b[c>>8&255]^_[255&d]^l[m+3],m+=4,u=f,c=o,d=s;for(g=0;g<4;g++)r[(3&-g)+a]=T[u>>>24]<<24^T[c>>16&255]<<16^T[d>>8&255]<<8^T[255&h]^l[m++],f=u,u=c,c=d,d=h,h=f},Zu);function Zu(t){Ku(this,Zu),Qu=Qu||function(){for(var t,e,n,i=[[[],[],[],[],[]],[[],[],[],[],[]]],r=i[0],a=i[1],o=r[4],s=a[4],l=void 0,u=void 0,c=void 0,d=[],h=[],f=void 0,p=void 0,l=0;l<256;l++)h[(d[l]=l<<1^283*(l>>7))^l]=l;for(u=c=0;!o[u];u^=t||1,c=h[c]||1)for(p=16843009*d[e=d[t=d[s[o[u]=n=(n=c^c<<1^c<<2^c<<3^c<<4)>>8^255&n^99]=u]]]^65537*e^257*t^16843008*u,f=257*d[n]^16843008*n,l=0;l<4;l++)r[l][u]=f=f<<24^f>>>8,a[l][n]=p=p<<24^p>>>8;for(l=0;l<5;l++)r[l]=r[l].slice(0),a[l]=a[l].slice(0);return i}(),this._tables=[[Qu[0][0].slice(),Qu[0][1].slice(),Qu[0][2].slice(),Qu[0][3].slice(),Qu[0][4].slice()],[Qu[1][0].slice(),Qu[1][1].slice(),Qu[1][2].slice(),Qu[1][3].slice(),Qu[1][4].slice()]];var e=void 0,n=void 0,i=void 0,r=void 0,a=void 0,o=this._tables[0][4],s=this._tables[1],l=t.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=t.slice(0),this._key=[r,a=[]],e=l;e<4*l+28;e++)i=r[e-1],(e%l==0||8===l&&e%l==4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],e%l==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[e]=r[e-l]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],a[n]=e<=4||n<4?i:s[0][o[i>>>24]]^s[1][o[i>>16&255]]^s[2][o[i>>8&255]]^s[3][o[255&i]]}ec.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},ec.prototype.off=function(t,e){if(!this.listeners[t])return!1;e=this.listeners[t].indexOf(e);return this.listeners[t].splice(e,1),-1<e},ec.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,o=0;o<a;++o)e[o].apply(this,r)},ec.prototype.dispose=function(){this.listeners={}},ec.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})};var tc=ec;function ec(){Ku(this,ec),this.listeners={}}function nc(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}function ic(t,e,n){for(var i,r,a,o,s=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),l=new Ju(Array.prototype.slice.call(e)),e=new Uint8Array(t.byteLength),u=new Int32Array(e.buffer),c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,c=n[0],d=n[1],h=n[2],f=n[3],p=0;p<s.length;p+=4)i=nc(s[p]),r=nc(s[p+1]),a=nc(s[p+2]),o=nc(s[p+3]),l.decrypt(i,r,a,o,u,p),u[p]=nc(u[p]^c),u[p+1]=nc(u[p+1]^d),u[p+2]=nc(u[p+2]^h),u[p+3]=nc(u[p+3]^f),c=i,d=r,h=a,f=o;return e}var rc=function(e){var t=i,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":Se(n)));function i(){Ku(this,i);var t=function(t,e){if(t)return!e||"object"!==(void 0===e?"undefined":Se(e))&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,tc));return t.jobs=[],t.delay=1,t.timeout_=null,t}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(tc),cu=(ac.prototype.decryptChunk_=function(e,n,i,r){return function(){var t=ic(e,n,i);r.set(t,e.byteOffset)}},du(ac,null,[{key:"STEP",get:function(){return 32e3}}]),ac);function ac(t,e,n,i){Ku(this,ac);var r=ac.STEP,a=new Int32Array(t.buffer),o=new Uint8Array(t.byteLength),s=0;for(this.asyncStream_=new rc,this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),e,n,o)),s=r;s<a.length;s+=r)n=new Uint32Array([nc(a[s-4]),nc(a[s-3]),nc(a[s-2]),nc(a[s-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),e,n,o));this.asyncStream_.push(function(){i(null,o.subarray(0,o.byteLength-o[o.byteLength-1]))})}var oc=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=Fo.buildAbsoluteURL(h.location.href,t)),Fo.buildAbsoluteURL(t,e))},sc=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},yu=function(t,e,n){return e&&lc(t.prototype,e),n&&lc(t,n),t};function lc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function uc(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0!==i){if("value"in i)return i.value;i=i.get;return void 0!==i?i.call(n):void 0}if(null!==(i=Object.getPrototypeOf(t)))return uc(i,e,n)}function cc(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":Se(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function dc(t,e){if(t)return!e||"object"!==(void 0===e?"undefined":Se(e))&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function hc(r,a){["AUDIO","SUBTITLES"].forEach(function(t){for(var e in r.mediaGroups[t])for(var n in r.mediaGroups[t][e]){var i=r.mediaGroups[t][e][n];a(i,t,e,n)}})}function fc(t,e){var n=vc(t,{});if(!(t=n.playlists[e.uri]))return null;if(t.segments&&e.segments&&t.segments.length===e.segments.length&&t.mediaSequence===e.mediaSequence)return null;var i=vc(t,e);t.segments&&(i.segments=function(t,e,n){for(var i=e.slice(),r=(n=n||0,Math.min(t.length,e.length+n)),a=n;a<r;a++)i[a-n]=vc(t[a],i[a-n]);return i}(t.segments,e.segments,e.mediaSequence-t.mediaSequence)),i.segments.forEach(function(t){var e;t=t,e=i.resolvedUri,t.resolvedUri||(t.resolvedUri=oc(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=oc(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=oc(e,t.map.uri))});for(var r=0;r<n.playlists.length;r++)n.playlists[r].uri===e.uri&&(n.playlists[r]=i);return n.playlists[e.uri]=i,n}function pc(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];(t.playlists[n.uri]=n).resolvedUri=oc(t.uri,n.uri),n.id=e,n.attributes||(n.attributes={},bc.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}}function gc(e){hc(e,function(t){t.uri&&(t.resolvedUri=oc(e.uri,t.uri))})}function mc(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)}var yc=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=e,i=[],r=!0,e=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(i.push(o.value),!n||i.length!==n);r=!0);}catch(t){e=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(e)throw a}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},vc=x.mergeOptions,mu=x.EventTarget,bc=x.log,_c=(cc(Tc,mu),yu(Tc,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:500<=t.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this,i=(this.request=null,this.state="HAVE_METADATA",new Ko),t=(i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{},fc(this.master,i.manifest));this.targetDuration=i.manifest.targetDuration,t?(this.master=t,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(h.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=h.setTimeout(function(){n.trigger("mediaupdatetimeout")},mc(this.media(),!!t))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),h.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){var t;this.request&&(t=this.request,this.request=null,t.onreadystatechange=null,t.abort())}},{key:"media",value:function(n){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}var t=!this.media_||n.uri!==this.media_.uri;if(this.master.playlists[n.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(t&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(t){if(this.state="SWITCHING_MEDIA",this.request){if(oc(this.master.uri,n.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:oc(this.master.uri,n.uri),withCredentials:this.withCredentials},function(t,e){if(i.request){if(t)return i.playlistRequestError(i.request,n.uri,r);i.haveMetadata(e,n.uri),"HAVE_MASTER"===r?i.trigger("loadedmetadata"):i.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),h.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this,n=(h.clearTimeout(this.mediaUpdateTimeout),this.media());if(t)return t=n?n.targetDuration/2*1e3:5e3,void(this.mediaUpdateTimeout=h.setTimeout(function(){return e.load()},t));this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(n.request){if(n.request=null,t)return n.error={status:e.status,message:"HLS playlist request error at URL: "+n.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");t=new Ko;return(t.push(e.responseText),t.end(),n.state="HAVE_MASTER",t.manifest.uri=n.srcUrl,t.manifest.playlists)?(n.master=t.manifest,pc(n.master),gc(n.master),n.trigger("loadedplaylist"),void(n.request||n.media(t.manifest.playlists[0]))):(n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:h.location.href,playlists:[{uri:n.srcUrl,id:0}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.master.playlists[0].resolvedUri=n.srcUrl,n.master.playlists[0].attributes=n.master.playlists[0].attributes||{},n.haveMetadata(e,n.srcUrl),n.trigger("loadedmetadata"))}})}}]),Tc);function Tc(t,e,n){sc(this,Tc);var i=dc(this,(Tc.__proto__||Object.getPrototypeOf(Tc)).call(this));if(i.srcUrl=t,i.hls_=e,i.withCredentials=n,i.srcUrl)return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:oc(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(t,e){if(i.request)return t?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i;throw new Error("A non-empty playlist URL is required")}function Sc(t,e,n){var i,r=0;if(n<e&&(e=(i=[n,e])[0],n=i[1]),e<0){for(var a=e;a<Math.min(0,n);a++)r+=t.targetDuration;e=0}for(var o=e;o<n;o++)r+=t.segments[o].duration;return r}function wc(t,e,n){return t&&t.segments?t.endList?Kc(t):null===e?null:(e=e||0,n=n?Xc(t):t.segments.length,$c(t,t.mediaSequence+n,e)):null}function Ec(t){return t-Math.floor(t)==0}function Cc(t,e){if(Ec(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=e*r;if(Ec(a)||i===n)return(a+t)/r}}function kc(t){return t.excludeUntil&&t.excludeUntil>Date.now()}function Dc(t){return t.excludeUntil&&t.excludeUntil===1/0}function Ac(t){var e=kc(t);return!t.disabled&&!e}function xc(t,e){return e.attributes&&e.attributes[t]}function Lc(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!Ac(t)&&(t.attributes.BANDWIDTH||0)<n}).length}function Oc(){return function t(e,i){e=ed({timeout:45e3},e);var n=t.beforeRequest||x.Hls.xhr.beforeRequest,r=(!n||"function"!=typeof n||(n=n(e))&&(e=n),td(e,function(t,e){var n=r.response;!t&&n&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=n.byteLength||n.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),e.headers&&(r.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(r.timedout=!0),t||r.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(r&&(n||r.responseText)))),i(t,r)})),a=r.abort;return r.abort=function(){return r.aborted=!0,a.apply(r,arguments)},r.uri=e.uri,r.requestTime=Date.now(),r}}function Ic(t,e){return t=t.toString(16),"00".substring(0,2-t.length)+t+(e%2?" ":"")}function Rc(t){return 32<=t&&t<126?String.fromCharCode(t):"."}function Pc(n){var i={};return Object.keys(n).forEach(function(t){var e=n[t];ArrayBuffer.isView(e)?i[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:i[t]=e}),i}function Mc(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")}function Nc(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(Ic).join("")+" "+e.slice(16*i,16*i+16).map(Rc).join("")+"\n";return n}function Uc(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return x.createTimeRanges(n)}function Fc(t,n){return Uc(t,function(t,e){return t-1/30<=n&&n<=e+1/30})}function jc(t,e){return Uc(t,function(t){return e<=t-1/30})}function Bc(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")}function Hc(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function Wc(t,e,n){var i,r=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime<=e&&i.endTime>=t&&n.removeCue(i)}function Gc(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}function qc(t,e,n){var r=h.WebKitDataCue||h.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new r(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var i=Gc(t.mediaSource_.duration);if(n.forEach(function(t){var i=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var e,n=new r(i,i,t.value||t.url||t.data||"");n.frame=t,n.value=t,e=n,Object.defineProperties(e.frame,{id:{get:function(){return x.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return x.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return x.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}}),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var a=t.metadataTrack_.cues,o=[],s=0;s<a.length;s++)a[s]&&o.push(a[s]);var l=o.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),u=Object.keys(l).sort(function(t,e){return Number(t)-Number(e)});u.forEach(function(t,e){var t=l[t],n=Number(u[e+1])||i;t.forEach(function(t){t.endTime=n})})}}}var Vc=x.createTimeRange,Yc=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},zc=function(t,e){for(var n,i=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(n=t.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},$c=function(t,e,n){var i;return(e=void 0===e?t.mediaSequence+t.segments.length:e)<t.mediaSequence?0:(i=Yc(t,e)).precise?i.result:(t=zc(t,e)).precise?t.result:i.result+n},Kc=function(t,e,n){if(!t)return 0;if(void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return h.Infinity}return $c(t,e,n="number"!=typeof n?0:n)},Xc=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;e--&&!(i<=(n+=t.segments[e].duration)););return Math.max(0,e)},Qc=Cc.bind(null,1),Jc=Cc.bind(null,-1),Zc={duration:Kc,seekable:function(t,e){var n=e||0,t=wc(t,e,!0);return null===t?Vc():Vc(n,t)},safeLiveIndex:Xc,getMediaInfoForTime:function(t,e,n,i){var r=void 0,a=void 0,o=t.segments.length,s=e-i;if(s<0){if(0<n)for(r=n-1;0<=r;r--)if(a=t.segments[r],0<(s+=Jc(a.duration)))return{mediaIndex:r,startTime:i-Sc(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((s-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if(a=t.segments[r],(s-=Qc(a.duration))<0)return{mediaIndex:r,startTime:i+Sc(t,n,r)};return{mediaIndex:o-1,startTime:e}},isEnabled:Ac,isDisabled:function(t){return t.disabled},isBlacklisted:kc,isIncompatible:Dc,playlistEnd:wc,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:xc,estimateSegmentRequestTime:function(t,e,n){return xc("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*(3<arguments.length&&void 0!==arguments[3]?arguments[3]:0))/e:NaN},isLowestEnabledRendition:Lc},td=x.xhr,ed=x.mergeOptions,b=Object.freeze({createTransferableMessage:Pc,initSegmentId:Mc,hexDump:Nc,tagDump:function(t){t=t.bytes;return Nc(t)},textRanges:function(t){for(var e,n,i="",r=void 0,r=0;r<t.length;r++)i+=(n=r,(e=t).start(n)+"-"+e.end(n)+" ");return i}}),ru="undefined"!=typeof window?window:{},nd="undefined"==typeof Symbol?"__target":Symbol(),id=ru.BlobBuilder||ru.WebKitBlobBuilder||ru.MozBlobBuilder||ru.MSBlobBuilder,rd=ru.URL||ru.webkitURL||rd&&rd.msURL,ad=ru.Worker;function od(a,o){return function(t){var e,n,i,r=this;return o?ad&&!t?(t=ld(o.toString().replace(/^function.+?{/,"").slice(0,-1)),this[nd]=new ad(t),n=this[nd],t=t,n&&t&&(i=n.terminate,n.objURL=t,n.terminate=function(){n.objURL&&rd.revokeObjectURL(n.objURL),i.call(n)}),this[nd]):(e={postMessage:function(t){r.onmessage&&setTimeout(function(){r.onmessage({data:t,target:e})})}},o.call(e),this.postMessage=function(t){setTimeout(function(){e.onmessage({data:t,target:r})})},void(this.isThisThread=!0)):new ad(a)}}if(ad){var sd,bn=ld("self.onmessage = function () {}"),e=new Uint8Array(1);try{(sd=new ad(bn)).postMessage(e,[e.buffer])}catch(t){ad=null}finally{rd.revokeObjectURL(bn),sd&&sd.terminate()}}function ld(e){try{return rd.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(t){var n=new id;return n.append(e),rd.createObjectURL(n.getBlob(type))}}function ud(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})}function cd(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'}function dd(t,e){var n=(n=e).segments&&n.segments.length&&n.segments[0].map?"mp4":"mp2t",i=function(t){t=t.attributes||{};return t.CODECS?yd(t.CODECS):md}(e),r=e.attributes||{},a=!0,o=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var s=t.mediaGroups.AUDIO[r.AUDIO];if(s)for(var l in a=!(o=!0),s)if(!s[l].uri&&!s[l].playlists){a=!0;break}}return o&&!i.audioProfile&&(a||(i.audioProfile=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n,i=t.mediaGroups.AUDIO[e];if(!i)return null;for(n in i){var r=i[n];if(r.default&&r.playlists)return yd(r.playlists[0].attributes.CODECS).audioProfile}return null}(t,r.AUDIO)),i.audioProfile||(x.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=md.audioProfile)),e={},i.videoCodec&&(e.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(e.audio="mp4a.40."+i.audioProfile),t=cd("audio",n,[e.audio]),r=cd("video",n,[e.video]),i=cd("video",n,[e.video,e.audio]),o?!a&&e.video?[r,t]:a||e.video?[i,t]:[t,t]:e.video?[i]:[t]}function hd(t){return/mp4a\.\d+.\d+/i.test(t)}function fd(t){return/avc1\.[\da-f]+/i.test(t)}function pd(t,e){var n,i=t.addSourceBuffer(e),r=Object.create(null);for(n in r.updating=!1,r.realBuffer_=i)!function(e){"function"==typeof i[e]?r[e]=function(){return i[e].apply(i,arguments)}:void 0===r[e]&&Object.defineProperty(r,e,{get:function(){return i[e]},set:function(t){return i[e]=t}})}(n);return r}var gd=new od("./transmuxer-worker.worker.js",function(t,e){var Te=this;!function(){var o,N,U,F,j,B,H,W,G,q,V,Y,z,$,K,X,Q,J,Z,a,s,t,tt,et,nt,it,rt,at,e,ot,st,lt,ut,ct,l,dt,ht,ft=Math.pow(2,32)-1;if(s={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var n in s)s.hasOwnProperty(n)&&(s[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);t=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),et=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),tt=new Uint8Array([0,0,0,1]),m=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Dt=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),nt={video:m,audio:Dt},at=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),rt=new Uint8Array([0,0,0,0,0,0,0,0]),e=new Uint8Array([0,0,0,0,0,0,0,0]),ot=e,st=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),lt=e,it=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}o=function(t){for(var e,n=[],i=0,r=1;r<arguments.length;r++)n.push(arguments[r]);for(r=n.length;r--;)i+=n[r].byteLength;for(e=new Uint8Array(i+8),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(0,e.byteLength),e.set(t,4),r=0,i=8;r<n.length;r++)e.set(n[r],i),i+=n[r].byteLength;return e},N=function(){return o(s.dinf,o(s.dref,at))},U=function(t){return o(s.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},$=function(t){return o(s.hdlr,nt[t])},z=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),o(s.mdhd,e)},Y=function(t){return o(s.mdia,z(t),$(t.type),B(t))},j=function(t){return o(s.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},B=function(t){return o(s.minf,"video"===t.type?o(s.vmhd,it):o(s.smhd,rt),N(),X(t))},W=function(t){for(var e=t.length,n=[];e--;)n[e]=Z(t[e]);return o.apply(null,[s.mvex].concat(n))},G=function(t){t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(s.mvhd,t)},K=function(t){for(var e,n=t.samples||[],i=new Uint8Array(4+n.length),r=0;r<n.length;r++)e=n[r].flags,i[r+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return o(s.sdtp,i)},X=function(t){return o(s.stbl,Q(t),o(s.stts,lt),o(s.stsc,ot),o(s.stsz,st),o(s.stco,e))},Q=function(t){return o(s.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===t.type?ut:ct)(t))},ut=function(t){for(var e=t.sps||[],n=t.pps||[],i=[],r=[],a=0;a<e.length;a++)i.push((65280&e[a].byteLength)>>>8),i.push(255&e[a].byteLength),i=i.concat(Array.prototype.slice.call(e[a]));for(a=0;a<n.length;a++)r.push((65280&n[a].byteLength)>>>8),r.push(255&n[a].byteLength),r=r.concat(Array.prototype.slice.call(n[a]));return o(s.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(s.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([e.length]).concat(i).concat([n.length]).concat(r))),o(s.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},ct=function(t){return o(s.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),U(t))},V=function(t){t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return o(s.tkhd,t)},J=function(t){var e,n=o(s.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(t.baseMediaDecodeTime/(1+ft)),r=Math.floor(t.baseMediaDecodeTime%(1+ft)),i=o(s.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r]));return"audio"===t.type?(e=a(t,92),o(s.traf,n,i,e)):(r=K(t),e=a(t,r.length+92),o(s.traf,n,i,e,r))},q=function(t){return t.duration=t.duration||4294967295,o(s.trak,V(t),Y(t))},Z=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),o(s.trex,e)},l=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},dt=function(t,e){var n,i,r,a=t.samples||[];for(e+=20+16*a.length,n=l(a,e),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size,i.flags.isLeading<<2|i.flags.dependsOn,i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,61440&i.flags.degradationPriority,15&i.flags.degradationPriority,(4278190080&i.compositionTimeOffset)>>>24,(16711680&i.compositionTimeOffset)>>>16,(65280&i.compositionTimeOffset)>>>8,255&i.compositionTimeOffset]);return o(s.trun,new Uint8Array(n))},ht=function(t,e){var n,i,r,a=t.samples||[];for(e+=20+8*a.length,n=l(a,e),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size]);return o(s.trun,new Uint8Array(n))},a=function(t,e){return("audio"===t.type?ht:dt)(t,e)};function i(){this.init=function(){var a={};this.on=function(t,e){a[t]||(a[t]=[]),a[t]=a[t].concat(e)},this.off=function(t,e){return!!a[t]&&(e=a[t].indexOf(e),a[t]=a[t].slice(),a[t].splice(e,1),-1<e)},this.trigger=function(t){var e,n,i,r=a[t];if(r)if(2===arguments.length)for(n=r.length,e=0;e<n;++e)r[e].call(this,arguments[1]);else{for(i=[],e=arguments.length,e=1;e<arguments.length;++e)i.push(arguments[e]);for(n=r.length,e=0;e<n;++e)r[e].apply(this,i)}},this.dispose=function(){a={}}}}function r(){r.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new b(0,0),new b(0,1),new b(1,0),new b(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)}function u(t){return null===t?"":(t=xt[t]||t,String.fromCharCode(t))}function c(){for(var t=[],e=v+1;e--;)t.push("");return t}function pt(t,e){var n=1;for(e<t&&(n=-1);Math.abs(e-t)>Rt;)t+=n*It;return t}function d(t){var e,n;d.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=pt(t.dts,n),t.pts=pt(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){e=n=void 0}}var h={ftyp:F=function(){return o(s.ftyp,t,tt,t,et)},mdat:function(t){return o(s.mdat,t)},moof:function(t,e){for(var n=[],i=e.length;i--;)n[i]=J(e[i]);return o.apply(null,[s.moof,j(t)].concat(n))},moov:H=function(t){for(var e=t.length,n=[];e--;)n[e]=q(t[e]);return o.apply(null,[s.moov,G(4294967295)].concat(n).concat(W(t)))},initSegment:function(t){var e=F(),t=H(t),n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.byteLength),n}},f=function(t){return t>>>0},p=function(t,e){var n,i,r,a=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=f(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=gt(t.subarray(n+4,n+8)),i=1<i?n+i:t.byteLength,r===e[0]&&(1===e.length?a.push(t.subarray(n+8,i)):(r=p(t.subarray(n+8,i),e.slice(1))).length&&(a=a.concat(r))),n=i;return a},gt=function(t){var e="";return(e+=String.fromCharCode(t[0]))+String.fromCharCode(t[1])+String.fromCharCode(t[2])+String.fromCharCode(t[3])},g={findBox:p,parseType:gt,timescale:function(t){return p(t,["moov","trak"]).reduce(function(t,e){var n,i,r=p(e,["tkhd"])[0];return r?(n=r[0],r=f(r[i=0===n?12:20]<<24|r[1+i]<<16|r[2+i]<<8|r[3+i]),(e=p(e,["mdia","mdhd"])[0])?(n=e[0],t[r]=f(e[i=0===n?12:20]<<24|e[1+i]<<16|e[2+i]<<8|e[3+i]),t):null):null},{})},startTime:function(i,t){t=p(t,["moof","traf"]),t=[].concat.apply([],t.map(function(n){return p(n,["tfhd"]).map(function(t){var t=f(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),t=i[t]||9e4,e=p(n,["tfdt"]).map(function(t){var e=t[0],n=f(t[4]<<24|t[5]<<16|t[6]<<8|t[7]);return n=1===e?(n*=Math.pow(2,32))+f(t[8]<<24|t[9]<<16|t[10]<<8|t[11]):n})[0];return(e||1/0)/t})})),t=Math.min.apply(null,t);return isFinite(t)?t:0},videoTrackIds:function(t){var t=p(t,["moov","trak"]),i=[];return t.forEach(function(t){var e=p(t,["mdia","hdlr"]),n=p(t,["tkhd"]);e.forEach(function(t,e){var t=gt(t.subarray(8,12)),e=n[e];"vide"===t&&(e=0===(t=new DataView(e.buffer,e.byteOffset,e.byteLength)).getUint8(0)?t.getUint32(12):t.getUint32(20),i.push(e))})}),i}},m=(i.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},i.prototype.push=function(t){this.trigger("data",t)},i.prototype.flush=function(t){this.trigger("done",t)},i),mt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},yt=function(t){for(var e,n=[],i=[],r=n.byteLength=0;r<t.length;r++)"access_unit_delimiter_rbsp"===(e=t[r]).nalUnitType?(n.length&&(n.duration=e.dts-n.dts,i.push(n)),(n=[e]).byteLength=e.data.byteLength,n.pts=e.pts,n.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(n.keyFrame=!0),n.duration=e.dts-n.dts,n.byteLength+=e.data.byteLength,n.push(e));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.push(n),i},vt=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},bt=function(t){var e;return!t[0][0].keyFrame&&1<t.length&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},_t=function(t,e){for(var n,i,r,a,o,s=e||0,l=[],u=0;u<t.length;u++)for(i=t[u],n=0;n<i.length;n++)r=i[n],r=r,a=s,o=void 0,(o=mt()).dataOffset=a,o.compositionTimeOffset=r.pts-r.dts,o.duration=r.duration,o.size=4*r.length,o.size+=r.byteLength,r.keyFrame&&(o.flags.dependsOn=2,o.flags.isNonSyncSample=0),s+=(a=o).size,l.push(a);return l},Tt=function(t){for(var e,n,i,r,a,o=0,s=t.byteLength,l=t.nalCount,u=new Uint8Array(s+4*l),c=new DataView(u.buffer),d=0;d<t.length;d++)for(i=t[d],e=0;e<i.length;e++)for(r=i[e],n=0;n<r.length;n++)a=r[n],c.setUint32(o,a.data.byteLength),u.set(a.data,o+=4),o+=a.data.byteLength;return u},y=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},St=function(t,e){var n=t.minSegmentDts;return e||(n-=t.timelineStartInfo.dts),e=t.timelineStartInfo.baseMediaDecodeTime,e+=n,e=Math.max(0,e),"audio"===t.type&&(e*=t.samplerate/9e4,e=Math.floor(e)),e},wt=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},Et=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,r=i=0}return n},Ct=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},kt=function(t,e){var n,i,r,a,o=[];if(!(64&e[0]))return o;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[2+r]&&(a.ccData=e[3+r]<<8|e[4+r],o.push(a));return o},Dt=function(t){for(var e=t.byteLength,n=[],i=1;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return t;for(var r=e-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=t[o];return a},At=4,xt=((r.prototype=new m).push=function(t){var e,n;if("sei_rbsp"===t.nalUnitType&&(n=Et(t.escapedRBSP)).payloadType===At&&(e=Ct(n)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=kt(t.pts,e),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},r.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},r.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},r.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},r.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},r.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},{42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496}),v=14,Lt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],b=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a=32639&t.ccData;a===this.lastControlCode_?this.lastControlCode_=null:(4096==(61440&a)?this.lastControlCode_=a:a!==this.PADDING_&&(this.lastControlCode_=null),e=a>>>8,n=255&a,a!==this.PADDING_&&(a===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":a===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=t.pts):a===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(t.pts)):a===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(t.pts)):a===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(t.pts)):a===this.CARRIAGE_RETURN_?(this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts):a===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):a===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(t.pts),this.displayed_=c()):a===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=c():a===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=t.pts):this.isSpecialCharacter(e,n)?(i=u((e=(3&e)<<8)|n),this[this.mode_](t.pts,i),this.column_++):this.isExtCharacter(e,n)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=u((e=(3&e)<<8)|n),this[this.mode_](t.pts,i),this.column_++):this.isMidRowCode(e,n)?(this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&n)&&this.addFormatting(t.pts,["i"]),1==(1&n)&&this.addFormatting(t.pts,["u"])):this.isOffsetControlCode(e,n)?this.column_+=3&n:this.isPAC(e,n)?(r=Lt.indexOf(7968&a),"rollUp"===this.mode_&&this.setRollUp(t.pts,r),r!==this.row_&&(this.clearFormatting(t.pts),this.row_=r),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&a)&&(this.column_=4*((14&a)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(t.pts,["i"])):this.isNormalChar(e)&&(0===n&&(n=null),i=u(e),i+=u(n),this[this.mode_](t.pts,i),this.column_+=i.length)))}},Ot=(b.prototype=new m,b.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},b.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=v,this.rollUpRows_=2,this.formatting_=[]},b.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},b.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&48<=e&&e<=63},b.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&32<=e&&e<=63},b.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&32<=e&&e<=47},b.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&33<=e&&e<=35},b.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&64<=e&&e<=127},b.prototype.isColorPAC=function(t){return 64<=t&&t<=79||96<=t&&t<=127},b.prototype.isNormalChar=function(t){return 32<=t&&t<=127},b.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=v,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},b.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);e=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,e)},b.prototype.clearFormatting=function(t){var e;this.formatting_.length&&(e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},""),this.formatting_=[],this[this.mode_](t,e))},b.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=n+=e},b.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=e},b.prototype.shiftRowsUp_=function(){for(var t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<v+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},b.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=e},{CaptionStream:r,Cea608Stream:b}),_={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},It=8589934592,Rt=4294967296;d.prototype=new m;function Pt(t,e,n){for(var i="",r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i}function T(t,e,n){return decodeURIComponent(Pt(t,e,n))}function S(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var w,Mt,E,Nt=d,Ut={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=T(t.data,1,e),t.value=T(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=T(t.data,1,e),t.url=T(t.data,e+1,t.data.length);break}},PRIV:function(t){for(var e,n=0;n<t.data.length;n++)if(0===t.data[n]){t.owner=(e=t.data,unescape(Pt(e,0,n)));break}t.privateData=t.data.subarray(n+1),t.data=t.privateData}},Ft=function(t){var e,l={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},u=0,c=[],d=0;if(Ft.prototype.init.call(this),this.dispatchType=_.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(e=0;e<l.descriptor.length;e++)this.dispatchType+=("00"+l.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,i,r,a,o,s;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(d=0,c.length=0),0===c.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(t),d+=t.data.byteLength,1===c.length&&(u=S(t.data.subarray(6,10)),u+=10),!(d<u)){for(e={data:new Uint8Array(u),frames:[],pts:c[0].pts,dts:c[0].dts},r=0;r<u;)e.data.set(c[0].data.subarray(0,u-r),r),r+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();n=10,64&e.data[5]&&(n=(n+=4)+S(e.data.subarray(10,14)),u-=S(e.data.subarray(16,20)));do{if((i=S(e.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}while((s={id:String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),data:e.data.subarray(n+10,n+i+10)}).key=s.id,Ut[s.id]&&(Ut[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner&&(o=(1&(a=s.data)[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2,o=(o*=4)+(3&a[7]),s.timeStamp=o,void 0===e.pts&&void 0===e.dts&&(e.pts=s.timeStamp,e.dts=s.timeStamp),this.trigger("timestamp",s))),e.frames.push(s),(n=n+10+i)<u);this.trigger("data",e)}}},C=(Ft.prototype=new m,Ft),jt=function(){var r=new Uint8Array(188),a=0;jt.prototype.init.call(this),this.push=function(t){var e,n=0,i=188;for(a?((e=new Uint8Array(t.byteLength+a)).set(r.subarray(0,a)),e.set(t,a),a=0):e=t;i<e.byteLength;)71===e[n]&&71===e[i]?(this.trigger("data",e.subarray(n,i)),n+=188,i+=188):(n++,i++);n<e.byteLength&&(r.set(e.subarray(n),0),a=e.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}},Bt=(jt.prototype=new m,(w=function(){var i,r,a,o;w.prototype.init.call(this),(o=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(t,e){var n=0;e.payloadUnitStartIndicator&&(n+=t[n]+1),("pat"===e.type?r:a)(t.subarray(n),e)},r=function(t,e){e.section_number=t[7],e.last_section_number=t[8],o.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=o.pmtPid},a=function(t,e){var n,i;if(1&t[5]){for(o.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var r=t[i],a=(31&t[i+1])<<8|t[i+2];r===_.H264_STREAM_TYPE&&null===o.programMapTable.video?o.programMapTable.video=a:r===_.ADTS_STREAM_TYPE&&null===o.programMapTable.audio?o.programMapTable.audio=a:r===_.METADATA_STREAM_TYPE&&(o.programMapTable["timed-metadata"][a]=r),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=o.programMapTable}},this.push=function(t){var e={},n=4;if(e.payloadUnitStartIndicator=!!(64&t[1]),e.pid=31&t[1],e.pid<<=8,e.pid|=t[2],1<(48&t[3])>>>4&&(n+=t[n]+1),0===e.pid)e.type="pat",i(t.subarray(n),e),this.trigger("data",e);else if(e.pid===this.pmtPid)for(e.type="pmt",i(t.subarray(n),e),this.trigger("data",e);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,e]):this.processPes_(t,n,e)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=_.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=_.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new m,w.STREAM_TYPES={h264:27,adts:15},(Mt=function(){function i(t,e,n){var i,r=new Uint8Array(t.size),a={type:e},o=0,s=0;if(t.data.length&&!(t.size<9)){for(a.trackId=t.data[0].pid,o=0;o<t.data.length;o++)i=t.data[o],r.set(i.data,s),s+=i.data.byteLength;u(r,a),e="video"===e||a.packetLength<=t.size,(n||e)&&(t.size=0,t.data.length=0),e&&l.trigger("data",a)}}var l=this,r={data:[],size:0},a={data:[],size:0},o={data:[],size:0},u=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!=(4&t[6]),192&(n=t[7])&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])};Mt.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var t,e;switch(n.streamType){case _.H264_STREAM_TYPE:case _.H264_STREAM_TYPE:t=r,e="video";break;case _.ADTS_STREAM_TYPE:t=a,e="audio";break;case _.METADATA_STREAM_TYPE:t=o,e="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(t,e,!0),t.data.push(n),t.size+=n.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},e=n.programMapTable;null!==e.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),l.trigger("data",t)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(o,"timed-metadata"),this.trigger("done")}}).prototype=new m,{PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:jt,TransportParseStream:w,ElementaryStream:Mt,TimestampRolloverStream:Nt,CaptionStream:Ot.CaptionStream,Cea608Stream:Ot.Cea608Stream,MetadataStream:C});for(E in _)_.hasOwnProperty(E)&&(Bt[E]=_[E]);var Ht,Wt,k=Bt,Gt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],qt=function(){var l;qt.prototype.init.call(this),this.push=function(t){var e,n,i,r,a,o=0,s=0;if("audio"===t.type)for(l?(i=l,(l=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),l.set(t.data,i.byteLength)):l=t.data;o+5<l.length;)if(255!==l[o]||240!=(246&l[o+1]))o++;else{if(e=2*(1&~l[o+1]),n=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,a=9e4*(r=1024*(1+(3&l[o+6])))/Gt[(60&l[o+2])>>>2],l.byteLength<(n=o+n))return;if(this.trigger("data",{pts:t.pts+s*a,dts:t.dts+s*a,sampleCount:r,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:Gt[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+e,n)}),l.byteLength===n)return void(l=void 0);s++,l=l.subarray(n)}},this.flush=function(){this.trigger("done")}},Vt=(qt.prototype=new m,qt),Yt=function(i){var r=i.byteLength,a=0,o=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+o},this.loadWord=function(){var t=i.byteLength-r,e=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");e.set(i.subarray(t,t+n)),a=new DataView(e.buffer).getUint32(0),o=8*n,r-=n},this.skipBits=function(t){var e;t<o||(t=(t-=o)-8*(e=Math.floor(t/8)),r-=e,this.loadWord()),a<<=t,o-=t},this.readBits=function(t){var e=Math.min(o,t),n=a>>>32-e;return 0<(o-=e)?a<<=e:0<r&&this.loadWord(),0<(e=t-e)?n<<e|this.readBits(e):n},this.skipLeadingZeros=function(){for(var t=0;t<o;++t)if(0!=(a&2147483648>>>t))return a<<=t,o-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},zt=function(){var n,i,r=0;zt.prototype.init.call(this),this.push=function(t){var e;for(i=i?((e=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),e.set(t.data,i.byteLength),e):t.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}};zt.prototype=new m,Wt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Ht=function(){var n,i,r,a,o,s,m,e=new zt;Ht.prototype.init.call(this),(n=this).push=function(t){"video"===t.type&&(i=t.trackId,r=t.pts,a=t.dts,e.push(t))},e.on("data",function(t){var e={trackId:i,pts:r,dts:a,data:t};switch(31&t[0]){case 5:e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:e.nalUnitType="sei_rbsp",e.escapedRBSP=o(t.subarray(1));break;case 7:e.nalUnitType="seq_parameter_set_rbsp",e.escapedRBSP=o(t.subarray(1)),e.config=s(e.escapedRBSP);break;case 8:e.nalUnitType="pic_parameter_set_rbsp";break;case 9:e.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",e)}),e.on("done",function(){n.trigger("done")}),this.flush=function(){e.flush()},m=function(t,e){for(var n=8,i=8,r=0;r<t;r++)n=0===(i=0!==i?(n+e.readExpGolomb()+256)%256:i)?n:i},o=function(t){for(var e=t.byteLength,n=[],i=1;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return t;for(var r=e-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=t[o];return a},s=function(t){var e,n,i,r,a,o,s,l=0,u=0,c=0,d=0,h=1,f=new Yt(t),t=f.readUnsignedByte(),p=f.readUnsignedByte(),g=f.readUnsignedByte();if(f.skipUnsignedExpGolomb(),Wt[t]&&(3===(n=f.readUnsignedExpGolomb())&&f.skipBits(1),f.skipUnsignedExpGolomb(),f.skipUnsignedExpGolomb(),f.skipBits(1),f.readBoolean()))for(a=3!==n?8:12,s=0;s<a;s++)f.readBoolean()&&m(s<6?16:64,f);if(f.skipUnsignedExpGolomb(),0===(n=f.readUnsignedExpGolomb()))f.readUnsignedExpGolomb();else if(1===n)for(f.skipBits(1),f.skipExpGolomb(),f.skipExpGolomb(),e=f.readUnsignedExpGolomb(),s=0;s<e;s++)f.skipExpGolomb();if(f.skipUnsignedExpGolomb(),f.skipBits(1),n=f.readUnsignedExpGolomb(),i=f.readUnsignedExpGolomb(),0===(r=f.readBits(1))&&f.skipBits(1),f.skipBits(1),f.readBoolean()&&(l=f.readUnsignedExpGolomb(),u=f.readUnsignedExpGolomb(),c=f.readUnsignedExpGolomb(),d=f.readUnsignedExpGolomb()),f.readBoolean()&&f.readBoolean()){switch(f.readUnsignedByte()){case 1:o=[1,1];break;case 2:o=[12,11];break;case 3:o=[10,11];break;case 4:o=[16,11];break;case 5:o=[40,33];break;case 6:o=[24,11];break;case 7:o=[20,11];break;case 8:o=[32,11];break;case 9:o=[80,33];break;case 10:o=[18,11];break;case 11:o=[15,11];break;case 12:o=[64,33];break;case 13:o=[160,99];break;case 14:o=[4,3];break;case 15:o=[3,2];break;case 16:o=[2,1];break;case 255:o=[f.readUnsignedByte()<<8|f.readUnsignedByte(),f.readUnsignedByte()<<8|f.readUnsignedByte()]}o&&(h=o[0]/o[1])}return{profileIdc:t,levelIdc:g,profileCompatibility:p,width:Math.ceil((16*(n+1)-2*l-2*u)*h),height:(2-r)*(i+1)*16-2*c-2*d}}}).prototype=new m;function D(t){for(var e=[];t--;)e.push(0);return e}function A(t){return new Date(1e3*t-20828448e5)}function $t(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}var Kt,x,Xt,L,Nt=Ht,Qt=function(){var a=new Uint8Array,o=0;Qt.prototype.init.call(this),this.setTimestamp=function(t){o=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?20+n:10+n},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},this.push=function(t){var e,n,i=0,r=0;for(a.length?(n=a.length,(a=new Uint8Array(t.byteLength+n)).set(a.subarray(0,n)),a.set(t,n)):a=t;3<=a.length-r;)if(a[r]==="I".charCodeAt(0)&&a[r+1]==="D".charCodeAt(0)&&a[r+2]==="3".charCodeAt(0)){if(a.length-r<10)break;if((i=this.parseId3TagSize(a,r))>a.length)break;e={type:"timed-metadata",data:a.subarray(r,r+i)},this.trigger("data",e),r+=i}else if(!0&a[r]&&240==(240&a[r+1])){if(a.length-r<7)break;if((i=this.parseAdtsSize(a,r))>a.length)break;e={type:"audio",data:a.subarray(r,r+i),pts:o,dts:o},this.trigger("data",e),r+=i}else r++;n=a.length-r,a=0<n?a.subarray(r):new Uint8Array}},Jt=(Qt.prototype=new m,Qt),C=[33,16,5,32,164,27],O=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],C={96e3:[C,[227,64],D(154),[56]],88200:[C,[231],D(170),[56]],64e3:[C,[248,192],D(240),[56]],48e3:[C,[255,192],D(268),[55,148,128],D(54),[112]],44100:[C,[255,192],D(268),[55,163,128],D(84),[112]],32e3:[C,[255,192],D(268),[55,234],D(226),[112]],24e3:[C,[255,192],D(268),[55,255,128],D(268),[111,112],D(126),[224]],16e3:[C,[255,192],D(268),[55,255,128],D(268),[111,255],D(269),[223,108],D(195),[1,192]],12e3:[O,D(268),[3,127,248],D(268),[6,255,240],D(268),[13,255,224],D(268),[27,253,128],D(259),[56]],11025:[O,D(268),[3,127,248],D(268),[6,255,240],D(268),[13,255,224],D(268),[27,255,192],D(268),[55,175,128],D(108),[112]],8e3:[O,D(268),[3,121,16],D(47),[7]]},Zt=(Kt=C,Object.keys(Kt).reduce(function(t,e){return t[e]=new Uint8Array(Kt[e].reduce(function(t,e){return t.concat(e)},[])),t},{})),te=function(t){return 9e4*t},ee=function(t,e){return t*e},ne=function(t){return t/9e4},ie=function(t,e){return t/e},re=function(t,e){return te(ie(t,e))},ae=function(t,e){return ee(ne(t),e)},oe=Nt,se=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],le=["width","height","profileIdc","levelIdc","profileCompatibility"],ue=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},ce=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},de=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].data.byteLength;return e},I=function(i,r){var a=[],o=0,e=0,l=0,u=1/0;r=r||{},I.prototype.init.call(this),this.push=function(e){wt(i,e),i&&se.forEach(function(t){i[t]=e[t]}),a.push(e)},this.setEarliestDts=function(t){e=t-i.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){u=t},this.setAudioAppendStart=function(t){l=t},this.flush=function(){var t,e,n;0!==a.length&&(e=this.trimAdtsFramesByEarliestDts_(a),i.baseMediaDecodeTime=St(i,r.keepOriginalTimestamps),this.prefixWithSilence_(i,e),i.samples=this.generateSampleTable_(e),e=h.mdat(this.concatenateFrameData_(e)),a=[],t=h.moof(o,[i]),n=new Uint8Array(t.byteLength+e.byteLength),o++,n.set(t),n.set(e,t.byteLength),y(i),this.trigger("data",{track:i,boxes:n})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,i,r,a,o=0,s=0;if(e.length&&(i=re(t.baseMediaDecodeTime,t.samplerate),n=Math.ceil(9e4/(t.samplerate/1024)),l&&u&&(i=i-Math.max(l,u),s=(o=Math.floor(i/n))*n),!(o<1||45e3<s))){for(r=(r=Zt[t.samplerate])||e[0].data,a=0;a<o;a++)e.splice(a,0,{data:r});t.baseMediaDecodeTime-=Math.floor(ae(s,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return i.minSegmentDts>=e?t:(i.minSegmentDts=1/0,t.filter(function(t){return t.dts>=e&&(i.minSegmentDts=Math.min(i.minSegmentDts,t.dts),i.minSegmentPts=i.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){for(var e,n=[],i=0;i<t.length;i++)e=t[i],n.push({size:e.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(t){for(var e,n=0,i=new Uint8Array(de(t)),r=0;r<t.length;r++)e=t[r],i.set(e.data,n),n+=e.data.byteLength;return i}},O=(I.prototype=new m,(x=function(o,i){var e,n,r=0,a=[],u=[];i=i||{},x.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(t){wt(o,t),"seq_parameter_set_rbsp"!==t.nalUnitType||e||(e=t.config,o.sps=[t.data],le.forEach(function(t){o[t]=e[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,o.pps=[t.data]),a.push(t)},this.flush=function(){for(var t,e;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(t=yt(a),(t=vt(t))[0][0].keyFrame||((n=this.getGopForFusion_(a[0],o))?(t.unshift(n),t.byteLength+=n.byteLength,t.nalCount+=n.nalCount,t.pts=n.pts,t.dts=n.dts,t.duration+=n.duration):t=bt(t)),u.length){var n=i.alignGopsAtEnd?this.alignGopsAtEnd_(t):this.alignGopsAtStart_(t);if(!n)return this.gopCache_.unshift({gop:t.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");y(o),t=n}wt(o,t),o.samples=_t(t),n=h.mdat(Tt(t)),o.baseMediaDecodeTime=St(o,i.keepOriginalTimestamps),this.trigger("processedGopsInfo",t.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:t.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),t=h.moof(r,[o]),e=new Uint8Array(t.byteLength+n.byteLength),r++,e.set(t),e.set(n,t.byteLength),this.trigger("data",{track:o,boxes:e}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){y(o),n=e=void 0},this.getGopForFusion_=function(t){for(var e,n,i,r=1/0,a=0;a<this.gopCache_.length;a++)n=(i=this.gopCache_[a]).gop,o.pps&&ce(o.pps[0],i.pps[0])&&o.sps&&ce(o.sps[0],i.sps[0])&&(n.dts<o.timelineStartInfo.dts||-1e4<=(n=t.dts-n.dts-n.duration)&&n<=45e3&&(!e||n<r)&&(e=i,r=n));return e?e.gop:null},this.alignGopsAtStart_=function(t){for(var e,n,i,r,a=t.byteLength,o=t.nalCount,s=t.duration,l=e=0;l<u.length&&e<t.length&&(n=u[l],i=t[e],n.pts!==i.pts);)i.pts>n.pts?l++:(e++,a-=i.byteLength,o-=i.nalCount,s-=i.duration);return 0===e?t:e===t.length?null:((r=t.slice(e)).byteLength=a,r.duration=s,r.nalCount=o,r.pts=r[0].pts,r.dts=r[0].dts,r)},this.alignGopsAtEnd_=function(t){for(var e,n,i=u.length-1,r=t.length-1,a=null,o=!1;0<=i&&0<=r;){if(e=u[i],n=t[r],e.pts===n.pts){o=!0;break}e.pts>n.pts?i--:(i===u.length-1&&(a=r),r--)}if(!o&&null===a)return null;if(0===(s=o?r:a))return t;var s=t.slice(s),l=s.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return s.byteLength=l.byteLength,s.duration=l.duration,s.nalCount=l.nalCount,s.pts=s[0].pts,s.dts=s[0].dts,s},this.alignGopsWith=function(t){u=t}}).prototype=new m,((L=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,L.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new m).flush=function(t){var e,n,i,r=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,le.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,se.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,t=h.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(t.byteLength),a.initSegment.set(t),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],r),r+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(e=this.pendingCaptions[i]).startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,a.captionStreams[e.stream]=!0,a.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts-o,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Xt=function(i){var r,a,o=this,n=!0;Xt.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};(this.transmuxPipeline_=e).type="aac",e.metadataStream=new k.MetadataStream,e.aacStream=new Jt,e.audioTimestampRolloverStream=new k.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new k.TimestampRolloverStream("timed-metadata"),e.adtsStream=new Vt,e.coalesceStream=new L(i,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new I(a,i),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new k.MetadataStream,n.packetStream=new k.TransportPacketStream,n.parseStream=new k.TransportParseStream,n.elementaryStream=new k.ElementaryStream,n.videoTimestampRolloverStream=new k.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new k.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new k.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Vt,n.h264Stream=new oe,n.captionStream=new k.CaptionStream,n.coalesceStream=new L(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(t){var e;if("metadata"===t.type){for(e=t.tracks.length;e--;)r||"video"!==t.tracks[e].type?a||"audio"!==t.tracks[e].type||((a=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(r=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new x(r,i),n.videoSegmentStream.on("timelineStartInfo",function(t){a&&(a.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts))}),n.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(t){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new I(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;this.baseMediaDecodeTime=t,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,y(a),a.timelineStartInfo.baseMediaDecodeTime=t,e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),r&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[],e.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,y(r),e.captionStream.reset(),r.timelineStartInfo.baseMediaDecodeTime=t),e.timedMetadataTimestampRolloverStream&&e.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){var e;n&&((e=ue(t))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1),this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new m,{Transmuxer:Xt,VideoSegmentStream:x,AudioSegmentStream:I,AUDIO_PROPERTIES:se,VIDEO_PROPERTIES:le}),R=g.parseType,P={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:M(t.subarray(78,t.byteLength))}},avcC:function(t){for(var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},a=31&t[5],o=6,s=0;s<a;s++)n=i.getUint16(o),o+=2,r.sps.push(new Uint8Array(t.subarray(o,o+n))),o+=n;for(e=t[o],o++,s=0;s<e;s++)n=i.getUint16(o),o+=2,r.pps.push(new Uint8Array(t.subarray(o,o+n))),o+=n;return r},btrt:function(t){t=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:R(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(R(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:M(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:M(t.subarray(8))}},hdlr:function(t){for(var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:R(t.subarray(8,12)),name:""},n=8,n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){for(var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=[],r=0;r+4<t.length;r+=e)if(e=n.getUint32(r),r+=4,e<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[r]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+t[r]&31)}return i}(t)}},mdhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,t={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===t.version?(t.creationTime=A(e.getUint32(n+=4)),t.modificationTime=A(e.getUint32(n+=8)),t.timescale=e.getUint32(n+=4),t.duration=e.getUint32(n+=8)):(t.creationTime=A(e.getUint32(n)),t.modificationTime=A(e.getUint32(n+=4)),t.timescale=e.getUint32(n+=4),t.duration=e.getUint32(n+=4)),e=e.getUint16(n+=4),t.language+=String.fromCharCode(96+(e>>10)),t.language+=String.fromCharCode(96+((992&e)>>5)),t.language+=String.fromCharCode(96+(31&e)),t},mdia:function(t){return{boxes:M(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:M(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),e={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return 28<t.byteLength&&(e.streamDescriptor=M(t.subarray(28))[0]),e},moof:function(t){return{boxes:M(t)}},moov:function(t){return{boxes:M(t)}},mvex:function(t){return{boxes:M(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(i.creationTime=A(e.getUint32(n+=4)),i.modificationTime=A(e.getUint32(n+=8)),i.timescale=e.getUint32(n+=4),i.duration=e.getUint32(n+=8)):(i.creationTime=A(e.getUint32(n)),i.modificationTime=A(e.getUint32(n+=4)),i.timescale=e.getUint32(n+=4),i.duration=e.getUint32(n+=4)),i.rate=e.getUint16(n+=4)+e.getUint16(n+2)/16,i.volume=e.getUint8(n+=4)+e.getUint8(n+1)/8,n=(n+=2)+2+8,i.matrix=new Uint32Array(t.subarray(n,n+36)),i.nextTrackId=e.getUint32(n=n+36+24),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){for(var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=4;n<t.byteLength;n++)e.samples.push({dependsOn:(48&t[n])>>4,isDependedOn:(12&t[n])>>2,hasRedundancy:3&t[n]});return e},sidx:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8),earliestPresentationTime:e.getUint32(12),firstOffset:e.getUint32(16)},i=e.getUint16(22),r=24;i;r+=12,i--)n.references.push({referenceType:(128&t[r])>>>7,referencedSize:2147483647&e.getUint32(r),subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(128&t[r+8]),sapType:(112&t[r+8])>>>4,sapDeltaTime:268435455&e.getUint32(r+8)});return n},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:M(t)}},stco:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},i=e.getUint32(4),r=8;i;r+=4,i--)n.chunkOffsets.push(e.getUint32(r));return n},stsc:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=e.getUint32(4),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]},r=8;n;r+=12,n--)i.sampleToChunks.push({firstChunk:e.getUint32(r),samplesPerChunk:e.getUint32(r+4),sampleDescriptionIndex:e.getUint32(r+8)});return i},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:M(t.subarray(8))}},stsz:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:e.getUint32(4),entries:[]},i=12;i<t.byteLength;i+=4)n.entries.push(e.getUint32(i));return n},stts:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},i=e.getUint32(4),r=8;i;r+=8,i--)n.timeToSamples.push({sampleCount:e.getUint32(r),sampleDelta:e.getUint32(r+4)});return n},styp:function(t){return P.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),t={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4)},n=1&t.flags[2],i=2&t.flags[2],r=8&t.flags[2],a=16&t.flags[2],o=32&t.flags[2],s=65536&t.flags[0],l=131072&t.flags[0],u=8;return n&&(u+=4,t.baseDataOffset=e.getUint32(12),u+=4),i&&(t.sampleDescriptionIndex=e.getUint32(u),u+=4),r&&(t.defaultSampleDuration=e.getUint32(u),u+=4),a&&(t.defaultSampleSize=e.getUint32(u),u+=4),o&&(t.defaultSampleFlags=e.getUint32(u)),s&&(t.durationIsEmpty=!0),!n&&l&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(i.creationTime=A(e.getUint32(n+=4)),i.modificationTime=A(e.getUint32(n+=8)),i.trackId=e.getUint32(n+=4),i.duration=e.getUint32(n=n+4+8)):(i.creationTime=A(e.getUint32(n)),i.modificationTime=A(e.getUint32(n+=4)),i.trackId=e.getUint32(n+=4),i.duration=e.getUint32(n=n+4+4)),i.layer=e.getUint16(n=n+4+8),i.alternateGroup=e.getUint16(n+=2),i.volume=e.getUint8(n+=2)+e.getUint8(n+1)/8,n=n+2+2,i.matrix=new Uint32Array(t.subarray(n,n+36)),i.width=e.getUint16(n+=36)+e.getUint16(n+2)/16,i.height=e.getUint16(n+=4)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:M(t)}},trak:function(t){return{boxes:M(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),a&&c&&(e={flags:$t(t.subarray(d,d+4))},d+=4,o&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),u&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),c--);c--;)e={},o&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),l&&(e.flags=$t(t.subarray(d,d+4)),d+=4),u&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},M=function(t){for(var e,n,i,r,a,o=0,s=[],l=new ArrayBuffer(t.length),u=new Uint8Array(l),c=0;c<t.length;++c)u[c]=t[c];for(e=new DataView(l);o<t.byteLength;)n=e.getUint32(o),i=R(t.subarray(o+4,o+8)),r=1<n?o+n:t.byteLength,(a=(P[i]||function(t){return{data:t}})(t.subarray(o+8,r))).size=n,a.type=i,s.push(a),o=r;return s},he=function(t,e){var r;return e=e||0,r=new Array(2*e+1).join(" "),t.map(function(i,t){return r+i.type+"\n"+Object.keys(i).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(t){var e,n=r+"  "+t+": ",t=i[t];return t instanceof Uint8Array||t instanceof Uint32Array?(e=Array.prototype.slice.call(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g))?1===e.length?n+"<"+e.join("").slice(1)+">":n+"<\n"+e.map(function(t){return r+"  "+t}).join("\n")+"\n"+r+"  >":n+"<>":n+JSON.stringify(t,null,2).split("\n").map(function(t,e){return 0===e?t:r+"  "+t}).join("\n")}).join("\n")+(i.boxes?"\n"+he(i.boxes,e+1):"")}).join("\n")},fe={inspect:M,textify:he,parseTfdt:P.tfdt,parseHdlr:P.hdlr,parseTfhd:P.tfhd,parseTrun:P.trun},pe=Dt,ge=Ot.CaptionStream,me=function(t,c){var n=g.findBox(t,["moof","traf"]),t=g.findBox(t,["mdat"]),d={},i=[];return t.forEach(function(t,e){e=n[e];i.push({mdat:t,traf:e})}),i.forEach(function(t){var e,n,i,r,a,o=t.mdat,t=t.traf,s=g.findBox(t,["tfhd"]),s=fe.parseTfhd(s[0]),l=s.trackId,u=g.findBox(t,["tfdt"]),u=0<u.length?fe.parseTfdt(u[0]).baseMediaDecodeTime:0,t=g.findBox(t,["trun"]);c===l&&0<t.length&&(e=u,n=s.defaultSampleDuration||0,i=s.defaultSampleSize||0,r=s.trackId,a=[],t.forEach(function(t){t=fe.parseTrun(t).samples;t.forEach(function(t){void 0===t.duration&&(t.duration=n),void 0===t.size&&(t.size=i),t.trackId=r,t.dts=e,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=e+t.compositionTimeOffset,e+=t.duration}),a=a.concat(t)}),u=function(t,e,n){for(var i,r=new DataView(t.buffer,t.byteOffset,t.byteLength),a=[],o=0;o+4<t.length;o+=u){var s,l,u=r.getUint32(o);o+=4,u<=0||6==(31&t[o])&&(l=t.subarray(o+1,o+1+u),s=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null}(o,e),l={nalUnitType:"sei_rbsp",size:u,data:l,escapedRBSP:pe(l),trackId:n},s?(l.pts=s.pts,l.dts=s.dts,i=s):(l.pts=i.pts,l.dts=i.dts),a.push(l))}return a}(o,a,l),d[l]||(d[l]=[]),d[l]=d[l].concat(u))}),d},ye={generator:h,probe:g,Transmuxer:O.Transmuxer,AudioSegmentStream:O.AudioSegmentStream,VideoSegmentStream:O.VideoSegmentStream,CaptionParser:function(){var e,o,s,l,u,t=!1;this.isInitialized=function(){return t},this.init=function(){e=new ge,t=!0,e.on("data",function(t){t.startTime=t.startPts/l,t.endTime=t.endPts/l,u.captions.push(t),u.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"===(void 0===e?"undefined":Se(e))&&0===Object.keys(e).length)&&(s!==t[0]||l!==e[s])},this.parse=function(t,e,n){var i,r;if(!this.isInitialized())return null;if(!e||!n)return null;if(this.isNewInit(e,n))s=e[0],l=n[s];else if(!s||!l)return o.push(t),null;for(;0<o.length;){var a=o.shift();this.parse(a,e,n)}return t=t,r=l,null!==(t=(i=s)?{seiNals:me(t,i)[i],timescale:r}:null)&&t.seiNals?(this.pushNals(t.seiNals),this.flushStream(),u):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){u.captions=[],u.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){o=[],l=s=null,u?this.clearParsedCaptions():u={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}};function ve(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(function(t,e,n){e&&ve(t.prototype,e),n&&ve(t,n)})(_e,[{key:"init",value:function(){var n,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ye.Transmuxer(this.options),n=this.self,(t=this.transmuxer).on("data",function(t){var e=t.initSegment,e=(t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},t.data);t.data=e.buffer,n.postMessage({action:"data",segment:t,byteOffset:e.byteOffset,byteLength:e.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){n.postMessage({action:"caption",data:t})}),t.on("done",function(t){n.postMessage({action:"done"})}),t.on("gopInfo",function(t){n.postMessage({action:"gopInfo",gopInfo:t})})}},{key:"push",value:function(t){t=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){t=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]);var be=_e;function _e(t,e){if(!(this instanceof _e))throw new TypeError("Cannot call a class as a function");this.options=e||{},this.self=t,this.init()}(function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new be(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new be(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}})(Te)}()}),md={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},yd=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n={codecCount:0};return n.codecCount=e.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},vd=(Qa=x.EventTarget,cc(bd,Qa),yu(bd,[{key:"data_",value:function(t){var e,n=t.data.segment,i=(n.data=new Uint8Array(n.data,t.data.byteOffset,t.data.byteLength),n.initSegment=new Uint8Array(n.initSegment.data,n.initSegment.byteOffset,n.initSegment.byteLength),this),t=this.mediaSource_,r=n,a=t.player_;if(r.captions&&r.captions.length)for(var o in i.inbandTextTracks_||(i.inbandTextTracks_={}),r.captionStreams)i.inbandTextTracks_[o]||(a.tech_.trigger({type:"usage",name:"hls-608"}),e=a.textTracks().getTrackById(o),i.inbandTextTracks_[o]=e||a.addRemoteTextTrack({kind:"captions",id:o,label:o},!1).track);r.metadata&&r.metadata.length&&!i.metadataTrack_&&(i.metadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,i.metadataTrack_.inBandMetadataTrackDispatchType=r.metadata.dispatchType),this.pendingBuffers_.push(n)}},{key:"done_",value:function(t){"closed"===this.mediaSource_.readyState?this.pendingBuffers_.length=0:this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var i=this,r=["audio","video"];r.forEach(function(e){var t,n;i[e+"Codec_"]&&!i[e+"Buffer_"]&&(n=null,i.mediaSource_[e+"Buffer_"]?(n=i.mediaSource_[e+"Buffer_"]).updating=!1:(t=e+'/mp4;codecs="'+i[e+"Codec_"]+'"',n=pd(i.mediaSource_.nativeMediaSource_,t),i.mediaSource_[e+"Buffer_"]=n),i[e+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(t){n.addEventListener(t,function(){if("audio"!==e||!i.audioDisabled_)return"updateend"===t&&(i[e+"Buffer_"].updating=!1),r.every(function(t){return!("audio"!==t||!i.audioDisabled_)||(e===t||!i[t+"Buffer_"]||!i[t+"Buffer_"].updating)})?i.trigger(t):void 0})}))})}},{key:"appendBuffer",value:function(t){var e;this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length&&(e=this.audioBuffer_.buffered,this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})),this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(t,e,n){if(null==e||!t.length)return[];for(var i=Math.ceil(9e4*(e-n+3)),r=void 0,r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil(9e4*(e-i)),a=Math.ceil(9e4*(n-i)),e=t.slice(),o=t.length;o--&&!(t[o].pts<=a););if(-1===o)return e;for(var s=o+1;s--&&!(t[s].pts<=r););return s=Math.max(s,0),e.splice(s,o-s+1),e}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),Wc(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Wc(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]},t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),e=(this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),!1);this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),qc(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),bd);function bd(t,e){sc(this,bd);var n=dc(this,(bd.__proto__||Object.getPrototypeOf(bd)).call(this,x.EventTarget)),t=(n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=t,n.codecs_=e,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=11<=x.browser.IE_VERSION,{remux:!1,alignGopsAtEnd:n.safeAppend_});return n.codecs_.forEach(function(t){hd(t)?n.audioCodec_=t:fd(t)&&(n.videoCodec_=t)}),n.transmuxer_=new gd,n.transmuxer_.postMessage({action:"init",options:t}),n.transmuxer_.onmessage=function(t){return"data"===t.data.action?n.data_(t):"done"===t.data.action?n.done_(t):"gopInfo"===t.data.action?n.appendGopInfo_(t):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&0<=t&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){var t=this.videoBuffer_,e=this.audioBuffer_,n=this.audioDisabled_,i=null,r=null,a=0,o=[],s=[];if(!t&&!e)return x.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(n)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return x.createTimeRange();for(var l=t.buffered,u=e.buffered,c=l.length;c--;)o.push({time:l.start(c),type:"start"}),o.push({time:l.end(c),type:"end"});for(c=u.length;c--;)o.push({time:u.start(c),type:"start"}),o.push({time:u.end(c),type:"end"});for(o.sort(function(t,e){return t.time-e.time}),c=0;c<o.length;c++)"start"===o[c].type?2===++a&&(i=o[c].time):"end"===o[c].type&&1===--a&&(r=o[c].time),null!==i&&null!==r&&(s.push([i,r]),r=i=null);return x.createTimeRanges(s)}}),n}Ja=x.EventTarget,cc(Td,Ja),yu(Td,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var n,e,i=void 0,r=(n={type:"",parameters:{}},r=(r=t).trim().split(";"),n.type=r.shift().trim(),r.forEach(function(t){var e,t=t.trim().split("=");1<t.length&&(e=t[0].replace(/"/g,"").trim(),t=t[1].replace(/"/g,"").trim(),n.parameters[e]=t)}),n);return/^(video|audio)\/mp2t$/i.test(r.type)?(e=[],r.parameters&&r.parameters.codecs&&(e=r.parameters.codecs.split(","),e=(e=ud(e)).filter(function(t){return hd(t)||fd(t)})),0===e.length&&(e=["avc1.4d400d","mp4a.40.2"]),i=new vd(this,e),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),i.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)):i=this.nativeMediaSource_.addSourceBuffer(t),this.sourceBuffers.push(i),i}}]);var _d=Td;function Td(){sc(this,Td);var a=dc(this,(Td.__proto__||Object.getPrototypeOf(Td)).call(this)),t=void 0;for(t in a.nativeMediaSource_=new h.MediaSource,a.nativeMediaSource_)t in Td.prototype||"function"!=typeof a.nativeMediaSource_[t]||(a[t]=a.nativeMediaSource_[t].bind(a.nativeMediaSource_));return a.duration_=NaN,Object.defineProperty(a,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){(this.duration_=t)!==1/0&&(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(a,"seekable",{get:function(){return this.duration_===1/0?x.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(a,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(a,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),a.sourceBuffers=[],a.activeSourceBuffers_=[],a.updateActiveSourceBuffers_=function(){var t;if(a.activeSourceBuffers_.length=0,1===a.sourceBuffers.length)return(t=a.sourceBuffers[0]).appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void a.activeSourceBuffers_.push(t);for(var n=!1,i=!0,e=0;e<a.player_.audioTracks().length;e++){var r=a.player_.audioTracks()[e];if(r.enabled&&"main"!==r.kind){i=!(n=!0);break}}a.sourceBuffers.forEach(function(t,e){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,i=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=e?i:!i,t.audioDisabled_))return;a.activeSourceBuffers_.push(t)})},a.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},a.onHlsReset_=function(){a.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},a.onHlsSegmentTimeMapping_=function(e){a.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},a),a.on("sourceopen",function(t){var e=c.querySelector('[src="'+a.url_+'"]');e&&(a.player_=x(e.parentNode),a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_))}),a.on("sourceended",function(t){for(var e=Gc(a.duration),n=0;n<a.sourceBuffers.length;n++){var i=a.sourceBuffers[n],i=i.metadataTrack_&&i.metadataTrack_.cues;i&&i.length&&(i[i.length-1].endTime=e)}}),a.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),a}function Sd(t,e){if(!(t=x.mediaSources[t]))throw new Error("Media Source not found (Video.js)");t.trigger({type:"sourceopen",swfId:e})}function wd(){return!!h.MediaSource&&!!h.MediaSource.isTypeSupported&&h.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function Ed(){if(this.MediaSource={open:Sd,supportsNativeMediaSources:wd},wd())return new _d;throw new Error("Cannot use create a virtual MediaSource for this video")}x.mediaSources={};function Cd(t,e){for(var a=kd(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),n=0;n<e.playlists.length;n++){var i=fc(a,e.playlists[n]);i&&(a=i)}return hc(e,function(t,e,n,i){var r;t.playlists&&t.playlists.length&&(r=t.playlists[0].uri,(t=fc(a,t.playlists[0]))&&((a=t).mediaGroups[e][n][i].playlists[0]=a.playlists[r]))}),a}Ed.open=Sd,Ed.supportsNativeMediaSources=wd;var r={createObjectURL:function(t){var e=void 0;return e=t instanceof _d?h.URL.createObjectURL(t.nativeMediaSource_):h.URL.createObjectURL(t),t.url_=e}},t=(x.MediaSource=Ed,x.URL=r,x.EventTarget),kd=x.mergeOptions,Dd=(cc(Ad,t),yu(Ad,[{key:"dispose",value:function(){this.stopRequest(),h.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){var t;this.request&&(t=this.request,this.request=null,t.onreadystatechange=null,t.abort())}},{key:"media",value:function(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var e=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;this.state="HAVE_METADATA",n&&(this.media_&&this.trigger("mediachanging"),this.media_=t,this.refreshMedia_(),"HAVE_MASTER"!==e&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var r=ks(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});r.uri=this.srcUrl;for(var t=0;t<r.playlists.length;t++){var e="placeholder-uri-"+t;r.playlists[t].uri=e,r.playlists[e]=r.playlists[t]}return hc(r,function(t,e,n,i){t.playlists&&t.playlists.length&&(t.playlists[0].uri=e="placeholder-uri-"+e+"-"+n+"-"+i,r.playlists[e]=t.playlists[0])}),pc(r),gc(r),r}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(n.request){if(n.request=null,t)return n.error={status:e.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.masterXml_=e.responseText,e.responseHeaders&&e.responseHeaders.date?n.masterLoaded_=Date.parse(e.responseHeaders.date):n.masterLoaded_=Date.now(),n.syncClientServerClock_(n.onClientServerClockSync_.bind(n))}})}},{key:"syncClientServerClock_",value:function(n){var i=this,r=Ds(this.masterXml_);return null===r?(this.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===r.method?(this.clientOffset_=r.value-Date.now(),n()):void(this.request=this.hls_.xhr({uri:oc(this.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(t,e){if(i.request){if(t)return i.clientOffset_=i.masterLoaded_-Date.now(),n();t=void 0,t="HEAD"===r.method?e.responseHeaders&&e.responseHeaders.date?Date.parse(e.responseHeaders.date):i.masterLoaded_:Date.parse(e.responseText);i.clientOffset_=t-Date.now(),n()}}))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),h.setTimeout(function(){t.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&h.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var n=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(n.request){if(n.request=null,t)return n.error={status:e.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.masterXml_=e.responseText;t=n.parseMasterXml();n.master=Cd(n.master,t),h.setTimeout(function(){n.trigger("minimumUpdatePeriod")},n.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var t=this,e=void 0,n=void 0,n=this.masterPlaylistLoader_?(e=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(e=this.master,this.parseMasterXml()),e=Cd(e,n);e?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=e:this.master=e,this.media_=e.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=h.setTimeout(function(){t.trigger("mediaupdatetimeout")},mc(this.media(),!!e))),this.trigger("loadedplaylist")}}]),Ad);function Ad(t,e,n,i){sc(this,Ad);var r=dc(this,(Ad.__proto__||Object.getPrototypeOf(Ad)).call(this));if(r.hls_=e,r.withCredentials=n,t)return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_()}),"string"==typeof t?(r.srcUrl=t,r.state="HAVE_NOTHING",dc(r)):(r.masterPlaylistLoader_=i,r.state="HAVE_METADATA",r.started=!0,r.media(t),h.setTimeout(function(){r.trigger("loadedmetadata")},0),r);throw new Error("A non-empty playlist URL or playlist is required")}function xd(t){return x.log.debug?x.log.debug.bind(x,"VHS:",t+" >"):function(){}}function Ld(){}yu(Id,[{key:"createSourceBuffer_",value:function(t,e){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.logger_("buffered ["+Bc(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:x.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+t+" => "+e+"]"),n.sourceBuffer_.remove(t,e)},2<arguments.length&&void 0!==arguments[2]?arguments[2]:Ld)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]);var Od=Id;function Id(t,e,n,i){sc(this,Id),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=n,this.mimeType_=e,this.logger_=xd("SourceUpdater["+n+"]["+e+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,e,i)):this.createSourceBuffer_(e,i)}function Rd(t){var e={};return t.byterange&&(e.Range=Hd(t.byterange)),e}function Pd(t,e,n,i,r,a,o){function s(t,e){if(t&&(Wd(l),d.push(t)),(h+=1)===l.length)return e.endOfAllRequests=Date.now(),0<d.length?(t=zd(d),c(t,e)):e.encryptedBytes?Yd(u,e,c):c(null,e)}var l,u,c,d,h,f,p,g,m,y,v,b,_,T,S,w=[],n=(l=w,u=n,c=o,d=[],h=0,r.key&&(n=x.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),f=r,p=s,o=t(n,function(t,e){var n=e.response,t=Vd(t,e);if(t)return p(t,f);if(16!==n.byteLength)return p({status:e.status,message:"Invalid HLS key at URL: "+e.uri,code:Bd.FAILURE,xhr:e},f);t=new DataView(n);return f.key.bytes=new Uint32Array([t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12)]),p(null,f)}),w.push(o)),r.map&&!r.map.bytes&&(n=x.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Rd(r.map)}),g=r,m=i,y=s,o=t(n,function(t,e){var n=e.response,t=Vd(t,e);return t?y(t,g):0===n.byteLength?y({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:Bd.FAILURE,xhr:e},g):(g.map.bytes=new Uint8Array(e.response),m.isInitialized()||m.init(),g.map.timescales=gl.timescale(g.map.bytes),g.map.videoTrackIds=gl.videoTrackIds(g.map.bytes),y(null,g))}),w.push(o)),x.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Rd(r)}));return v=r,b=i,_=s,(o=t(n,function(t,e){var n=e.response,t=Vd(t,e);return t?_(t,v):0===n.byteLength?_({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:Bd.FAILURE,xhr:e},v):(v.stats=Gd(e),v.key?v.encryptedBytes=new Uint8Array(e.response):v.bytes=new Uint8Array(e.response),v.map&&v.map.bytes&&(b.isInitialized()||b.init(),(t=b.parse(v.bytes,v.map.videoTrackIds,v.map.timescales))&&t.captions&&(v.captionStreams=t.captionStreams,v.fmp4Captions=t.captions)),_(null,v))})).addEventListener("progress",(T=r,S=a,function(t){return T.stats=x.mergeOptions(T.stats,qd(t)),!T.stats.firstBytesReceivedAt&&T.stats.bytesReceived&&(T.stats.firstBytesReceivedAt=Date.now()),S(t,T)})),w.push(o),function(){return Wd(w)}}function Md(t,e){return(t=t&&h.getComputedStyle(t))?t[e]:""}function Nd(t,e){var n=void 0,i=void 0;return(n=(n=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:n)||h.Number.MAX_VALUE)-(i=(i=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:i)||h.Number.MAX_VALUE)}function Ud(t,e,n){return!(!t||!e)&&(n=n===t.segments.length,t.endList&&"open"===e.readyState&&n)}function Fd(t){return"number"==typeof t&&isFinite(t)}var jd={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Bd={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Hd=function(t){var e=t.offset+t.length-1;return"bytes="+t.offset+"-"+e},Wd=function(t){t.forEach(function(t){t.abort()})},Gd=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},qd=function(t){var e=t.target,e={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return e.bytesReceived=t.loaded,e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3),e},Vd=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Bd.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Bd.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Bd.FAILURE,xhr:e}:null},Yd=function(n,i,r){n.addEventListener("message",function t(e){if(e.data.source===i.requestId)return n.removeEventListener("message",t),e=e.data.decrypted,i.bytes=new Uint8Array(e.bytes,e.byteOffset,e.byteLength),r(null,i)}),n.postMessage(Pc({source:i.requestId,encrypted:i.encryptedBytes,key:i.key.bytes,iv:i.key.iv}),[i.encryptedBytes.buffer,i.key.bytes.buffer])},zd=function(t){return t.reduce(function(t,e){return e.code>t.code?e:t})},$d=function(t,i){var r=t.slice();t.sort(function(t,e){var n=i(t,e);return 0===n?r.indexOf(t)-r.indexOf(e):n})},Kd=(v=x.EventTarget,cc(Xd,v),yu(Xd,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"!==this.state?this.pendingSegment_&&(this.pendingSegment_=null):(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_())}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():x.createTimeRanges()}},{key:"initSegment",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Mc(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Od(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.playlist_,i=this.pendingSegment_,e=(this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0}),n?n.id:null);if(this.logger_("playlist update ["+e+" => "+t.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();n&&n.uri===t.uri?(e=t.mediaSequence-n.mediaSequence,this.logger_("live window shift ["+e+"]"),null!==this.mediaIndex&&(this.mediaIndex-=e),i&&(i.mediaIndex-=e,0<=i.mediaIndex&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)):null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(h.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,n),Wc(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Wc(t,e,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&h.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=h.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&h.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=h.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){var t;this.sourceUpdater_.updating()||(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),(t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_))&&(Ud(this.playlist_,this.mediaSource_,t.mediaIndex)?this.endOfStream():t.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(t))))}},{key:"checkBuffer_",value:function(t,e,n,i,r,a){var o=0,s=void 0,t=(t.length&&(o=t.end(t.length-1)),Math.max(0,o-r));return!e.segments.length||t>=this.goalBufferLength_()||!i&&1<=t?null:null===a?(n=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,n,null,!0)):null!==n?(s=(i=e.segments[n])&&i.end?i.end:o,this.generateSegmentInfo_(e,n+1,s,!1)):(s=this.fetchAtBuffer_?(n=(t=Zc.getMediaInfoForTime(e,o,a.segmentIndex,a.time)).mediaIndex,t.startTime):(n=(i=Zc.getMediaInfoForTime(e,r,a.segmentIndex,a.time)).mediaIndex,i.startTime),this.generateSegmentInfo_(e,n,s,!1))}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,t=Zc.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),r=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return((t.length?t.end(t.length-1):0)-e)/n}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(t<=r)return!1;e={master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:r,currentTimeline:this.currentTimeline_,syncController:this.syncController_},n=e.master,a=e.currentTime,o=e.bandwidth,s=e.duration,l=e.segmentDuration,u=e.timeUntilRebuffer,c=e.currentTimeline,d=e.syncController,n=(e=(n=(n=(e=n.playlists.filter(function(t){return!Zc.isIncompatible(t)})).filter(Zc.isEnabled)).length?n:e.filter(function(t){return!Zc.isDisabled(t)})).filter(Zc.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=d.getSyncPoint(t,s,c,a)?1:2;return{playlist:t,rebufferingImpact:Zc.estimateSegmentRequestTime(l,o,t)*e-u}})).filter(function(t){return t.rebufferingImpact<=0}),$d(n,function(t,e){return Nd(e.playlist,t.playlist)});var a,o,s,l,u,c,d,i=n.length?n[0]:($d(e,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),e[0]||null);if(i)return n=t-r-i.rebufferingImpact,e=r<=1/30?1:.5,!(!i.playlist||i.playlist.uri===this.playlist_.uri||n<e)&&(this.bandwidth=i.playlist.attributes.BANDWIDTH*jd.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=Pd(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){r=this.seekable_(),e=this.currentTime_(),n=this.playlist_.targetDuration||10,i=void 0,i=r.length&&0<r.start(0)&&r.start(0)<e?r.start(0):e-30;var e,n,i,r=Math.min(i,e-n);0<r&&this.remove(0,r)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};return e.key&&(t=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]),n.key={resolvedUri:e.key.resolvedUri,iv:t}),e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===Bd.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===Bd.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var r,a,o,e=this.pendingSegment_;if(e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions){var n,i,s=this.inbandTextTracks_,l=this.hls_.tech_;for(n in t.captionStreams)s[n]||(l.trigger({type:"usage",name:"hls-608"}),i=l.textTracks().getTrackById(n),s[n]=i||l.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track);e={inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0},a=e.inbandTextTracks,t=e.captionArray,o=e.timestampOffset,t&&(r=window.WebKitDataCue||window.VTTCue,t.forEach(function(t){var e=t.stream,n=t.startTime,i=t.endTime;a[e]&&a[e].addCue(new r(n+=o,i+=o,t.text))})),this.captionParser_.clearParsedCaptions()}this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,n=e.segment,i=this.syncController_.probeSegmentInfo(e),r=(void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo}),r=this.loaderType_,u=this.startingMedia_,i=i,"main"===r&&u&&i?i.containsAudio||i.containsVideo?u.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!u.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var a,o,s,l,u=this.syncController_.mappingForTimeline(e.timeline);null!==u&&this.trigger({type:"segmenttimemapping",mapping:u}),this.state="APPENDING",n.map&&(a=Mc(n.map),this.activeInitSegmentId_&&this.activeInitSegmentId_===a||(i=this.initSegment(n.map),this.sourceUpdater_.appendBuffer(i.bytes,function(){t.activeInitSegmentId_=a}))),e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_((u=(r=e).segment,i=u.start,u=u.end,n=e.playlist,o=n.mediaSequence,s=n.id,n=n.segments,l=e.mediaIndex,r=e.timeline,["appending ["+l+"] of ["+o+", "+(o+(void 0===n?[]:n).length)+"] from playlist ["+s+"]","["+i+" => "+u+"] in timeline ["+r+"]"].join(" "))),this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),Ud(t.playlist,this.mediaSource_,t.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,t=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(t-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){var e,n,i;this.segmentMetadataTrack_&&(e=(n=t.segment).start,n=n.end,Fd(e)&&Fd(n)&&(Wc(e,n,this.segmentMetadataTrack_),i=h.WebKitDataCue||h.VTTCue,t={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:e,end:n},(i=new i(e,n,JSON.stringify(t))).value=t,this.segmentMetadataTrack_.addCue(i)))}}]),Xd);function Xd(t){sc(this,Xd);var e=dc(this,(Xd.__proto__||Object.getPrototypeOf(Xd)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(t.mediaSource)return e.bandwidth=t.bandwidth,e.throughput={rate:0,count:0},e.roundTrip=NaN,e.resetStats_(),e.mediaIndex=null,e.hasPlayed_=t.hasPlayed,e.currentTime_=t.currentTime,e.seekable_=t.seekable,e.seeking_=t.seeking,e.duration_=t.duration,e.mediaSource_=t.mediaSource,e.hls_=t.hls,e.loaderType_=t.loaderType,e.startingMedia_=void 0,e.segmentMetadataTrack_=t.segmentMetadataTrack,e.goalBufferLength_=t.goalBufferLength,e.sourceType_=t.sourceType,e.inbandTextTracks_=t.inbandTextTracks,e.state_="INIT",e.checkBufferTimeout_=null,e.error_=void 0,e.currentTimeline_=-1,e.pendingSegment_=null,e.mimeType_=null,e.sourceUpdater_=null,e.xhrOptions_=null,e.activeInitSegmentId_=null,e.initSegments_={},e.captionParser_=new Hu,e.decrypter_=t.decrypter,e.syncController_=t.syncController,e.syncPoint_={segmentIndex:0,time:0},e.syncController_.on("syncinfoupdate",function(){return e.trigger("syncinfoupdate")}),e.mediaSource_.addEventListener("sourceopen",function(){return e.ended_=!1}),e.fetchAtBuffer_=!1,e.logger_=xd("SegmentLoader["+e.loaderType_+"]"),Object.defineProperty(e,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),e;throw new TypeError("No MediaSource specified")}function Qd(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))}var Jd=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),Zd=(cc(th,Kd),yu(th,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return x.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,t=t[t.length-1].startTime;return x.createTimeRanges([[e,t]])}},{key:"initSegment",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Mc(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(e=Jd.byteLength+t.bytes.byteLength,(e=new Uint8Array(e)).set(t.bytes),e.set(Jd,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:e}),i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(t,e){Wc(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this,e=(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_));if(e=this.skipEmptySegments_(e))return null===this.syncController_.timestampOffsetForTimeline(e.timeline)?(this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")):void this.loadSegment_(e)}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t,n=this.pendingSegment_,i=n.segment;if("function"!=typeof h.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_)return t=function(){e.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",t),void this.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",t),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")});i.requested=!0;try{this.parseVTTCues_(n)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,n.cues.length&&this.remove(n.cues[0].endTime,n.cues[n.cues.length-1].endTime),n.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1,t=("function"==typeof h.TextDecoder?t=new h.TextDecoder("utf8"):(t=h.WebVTT.StringDecoder(),n=!0),new h.WebVTT.Parser(h,h.vttjs,t)),i=(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},t.oncue=e.cues.push.bind(e.cues),t.ontimestampmap=function(t){return e.timestampmap=t},t.onparsingerror=function(t){x.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map&&(i=e.segment.map.bytes,n&&(i=Qd(i)),t.parse(i)),e.bytes);n&&(i=Qd(i)),t.parse(i),t.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i,r,a=t.segment;e&&(t.cues.length?(r=t.timestampmap,i=r.MPEGTS/9e4-r.LOCAL+e.mapping,t.cues.forEach(function(t){t.startTime+=i,t.endTime+=i}),n.syncInfo||(r=t.cues[0].startTime,e=t.cues[t.cues.length-1].startTime,n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(r,e-a.duration)})):a.empty=!0)}}]),th);function th(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(sc(this,th),dc(this,(th.__proto__||Object.getPrototypeOf(th)).call(this,t,e)));return e.mediaSource_=null,e.subtitlesTrack_=null,e}var eh=lu,nh=[{name:"VOD",run:function(t,e,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var a=e.segments||[],o=null,s=null;r=r||0;for(var l=0;l<a.length;l++){var u=a[l];if(u.dateTimeObject){var u=u.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,c=Math.abs(r-u);if(null!==s&&s<c)break;s=c,o={time:u,segmentIndex:l}}}return o}},{name:"Segment",run:function(t,e,n,i,r){var a=e.segments||[],o=null,s=null;r=r||0;for(var l=0;l<a.length;l++){var u=a[l];if(u.timeline===i&&void 0!==u.start){var c=Math.abs(r-u.start);if(null!==s&&s<c)break;(!o||null===s||c<=s)&&(s=c,o={time:u.start,segmentIndex:l})}}return o}},{name:"Discontinuity",run:function(t,e,n,i,r){var a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,s=0;s<e.discontinuityStarts.length;s++){var l=e.discontinuityStarts[s],u=e.discontinuitySequence+s+1,u=t.discontinuities[u];if(u){var c=Math.abs(r-u.time);if(null!==o&&o<c)break;(!a||null===o||c<=o)&&(o=c,a={time:u.time,segmentIndex:l})}}return a}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],ih=(U=x.EventTarget,cc(rh,U),yu(rh,[{key:"getSyncPoint",value:function(t,e,n,i){t=this.runStrategies_(t,e,n,i);return t.length?this.selectSyncPoint_(t,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;e=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!e.length)return null;e=this.selectSyncPoint_(e,{key:"segmentIndex",value:0});return 0<e.segmentIndex&&(e.time*=-1),Math.abs(e.time+Sc(t,e.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],a=0;a<nh.length;a++){var o=nh[a],s=o.run(this,t,e,n,i);s&&(s.strategy=o.name,r.push({strategy:o.name,syncPoint:s}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,a=1;a<t.length;a++){var o=Math.abs(t[a].syncPoint[e.key]-e.value);o<i&&(i=o,n=t[a].syncPoint,r=t[a].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;0<=n;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject&&(t=t.segments[0].dateTimeObject.getTime()/1e3,this.datetimeToDisplayTime=-t)}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,i=void 0;return(i=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,i)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),i}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=gl.timescale(e.map.bytes),n=gl.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=n),{start:n,end:n+e.duration}}},{key:"probeTsSegment_",value:function(t){var t=eh(t.bytes,this.inspectCache_),e=void 0,n=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,e=t.video[0].dtsTime,n=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,e=t.audio[0].dtsTime,n=t.audio[1].dtsTime),{start:e,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r,a=e.discontinuityStarts[i],o=e.discontinuitySequence+i+1,s=a-t.mediaIndex,l=Math.abs(s);(!this.discontinuities[o]||this.discontinuities[o].accuracy>l)&&(r=void 0,r=s<0?n.start-Sc(e,t.mediaIndex,a):n.end+Sc(e,t.mediaIndex+1,a),this.discontinuities[o]={time:r,accuracy:l})}}}]),rh);function rh(){sc(this,rh);var t=dc(this,(rh.__proto__||Object.getPrototypeOf(rh)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=xd("SyncController"),t}function ah(e){function t(){i.AUDIO.onTrackChanged(),a.trigger({type:"usage",name:"hls-audio-change"})}["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){dh[t](t,e)});var n,i=e.mediaTypes,r=e.masterPlaylistLoader,a=e.tech,o=e.hls;["AUDIO","SUBTITLES"].forEach(function(t){var r,a,o,s,l,u;i[t].activeGroup=(r=t,a=e,function(e){var t=a.masterPlaylistLoader,n=a.mediaTypes[r].groups,t=t.media();if(!t)return null;var i=null,i=(i=t.attributes[r]?n[t.attributes[r]]:i)||n.main;return void 0===e?i:null!==e&&i.filter(function(t){return t.id===e.id})[0]||null}),i[t].activeTrack=hh[t](t,e),i[t].onGroupChanged=(o=t,s=e,function(){var t=s.segmentLoaders,e=t[o],t=t.main,n=s.mediaTypes[o],i=n.activeTrack(),i=n.activeGroup(i),r=n.activePlaylistLoader;sh(e,n),i&&(i.playlistLoader?(e.resyncLoader(),lh(i.playlistLoader,n)):r&&t.resetEverything())}),i[t].onTrackChanged=(l=t,u=e,function(){var t=u.segmentLoaders,e=t[l],t=t.main,n=u.mediaTypes[l],i=n.activeTrack(),r=n.activeGroup(i),a=n.activePlaylistLoader;sh(e,n),r&&(r.playlistLoader?(a!==r.playlistLoader&&(e.track&&e.track(i),e.resetEverything()),lh(r.playlistLoader,n)):t.resetEverything())})});var s=((s=i.AUDIO.activeGroup()).filter(function(t){return t.default})[0]||s[0]).id;for(n in i.AUDIO.tracks[s].enabled=!0,i.AUDIO.onTrackChanged(),r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return i[t].onGroupChanged()})}),a.audioTracks().addEventListener("change",t),a.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),o.on("dispose",function(){a.audioTracks().removeEventListener("change",t),a.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),a.clearTracks("audio"),i.AUDIO.tracks)a.audioTracks().addTrack(i.AUDIO.tracks[n])}var oh=new od("./decrypter-worker.worker.js",function(t,e){var n,c,g,r,l,i,a=this;n=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t},c=null,h.prototype.decrypt=function(t,e,n,i,r,a){for(var o,s,l=this._key[1],u=t^l[0],c=i^l[1],d=n^l[2],h=e^l[3],f=void 0,p=l.length/4-2,g=void 0,m=4,t=this._tables[1],y=t[0],v=t[1],b=t[2],_=t[3],T=t[4],g=0;g<p;g++)f=y[u>>>24]^v[c>>16&255]^b[d>>8&255]^_[255&h]^l[m],o=y[c>>>24]^v[d>>16&255]^b[h>>8&255]^_[255&u]^l[m+1],s=y[d>>>24]^v[h>>16&255]^b[u>>8&255]^_[255&c]^l[m+2],h=y[h>>>24]^v[u>>16&255]^b[c>>8&255]^_[255&d]^l[m+3],m+=4,u=f,c=o,d=s;for(g=0;g<4;g++)r[(3&-g)+a]=T[u>>>24]<<24^T[c>>16&255]<<16^T[d>>8&255]<<8^T[255&h]^l[m++],f=u,u=c,c=d,d=h,h=f},g=h,s.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},s.prototype.off=function(t,e){if(!this.listeners[t])return!1;e=this.listeners[t].indexOf(e);return this.listeners[t].splice(e,1),-1<e},s.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,o=0;o<a;++o)e[o].apply(this,r)},s.prototype.dispose=function(){this.listeners={}},s.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},l=function(e){var t=i,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":Se(n)));function i(){d(this,i);var t=function(t,e){if(t)return!e||"object"!==(void 0===e?"undefined":Se(e))&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,r));return t.jobs=[],t.delay=1,t.timeout_=null,t}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(r=s),u.prototype.decryptChunk_=function(e,n,i,r){return function(){var t=function(t,e,n){for(var i,r,a,o,s=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),l=new g(Array.prototype.slice.call(e)),e=new Uint8Array(t.byteLength),u=new Int32Array(e.buffer),c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,c=n[0],d=n[1],h=n[2],f=n[3],p=0;p<s.length;p+=4)i=m(s[p]),r=m(s[p+1]),a=m(s[p+2]),o=m(s[p+3]),l.decrypt(i,r,a,o,u,p),u[p]=m(u[p]^c),u[p+1]=m(u[p+1]^d),u[p+2]=m(u[p+2]^h),u[p+3]=m(u[p+3]^f),c=i,d=r,h=a,f=o;return e}(e,n,i);r.set(t,e.byteOffset)}},n(u,null,[{key:"STEP",get:function(){return 32e3}}]),i=u,function(a){a.onmessage=function(t){var r=t.data,t=new Uint8Array(r.encrypted.bytes,r.encrypted.byteOffset,r.encrypted.byteLength),e=new Uint32Array(r.key.bytes,r.key.byteOffset,r.key.byteLength/4),n=new Uint32Array(r.iv.bytes,r.iv.byteOffset,r.iv.byteLength/4);new i(t,e,n,function(t,e){var n,i;a.postMessage((n={source:r.source,decrypted:e},i={},Object.keys(n).forEach(function(t){var e=n[t];ArrayBuffer.isView(e)?i[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:i[t]=e}),i),[e.buffer])})}}(a);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){d(this,h),c=c||function(){for(var t,e,n,i=[[[],[],[],[],[]],[[],[],[],[],[]]],r=i[0],a=i[1],o=r[4],s=a[4],l=void 0,u=void 0,c=void 0,d=[],h=[],f=void 0,p=void 0,l=0;l<256;l++)h[(d[l]=l<<1^283*(l>>7))^l]=l;for(u=c=0;!o[u];u^=t||1,c=h[c]||1)for(p=16843009*d[e=d[t=d[s[o[u]=n=(n=c^c<<1^c<<2^c<<3^c<<4)>>8^255&n^99]=u]]]^65537*e^257*t^16843008*u,f=257*d[n]^16843008*n,l=0;l<4;l++)r[l][u]=f=f<<24^f>>>8,a[l][n]=p=p<<24^p>>>8;for(l=0;l<5;l++)r[l]=r[l].slice(0),a[l]=a[l].slice(0);return i}(),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var e=void 0,n=void 0,i=void 0,r=void 0,a=void 0,o=this._tables[0][4],s=this._tables[1],l=t.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=t.slice(0),this._key=[r,a=[]],e=l;e<4*l+28;e++)i=r[e-1],(e%l==0||8===l&&e%l==4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],e%l==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[e]=r[e-l]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],a[n]=e<=4||n<4?i:s[0][o[i>>>24]]^s[1][o[i>>16&255]]^s[2][o[i>>8&255]]^s[3][o[255&i]]}function s(){d(this,s),this.listeners={}}function m(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}function u(t,e,n,i){d(this,u);var r=u.STEP,a=new Int32Array(t.buffer),o=new Uint8Array(t.byteLength),s=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),e,n,o)),s=r;s<a.length;s+=r)n=new Uint32Array([m(a[s-4]),m(a[s-3]),m(a[s-2]),m(a[s-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),e,n,o));this.asyncStream_.push(function(){i(null,o.subarray(0,o.byteLength-o[o.byteLength-1]))})}}),sh=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},lh=function(t,e){(e.activePlaylistLoader=t).load()},uh={AUDIO:function(o,s){return function(){var t=s.segmentLoaders[o],e=s.mediaTypes[o],n=s.blacklistCurrentPlaylist,t=(sh(t,e),e.activeTrack()),i=e.activeGroup(),i=(i.filter(function(t){return t.default})[0]||i[0]).id,r=e.tracks[i];if(t===r)n({message:"Problem encountered loading the default audio track."});else{for(var a in x.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),e.tracks)e.tracks[a].enabled=e.tracks[a]===r;e.onTrackChanged()}}},SUBTITLES:function(n,i){return function(){var t=i.segmentLoaders[n],e=i.mediaTypes[n],t=(x.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),sh(t,e),e.activeTrack());t&&(t.mode="disabled"),e.onTrackChanged()}}},ch={AUDIO:function(t,e,n){var i,r,a;e&&(i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t],e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",uh[t](t,n)))},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t],o=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),a.track(o.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",uh[t](t,n))}},dh={AUDIO:function(t,e){var n,i=e.hls,r=e.sourceType,a=e.segmentLoaders[t],o=e.requestOptions.withCredentials,s=e.master,l=s.mediaGroups,u=s.playlists,s=e.mediaTypes[t],c=s.groups,d=s.tracks,h=e.masterPlaylistLoader;for(n in l[t]&&0!==Object.keys(l[t]).length||(l[t]={main:{default:{default:!0}}}),l[t]){c[n]||(c[n]=[]);var f,p=u.filter(function(e,n){return function(t){return t.attributes[e]===n}}(t,n));for(f in l[t][n]){var g,m=l[t][n][f],y=(p.filter(function(e){return function(t){return t.resolvedUri===e}}(m.resolvedUri)).length&&delete m.resolvedUri,void 0),y=m.resolvedUri?new _c(m.resolvedUri,i,o):m.playlists&&"dash"===r?new Dd(m.playlists[0],i,o,h):null,m=x.mergeOptions({id:f,playlistLoader:y},m);ch[t](t,m.playlistLoader,e),c[n].push(m),void 0===d[f]&&(g=new x.AudioTrack({id:f,kind:(y=void 0,y=(g=m).default?"main":"alternative",y=g.characteristics&&0<=g.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":y),enabled:!1,language:m.language,default:m.default,label:f}),d[f]=g)}}a.on("error",uh[t](t,e))},SUBTITLES:function(t,e){var n,i,r,a=e.tech,o=e.hls,s=e.sourceType,l=e.segmentLoaders[t],u=e.requestOptions.withCredentials,c=e.master.mediaGroups,d=e.mediaTypes[t],h=d.groups,f=d.tracks,p=e.masterPlaylistLoader;for(n in c[t])for(var g in h[n]||(h[n]=[]),c[t][n])c[t][n][g].forced||(i=c[t][n][g],r=void 0,"hls"===s?r=new _c(i.resolvedUri,o,u):"dash"===s&&(r=new Dd(i.playlists[0],o,u,p)),i=x.mergeOptions({id:g,playlistLoader:r},i),ch[t](t,i.playlistLoader,e),h[n].push(i),void 0===f[g]&&(r=a.addRemoteTextTrack({id:g,kind:"subtitles",enabled:!1,language:i.language,label:g},!1).track,f[g]=r));l.on("error",uh[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n,i=e.tech,r=e.master.mediaGroups,e=e.mediaTypes[t],a=e.groups,o=e.tracks;for(n in r[t])for(var s in a[n]||(a[n]=[]),r[t][n]){var l=r[t][n][s];l.instreamId.match(/CC\d/)&&(a[n].push(x.mergeOptions({id:s},l)),void 0===o[s]&&(l=i.addRemoteTextTrack({id:l.instreamId,kind:"captions",enabled:!1,language:l.language,label:s},!1).track,o[s]=l))}}},hh={AUDIO:function(n,i){return function(){var t,e=i.mediaTypes[n].tracks;for(t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(n,i){return function(){var t,e=i.mediaTypes[n].tracks;for(t in e)if("showing"===e[t].mode)return e[t];return null}}},fh=void 0,ph=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],gh=(_=x.EventTarget,cc(mh,_),yu(mh,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*i.masterPlaylistLoader_.targetDuration*1e3;Lc(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,t.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load()),ah({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,hls:i.hls_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),t);try{i.setupSourceBuffers_()}catch(t){return x.log.warn("Failed to create SourceBuffers",t),i.mediaSource.endOfStream("decode")}i.setupFirstPlay(),i.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t,e,n=i.masterPlaylistLoader_.media();if(!n)return i.excludeUnsupportedVariants_(),t=void 0,t=(t=i.enableLowInitialPlaylist?i.selectInitialPlaylist():t)||i.selectPlaylist(),i.initialMedia_=t,void i.masterPlaylistLoader_.media(i.initialMedia_);i.useCueTags_&&i.updateAdCues_(n),i.mainSegmentLoader_.playlist(n,i.requestOptions_),i.updateDuration(),i.tech_.paused()||(i.mainSegmentLoader_.load(),i.audioSegmentLoader_&&i.audioSegmentLoader_.load()),n.endList||(e=function(){var t=i.seekable();0!==t.length&&i.mediaSource.addSeekableRange_(t.start(0),t.end(0))},i.duration()!==1/0?i.tech_.one("durationchange",function t(){i.duration()===1/0?e():i.tech_.one("durationchange",t)}):e())}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*i.masterPlaylistLoader_.targetDuration*1e3;Lc(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=i.masterPlaylistLoader_.media();i.stuckAtPlaylistEnd_(t)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n,i=t.mediaGroups||{},r=!0,t=Object.keys(i.AUDIO);for(n in i.AUDIO)for(var a in i.AUDIO[n])i.AUDIO[n][a].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),fh.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),fh.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.length&&1<Object.keys(i.AUDIO[t[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var r=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=r.selectPlaylist(),e=r.masterPlaylistLoader_.media(),n=r.tech_.buffered(),n=n.length?n.end(n.length-1)-r.tech_.currentTime():0,i=r.bufferLowWaterLine();(!e.endList||r.duration()<jd.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<e.attributes.BANDWIDTH||i<=n)&&r.masterPlaylistLoader_.media(t),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){r.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){r.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){r.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){var t;if(!this.setupFirstPlay())return this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load(),t=this.tech_.seekable(),this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(x.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(n.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return x.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}var t;this.tech_.autoplay()&&void 0!==(t=this.tech_.play())&&"function"==typeof t.then&&t.then(null,function(t){}),this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;(t=this.mediaTypes_.AUDIO.activePlaylistLoader?(this.mainSegmentLoader_.startingMedia_&&!this.mainSegmentLoader_.startingMedia_.containsVideo||t)&&this.audioSegmentLoader_.ended_:t)&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var t=fh.Playlist.playlistEnd(t,e),e=this.tech_.currentTime(),n=this.tech_.buffered();if(!n.length)return t-e<=.1;n=n.end(n.length-1);return n-e<=.1&&t-n<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=void 0,n=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration;if(!n){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(Ac).length;return i?(x.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),x.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=Fc(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:fh.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(t=fh.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(e=fh.Playlist.seekable(n,i)).length)return}!e||e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=x.createTimeRanges([[(e.start(0)>t.start(0)?e:t).start(0),(e.end(0)<t.end(0)?e:t).end(0)]]),this.logger_("seekable updated ["+Bc(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){function t(){e.mediaSource.duration=i,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)}var e=this,n=this.mediaSource.duration,i=fh.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered();n!==(i=0<r.length?Math.max(i,r.end(r.length-1)):i)&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",t):t())}},{key:"dispose",value:function(){var i=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var e,n=i.mediaTypes_[t].groups;for(e in n)n[e].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=dd(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=1<t.length&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new x.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){t.attributes.CODECS&&h.MediaSource&&h.MediaSource.isTypeSupported&&!h.MediaSource.isTypeSupported('video/mp4; codecs="'+t.attributes.CODECS.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return ud([t])[0]})+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var n=2,i=null;t.attributes.CODECS&&(t=yd(t.attributes.CODECS),i=t.videoCodec,n=t.codecCount),this.master().playlists.forEach(function(t){var e={codecCount:2,videoCodec:null};(e=t.attributes.CODECS?yd(t.attributes.CODECS):e).codecCount!==n&&(t.excludeUntil=1/0),e.videoCodec!==i&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),function(t,e){if(t.segments)for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=void 0,r=0;r<t.segments.length;r++){var a,o,s,l=t.segments[r];if(i=i||function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null}(e,n+l.duration/2)){if("cueIn"in l){i.endTime=n,i.adEndTime=n,n+=l.duration,i=null;continue}if(n<i.endTime){n+=l.duration;continue}i.endTime+=l.duration}else"cueOut"in l&&((i=new h.VTTCue(n,n+l.duration,l.cueOut)).adStartTime=n,i.adEndTime=n+parseFloat(l.cueOut),e.addCue(i)),"cueOutCont"in l&&(s=o=void 0,a=l.cueOutCont.split("/").map(parseFloat),o=(a=yc(a,2))[0],s=a[1],(i=new h.VTTCue(n,n+l.duration,"")).adStartTime=n-o,i.adEndTime=i.adStartTime+s,e.addCue(i));n+=l.duration}}(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=jd.GOAL_BUFFER_LENGTH,n=jd.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,jd.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=jd.BUFFER_LOW_WATER_LINE,n=jd.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,jd.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),mh);function mh(t){sc(this,mh);var e,n=dc(this,(mh.__proto__||Object.getPrototypeOf(mh)).call(this)),i=t.url,r=t.withCredentials,a=t.tech,o=t.bandwidth,s=t.externHls,l=t.useCueTags,u=t.blacklistDuration,c=t.enableLowInitialPlaylist,d=t.sourceType,h=t.seekTo;if(!i)throw new Error("A non-empty playlist URL is required");fh=s,n.withCredentials=r,n.tech_=a,n.hls_=a.hls,n.seekTo_=h,n.sourceType_=d,n.useCueTags_=l,n.blacklistDuration=u,n.enableLowInitialPlaylist=c,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:n.withCredentials,timeout:null},n.mediaTypes_=(e={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ld,activeTrack:Ld,onGroupChanged:Ld,onTrackChanged:Ld}}),e),n.mediaSource=new x.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=x.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new ih(t),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new oh,n.inbandTextTracks_={};s={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:o,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_=new("dash"===n.sourceType_?Dd:_c)(i,n.hls_,n.withCredentials),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Kd(x.mergeOptions(s,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new Kd(x.mergeOptions(s,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Zd(x.mergeOptions(s,{loaderType:"vtt"}),t),n.setupSegmentLoaderListeners_(),ph.forEach(function(t){n[t+"_"]=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]}.bind(n,t)}),n.logger_=xd("MPC"),n.masterPlaylistLoader_.load(),n}function yh(t,e,n){sc(this,yh);var i,r=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);e.attributes.RESOLUTION&&(i=e.attributes.RESOLUTION,this.width=i.width,this.height=i.height),this.bandwidth=e.attributes.BANDWIDTH,this.id=n,this.enabled=vh(t.playlists,e.uri,r)}var vh=function(r,a,o){return function(t){var e=r.master.playlists[a],n=Dc(e),i=Ac(e);return void 0===t?i:(t?delete e.disabled:e.disabled=!0,t===i||n||(o(),t?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),t)}},bh=["seeking","seeked","pause","playing","error"],_h=(yu(Th,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&h.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=h.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());var t,e;if(!this.tech_.paused()&&!this.tech_.seeking())return t=this.tech_.currentTime(),e=this.tech_.buffered(),this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1))?this.techWaiting_():void(5<=this.consecutiveUpdates&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t))}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),i=void 0;return t&&this.afterSeekableWindow_(e,n)&&(i=e.end(e.length-1)),void 0!==(i=t&&this.beforeSeekableWindow_(e,n)?e.start(0)+.1:i)&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Bc(e)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){var t,e;this.techWaiting_()||(t=this.tech_.currentTime(),e=this.tech_.buffered(),(e=Fc(e,t)).length&&t+3<=e.end(0)&&(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+e.start(0)+" -> "+e.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e))return t=t.end(t.length-1),this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+t),this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0;var t=this.tech_.buffered(),n=jc(t,e);return this.videoUnderflow_(n,t,e)?(this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):0<n.length&&(t=n.start(0)-e,this.logger_("Stopped at "+e+", setting timer for "+t+", seeking to "+n.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*t,e),!0)}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&0<t.start(0)&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){t=this.gapFromVideoUnderflow_(e,n);if(t)return this.logger_("Encountered a gap in video from "+t.start+" to "+t.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),e=jc(e,n);this.cancelTimer_(),0!==e.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",e.start(0)),this.seekTo(e.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=function(t){if(t.length<2)return x.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return x.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(e-r<4&&2<e-r)return{start:r,end:a}}return null}}]),Th);function Th(t){function e(){return a.monitorCurrentTime_()}function n(){return a.techWaiting_()}function i(){return a.cancelTimer_()}function r(){return a.fixesBadSeeks_()}var a=this;sc(this,Th),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=xd("PlaybackWatcher"),this.logger_("initialize");this.tech_.on("seekablechanged",r),this.tech_.on("waiting",n),this.tech_.on(bh,i),this.tech_.on("canplay",e),this.dispose=function(){a.logger_("dispose"),a.tech_.off("seekablechanged",r),a.tech_.off("waiting",n),a.tech_.off(bh,i),a.tech_.off("canplay",e),a.checkCurrentTimeTimeout_&&h.clearTimeout(a.checkCurrentTimeTimeout_),a.cancelTimer_()}}function Sh(e,t){function n(t){null!=t&&(o=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",l),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())}function i(){if(Date.now()-a<1e3*s.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return a=Date.now(),s.getSource.call(e,n);x.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function r(){e.off("loadedmetadata",l),e.off("error",i),e.off("dispose",r)}var a=0,o=0,s=x.mergeOptions(Dh,t),l=(e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})}),function(){o&&e.currentTime(o)});e.on("error",i),e.on("dispose",r),e.reloadSourceOnError=function(t){r(),Sh(e,t)}}function wh(t){Sh(this,t)}function Eh(t){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t)?"hls":/^application\/dash\+xml/i.test(t)?"dash":null}function Ch(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})}function kh(t){var e;"dash"===t.options_.sourceType&&(e=x.players[t.tech_.options_.playerId]).eme&&(t=function(t,e,n){if(!t)return t;var i,r={};for(i in t)r[i]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[i]&&e.contentProtection[i].pssh&&(r[i].pssh=e.contentProtection[i].pssh),"string"==typeof t[i]&&(r[i].url=t[i]);return x.mergeOptions(t,r)}(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media()))&&(e.currentSource().keySystems=t)}var Dh={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Ah=(x.use("*",function(e){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.currentTime())}}}),{PlaylistLoader:_c,Playlist:Zc,Decrypter:cu,AsyncStream:rc,decrypt:ic,utils:b,STANDARD_PLAYLIST_SELECTOR:function(){return t=this.playlists.master,e=this.systemBandwidth,n=parseInt(Md(this.tech_.el(),"width"),10),i=parseInt(Md(this.tech_.el(),"height"),10),t=t.playlists.map(function(t){var e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height;return{bandwidth:t.attributes.BANDWIDTH||h.Number.MAX_VALUE,width:e,height:n,playlist:t}}),$d(t,function(t,e){return t.bandwidth-e.bandwidth}),r=(t=t.filter(function(t){return!Zc.isIncompatible(t.playlist)})).filter(function(t){return Zc.isEnabled(t.playlist)}),a=(r=r.length?r:t.filter(function(t){return!Zc.isDisabled(t.playlist)})).filter(function(t){return t.bandwidth*jd.BANDWIDTH_VARIANCE<e}),o=a[a.length-1],s=a.filter(function(t){return t.bandwidth===o.bandwidth})[0],a=a.filter(function(t){return t.width&&t.height}),$d(a,function(t,e){return t.width-e.width}),l=a.filter(function(t){return t.width===n&&t.height===i}),o=l[l.length-1],l=l.filter(function(t){return t.bandwidth===o.bandwidth})[0],d=c=u=void 0,l||(c=(u=a.filter(function(t){return t.width>n||t.height>i})).filter(function(t){return t.width===u[0].width&&t.height===u[0].height}),o=c[c.length-1],d=c.filter(function(t){return t.bandwidth===o.bandwidth})[0]),(a=d||l||s||r[0]||t[0])?a.playlist:null;var t,e,n,i,r,a,o,s,l,u,c,d},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(Zc.isEnabled);return $d(t,Nd),t.filter(function(t){return yd(t.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Nd,comparePlaylistResolution:function(t,e){var n=void 0,i=void 0;return(n=(n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:n)||h.Number.MAX_VALUE)===(i=(i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:i)||h.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i},xhr:Oc()}),to=(["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(Ah,e,{get:function(){return x.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),jd[e]},set:function(t){x.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?x.log.warn("value of Hls."+e+" must be greater than or equal to 0"):jd[e]=t}})}),Ah.canPlaySource=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},Ah.supportsNativeHls=function(){var e=c.createElement("video");if(!x.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),Ah.supportsNativeDash=!!x.getTech("Html5").isSupported()&&/maybe|probably/i.test(c.createElement("video").canPlayType("application/dash+xml")),Ah.supportsTypeNatively=function(t){return"hls"===t?Ah.supportsNativeHls:"dash"===t&&Ah.supportsNativeDash},Ah.isSupported=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},x.getComponent("Component")),xh=(cc(Lh,to),yu(Lh,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t,e){var i=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Ah,this.options_.sourceType=Eh(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t),i.setCurrentTime(t)},this.masterPlaylistController_=new gh(this.options_),this.playbackWatcher_=new _h(x.mergeOptions(this.options_,{seekable:function(){return i.seekable()}})),this.masterPlaylistController_.on("error",function(){x.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||Ah.STANDARD_PLAYLIST_SELECTOR).bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ah.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0,e=0<this.throughput?1/this.throughput:0;return Math.floor(1/(t+e))},set:function(){x.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Hc(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Hc(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){var n,t;t=(n=i).playlists,n.representations=function(){return t.master.playlists.filter(function(t){return!Dc(t)}).map(function(t,e){return new yh(n,t,t.uri)})},kh(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(x.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var n=this,t=x.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t;e=n.qualityLevels_,(t=n).representations().forEach(function(t){e.addQualityLevel(t)}),Ch(e,t.playlists)}),this.playlists.on("mediachange",function(){Ch(n.qualityLevels_,n.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),uc(Lh.prototype.__proto__||Object.getPrototypeOf(Lh.prototype),"dispose",this).call(this)}}]),Lh);function Lh(t,e,n){sc(this,Lh);var i=dc(this,(Lh.__proto__||Object.getPrototypeOf(Lh)).call(this,e,n.hls));if(e.options_&&e.options_.playerId&&((n=x(e.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return x.log.warn("player.hls is deprecated. Use player.tech().hls instead."),e.trigger({type:"usage",name:"hls-player-access"}),i}}),n.vhs=i,n.dash=i),i.tech_=e,i.source_=t,i.stats={},i.setOptions_(),i.options_.overrideNative&&e.overrideNativeAudioTracks&&e.overrideNativeVideoTracks)e.overrideNativeAudioTracks(!0),e.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(e.featuresNativeVideoTracks||e.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(c,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement;e&&e.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()}),i.on(i.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}var Oh={name:"videojs-http-streaming",VERSION:"1.2.5",canHandleSource:function(t){var e=x.mergeOptions(x.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return Oh.canPlayType(t.type,e)},handleSource:function(t,e){var n=x.mergeOptions(x.options,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return e.hls=new xh(t,e,n),e.hls.xhr=Oc(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=x.mergeOptions(x.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).hls.overrideNative,n=Eh(t);return n&&(!Ah.supportsTypeNatively(n)||e)?"maybe":""}};return void 0!==x.MediaSource&&void 0!==x.URL||(x.MediaSource=Ed,x.URL=r),Ed.supportsNativeMediaSources()&&x.getTech("Html5").registerSourceHandler(Oh,0),x.HlsHandler=xh,x.HlsSourceHandler=Oh,x.Hls=Ah,x.use||x.registerComponent("Hls",Ah),x.options.hls=x.options.hls||{},x.registerPlugin?x.registerPlugin("reloadSourceOnError",wh):x.plugin("reloadSourceOnError",wh),x}),function(){var t=window;(t=t&&t.videojs)&&(t.CDN_VERSION="7.2.3")}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).flatpickr=e()}(this,function(){"use strict";var lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ut=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],y={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var t=new Date(t.getTime()),e=(t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7),new Date(t.getFullYear(),0,4));return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ct={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){t%=100;if(3<t&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},dt=function(t){return("0"+t).slice(-2)},ht=function(t){return!0===t?1:0};function ft(n,i,r){var a;return void 0===r&&(r=!1),function(){var t=this,e=arguments;null!==a&&clearTimeout(a),a=window.setTimeout(function(){a=null,r||n.apply(t,e)},i),r&&!a&&n.apply(t,e)}}var pt=function(t){return t instanceof Array?t:[t]};function gt(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function mt(t,e,n){t=window.document.createElement(t);return n=n||"",t.className=e=e||"",void 0!==n&&(t.textContent=n),t}function yt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function vt(t,e){var n=mt("div","numInputWrapper"),i=mt("input","numInput "+t),t=mt("span","arrowUp"),r=mt("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==e)for(var a in e)i.setAttribute(a,e[a]);return n.appendChild(i),n.appendChild(t),n.appendChild(r),n}function t(){}var bt=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},v={D:t,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours(parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*ht(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e){e=parseInt(e);return new Date(t.getFullYear(),0,2+7*(e-1),0,0,0,0)},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours(parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:t,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:t,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},_t={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},o={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[o.w(t,e,n)]},F:function(t,e,n){return bt(o.n(t,e,n)-1,!1,e)},G:function(t,e,n){return dt(o.h(t,e,n))},H:function(t){return dt(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[ht(11<t.getHours())]},M:function(t,e){return bt(t.getMonth(),!0,e)},S:function(t){return dt(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return t.getFullYear()},d:function(t){return dt(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return dt(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return dt(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},Tt=function(t){var e=t.config,a=void 0===e?y:e,e=t.l10n,n=void 0===e?ct:e;return function(i,t,e){var r=e||n;return void 0!==a.formatDate?a.formatDate(i,t,r):t.split("").map(function(t,e,n){return o[t]&&"\\"!==n[e-1]?o[t](i,r,a):"\\"!==t?t:""}).join("")}},St=function(t){var e=t.config,g=void 0===e?y:e,e=t.l10n,m=void 0===e?ct:e;return function(t,e,n,i){if(0===t||t){var r=i||m,i=t;if(t instanceof Date)o=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)o=new Date(t);else if("string"==typeof t){var a=e||(g||y).dateFormat,e=String(t).trim();if("today"===e)o=new Date,n=!0;else if(/Z$/.test(e)||/GMT$/.test(e))o=new Date(t);else if(g&&g.parseDate)o=g.parseDate(t,a);else{for(var o=g&&g.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),s=void 0,l=[],u=0,c=0,d="";u<a.length;u++){var h=a[u],f="\\"===h,p="\\"===a[u-1]||f;_t[h]&&!p?(d+=_t[h],(p=new RegExp(d).exec(t))&&(s=!0)&&l["Y"!==h?"push":"unshift"]({fn:v[h],val:p[++c]})):f||(d+="."),l.forEach(function(t){var e=t.fn,t=t.val;return o=e(o,t,r)||o})}o=s?o:void 0}}if(o instanceof Date&&!isNaN(o.getTime()))return!0===n&&o.setHours(0,0,0,0),o;g.errorHandler(new Error("Invalid date provided: "+i))}}};function wt(t,e,n){return!1!==(n=void 0===n?!0:n)?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var Et=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)},Ct={DAY:864e5},kt=("function"!=typeof Object.assign&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=0,r=t;i<r.length;i++)!function(e){e&&Object.keys(e).forEach(function(t){return n[t]=e[t]})}(r[i]);return n}),300);function s(t,e){var g={config:lt({},Dt.defaultConfig),l10n:ct};function N(t){return t.bind(g)}function U(){var e=g.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){var t;void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer&&(t=(g.days.offsetWidth+1)*e.showMonths,g.daysContainer.style.width=t+"px",g.calendarContainer.style.width=t+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display"))})}function l(t){0===g.selectedDates.length&&z(),void 0!==t&&"blur"!==t.type&&((t=t).preventDefault(),n="keydown"===t.type,i=t.target,void 0!==g.amPM&&t.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[ht(g.amPM.textContent===g.l10n.amPM[0])]),r=parseFloat(i.getAttribute("min")),s=parseFloat(i.getAttribute("max")),a=parseFloat(i.getAttribute("step")),o=parseInt(i.value,10),n=o+a*(t.delta||(n?38===t.which?1:-1:0)),void 0!==i.value&&2===i.value.length&&(t=i===g.hourElement,e=i===g.minuteElement,n<r?(n=s+n+ht(!t)+(ht(t)&&ht(!g.amPM)),e&&c(void 0,-1,g.hourElement)):s<n&&(n=i===g.hourElement?n-s-ht(!g.amPM):r,e&&c(void 0,1,g.hourElement)),g.amPM&&t&&(1===a?n+o===23:Math.abs(n-o)>a)&&(g.amPM.textContent=g.l10n.amPM[ht(g.amPM.textContent===g.l10n.amPM[0])]),i.value=dt(n)));var e,n,i,r,a,o,s=g._input.value;u(),k(),g._input.value!==s&&g._debouncedChange()}function u(){var t,e,n,i,r;void 0!==g.hourElement&&void 0!==g.minuteElement&&(t=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,e=(parseInt(g.minuteElement.value,10)||0)%60,n=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0,void 0!==g.amPM&&(i=t,r=g.amPM.textContent,t=i%12+12*ht(r===g.l10n.amPM[1])),i=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===wt(g.latestSelectedDateObj,g.config.minDate,!0),(void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===wt(g.latestSelectedDateObj,g.config.maxDate,!0))&&(r=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate,(e=(t=Math.min(t,r.getHours()))===r.getHours()?Math.min(e,r.getMinutes()):e)===r.getMinutes()&&(n=Math.min(n,r.getSeconds()))),i&&(r=void 0!==g.config.minTime?g.config.minTime:g.config.minDate,(e=(t=Math.max(t,r.getHours()))===r.getHours()?Math.max(e,r.getMinutes()):e)===r.getMinutes()&&(n=Math.max(n,r.getSeconds()))),a(t,e,n))}function i(t){t=t||g.latestSelectedDateObj;t&&a(t.getHours(),t.getMinutes(),t.getSeconds())}function F(){var t,e,n=g.config.defaultHour,i=g.config.defaultMinute,r=g.config.defaultSeconds;void 0!==g.config.minDate&&(t=g.config.minDate.getHours(),e=g.config.minDate.getMinutes(),(n=Math.max(n,t))===t&&(i=Math.max(e,i)),n===t&&i===e&&(r=g.config.minDate.getSeconds())),void 0!==g.config.maxDate&&(t=g.config.maxDate.getHours(),e=g.config.maxDate.getMinutes(),(n=Math.min(n,t))===t&&(i=Math.min(e,i)),n===t&&i===e&&(r=g.config.maxDate.getSeconds())),a(n,i,r)}function a(t,e,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(t%24,e,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=dt(g.config.time_24hr?t:(12+t)%12+12*ht(t%12==0)),g.minuteElement.value=dt(e),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[ht(12<=t)]),void 0!==g.secondElement&&(g.secondElement.value=dt(n)))}function j(t){var e=parseInt(t.target.value)+(t.delta||0);(1<e/1e3||"Enter"===t.key&&!/[^\d]/.test(e.toString()))&&b(e)}function o(e,n,i,r){return n instanceof Array?n.forEach(function(t){return o(e,t,i,r)}):e instanceof Array?e.forEach(function(t){return o(t,n,i,r)}):(e.addEventListener(n,i,r),void g._handlers.push({element:e,event:n,handler:i,options:r}))}function n(e){return function(t){1===t.which&&e(t)}}function r(){E("onChange")}function B(t){var e=void 0!==t?g.parseDate(t):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now);try{void 0!==e&&(g.currentYear=e.getFullYear(),g.currentMonth=e.getMonth())}catch(t){t.message="Invalid date supplied: "+e,g.config.errorHandler(t)}g.redraw()}function H(t){~t.target.className.indexOf("arrow")&&c(t,t.target.classList.contains("arrowUp")?1:-1)}function c(t,e,n){t=t&&t.target,n=n||t&&t.parentNode&&t.parentNode.firstChild,t=nt("increment");t.delta=e,n&&n.dispatchEvent(t)}function h(t,e,n,i){var r=_(e,!0),a=mt("span","flatpickr-day "+t,e.getDate().toString());return a.dateObj=e,a.$i=i,a.setAttribute("aria-label",g.formatDate(e,g.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===wt(e,g.now)&&((g.todayDateElem=a).classList.add("today"),a.setAttribute("aria-current","date")),r?(a.tabIndex=-1,it(e)&&(a.classList.add("selected"),g.selectedDateElem=a,"range"===g.config.mode&&(gt(a,"startRange",g.selectedDates[0]&&0===wt(e,g.selectedDates[0],!0)),gt(a,"endRange",g.selectedDates[1]&&0===wt(e,g.selectedDates[1],!0)),"nextMonthDay"===t&&a.classList.add("inRange")))):a.classList.add("disabled"),"range"===g.config.mode&&(i=e,!("range"!==g.config.mode||g.selectedDates.length<2)&&0<=wt(i,g.selectedDates[0])&&wt(i,g.selectedDates[1])<=0)&&!it(e)&&a.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==t&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(e)+"</span>"),E("onDayCreate",a),a}function p(t){t.focus(),"range"===g.config.mode&&S(t)}function m(t){for(var e=0<t?0:g.config.showMonths-1,n=0<t?g.config.showMonths:-1,i=e;i!=n;i+=t)for(var r=g.daysContainer.children[i],a=0<t?0:r.children.length-1,o=0<t?r.children.length:-1,s=a;s!=o;s+=t){var l=r.children[s];if(-1===l.className.indexOf("hidden")&&_(l.dateObj))return l}}function y(t,e){var n=T(document.activeElement||document.body),t=void 0!==t?t:n?document.activeElement:void 0!==g.selectedDateElem&&T(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&T(g.todayDateElem)?g.todayDateElem:m(0<e?1:-1);if(void 0===t)g._input.focus();else if(n){for(var i=t,r=e,a=-1===i.className.indexOf("Month")?i.dateObj.getMonth():g.currentMonth,o=0<r?g.config.showMonths:-1,s=0<r?1:-1,l=a-g.currentMonth;l!=o;l+=s)for(var u=g.daysContainer.children[l],c=a-g.currentMonth===l?i.$i+r:r<0?u.children.length-1:0,d=u.children.length,h=c;0<=h&&h<d&&h!=(0<r?d:-1);h+=s){var f=u.children[h];if(-1===f.className.indexOf("hidden")&&_(f.dateObj)&&Math.abs(i.$i-h)>=Math.abs(r))return void p(f)}g.changeMonth(s),y(m(s),0)}else p(t)}function s(){if(void 0!==g.daysContainer){yt(g.daysContainer),g.weekNumbers&&yt(g.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<g.config.showMonths;e++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+e),t.appendChild(function(t,e){for(var n=(new Date(t,e,1).getDay()-g.l10n.firstDayOfWeek+7)%7,i=g.utils.getDaysInMonth((e-1+12)%12),r=g.utils.getDaysInMonth(e),a=window.document.createDocumentFragment(),o=1<g.config.showMonths,s=o?"prevMonthDay hidden":"prevMonthDay",l=o?"nextMonthDay hidden":"nextMonthDay",u=i+1-n,c=0;u<=i;u++,c++)a.appendChild(h(s,new Date(t,e-1,u),u,c));for(u=1;u<=r;u++,c++)a.appendChild(h("",new Date(t,e,u),u,c));for(var d=r+1;d<=42-n&&(1===g.config.showMonths||c%7!=0);d++,c++)a.appendChild(h(l,new Date(t,e+1,d%r),d,c));return(o=mt("div","dayContainer")).appendChild(a),o}(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(t),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&S()}}function W(){yt(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var t,e,n,i,r,a=g.config.showMonths;a--;){r=i=o=n=e=t=void 0,t=mt("div","flatpickr-month"),e=window.document.createDocumentFragment(),n=mt("span","cur-month"),o=vt("cur-year",{tabindex:"-1"}),(i=o.getElementsByTagName("input")[0]).setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&i.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(i.setAttribute("max",g.config.maxDate.getFullYear().toString()),i.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear()),(r=mt("div","flatpickr-current-month")).appendChild(n),r.appendChild(o),e.appendChild(r),t.appendChild(e);var o={container:t,yearElement:i,monthElement:n};g.yearElements.push(o.yearElement),g.monthElements.push(o.monthElement),g.monthNav.appendChild(o.container)}g.monthNav.appendChild(g.nextMonthNav)}function G(){g.weekdayContainer?yt(g.weekdayContainer):g.weekdayContainer=mt("div","flatpickr-weekdays");for(var t=g.config.showMonths;t--;){var e=mt("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(e)}return q(),g.weekdayContainer}function q(){var t=g.l10n.firstDayOfWeek,e=g.l10n.weekdays.shorthand.slice();0<t&&t<e.length&&(e=e.splice(t,e.length).concat(e.splice(0,t)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}function d(t,e){e=(e=void 0===e?!0:e)?t:t-g.currentMonth;e<0&&!0===g._hidePrevMonthArrow||0<e&&!0===g._hideNextMonthArrow||(g.currentMonth+=e,(g.currentMonth<0||11<g.currentMonth)&&(g.currentYear+=11<g.currentMonth?1:-1,g.currentMonth=(g.currentMonth+12)%12,E("onYearChange")),s(),E("onMonthChange"),C())}function f(t){return!(!g.config.appendTo||!g.config.appendTo.contains(t))||g.calendarContainer.contains(t)}function v(t){var e,n,i;g.isOpen&&!g.config.inline&&(i=f(e="function"==typeof(i=t).composedPath?i.composedPath()[0]:i.target),n=e===g.input||e===g.altInput||g.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(g.input)||~t.path.indexOf(g.altInput)),n="blur"===t.type?n&&t.relatedTarget&&!f(t.relatedTarget):!n&&!i&&!f(t.relatedTarget),i=!g.config.ignoredFocusElements.some(function(t){return t.contains(e)}),n&&i&&(g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw())))}function b(t){var e;!t||g.config.minDate&&t<g.config.minDate.getFullYear()||g.config.maxDate&&t>g.config.maxDate.getFullYear()||(e=g.currentYear!==t,g.currentYear=t||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),e&&(g.redraw(),E("onYearChange")))}function _(t,e){var n=g.parseDate(t,void 0,e=void 0===e?!0:e);if(g.config.minDate&&n&&wt(n,g.config.minDate,void 0!==e?e:!g.minDateHasTime)<0||g.config.maxDate&&n&&0<wt(n,g.config.maxDate,void 0!==e?e:!g.maxDateHasTime))return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var i,r=0<g.config.enable.length,a=r?g.config.enable:g.config.disable,o=0,s=void 0;o<a.length;o++){if("function"==typeof(s=a[o])&&s(n))return r;if(s instanceof Date&&void 0!==n&&s.getTime()===n.getTime())return r;if("string"==typeof s&&void 0!==n)return(i=g.parseDate(s,void 0,!0))&&i.getTime()===n.getTime()?r:!r;if("object"==typeof s&&void 0!==n&&s.from&&s.to&&n.getTime()>=s.from.getTime()&&n.getTime()<=s.to.getTime())return r}return!r}function T(t){return void 0!==g.daysContainer&&-1===t.className.indexOf("hidden")&&g.daysContainer.contains(t)}function V(t){var e=t.target===g._input,n=g.config.allowInput,i=g.isOpen&&(!n||!e),r=g.config.inline&&e&&!n;if(13===t.keyCode&&e){if(n)return g.setDate(g._input.value,!0,t.target===g.altInput?g.config.altFormat:g.config.dateFormat),t.target.blur();g.open()}else if(f(t.target)||i||r){var a,o=!!g.timeContainer&&g.timeContainer.contains(t.target);switch(t.keyCode){case 13:o?(l(),Q()):J(t);break;case 27:t.preventDefault(),Q();break;case 8:case 46:e&&!g.config.allowInput&&(t.preventDefault(),g.clear());break;case 37:case 39:o?g.hourElement&&g.hourElement.focus():(t.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&T(document.activeElement))&&(s=39===t.keyCode?1:-1,t.ctrlKey?(t.stopPropagation(),d(s),y(m(1),0)):y(void 0,s)));break;case 38:case 40:t.preventDefault();var s=40===t.keyCode?1:-1;g.daysContainer&&void 0!==t.target.$i||t.target===g.input?t.ctrlKey?(t.stopPropagation(),b(g.currentYear-s),y(m(1),0)):o||y(void 0,7*s):g.config.enableTime&&(!o&&g.hourElement&&g.hourElement.focus(),l(t),g._debouncedChange());break;case 9:!o||-1!==(a=(s=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].filter(function(t){return t})).indexOf(t.target))&&(void 0!==(s=s[a+(t.shiftKey?-1:1)])?(t.preventDefault(),s.focus()):t.shiftKey&&(t.preventDefault(),g._input.focus()))}}if(void 0!==g.amPM&&t.target===g.amPM)switch(t.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],u(),k();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],u(),k()}E("onKeyDown",t)}function S(i){if(1===g.selectedDates.length&&(!i||i.classList.contains("flatpickr-day")&&!i.classList.contains("disabled"))){for(var r=(i||g.days.firstElementChild).dateObj.getTime(),a=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),t=Math.min(r,g.selectedDates[0].getTime()),e=Math.max(r,g.selectedDates[0].getTime()),n=g.daysContainer.lastChild.lastChild.dateObj.getTime(),o=!1,s=0,l=0,u=t;u<n;u+=Ct.DAY)_(new Date(u),!0)||(o=o||t<u&&u<e,u<a&&(!s||s<u)?s=u:a<u&&(!l||u<l)&&(l=u));for(var c=0;c<g.config.showMonths;c++)for(var d=g.daysContainer.children[c],h=g.daysContainer.children[c-1],f=0,p=d.children.length;f<p;f++)!function(t){var e=d.children[t],t=e.dateObj.getTime(),n=0<s&&t<s||0<l&&l<t;n?(e.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(t){e.classList.remove(t)})):o&&!n||(["startRange","inRange","endRange","notAllowed"].forEach(function(t){e.classList.remove(t)}),void 0!==i&&(i.classList.add(r<g.selectedDates[0].getTime()?"startRange":"endRange"),!d.contains(i)&&0<c&&h&&h.lastChild.dateObj.getTime()>=t||(a<r&&t===a?e.classList.add("startRange"):r<a&&t===a&&e.classList.add("endRange"),s<=t&&(0===l||t<=l)&&Et(t,a,r)&&e.classList.add("inRange"))))}(f)}}function Y(){!g.isOpen||g.config.static||g.config.inline||w()}function z(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!1),F(),k()}function $(n){return function(t){var t=g.config["_"+n+"Date"]=g.parseDate(t,g.config.dateFormat),e=g.config["_"+("min"===n?"max":"min")+"Date"];void 0!==t&&(g["min"===n?"minDateHasTime":"maxDateHasTime"]=0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()),g.selectedDates&&(g.selectedDates=g.selectedDates.filter(function(t){return _(t)}),g.selectedDates.length||"min"!==n||i(t),k()),g.daysContainer&&(X(),void 0!==t?g.currentYearElement[n]=t.getFullYear().toString():g.currentYearElement.removeAttribute(n),g.currentYearElement.disabled=!!e&&void 0!==t&&e.getFullYear()===t.getFullYear())}}function K(){"object"!=typeof g.config.locale&&void 0===Dt.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=lt({},Dt.l10ns.default,"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?Dt.l10ns[g.config.locale]:void 0),_t.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",g.formatDate=Tt(g),g.parseDate=St({config:g.config,l10n:g.l10n})}function w(t){var e,n,i,r,a,o;void 0!==g.calendarContainer&&(E("onPreCalendarPosition"),t=t||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,function(t,e){return t+e.offsetHeight},0),o=g.calendarContainer.offsetWidth,a=(r=g.config.position.split(" "))[0],r=1<r.length?r[1]:null,e=t.getBoundingClientRect(),i=window.innerHeight-e.bottom,a="above"===a||"below"!==a&&i<n&&e.top>n,i=window.pageYOffset+e.top+(a?-n-2:t.offsetHeight+2),gt(g.calendarContainer,"arrowTop",!a),gt(g.calendarContainer,"arrowBottom",a),g.config.inline||(n=window.pageXOffset+e.left-(null!=r&&"center"===r?(o-e.width)/2:0),t=window.document.body.offsetWidth-e.right,a=n+o>window.document.body.offsetWidth,r=t+o>window.document.body.offsetWidth,gt(g.calendarContainer,"rightMost",a),g.config.static||(g.calendarContainer.style.top=i+"px",a?r?void 0!==(i=document.styleSheets[0])&&(a=window.document.body.offsetWidth,r=Math.max(0,a/2-o/2),a=i.cssRules.length,o="{left:"+e.left+"px;right:auto;}",gt(g.calendarContainer,"rightMost",!1),gt(g.calendarContainer,"centerMost",!0),i.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+o,a),g.calendarContainer.style.left=r+"px",g.calendarContainer.style.right="auto"):(g.calendarContainer.style.left="auto",g.calendarContainer.style.right=t+"px"):(g.calendarContainer.style.left=n+"px",g.calendarContainer.style.right="auto"))))}function X(){g.config.noCalendar||g.isMobile||(C(),s())}function Q(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function J(t){t.preventDefault(),t.stopPropagation();var e,n,i,t=function t(e,n){return n(e)?e:e.parentNode?t(e.parentNode,n):void 0}(t.target,function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("disabled")&&!t.classList.contains("notAllowed")});void 0!==t&&(t=t,e=((n=g.latestSelectedDateObj=new Date(t.dateObj.getTime())).getMonth()<g.currentMonth||n.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode,g.selectedDateElem=t,"single"===g.config.mode?g.selectedDates=[n]:"multiple"===g.config.mode?(i=it(n))?g.selectedDates.splice(parseInt(i),1):g.selectedDates.push(n):"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=n,g.selectedDates.push(n),0!==wt(n,g.selectedDates[0],!0)&&g.selectedDates.sort(function(t,e){return t.getTime()-e.getTime()})),u(),e&&(i=g.currentYear!==n.getFullYear(),g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth(),i&&E("onYearChange"),E("onMonthChange")),C(),s(),k(),g.config.enableTime&&setTimeout(function(){return g.showTimeInput=!0},50),e||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():p(t),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect&&(n="single"===g.config.mode&&!g.config.enableTime,i="range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime,(n||i)&&Q()),r())}g.parseDate=St({config:g.config,l10n:g.l10n}),g._handlers=[],g._bind=o,g._setHoursFromDate=i,g._positionCalendar=w,g.changeMonth=d,g.changeYear=b,g.clear=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],!(g.latestSelectedDateObj=void 0)===e&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),!(g.showTimeInput=!1)===g.config.enableTime&&F(),g.redraw(),t&&E("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),E("onClose")},g._createElement=mt,g.destroy=function(){void 0!==g.config&&E("onDestroy");for(var t=g._handlers.length;t--;){var e=g._handlers[t];e.element.removeEventListener(e.event,e.handler,e.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(t){try{delete g[t]}catch(t){}})},g.isEnabled=_,g.jumpToDate=B,g.open=function(t,e){if(void 0===e&&(e=g._positionElement),!0===g.isMobile)return t&&(t.preventDefault(),t.target&&t.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void E("onOpen");var n;g._input.disabled||g.config.inline||(n=g.isOpen,g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),E("onOpen"),w(e)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&z(),!1!==g.config.allowInput||void 0!==t&&g.timeContainer.contains(t.relatedTarget)||setTimeout(function(){return g.hourElement.select()},50)))},g.redraw=X,g.set=function(t,e){null!==t&&"object"==typeof t?Object.assign(g.config,t):(g.config[t]=e,void 0!==Z[t]?Z[t].forEach(function(t){return t()}):-1<ut.indexOf(t)&&(g.config[t]=pt(e))),g.redraw(),k(!1)},g.setDate=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=g.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return g.clear(e);tt(t,n),g.showTimeInput=0<g.selectedDates.length,g.latestSelectedDateObj=g.selectedDates[0],g.redraw(),B(),i(),k(e),e&&E("onChange")},g.toggle=function(t){if(!0===g.isOpen)return g.close();g.open(t)};var Z={locale:[K,q],showMonths:[W,U,G]};function tt(t,e){var n=[];if(t instanceof Array)n=t.map(function(t){return g.parseDate(t,e)});else if(t instanceof Date||"number"==typeof t)n=[g.parseDate(t,e)];else if("string"==typeof t)switch(g.config.mode){case"single":case"time":n=[g.parseDate(t,e)];break;case"multiple":n=t.split(g.config.conjunction).map(function(t){return g.parseDate(t,e)});break;case"range":n=t.split(g.l10n.rangeSeparator).map(function(t){return g.parseDate(t,e)})}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));g.selectedDates=n.filter(function(t){return t instanceof Date&&_(t,!1)}),"range"===g.config.mode&&g.selectedDates.sort(function(t,e){return t.getTime()-e.getTime()})}function et(t){return t.slice().map(function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?g.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:g.parseDate(t.from,void 0),to:g.parseDate(t.to,void 0)}:t}).filter(function(t){return t})}function E(t,e){if(void 0!==g.config){var n=g.config[t];if(void 0!==n&&0<n.length)for(var i=0;n[i]&&i<n.length;i++)n[i](g.selectedDates,g.input.value,g,e);"onChange"===t&&(g.input.dispatchEvent(nt("change")),g.input.dispatchEvent(nt("input")))}}function nt(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function it(t){for(var e=0;e<g.selectedDates.length;e++)if(0===wt(g.selectedDates[e],t))return""+e;return!1}function C(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach(function(t,e){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+e),g.monthElements[e].textContent=bt(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ",t.value=n.getFullYear().toString()}),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function rt(e){return g.selectedDates.map(function(t){return g.formatDate(t,e)}).filter(function(t,e,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(t)===e}).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function k(t){if(void 0===t&&(t=!0),0===g.selectedDates.length)return g.clear(t);void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=rt(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=rt(g.config.altFormat)),!1!==t&&E("onValueUpdate")}function at(t){t.preventDefault();var e=g.prevMonthNav.contains(t.target),n=g.nextMonthNav.contains(t.target);e||n?d(e?-1:1):0<=g.yearElements.indexOf(t.target)?t.target.select():t.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):t.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}function ot(e){return function(t){g.config["min"===e?"_minTime":"_maxTime"]=g.parseDate(t,"H:i")}}g.element=g.input=t,g.isOpen=!1;var D=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],A=lt({},e,JSON.parse(JSON.stringify(t.dataset||{}))),e={},x=(g.config.parseDate=A.parseDate,g.config.formatDate=A.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(t){g.config._enable=et(t)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(t){g.config._disable=et(t)}}),"time"===A.mode);A.dateFormat||!A.enableTime&&!x||(e.dateFormat=A.noCalendar||x?"H:i"+(A.enableSeconds?":S":""):Dt.defaultConfig.dateFormat+" H:i"+(A.enableSeconds?":S":"")),A.altInput&&(A.enableTime||x)&&!A.altFormat&&(e.altFormat=A.noCalendar||x?"h:i"+(A.enableSeconds?":S K":" K"):Dt.defaultConfig.altFormat+" h:i"+(A.enableSeconds?":S":"")+" K"),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:$("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:$("max")}),Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:ot("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:ot("max")}),"time"===A.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,e,A);for(var L=0;L<D.length;L++)g.config[D[L]]=!0===g.config[D[L]]||"true"===g.config[D[L]];for(ut.filter(function(t){return void 0!==g.config[t]}).forEach(function(t){g.config[t]=pt(g.config[t]||[]).map(N)}),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),L=0;L<g.config.plugins.length;L++){var O,st=g.config.plugins[L](g)||{};for(O in st)-1<ut.indexOf(O)?g.config[O]=pt(st[O]).map(N).concat(g.config[O]):void 0===A[O]&&(g.config[O]=st[O])}if(E("onParseConfig"),K(),g.input=g.config.wrap?t.querySelector("[data-input]"):t,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=mt(g.input.nodeName,g.input.className+" "+g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date,(x=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null))&&tt(x,g.config.dateFormat),g._initialDate=0<g.selectedDates.length?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),0<g.selectedDates.length&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(0<g.config.minDate.getHours()||0<g.config.minDate.getMinutes()||0<g.config.minDate.getSeconds()),g.maxDateHasTime=!!g.config.maxDate&&(0<g.config.maxDate.getHours()||0<g.config.maxDate.getMinutes()||0<g.config.maxDate.getSeconds()),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(t){g._showTimeInput=t,g.calendarContainer&&gt(g.calendarContainer,"showTimeInput",t),g.isOpen&&w()}}),g.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=g.currentMonth),void 0===e&&(e=g.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:g.l10n.daysInMonth[t]}},g.isMobile||(e=window.document.createDocumentFragment(),g.calendarContainer=mt("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,g.config.noCalendar||(e.appendChild((g.monthNav=mt("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=mt("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=mt("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,W(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(t){g.__hidePrevMonthArrow!==t&&(gt(g.prevMonthNav,"disabled",t),g.__hidePrevMonthArrow=t)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(t){g.__hideNextMonthArrow!==t&&(gt(g.nextMonthNav,"disabled",t),g.__hideNextMonthArrow=t)}}),g.currentYearElement=g.yearElements[0],C(),g.monthNav)),g.innerContainer=mt("div","flatpickr-innerContainer"),g.config.weekNumbers&&(g.calendarContainer.classList.add("hasWeeks"),(P=mt("div","flatpickr-weekwrapper")).appendChild(mt("span","flatpickr-weekday",g.l10n.weekAbbreviation)),R=mt("div","flatpickr-weeks"),P.appendChild(R),R=(P={weekWrapper:P,weekNumbers:R}).weekNumbers,g.innerContainer.appendChild(P=P.weekWrapper),g.weekNumbers=R,g.weekWrapper=P),g.rContainer=mt("div","flatpickr-rContainer"),g.rContainer.appendChild(G()),g.daysContainer||(g.daysContainer=mt("div","flatpickr-days"),g.daysContainer.tabIndex=-1),s(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),e.appendChild(g.innerContainer)),g.config.enableTime&&e.appendChild((g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=mt("div","flatpickr-time"),g.timeContainer.tabIndex=-1,R=mt("span","flatpickr-time-separator",":"),P=vt("flatpickr-hour"),g.hourElement=P.getElementsByTagName("input")[0],M=vt("flatpickr-minute"),g.minuteElement=M.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=dt(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(g.config.defaultHour)),g.minuteElement.value=dt(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(P),g.timeContainer.appendChild(R),g.timeContainer.appendChild(M),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds&&(g.timeContainer.classList.add("hasSeconds"),P=vt("flatpickr-second"),g.secondElement=P.getElementsByTagName("input")[0],g.secondElement.value=dt(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(mt("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(P)),g.config.time_24hr||(g.amPM=mt("span","flatpickr-am-pm",g.l10n.amPM[ht(11<(g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour))]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer)),gt(g.calendarContainer,"rangeMode","range"===g.config.mode),gt(g.calendarContainer,"animate",!0===g.config.animate),gt(g.calendarContainer,"multiMonth",1<g.config.showMonths),g.calendarContainer.appendChild(e),M=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType,(g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!M&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)&&(e=mt("div","flatpickr-wrapper"),g.element.parentNode&&g.element.parentNode.insertBefore(e,g.element),e.appendChild(g.element),g.altInput&&e.appendChild(g.altInput),e.appendChild(g.calendarContainer)),g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)),g.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+e+"]"),function(t){return o(t,"click",g[e])})}),g.isMobile){var I=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=mt("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=I,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"==I?"Y-m-d\\TH:i:S":"date"==I?"Y-m-d":"H:i:S",0<g.selectedDates.length&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(I){}o(g.mobileInput,"change",function(t){g.setDate(t.target.value,!1,g.mobileFormatStr),E("onChange"),E("onClose")})}else x=ft(Y,50),g._debouncedChange=ft(r,kt),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&o(g.daysContainer,"mouseover",function(t){"range"===g.config.mode&&S(t.target)}),o(window.document.body,"keydown",V),g.config.static||o(g._input,"keydown",V),g.config.inline||g.config.static||o(window,"resize",x),void 0!==window.ontouchstart?o(window.document,"click",v):o(window.document,"mousedown",n(v)),o(window.document,"focus",v,{capture:!0}),!0===g.config.clickOpens&&(o(g._input,"focus",g.open),o(g._input,"mousedown",n(g.open))),void 0!==g.daysContainer&&(o(g.monthNav,"mousedown",n(at)),o(g.monthNav,["keyup","increment"],j),o(g.daysContainer,"mousedown",n(J))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(o(g.timeContainer,["increment"],l),o(g.timeContainer,"blur",l,{capture:!0}),o(g.timeContainer,"mousedown",n(H)),o([g.hourElement,g.minuteElement],["focus","click"],function(t){return t.target.select()}),void 0!==g.secondElement&&o(g.secondElement,"focus",function(){return g.secondElement&&g.secondElement.select()}),void 0!==g.amPM&&o(g.amPM,"mousedown",n(function(t){l(t),r()})));(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&i(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),k(!1)),U(),g.showTimeInput=0<g.selectedDates.length||g.config.noCalendar;var R,P,M,e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return!g.isMobile&&e&&w(),E("onReady"),g}function n(t,e){for(var n=Array.prototype.slice.call(t).filter(function(t){return t instanceof HTMLElement}),i=[],r=0;r<n.length;r++){var a=n[r];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=s(a,e||{}),i.push(a._flatpickr)}catch(t){console.error(t)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return n(this,t)},HTMLElement.prototype.flatpickr=function(t){return n([this],t)});var Dt=function(t,e){return"string"==typeof t?n(window.document.querySelectorAll(t),e):t instanceof Node?n([t],e):n(t,e)};return Dt.defaultConfig=y,Dt.l10ns={en:lt({},ct),default:lt({},ct)},Dt.localize=function(t){Dt.l10ns.default=lt({},Dt.l10ns.default,t)},Dt.setDefaults=function(t){Dt.defaultConfig=lt({},Dt.defaultConfig,t)},Dt.parseDate=St({}),Dt.formatDate=Tt({}),Dt.compareDates=wt,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(t){return n(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=Dt),Dt}),jQuery.extend({highlight:function(t,e,n,i){if(3===t.nodeType){var r,a,o=t.data.match(e);if(o)return(r=document.createElement(n||"span")).className=i||"highlight",(a=t.splitText(o.index)).splitText(o[0].length),o=a.cloneNode(!0),r.appendChild(o),a.parentNode.replaceChild(r,a),1}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==n.toUpperCase()||t.className!==i))for(var s=0;s<t.childNodes.length;s++)s+=jQuery.highlight(t.childNodes[s],e,n,i);return 0}}),jQuery.fn.unhighlight=function(t){var e={className:"highlight",element:"span"};return jQuery.extend(e,t),this.find(e.element+"."+e.className).each(function(){var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()},jQuery.fn.highlight=function(t,e){var n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(n,e),t.constructor===String&&(t=[t]),t=jQuery.grep(t,function(t,e){return""!=t}),0==(t=jQuery.map(t,function(t,e){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length)return this;var e=n.caseSensitive?"":"i",t="("+t.join("|")+")",i=(n.wordsOnly&&(t="\\b"+t+"\\b"),new RegExp(t,e));return this.each(function(){jQuery.highlight(this,i,n.element,n.className)})},function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(e){(t=e&&e.fn&&e.fn.select2&&e.fn.select2.amd?e.fn.select2.amd:t)&&t.requirejs||(t?n=t:t={},f={},p={},g={},m={},i=Object.prototype.hasOwnProperty,r=[].slice,y=/\.js$/,v=function(t,e){var n,i,r=c(t),a=r[0],e=e[1];return t=r[1],a&&(n=S(a=u(a,e))),a?t=n&&n.normalize?n.normalize(t,(i=e,function(t){return u(t,i)})):u(t,e):(a=(r=c(t=u(t,e)))[0],t=r[1],a&&(n=S(a))),{f:a?a+"!"+t:t,n:t,pr:a,p:n}},b={require:function(t){return T(t)},exports:function(t){var e=f[t];return void 0!==e?e:f[t]={}},module:function(t){return{id:t,uri:"",exports:f[t],config:(e=t,function(){return g&&g.config&&g.config[e]||{}})};var e}},o=function(t,e,n,i){var r,a,o,s,l,u=[],c=typeof n,d=w(i=i||t);if("undefined"==c||"function"==c){for(e=!e.length&&n.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if("require"===(a=(o=v(e[s],d)).f))u[s]=b.require(t);else if("exports"===a)u[s]=b.exports(t),l=!0;else if("module"===a)r=u[s]=b.module(t);else if(_(f,a)||_(p,a)||_(m,a))u[s]=S(a);else{if(!o.p)throw new Error(t+" missing "+a);o.p.load(o.n,T(i,!0),function(e){return function(t){f[e]=t}}(a),{}),u[s]=f[a]}c=n?n.apply(f[t],u):void 0,t&&(r&&r.exports!==h&&r.exports!==f[t]?f[t]=r.exports:c===h&&l||(f[t]=c))}else t&&(f[t]=n)},s=n=a=function(t,e,n,i,r){if("string"==typeof t)return b[t]?b[t](e):S(v(t,w(e)).f);if(!t.splice){if((g=t).deps&&a(g.deps,g.callback),!e)return;e.splice?(t=e,e=n,n=null):t=h}return e=e||function(){},"function"==typeof n&&(n=i,i=r),i?o(h,t,e,n):setTimeout(function(){o(h,t,e,n)},4),a},a.config=function(t){return a(t)},s._defined=f,(l=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),_(f,t)||_(p,t)||(p[t]=[t,e,n])}).amd={jQuery:!0},t.requirejs=s,t.require=n,t.define=l),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(a){function u(t){var e,n=t.prototype,i=[];for(e in n)"function"==typeof n[e]&&"constructor"!==e&&i.push(e);return i}function t(){this.listeners={}}var i={Extend:function(t,e){function n(){this.constructor=t}var i,r={}.hasOwnProperty;for(i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t}},n=(i.Decorate=function(i,r){function a(){var t=Array.prototype.unshift,e=r.prototype.constructor.length,n=i.prototype.constructor;0<e&&(t.call(arguments,i.prototype.constructor),n=r.prototype.constructor),n.apply(this,arguments)}var t=u(r),e=u(i);r.displayName=i.displayName,a.prototype=new function(){this.constructor=a};for(var n=0;n<e.length;n++){var o=e[n];a.prototype[o]=i.prototype[o]}for(var s=0;s<t.length;s++){var l=t[s];a.prototype[l]=function(t){var e=function(){},n=(t in a.prototype&&(e=a.prototype[t]),r.prototype[t]);return function(){return Array.prototype.unshift.call(arguments,e),n.apply(this,arguments)}}(l)}return a},t.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},t.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},0===(n=null==n?[]:n).length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},i.Observable=t,i.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var a=n[r];(a=a.substring(0,1).toLowerCase()+a.substring(1))in i||(i[a]={}),r==n.length-1&&(i[a]=t[e]),i=i[a]}delete t[e]}}return t},i.hasScroll=function(t,e){var n=a(e),i=e.style.overflowX,r=e.style.overflowY;return(i!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===i||"scroll"===r||n.innerHeight()<e.scrollHeight||n.innerWidth()<e.scrollWidth)},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(t,e){var n;"1.7"===a.fn.jquery.substr(0,3)&&(n=a(),a.map(e,function(t){n=n.add(t)}),e=n),t.append(e)},i.__cache={},0);return i.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++n),e=n.toString())),e},i.StoreData=function(t,e,n){t=i.GetUniqueElementId(t);i.__cache[t]||(i.__cache[t]={}),i.__cache[t][e]=n},i.GetData=function(t,e){var n=i.GetUniqueElementId(t);return e?i.__cache[n]&&null!=i.__cache[n][e]?i.__cache[n][e]:a(t).data(e):i.__cache[n]},i.RemoveData=function(t){t=i.GetUniqueElementId(t);null!=i.__cache[t]&&delete i.__cache[t]},i}),t.define("select2/results",["jquery","./utils"],function(d,h){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return h.Extend(i,h.Observable),i.prototype.render=function(){var t=d('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup"),n=(this.clear(),this.hideLoading(),d('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>')),i=this.options.get("translations").get(t.message);n.append(e(i(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"});else{t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],i=this.option(i);e.push(i)}this.$results.append(e)}},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");(0<e.length?e:t).first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(t){var i=d.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=d(this),e=h.GetData(this,"data"),n=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<d.inArray(n,i)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},t=this.option(t);t.className+=" loading-results",this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var e,n=document.createElement("li"),i=(n.className="select2-results__option",{role:"treeitem","aria-selected":"false"});for(e in t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]),i){var r=i[e];n.setAttribute(e,r)}if(t.children){var a=d(n),o=document.createElement("strong");o.className="select2-results__group",d(o),this.template(t,o);for(var s=[],l=0;l<t.children.length;l++){var u=t.children[l],u=this.option(u);s.push(u)}var c=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});c.append(s),a.append(o),a.append(c)}else this.template(t,n);return h.StoreData(n,"data",t),n},i.prototype.bind=function(e,t){var r=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){r.clear(),r.append(t.data),e.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),e.on("results:append",function(t){r.append(t.data),e.isOpen()&&r.setClasses()}),e.on("query",function(t){r.hideMessages(),r.showLoading(t)}),e.on("select",function(){e.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),e.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),e.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=r.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t,e=r.getHighlightedResults();0!==e.length&&(t=h.GetData(e[0],"data"),"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:t}))}),e.on("results:previous",function(){var t,e=r.getHighlightedResults(),n=r.$results.find("[aria-selected]"),i=n.index(e);0!==i&&(i=i-1,0===e.length&&(i=0),(e=n.eq(i)).trigger("mouseenter"),n=r.$results.offset().top,e=e.offset().top,t=r.$results.scrollTop()+(e-n),0===i?r.$results.scrollTop(0):e-n<0&&r.$results.scrollTop(t))}),e.on("results:next",function(){var t,e,n=r.getHighlightedResults(),i=r.$results.find("[aria-selected]"),n=i.index(n)+1;n>=i.length||((i=i.eq(n)).trigger("mouseenter"),t=r.$results.offset().top+r.$results.outerHeight(!1),i=i.offset().top+i.outerHeight(!1),e=r.$results.scrollTop()+i-t,0===n?r.$results.scrollTop(0):t<i&&r.$results.scrollTop(e))}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){r.displayMessage(t)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-e+t.deltaY,e=0<t.deltaY&&e-t.deltaY<=0,n=t.deltaY<0&&n<=r.$results.height();e?(r.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):n&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=d(this),n=h.GetData(this,"data");"true"===e.attr("aria-selected")?r.options.get("multiple")?r.trigger("unselect",{originalEvent:t,data:n}):r.trigger("close",{}):r.trigger("select",{originalEvent:t,data:n})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=h.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:e,element:d(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t,e,n,i,r=this.getHighlightedResults();0!==r.length&&(t=this.$results.find("[aria-selected]").index(r),e=this.$results.offset().top,i=r.offset().top,n=this.$results.scrollTop()+(i-e),i=i-e,n-=2*r.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(n))},i.prototype.template=function(t,e){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),n=n(t,e);null==n?e.style.display="none":"string"==typeof n?e.innerHTML=i(n):d(e).append(n)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,i,r){function a(t,e){this.$element=t,this.options=e,a.__super__.constructor.call(this)}return i.Extend(a,i.Observable),a.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],"old-tabindex")?this._tabindex=i.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},a.prototype.bind=function(t,e){var n=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===r.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},a.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||n.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},a.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var e=n(t.target).closest(".select2");n(".select2.select2-container--open").each(function(){n(this),this!=e[0]&&i.GetData(this,"element").select2("close")})})},a.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},a.prototype.position=function(t,e){e.find(".selection").append(t)},a.prototype.destroy=function(){this._detachCloseHandler(this.container)},a.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},a}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(e,t){var n=this,i=(r.__super__.bind.apply(this,arguments),e.id+"-container");this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()})},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){var e,n;0===t.length?this.clear():(t=t[0],e=this.$selection.find(".select2-selection__rendered"),n=this.display(t,e),e.empty().append(n),e.attr("title",t.title||t.text))},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,t,s){function r(t,e){r.__super__.constructor.apply(this,arguments)}return s.Extend(r,t),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){n.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){var e;n.options.get("disabled")||(e=i(this).parent(),e=s.GetData(e[0],"data"),n.trigger("unselect",{originalEvent:t,data:e}))})},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=this.selectionContainer(),a=this.display(i,r);r.append(a),r.attr("title",i.title||i.text),s.StoreData(r[0],"data",i),e.push(r)}var o=this.$selection.find(".select2-selection__rendered");s.appendMany(o,e)}},r}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return e="string"==typeof e?{id:"",text:e}:e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||n)return t.call(this,e);this.clear();n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(n,i,s){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();var i=s.GetData(n[0],"data"),r=this.$element.val(),a=(this.$element.val(this.placeholder.id),{data:i});if(this.trigger("clear",a),a.prevented)this.$element.val(r);else{for(var o=0;o<i.length;o++)if(a={data:i[o]},this.trigger("unselect",a),a.prevented)return void this.$element.val(r);this.$element.trigger("change"),this.trigger("toggle",{})}}}},t.prototype._handleKeyboardClear=function(t,e,n){n.isOpen()||e.which!=i.DELETE&&e.which!=i.BACKSPACE||this._handleClear(e)},t.prototype.update=function(t,e){t.call(this,e),0<this.$selection.find(".select2-selection__placeholder").length||0===e.length||(t=n('<span class="select2-selection__clear">&times;</span>'),s.StoreData(t[0],"data",e),this.$selection.find(".select2-selection__rendered").prepend(t))},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,a,o){function t(t,e,n){t.call(this,e,n)}return t.prototype.render=function(t){var e=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>'),e=(this.$searchContainer=e,this.$search=e.find("input"),t.call(this));return this._transferTabIndex(),e},t.prototype.bind=function(t,e,n){var i=this,t=(t.call(this,e,n),e.on("open",function(){i.$search.trigger("focus")}),e.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),e.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),e.on("disable",function(){i.$search.prop("disabled",!0)}),e.on("focus",function(t){i.$search.trigger("focus")}),e.on("results:focus",function(t){i.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){i.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){i._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){var e;t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which===o.BACKSPACE&&""===i.$search.val()&&0<(e=i.$searchContainer.prev(".select2-selection__choice")).length&&(e=a.GetData(e[0],"data"),i.searchRemoveChoice(e),t.preventDefault())}),document.documentMode),r=t&&t<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){r?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){var e;r&&"input"===t.type?i.$selection.off("input.search input.searchcheck"):(e=t.which)!=o.SHIFT&&e!=o.CTRL&&e!=o.ALT&&e!=o.TAB&&i.handleSearch(t)})},t.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},t.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},t.prototype.handleSearch=function(){var t;this.resizeSearch(),this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="",t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},t}),t.define("select2/selection/eventRelay",["jquery"],function(o){function t(){}return t.prototype.bind=function(t,e,n){var i=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];t.call(this,e,n),e.on("*",function(t,e){var n;-1!==o.inArray(t,r)&&(n=o.Event("select2:"+t,{params:e=e||{}}),i.$element.trigger(n),-1!==o.inArray(t,a)&&(e.prevented=n.isDefaultPrevented()))})},t}),t.define("select2/translation",["jquery","require"],function(e,n){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(t){var e;return t in i._cache||(e=n(t),i._cache[t]=e),new i(i._cache[t])},i}),t.define("select2/diacritics",[],function(){return{"Ã¢âÂ¶":"A","Ã¯Â¼Â¡":"A","Ãâ¬":"A","ÃÂ":"A","Ãâ":"A","Ã¡ÂºÂ¦":"A","Ã¡ÂºÂ¤":"A","Ã¡ÂºÂª":"A","Ã¡ÂºÂ¨":"A","ÃÆ":"A","Ãâ¬":"A","Ãâ":"A","Ã¡ÂºÂ°":"A","Ã¡ÂºÂ®":"A","Ã¡ÂºÂ´":"A","Ã¡ÂºÂ²":"A","ÃÂ¦":"A","Ã ":"A","Ãâ":"A","ÃÅ¾":"A","Ã¡ÂºÂ¢":"A","Ãâ¦":"A","ÃÂº":"A","ÃÂ":"A","Ãâ¬":"A","Ãâ":"A","Ã¡Âº ":"A","Ã¡ÂºÂ¬":"A","Ã¡ÂºÂ¶":"A","Ã¡Â¸â¬":"A","Ãâ":"A","ÃÂº":"A","Ã¢Â±Â¯":"A","ÃªÅÂ²":"AA","Ãâ ":"AE","ÃÂ¼":"AE","ÃÂ¢":"AE","ÃªÅÂ´":"AO","ÃªÅÂ¶":"AU","ÃªÅÂ¸":"AV","ÃªÅÂº":"AV","ÃªÅÂ¼":"AY","Ã¢âÂ·":"B","Ã¯Â¼Â¢":"B","Ã¡Â¸â":"B","Ã¡Â¸â":"B","Ã¡Â¸â ":"B","ÃÆ":"B","Ãâ":"B","ÃÂ":"B","Ã¢âÂ¸":"C","Ã¯Â¼Â£":"C","Ãâ ":"C","ÃË":"C","ÃÅ ":"C","ÃÅ":"C","Ãâ¡":"C","Ã¡Â¸Ë":"C","Ãâ¡":"C","ÃÂ»":"C","ÃªÅÂ¾":"C","Ã¢âÂ¹":"D","Ã¯Â¼Â¤":"D","Ã¡Â¸Å ":"D","ÃÅ½":"D","Ã¡Â¸Å":"D","Ã¡Â¸Â":"D","Ã¡Â¸â":"D","Ã¡Â¸Å½":"D","ÃÂ":"D","Ãâ¹":"D","ÃÅ ":"D","Ãâ°":"D","ÃªÂÂ¹":"D","ÃÂ±":"DZ","Ãâ":"DZ","ÃÂ²":"Dz","Ãâ¦":"Dz","Ã¢âÂº":"E","Ã¯Â¼Â¥":"E","ÃË":"E","Ãâ°":"E","ÃÅ ":"E","Ã¡Â»â¬":"E","Ã¡ÂºÂ¾":"E","Ã¡Â»â":"E","Ã¡Â»â":"E","Ã¡ÂºÂ¼":"E","Ãâ":"E","Ã¡Â¸â":"E","Ã¡Â¸â":"E","Ãâ":"E","Ãâ":"E","Ãâ¹":"E","Ã¡ÂºÂº":"E","ÃÅ¡":"E","Ãâ":"E","Ãâ ":"E","Ã¡ÂºÂ¸":"E","Ã¡Â»â ":"E","ÃÂ¨":"E","Ã¡Â¸Å":"E","ÃË":"E","Ã¡Â¸Ë":"E","Ã¡Â¸Å¡":"E","ÃÂ":"E","ÃÅ½":"E","Ã¢âÂ»":"F","Ã¯Â¼Â¦":"F","Ã¡Â¸Å¾":"F","Ãâ":"F","ÃªÂÂ»":"F","Ã¢âÂ¼":"G","Ã¯Â¼Â§":"G","ÃÂ´":"G","ÃÅ":"G","Ã¡Â¸ ":"G","ÃÅ¾":"G","Ã ":"G","ÃÂ¦":"G","ÃÂ¢":"G","ÃÂ¤":"G","Ãâ":"G","ÃªÅ¾ ":"G","ÃªÂÂ½":"G","ÃªÂÂ¾":"G","Ã¢âÂ½":"H","Ã¯Â¼Â¨":"H","ÃÂ¤":"H","Ã¡Â¸Â¢":"H","Ã¡Â¸Â¦":"H","ÃÅ¾":"H","Ã¡Â¸Â¤":"H","Ã¡Â¸Â¨":"H","Ã¡Â¸Âª":"H","ÃÂ¦":"H","Ã¢Â±Â§":"H","Ã¢Â±Âµ":"H","ÃªÅ¾Â":"H","Ã¢âÂ¾":"I","Ã¯Â¼Â©":"I","ÃÅ":"I","ÃÂ":"I","ÃÅ½":"I","ÃÂ¨":"I","ÃÂª":"I","ÃÂ¬":"I","ÃÂ°":"I","ÃÂ":"I","Ã¡Â¸Â®":"I","Ã¡Â»Ë":"I","ÃÂ":"I","ÃË":"I","ÃÅ ":"I","Ã¡Â»Å ":"I","ÃÂ®":"I","Ã¡Â¸Â¬":"I","Ãâ":"I","Ã¢âÂ¿":"J","Ã¯Â¼Âª":"J","ÃÂ´":"J","ÃË":"J","Ã¢ââ¬":"K","Ã¯Â¼Â«":"K","Ã¡Â¸Â°":"K","ÃÂ¨":"K","Ã¡Â¸Â²":"K","ÃÂ¶":"K","Ã¡Â¸Â´":"K","ÃË":"K","Ã¢Â±Â©":"K","ÃªÂâ¬":"K","ÃªÂâ":"K","ÃªÂâ":"K","ÃªÅ¾Â¢":"K","Ã¢âÂ":"L","Ã¯Â¼Â¬":"L","ÃÂ¿":"L","ÃÂ¹":"L","ÃÂ½":"L","Ã¡Â¸Â¶":"L","Ã¡Â¸Â¸":"L","ÃÂ»":"L","Ã¡Â¸Â¼":"L","Ã¡Â¸Âº":"L","ÃÂ":"L","ÃÂ½":"L","Ã¢Â±Â¢":"L","Ã¢Â± ":"L","ÃªÂË":"L","ÃªÂâ ":"L","ÃªÅ¾â¬":"L","Ãâ¡":"LJ","ÃË":"Lj","Ã¢ââ":"M","Ã¯Â¼Â­":"M","Ã¡Â¸Â¾":"M","Ã¡Â¹â¬":"M","Ã¡Â¹â":"M","Ã¢Â±Â®":"M","ÃÅ":"M","Ã¢âÆ":"N","Ã¯Â¼Â®":"N","ÃÂ¸":"N","ÃÆ":"N","Ãâ":"N","Ã¡Â¹â":"N","Ãâ¡":"N","Ã¡Â¹â ":"N","Ãâ¦":"N","Ã¡Â¹Å ":"N","Ã¡Â¹Ë":"N","Ã ":"N","ÃÂ":"N","ÃªÅ¾Â":"N","ÃªÅ¾Â¤":"N","ÃÅ ":"NJ","Ãâ¹":"Nj","Ã¢ââ":"O","Ã¯Â¼Â¯":"O","Ãâ":"O","Ãâ":"O","Ãâ":"O","Ã¡Â»â":"O","Ã¡Â»Â":"O","Ã¡Â»â":"O","Ã¡Â»â":"O","Ãâ¢":"O","Ã¡Â¹Å":"O","ÃÂ¬":"O","Ã¡Â¹Å½":"O","ÃÅ":"O","Ã¡Â¹Â":"O","Ã¡Â¹â":"O","ÃÅ½":"O","ÃÂ®":"O","ÃÂ°":"O","Ãâ":"O","ÃÂª":"O","Ã¡Â»Å½":"O","ÃÂ":"O","Ãâ":"O","ÃÅ":"O","ÃÅ½":"O","Ã ":"O","Ã¡Â»Å":"O","Ã¡Â»Å¡":"O","Ã¡Â» ":"O","Ã¡Â»Å¾":"O","Ã¡Â»Â¢":"O","Ã¡Â»Å":"O","Ã¡Â»Ë":"O","ÃÂª":"O","ÃÂ¬":"O","ÃË":"O","ÃÂ¾":"O","Ãâ ":"O","ÃÅ¸":"O","ÃªÂÅ ":"O","ÃªÂÅ":"O","ÃÂ¢":"OI","ÃªÂÅ½":"OO","ÃÂ¢":"OU","Ã¢ââ¦":"P","Ã¯Â¼Â°":"P","Ã¡Â¹â":"P","Ã¡Â¹â":"P","ÃÂ¤":"P","Ã¢Â±Â£":"P","ÃªÂÂ":"P","ÃªÂâ":"P","ÃªÂâ":"P","Ã¢ââ ":"Q","Ã¯Â¼Â±":"Q","ÃªÂâ":"Q","ÃªÂË":"Q","ÃÅ ":"Q","Ã¢ââ¡":"R","Ã¯Â¼Â²":"R","Ãâ":"R","Ã¡Â¹Ë":"R","ÃË":"R","ÃÂ":"R","Ãâ":"R","Ã¡Â¹Å¡":"R","Ã¡Â¹Å":"R","Ãâ":"R","Ã¡Â¹Å¾":"R","ÃÅ":"R","Ã¢Â±Â¤":"R","ÃªÂÅ¡":"R","ÃªÅ¾Â¦":"R","ÃªÅ¾â":"R","Ã¢âË":"S","Ã¯Â¼Â³":"S","Ã¡ÂºÅ¾":"S","ÃÅ¡":"S","Ã¡Â¹Â¤":"S","ÃÅ":"S","Ã¡Â¹ ":"S","Ã ":"S","Ã¡Â¹Â¦":"S","Ã¡Â¹Â¢":"S","Ã¡Â¹Â¨":"S","ÃË":"S","ÃÅ¾":"S","Ã¢Â±Â¾":"S","ÃªÅ¾Â¨":"S","ÃªÅ¾â":"S","Ã¢ââ°":"T","Ã¯Â¼Â´":"T","Ã¡Â¹Âª":"T","ÃÂ¤":"T","Ã¡Â¹Â¬":"T","ÃÅ¡":"T","ÃÂ¢":"T","Ã¡Â¹Â°":"T","Ã¡Â¹Â®":"T","ÃÂ¦":"T","ÃÂ¬":"T","ÃÂ®":"T","ÃÂ¾":"T","ÃªÅ¾â ":"T","ÃªÅÂ¨":"TZ","Ã¢âÅ ":"U","Ã¯Â¼Âµ":"U","Ãâ¢":"U","ÃÅ¡":"U","Ãâº":"U","ÃÂ¨":"U","Ã¡Â¹Â¸":"U","ÃÂª":"U","Ã¡Â¹Âº":"U","ÃÂ¬":"U","ÃÅ":"U","Ãâº":"U","Ãâ":"U","Ãâ¢":"U","Ãâ¢":"U","Ã¡Â»Â¦":"U","ÃÂ®":"U","ÃÂ°":"U","Ãâ":"U","Ãâ":"U","Ãâ":"U","ÃÂ¯":"U","Ã¡Â»Âª":"U","Ã¡Â»Â¨":"U","Ã¡Â»Â®":"U","Ã¡Â»Â¬":"U","Ã¡Â»Â°":"U","Ã¡Â»Â¤":"U","Ã¡Â¹Â²":"U","ÃÂ²":"U","Ã¡Â¹Â¶":"U","Ã¡Â¹Â´":"U","Ãâ":"U","Ã¢ââ¹":"V","Ã¯Â¼Â¶":"V","Ã¡Â¹Â¼":"V","Ã¡Â¹Â¾":"V","ÃÂ²":"V","ÃªÂÅ¾":"V","Ãâ¦":"V","ÃªÂ ":"VY","Ã¢âÅ":"W","Ã¯Â¼Â·":"W","Ã¡Âºâ¬":"W","Ã¡Âºâ":"W","ÃÂ´":"W","Ã¡Âºâ ":"W","Ã¡Âºâ":"W","Ã¡ÂºË":"W","Ã¢Â±Â²":"W","Ã¢âÂ":"X","Ã¯Â¼Â¸":"X","Ã¡ÂºÅ ":"X","Ã¡ÂºÅ":"X","Ã¢âÅ½":"Y","Ã¯Â¼Â¹":"Y","Ã¡Â»Â²":"Y","ÃÂ":"Y","ÃÂ¶":"Y","Ã¡Â»Â¸":"Y","ÃÂ²":"Y","Ã¡ÂºÅ½":"Y","ÃÂ¸":"Y","Ã¡Â»Â¶":"Y","Ã¡Â»Â´":"Y","ÃÂ³":"Y","ÃÅ½":"Y","Ã¡Â»Â¾":"Y","Ã¢âÂ":"Z","Ã¯Â¼Âº":"Z","ÃÂ¹":"Z","Ã¡ÂºÂ":"Z","ÃÂ»":"Z","ÃÂ½":"Z","Ã¡Âºâ":"Z","Ã¡Âºâ":"Z","ÃÂµ":"Z","ÃÂ¤":"Z","Ã¢Â±Â¿":"Z","Ã¢Â±Â«":"Z","ÃªÂÂ¢":"Z","Ã¢âÂ":"a","Ã¯Â½Â":"a","Ã¡ÂºÅ¡":"a","Ã ":"a","ÃÂ¡":"a","ÃÂ¢":"a","Ã¡ÂºÂ§":"a","Ã¡ÂºÂ¥":"a","Ã¡ÂºÂ«":"a","Ã¡ÂºÂ©":"a","ÃÂ£":"a","ÃÂ":"a","ÃÆ":"a","Ã¡ÂºÂ±":"a","Ã¡ÂºÂ¯":"a","Ã¡ÂºÂµ":"a","Ã¡ÂºÂ³":"a","ÃÂ§":"a","ÃÂ¡":"a","ÃÂ¤":"a","ÃÅ¸":"a","Ã¡ÂºÂ£":"a","ÃÂ¥":"a","ÃÂ»":"a","ÃÅ½":"a","ÃÂ":"a","ÃÆ":"a","Ã¡ÂºÂ¡":"a","Ã¡ÂºÂ­":"a","Ã¡ÂºÂ·":"a","Ã¡Â¸Â":"a","Ãâ¦":"a","Ã¢Â±Â¥":"a","ÃÂ":"a","ÃªÅÂ³":"aa","ÃÂ¦":"ae","ÃÂ½":"ae","ÃÂ£":"ae","ÃªÅÂµ":"ao","ÃªÅÂ·":"au","ÃªÅÂ¹":"av","ÃªÅÂ»":"av","ÃªÅÂ½":"ay","Ã¢ââ":"b","Ã¯Â½â":"b","Ã¡Â¸Æ":"b","Ã¡Â¸â¦":"b","Ã¡Â¸â¡":"b","Ãâ¬":"b","ÃÆ":"b","Ãâ":"b","Ã¢ââ":"c","Ã¯Â½Æ":"c","Ãâ¡":"c","Ãâ°":"c","Ãâ¹":"c","ÃÂ":"c","ÃÂ§":"c","Ã¡Â¸â°":"c","ÃË":"c","ÃÂ¼":"c","ÃªÅÂ¿":"c","Ã¢â â":"c","Ã¢ââ":"d","Ã¯Â½â":"d","Ã¡Â¸â¹":"d","ÃÂ":"d","Ã¡Â¸Â":"d","Ã¡Â¸â":"d","Ã¡Â¸â":"d","Ã¡Â¸Â":"d","Ãâ":"d","ÃÅ":"d","Ãâ":"d","Ãâ":"d","ÃªÂÂº":"d","ÃÂ³":"dz","Ãâ ":"dz","Ã¢ââ":"e","Ã¯Â½â¦":"e","ÃÂ¨":"e","ÃÂ©":"e","ÃÂª":"e","Ã¡Â»Â":"e","Ã¡ÂºÂ¿":"e","Ã¡Â»â¦":"e","Ã¡Â»Æ":"e","Ã¡ÂºÂ½":"e","Ãâ":"e","Ã¡Â¸â¢":"e","Ã¡Â¸â":"e","Ãâ¢":"e","Ãâ":"e","ÃÂ«":"e","Ã¡ÂºÂ»":"e","Ãâº":"e","Ãâ¦":"e","Ãâ¡":"e","Ã¡ÂºÂ¹":"e","Ã¡Â»â¡":"e","ÃÂ©":"e","Ã¡Â¸Â":"e","Ãâ¢":"e","Ã¡Â¸â¢":"e","Ã¡Â¸âº":"e","Ãâ¡":"e","Ãâº":"e","ÃÂ":"e","Ã¢ââ¢":"f","Ã¯Â½â ":"f","Ã¡Â¸Å¸":"f","Ãâ":"f","ÃªÂÂ¼":"f","Ã¢ââ":"g","Ã¯Â½â¡":"g","ÃÂµ":"g","ÃÂ":"g","Ã¡Â¸Â¡":"g","ÃÅ¸":"g","ÃÂ¡":"g","ÃÂ§":"g","ÃÂ£":"g","ÃÂ¥":"g","Ã ":"g","ÃªÅ¾Â¡":"g","Ã¡ÂµÂ¹":"g","ÃªÂÂ¿":"g","Ã¢ââ":"h","Ã¯Â½Ë":"h","ÃÂ¥":"h","Ã¡Â¸Â£":"h","Ã¡Â¸Â§":"h","ÃÅ¸":"h","Ã¡Â¸Â¥":"h","Ã¡Â¸Â©":"h","Ã¡Â¸Â«":"h","Ã¡Âºâ":"h","ÃÂ§":"h","Ã¢Â±Â¨":"h","Ã¢Â±Â¶":"h","ÃÂ¥":"h","Ãâ¢":"hv","Ã¢âË":"i","Ã¯Â½â°":"i","ÃÂ¬":"i","ÃÂ­":"i","ÃÂ®":"i","ÃÂ©":"i","ÃÂ«":"i","ÃÂ­":"i","ÃÂ¯":"i","Ã¡Â¸Â¯":"i","Ã¡Â»â°":"i","ÃÂ":"i","Ãâ°":"i","Ãâ¹":"i","Ã¡Â»â¹":"i","ÃÂ¯":"i","Ã¡Â¸Â­":"i","ÃÂ¨":"i","ÃÂ±":"i","Ã¢ââ¢":"j","Ã¯Â½Å ":"j","ÃÂµ":"j","ÃÂ°":"j","Ãâ°":"j","Ã¢âÅ¡":"k","Ã¯Â½â¹":"k","Ã¡Â¸Â±":"k","ÃÂ©":"k","Ã¡Â¸Â³":"k","ÃÂ·":"k","Ã¡Â¸Âµ":"k","Ãâ¢":"k","Ã¢Â±Âª":"k","ÃªÂÂ":"k","ÃªÂÆ":"k","ÃªÂâ¦":"k","ÃªÅ¾Â£":"k","Ã¢ââº":"l","Ã¯Â½Å":"l","Ãâ¬":"l","ÃÂº":"l","ÃÂ¾":"l","Ã¡Â¸Â·":"l","Ã¡Â¸Â¹":"l","ÃÂ¼":"l","Ã¡Â¸Â½":"l","Ã¡Â¸Â»":"l","ÃÂ¿":"l","Ãâ":"l","ÃÅ¡":"l","ÃÂ«":"l","Ã¢Â±Â¡":"l","ÃªÂâ°":"l","ÃªÅ¾Â":"l","ÃªÂâ¡":"l","Ãâ°":"lj","Ã¢âÅ":"m","Ã¯Â½Â":"m","Ã¡Â¸Â¿":"m","Ã¡Â¹Â":"m","Ã¡Â¹Æ":"m","ÃÂ±":"m","ÃÂ¯":"m","Ã¢âÂ":"n","Ã¯Â½Å½":"n","ÃÂ¹":"n","Ãâ":"n","ÃÂ±":"n","Ã¡Â¹â¦":"n","ÃË":"n","Ã¡Â¹â¡":"n","Ãâ ":"n","Ã¡Â¹â¹":"n","Ã¡Â¹â°":"n","ÃÅ¾":"n","ÃÂ²":"n","Ãâ°":"n","ÃªÅ¾â":"n","ÃªÅ¾Â¥":"n","ÃÅ":"nj","Ã¢âÅ¾":"o","Ã¯Â½Â":"o","ÃÂ²":"o","ÃÂ³":"o","ÃÂ´":"o","Ã¡Â»â":"o","Ã¡Â»â":"o","Ã¡Â»â":"o","Ã¡Â»â¢":"o","ÃÂµ":"o","Ã¡Â¹Â":"o","ÃÂ­":"o","Ã¡Â¹Â":"o","ÃÂ":"o","Ã¡Â¹â":"o","Ã¡Â¹â":"o","ÃÂ":"o","ÃÂ¯":"o","ÃÂ±":"o","ÃÂ¶":"o","ÃÂ«":"o","Ã¡Â»Â":"o","Ãâ":"o","Ãâ":"o","ÃÂ":"o","ÃÂ":"o","ÃÂ¡":"o","Ã¡Â»Â":"o","Ã¡Â»âº":"o","Ã¡Â»Â¡":"o","Ã¡Â»Å¸":"o","Ã¡Â»Â£":"o","Ã¡Â»Â":"o","Ã¡Â»â¢":"o","ÃÂ«":"o","ÃÂ­":"o","ÃÂ¸":"o","ÃÂ¿":"o","Ãâ":"o","ÃªÂâ¹":"o","ÃªÂÂ":"o","ÃÂµ":"o","ÃÂ£":"oi","ÃÂ£":"ou","ÃªÂÂ":"oo","Ã¢âÅ¸":"p","Ã¯Â½Â":"p","Ã¡Â¹â¢":"p","Ã¡Â¹â":"p","ÃÂ¥":"p","Ã¡ÂµÂ½":"p","ÃªÂâ":"p","ÃªÂâ":"p","ÃªÂâ¢":"p","Ã¢â ":"q","Ã¯Â½â":"q","Ãâ¹":"q","ÃªÂâ":"q","ÃªÂâ¢":"q","Ã¢âÂ¡":"r","Ã¯Â½â":"r","Ãâ¢":"r","Ã¡Â¹â¢":"r","Ãâ¢":"r","Ãâ":"r","Ãâ":"r","Ã¡Â¹âº":"r","Ã¡Â¹Â":"r","Ãâ":"r","Ã¡Â¹Å¸":"r","ÃÂ":"r","ÃÂ½":"r","ÃªÂâº":"r","ÃªÅ¾Â§":"r","ÃªÅ¾Æ":"r","Ã¢âÂ¢":"s","Ã¯Â½â":"s","ÃÅ¸":"s","Ãâº":"s","Ã¡Â¹Â¥":"s","ÃÂ":"s","Ã¡Â¹Â¡":"s","ÃÂ¡":"s","Ã¡Â¹Â§":"s","Ã¡Â¹Â£":"s","Ã¡Â¹Â©":"s","Ãâ¢":"s","ÃÅ¸":"s","ÃÂ¿":"s","ÃªÅ¾Â©":"s","ÃªÅ¾â¦":"s","Ã¡Âºâº":"s","Ã¢âÂ£":"t","Ã¯Â½â":"t","Ã¡Â¹Â«":"t","Ã¡Âºâ":"t","ÃÂ¥":"t","Ã¡Â¹Â­":"t","Ãâº":"t","ÃÂ£":"t","Ã¡Â¹Â±":"t","Ã¡Â¹Â¯":"t","ÃÂ§":"t","ÃÂ­":"t","ÃË":"t","Ã¢Â±Â¦":"t","ÃªÅ¾â¡":"t","ÃªÅÂ©":"tz","Ã¢âÂ¤":"u","Ã¯Â½â¢":"u","ÃÂ¹":"u","ÃÂº":"u","ÃÂ»":"u","ÃÂ©":"u","Ã¡Â¹Â¹":"u","ÃÂ«":"u","Ã¡Â¹Â»":"u","ÃÂ­":"u","ÃÂ¼":"u","ÃÅ":"u","ÃË":"u","Ãâ":"u","ÃÅ¡":"u","Ã¡Â»Â§":"u","ÃÂ¯":"u","ÃÂ±":"u","Ãâ":"u","Ãâ¢":"u","Ãâ":"u","ÃÂ°":"u","Ã¡Â»Â«":"u","Ã¡Â»Â©":"u","Ã¡Â»Â¯":"u","Ã¡Â»Â­":"u","Ã¡Â»Â±":"u","Ã¡Â»Â¥":"u","Ã¡Â¹Â³":"u","ÃÂ³":"u","Ã¡Â¹Â·":"u","Ã¡Â¹Âµ":"u","Ãâ°":"u","Ã¢âÂ¥":"v","Ã¯Â½â":"v","Ã¡Â¹Â½":"v","Ã¡Â¹Â¿":"v","Ãâ¹":"v","ÃªÂÅ¸":"v","ÃÅ":"v","ÃªÂÂ¡":"vy","Ã¢âÂ¦":"w","Ã¯Â½â":"w","Ã¡ÂºÂ":"w","Ã¡ÂºÆ":"w","ÃÂµ":"w","Ã¡Âºâ¡":"w","Ã¡Âºâ¦":"w","Ã¡ÂºË":"w","Ã¡Âºâ°":"w","Ã¢Â±Â³":"w","Ã¢âÂ§":"x","Ã¯Â½Ë":"x","Ã¡Âºâ¹":"x","Ã¡ÂºÂ":"x","Ã¢âÂ¨":"y","Ã¯Â½â¢":"y","Ã¡Â»Â³":"y","ÃÂ½":"y","ÃÂ·":"y","Ã¡Â»Â¹":"y","ÃÂ³":"y","Ã¡ÂºÂ":"y","ÃÂ¿":"y","Ã¡Â»Â·":"y","Ã¡Âºâ¢":"y","Ã¡Â»Âµ":"y","ÃÂ´":"y","ÃÂ":"y","Ã¡Â»Â¿":"y","Ã¢âÂ©":"z","Ã¯Â½Å¡":"z","ÃÂº":"z","Ã¡Âºâ":"z","ÃÂ¼":"z","ÃÂ¾":"z","Ã¡Âºâ":"z","Ã¡Âºâ¢":"z","ÃÂ¶":"z","ÃÂ¥":"z","Ãâ¬":"z","Ã¢Â±Â¬":"z","ÃªÂÂ£":"z","Ãâ ":"Ãâ","ÃË":"Ãâ¢","Ãâ°":"Ãâ","ÃÅ ":"Ãâ¢","ÃÂª":"Ãâ¢","ÃÅ":"ÃÅ¸","ÃÅ½":"ÃÂ¥","ÃÂ«":"ÃÂ¥","ÃÂ":"ÃÂ©","ÃÂ¬":"ÃÂ±","ÃÂ­":"ÃÂµ","ÃÂ®":"ÃÂ·","ÃÂ¯":"ÃÂ¹","ÃÅ ":"ÃÂ¹","ÃÂ":"ÃÂ¹","ÃÅ":"ÃÂ¿","ÃÂ":"Ãâ¦","Ãâ¹":"Ãâ¦","ÃÂ°":"Ãâ¦","Ãâ°":"Ãâ°","Ãâ":"ÃÆ"}}),t.define("select2/data/base",["../utils"],function(n){function i(t,e){i.__super__.constructor.call(this)}return n.Extend(i,n.Observable),i.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},i.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},i.prototype.bind=function(t,e){},i.prototype.destroy=function(){},i.prototype.generateResultId=function(t,e){t=t.id+"-result-";return t+=n.generateChars(4),null!=e.id?t+="-"+e.id.toString():t+="-"+n.generateChars(4),t},i}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,o,s){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return o.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=s(this),t=n.item(t);e.push(t)}),t(e)},n.prototype.select=function(r){var t,a=this;if(r.selected=!0,s(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("change");this.$element.prop("multiple")?this.current(function(t){var e=[];(r=[r]).push.apply(r,t);for(var n=0;n<r.length;n++){var i=r[n].id;-1===s.inArray(i,e)&&e.push(i)}a.$element.val(e),a.$element.trigger("change")}):(t=r.id,this.$element.val(t),this.$element.trigger("change"))},n.prototype.unselect=function(r){var a=this;if(this.$element.prop("multiple")){if(r.selected=!1,s(r.element).is("option"))return r.element.selected=!1,void this.$element.trigger("change");this.current(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].id;i!==r.id&&-1===s.inArray(i,e)&&e.push(i)}a.$element.val(e),a.$element.trigger("change")})}},n.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){o.RemoveData(this)})},n.prototype.query=function(e,t){var n=[],i=this;this.$element.children().each(function(){var t=s(this);(t.is("option")||t.is("optgroup"))&&(t=i.item(t),null!==(t=i.matches(e,t))&&n.push(t))}),t({results:n})},n.prototype.addOptions=function(t){o.appendMany(this.$element,t)},n.prototype.option=function(t){t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var e,n=s(e),t=this._normalizeItem(t);return t.element=e,o.StoreData(e,"data",t),n},n.prototype.item=function(t){var e={};if(null!=(e=o.GetData(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){for(var e={text:t.prop("label"),children:[],title:t.prop("title")},n=t.children("option"),i=[],r=0;r<n.length;r++){var a=s(n[r]),a=this.item(a);i.push(a)}e.children=i}return(e=this._normalizeItem(e)).element=t[0],o.StoreData(t[0],"data",e),e},n.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});return null!=(t=s.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),s.extend({},{selected:!1,disabled:!1},t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,u,c){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return u.Extend(i,t),i.prototype.select=function(n){var t;0===this.$element.find("option").filter(function(t,e){return e.value==n.id.toString()}).length&&(t=this.option(n),this.addOptions(t)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(t){for(var e=this,n=this.$element.find("option"),i=n.map(function(){return e.item(c(this)).id}).get(),r=[],a=0;a<t.length;a++){var o,s,l=this._normalizeItem(t[a]);0<=c.inArray(l.id,i)?(o=n.filter(function(t){return function(){return c(this).val()==t.id}}(l)),s=this.item(o),s=c.extend(!0,{},l,s),s=this.option(s),o.replaceWith(s)):(o=this.option(l),l.children&&(s=this.convertToOptions(l.children),u.appendMany(o,s)),r.push(o))}return r},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,a){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){return a.extend({},{data:function(t){return a.extend({},t,{q:t.term})},transport:function(t,e,n){t=a.ajax(t);return t.then(e),t.fail(n),t}},t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(e,n){function t(){var t=r.transport(r,function(t){t=i.processResults(t,e);i.options.get("debug")&&window.console&&console.error&&(t&&t.results&&a.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(t)},function(){"status"in t&&(0===t.status||"0"===t.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=t}var i=this,r=(null!=this._request&&(a.isFunction(this._request.abort)&&this._request.abort(),this._request=null),a.extend({type:"GET"},this.ajaxOptions));"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},n}),t.define("select2/data/tags",["jquery"],function(s){function t(t,e,n){var i=n.get("tags"),r=n.get("createTag"),r=(void 0!==r&&(this.createTag=r),n.get("insertTag"));if(void 0!==r&&(this.insertTag=r),t.call(this,e,n),s.isArray(i))for(var a=0;a<i.length;a++){var o=i[a],o=this._normalizeItem(o),o=this.option(o);this.$element.append(o)}}return t.prototype.query=function(t,u,c){var d=this;this._removeOldTags(),null==u.term||null!=u.page?t.call(this,u,c):t.call(this,u,function t(e,n){for(var i=e.results,r=0;r<i.length;r++){var a=i[r],o=null!=a.children&&!t({results:a.children},!0);if((a.text||"").toUpperCase()===(u.term||"").toUpperCase()||o)return!n&&(e.data=i,void c(e))}if(n)return!0;var s,l=d.createTag(u);null!=l&&((s=d.option(l)).attr("data-select2-tag",!0),d.addOptions([s]),d.insertTag(i,l)),e.results=i,c(e)})},t.prototype.createTag=function(t,e){e=s.trim(e.term);return""===e?null:{id:e,text:e}},t.prototype.insertTag=function(t,e,n){e.unshift(n)},t.prototype._removeOldTags=function(t){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||s(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(u){function t(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,e,n){var i=this,r=(e.term=e.term||"",this.tokenizer(e,this.options,function(t){var e=i._normalizeItem(t);i.$element.find("option").filter(function(){return u(this).val()===e.id}).length||((t=i.option(e)).attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([t])),i.trigger("select",{data:e})}));r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),e.term=r.term),t.call(this,e,n)},t.prototype.tokenizer=function(t,e,n,i){for(var r=n.get("tokenSeparators")||[],a=e.term,o=0,s=this.createTag||function(t){return{id:t.term,text:t.term}};o<a.length;){var l=a[o];-1!==u.inArray(l,r)?(l=a.substr(0,o),null!=(l=s(u.extend({},e,{term:l})))?(i(l),a=a.substr(o+1)||"",o=0):o++):o++}return{term:a}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(e,n,i){var r=this;this.current(function(t){t=null!=t?t.length:0;0<r.maximumSelectionLength&&t>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):e.call(r,n,i)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(r,t){function e(){}return e.prototype.render=function(t){var t=t.call(this),e=r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=e,this.$search=e.find("input"),t.prepend(e),t},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),this.$search.on("keydown",function(t){i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){r(this).off("keyup")}),this.$search.on("keyup input",function(t){i.handleSearch(t)}),e.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),e.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val(""),i.$search.blur()}),e.on("focus",function(){e.isOpen()||i.$search.focus()}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(i.showSearch(t)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(t){var e;this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return e="string"==typeof e?{id:"",text:e}:e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;0<=i;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function t(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",function(){var t=r.contains(document.documentElement,i.$loadingMore[0]);!i.loading&&t&&i.$results.offset().top+i.$results.outerHeight(!1)+50>=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)&&i.loadMore()})},t.prototype.loadMore=function(){this.loading=!0;var t=r.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=r('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(u,o){function t(t,e,n){this.$dropdownParent=n.get("dropdownParent")||u(document.body),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},t.prototype.render=function(t){var e=u("<span></span>"),t=t.call(this);return e.append(t),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t,e){var n=this,i="scroll.select2."+e.id,r="resize.select2."+e.id,e="orientationchange.select2."+e.id,a=this.$container.parents().filter(o.hasScroll);a.each(function(){o.StoreData(this,"select2-scroll-position",{x:u(this).scrollLeft(),y:u(this).scrollTop()})}),a.on(i,function(t){var e=o.GetData(this,"select2-scroll-position");u(this).scrollTop(e.y)}),u(window).on(i+" "+r+" "+e,function(t){n._positionDropdown(),n._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var n="scroll.select2."+e.id,i="resize.select2."+e.id,e="orientationchange.select2."+e.id;this.$container.parents().filter(o.hasScroll).off(n),u(window).off(n+" "+i+" "+e)},t.prototype._positionDropdown=function(){var t=u(window),e=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,r=this.$container.offset(),a=(r.bottom=r.top+this.$container.outerHeight(!1),{height:this.$container.outerHeight(!1)});a.top=r.top,a.bottom=r.top+a.height;var o=this.$dropdown.outerHeight(!1),s=t.scrollTop(),t=t.scrollTop()+t.height(),s=s<r.top-o,t=t>r.bottom+o,r={left:r.left,top:a.bottom},l=this.$dropdownParent,l=(l="static"===l.css("position")?l.offsetParent():l).offset();r.top-=l.top,r.left-=l.left,e||n||(i="below"),t||!s||e?!s&&t&&e&&(i="below"):i="above",("above"==i||e&&"below"!==i)&&(r.top=a.top-l.top-o),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(r)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",["../utils"],function(n){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){e=e.originalSelect2Event;if("select"===e._type||"unselect"===e._type)return}var e=this.getHighlightedResults();e.length<1||(null!=(e=n.GetData(e[0],"data")).element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e}))},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var t=t.input.length-t.maximum,e="Please delete "+t+" character";return 1!=t&&(e+="s"),e},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsÃ¢â¬Â¦"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"SearchingÃ¢â¬Â¦"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(l,u,c,d,h,f,p,g,m,y,v,e,b,_,T,S,w,E,C,k,D,A,x,L,O,I,R,P,t){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=l.extend(!0,{},this.defaults,e)).dataAdapter&&(null!=e.ajax?e.dataAdapter=T:null!=e.data?e.dataAdapter=_:e.dataAdapter=b,0<e.minimumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,E)),0<e.maximumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,C)),0<e.maximumSelectionLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,k)),e.tags&&(e.dataAdapter=y.Decorate(e.dataAdapter,S)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=y.Decorate(e.dataAdapter,w)),null!=e.query&&(o=u(e.amdBase+"compat/query"),e.dataAdapter=y.Decorate(e.dataAdapter,o)),null!=e.initSelection&&(o=u(e.amdBase+"compat/initSelection"),e.dataAdapter=y.Decorate(e.dataAdapter,o))),null==e.resultsAdapter&&(e.resultsAdapter=c,null!=e.ajax&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,L)),null!=e.placeholder&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,x)),e.selectOnClose&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,R))),null==e.dropdownAdapter&&(e.multiple?e.dropdownAdapter=D:(o=y.Decorate(D,A),e.dropdownAdapter=o),0!==e.minimumResultsForSearch&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,I)),e.closeOnSelect&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,P)),null==e.dropdownCssClass&&null==e.dropdownCss&&null==e.adaptDropdownCssClass||(o=u(e.amdBase+"compat/dropdownCss"),e.dropdownAdapter=y.Decorate(e.dropdownAdapter,o)),e.dropdownAdapter=y.Decorate(e.dropdownAdapter,O)),null==e.selectionAdapter&&(e.multiple?e.selectionAdapter=h:e.selectionAdapter=d,null!=e.placeholder&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,f)),e.allowClear&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,p)),e.multiple&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,g)),null==e.containerCssClass&&null==e.containerCss&&null==e.adaptContainerCssClass||(o=u(e.amdBase+"compat/containerCss"),e.selectionAdapter=y.Decorate(e.selectionAdapter,o)),e.selectionAdapter=y.Decorate(e.selectionAdapter,m)),"string"==typeof e.language&&(0<e.language.indexOf("-")?(o=e.language.split("-")[0],e.language=[e.language,o]):e.language=[e.language]),l.isArray(e.language)){var t=new v;e.language.push("en");for(var n=e.language,i=0;i<n.length;i++){var r=n[i],a={};try{a=v.loadPath(r)}catch(t){try{r=this.defaults.amdLanguageBase+r,a=v.loadPath(r)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+r+'" could not be automatically loaded. A fallback will be used instead.');continue}}t.extend(a)}e.translations=t}else{var o=v.loadPath(this.defaults.amdLanguageBase+"en"),s=new v(e.language);s.extend(o),e.translations=s}return e},n.prototype.reset=function(){function s(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:y.escapeMarkup,language:t,matcher:function t(e,n){if(""===l.trim(e.term))return n;if(n.children&&0<n.children.length){for(var i=l.extend(!0,{},n),r=n.children.length-1;0<=r;r--)null==t(e,n.children[r])&&i.children.splice(r,1);return 0<i.children.length?i:t(e,i)}var a=s(n.text).toUpperCase(),o=s(e.term).toUpperCase();return-1<a.indexOf(o)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},n.prototype.set=function(t,e){var n={},t=(n[l.camelCase(t)]=e,y._convertData(n));l.extend(!0,this.defaults,t)},new n}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,r,i,a){function t(t,e){this.options=t,null!=e&&this.fromElement(e),this.options=i.apply(this.options),e&&e.is("input")&&(t=n(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=a.Decorate(this.options.dataAdapter,t))}return t.prototype.fromElement=function(t){var e,n=["select2"],t=(null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),a.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.StoreData(t[0],"data",a.GetData(t[0],"select2Tags")),a.StoreData(t[0],"tags",!0)),a.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",a.GetData(t[0],"ajaxUrl")),a.StoreData(t[0],"ajax-Url",a.GetData(t[0],"ajaxUrl"))),r.fn.jquery&&"1."==r.fn.jquery.substr(0,2)&&t[0].dataset?r.extend(!0,{},t[0].dataset,a.GetData(t[0])):a.GetData(t[0])),i=r.extend(!0,{},t);for(e in i=a._convertData(i))-1<r.inArray(e,n)||(r.isPlainObject(this.options[e])?r.extend(this.options[e],i[e]):this.options[e]=i[e]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(r,a,o,i){function s(t,e){null!=o.GetData(t[0],"select2")&&o.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),this.options=new a(e=e||{},t),s.__super__.constructor.call(this);var e=t.attr("tabindex")||0,e=(o.StoreData(t[0],"old-tabindex",e),t.attr("tabindex","-1"),this.options.get("dataAdapter")),e=(this.dataAdapter=new e(t,this.options),this.render()),n=(this._placeContainer(e),this.options.get("selectionAdapter")),n=(this.selection=new n(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,e),this.options.get("dropdownAdapter")),n=(this.dropdown=new n(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,e),this.options.get("resultsAdapter")),i=(this.results=new n(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown),this);this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),o.StoreData(t[0],"select2",this)}return o.Extend(s,o.Observable),s.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+o.generateChars(2):o.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},s.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},s.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e)return null!=(i=this._resolveWidth(t,"style"))?i:this._resolveWidth(t,"element");if("element"==e)return(i=t.outerWidth(!1))<=0?"auto":i+"px";if("style"!=e)return e;var i=t.attr("style");if("string"!=typeof i)return null;for(var r=i.split(";"),a=0,o=r.length;a<o;a+=1){var s=r[a].replace(/\s/g,"").match(n);if(null!==s&&1<=s.length)return s[1]}return null},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var e=this,t=(this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=o.bind(this._syncAttributes,this),this._syncS=o.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA),window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver);null!=t?(this._observer=new t(function(t){r.each(t,e._syncA),r.each(t,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},s.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,e){n.trigger(t,e)})},s.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(t){n.focus(t)}),this.selection.on("*",function(t,e){-1===r.inArray(t,i)&&n.trigger(t,e)})},s.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,e){n.trigger(t,e)})},s.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,e){n.trigger(t,e)})},s.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(e){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(e,function(t){n.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){n.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;n.isOpen()?e===i.ESC||e===i.TAB||e===i.UP&&t.altKey?(n.close(),t.preventDefault()):e===i.ENTER?(n.trigger("results:select",{}),t.preventDefault()):e===i.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):e===i.UP?(n.trigger("results:previous",{}),t.preventDefault()):e===i.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(e===i.ENTER||e===i.SPACE||e===i.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},s.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var r=0;r<e.addedNodes.length;r++)e.addedNodes[r].selected&&(n=!0);else e.removedNodes&&0<e.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},s.prototype.trigger=function(t,e){var n=s.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in i){var r={prevented:!1,name:t,args:e};if(n.call(this,i[t],r),r.prevented)return void(e.prevented=!0)}n.call(this,t,e)},s.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||this.trigger("query",{})},s.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},s.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},s.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},s.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},s.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');t=!(t=null!=t&&0!==t.length?t:[!0])[0];this.$element.prop("disabled",t)},s.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},s.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();t=t[0];r.isArray(t)&&(t=r.map(t,function(t){return t.toString()})),this.$element.val(t).trigger("change")},s.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",o.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),o.RemoveData(this.$element[0]),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var t=r('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),o.StoreData(t[0],"element",this.$element),t},s}),t.define("jquery-mousewheel",["jquery"],function(t){return t}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(r,t,a,e,o){var s;return null==r.fn.select2&&(s=["open","close","destroy"],r.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=r.extend(!0,{},e);new a(r(this),t)}),this;var n,i;if("string"==typeof e)return i=Array.prototype.slice.call(arguments,1),this.each(function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=t[e].apply(t,i)}),-1<r.inArray(e,s)?this:n;throw new Error("Invalid arguments for Select2: "+e)}),null==r.fn.select2.defaults&&(r.fn.select2.defaults=e),a});var t,n,h,a,f,p,g,m,i,r,y,v,b,o,s={define:t.define,require:t.require},l=s.require("jquery.select2");function _(t,e){return i.call(t,e)}function u(t,e){var n,i,r,a,o,s,l,u,c,d,h=e&&e.split("/"),f=g.map,p=f&&f["*"]||{};if(t){for(e=(t=t.split("/")).length-1,g.nodeIdCompat&&y.test(t[e])&&(t[e]=t[e].replace(y,"")),"."===t[0].charAt(0)&&h&&(t=h.slice(0,h.length-1).concat(t)),u=0;u<t.length;u++)if("."===(d=t[u]))t.splice(u,1),--u;else if(".."===d){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;0<u&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((h||p)&&f){for(u=(n=t.split("/")).length;0<u;--u){if(i=n.slice(0,u).join("/"),h)for(c=h.length;0<c;--c)if((r=f[h.slice(0,c).join("/")])&&(r=r[i])){a=r,o=u;break}if(a)break;!s&&p&&p[i]&&(s=p[i],l=u)}!a&&s&&(a=s,o=l),a&&(n.splice(0,o,a),t=n.join("/"))}return t}function T(e,n){return function(){var t=r.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),a.apply(h,t.concat([e,n]))}}function S(t){var e;if(_(p,t)&&(e=p[t],delete p[t],m[t]=!0,o.apply(h,e)),_(f,t)||_(m,t))return f[t];throw new Error("No "+t)}function c(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function w(t){return t?c(t):[]}return e.fn.select2.amd=s,l}),function(u,n){"use strict";var i,c,r,d,h,a,f,o,s={settings:{},prefix:"transcript"},l=(s.player=this,{autoscroll:!0,clickArea:"text",showTitle:!1,showTrackSelector:!1,followPlayerTrack:!0,stopScrollWhenInUse:!0}),p={secondsToTime:function(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),t=(t=Math.floor(t%60))<10?"0"+t:t,n=0<e&&n<10?"0"+n:n;return 0<e?e+":"+n+":"+t:n+":"+t},localize:function(t){return t},createEl:function(t,e){e=e||"";t=document.createElement(t);return t.className=i.prefix+e,t},extend:function(t){var e,n,i=typeof t;if(!("function"==i||"object"==i&&t))return t;for(var r=1,a=arguments.length;r<a;r++)for(n in e=arguments[r])t[n]=e[n];return t}},g={handlers_:[],on:function(t,e,n){if("function"!=typeof n)throw new TypeError("Callback is not a function.");this.handlers_.push([t,e,n])},trigger:function(e,n){this.handlers_.forEach(function(t){t[0]===e&&t[1]===n&&t[2].apply()})}},m=(c=function(t,e,n,i){return e+n*Math.sin(Math.min(1,t/i)*(Math.PI/2))},{init:function(t,e){return this.element=t,this.userIsScrolling=!1,this.mouseIsOverTranscript=!0,this.isAutoScrolling=!0,function(t){var e=this;t.addEventListener("scroll",function(){e.isAutoScrolling?e.isAutoScrolling=!1:(e.userIsScrolling=!0,t.classList.add("is-inuse"))}),t.addEventListener("mouseenter",function(){e.mouseIsOverTranscript=!0}),t.addEventListener("mouseleave",function(){e.mouseIsOverTranscript=!1,setTimeout(function(){e.mouseIsOverTranscript||(e.userIsScrolling=!1,t.classList.remove("is-inuse"))},1e3)})}.call(this,this.element),this},to:function(t){var e,n,i,r,a,o;this.canScroll()&&(n=(e=t.parentElement).offsetTop+e.clientHeight,i=t.offsetTop+t.clientHeight,r=t.offsetTop-e.offsetTop,a=t.offsetTop+t.clientHeight-e.offsetTop,r<e.scrollTop?o=t.offsetTop-e.offsetTop:a>e.scrollTop+e.clientHeight&&(o=i-n),void 0!==o&&e.scrollTop!==o&&function(e,n,i){var r=Date.now(),a=e.scrollTop,o=this,s=(n=Math.max(0,n),(n=Math.min(e.scrollHeight-e.clientHeight,n))-a),l=function(){var t=Date.now()-r;o.isAutoScrolling=!0,e.scrollTop=c(t,a,s,i),e.scrollTop!==n&&requestAnimationFrame(l,e)};requestAnimationFrame(l,e)}.call(this,e,o,400))},canScroll:function(){var t=this.element;return t.scrollHeight>t.offsetHeight},inUse:function(){return this.userIsScrolling}}),y={get:function(){var t,e,n=[];for(s.tracks=s.player.textTracks(),t=0;t<s.tracks.length;t++)"captions"!==(e=s.tracks[t]).kind&&"subtitles"!==e.kind||n.push(e);return n},active:function(t){for(var e,n=0;n<s.tracks.length;n++)if("showing"===(e=s.tracks[n]).mode)return r=e;return r||t[0]}},v=(d=i=s,h={element:{},body:{}},f=function(t){"object"!=typeof t&&(t=d.player.textTracks()[t]);var e,n,i,r,a=p.createEl("div","-body"),o=document.createDocumentFragment();if(t.activeCues){for(var s=t.cues,l=0;l<s.length;l++)n=s[l],r=i=void 0,i=p.createEl("div","-line"),r=p.createEl("span","-text"),i.setAttribute("data-begin",n.startTime),r.innerHTML=n.text,i.appendChild(r),n=i,o.appendChild(n);a.innerHTML="",a.appendChild(o),a.setAttribute("lang",t.language),a.scroll=(e=a,Object.create(m).init(e)),a.addEventListener("click",b),h.element.replaceChild(a,h.body),h.body=a}else"showing"!==t.mode&&(t.mode="hidden"),u.setTimeout(function(){f(t)},100)},{create:function(){var t,i,e=document.createElement("div");return(h.element=e).setAttribute("id",d.prefix+"-"+d.player.id()),d.settings.showTitle&&((t=p.createEl("header","-header")).textContent=p.localize("Transcript"),e.appendChild(t)),d.settings.showTrackSelector&&(i=p.createEl("select","-selector"),d.validTracks.forEach(function(t,e){var n=document.createElement("option");n.value=e,n.textContent=t.label+" ("+t.language+")",i.appendChild(n)}),i.addEventListener("change",function(t){o(document.querySelector("#"+d.prefix+"-"+d.player.id()+" option:checked").value),a("trackchanged")}),t=i,e.appendChild(t)),h.body=p.createEl("div","-body"),e.appendChild(h.body),o(d.currentTrack),this},setTrack:o=function(t,e){f(t,e)},setCue:function(t){for(var e,n,i,r=h.body.children,a=0;a<r.length;a++)n=(e=r[a]).getAttribute("data-begin"),i=a<r.length-1?r[a+1].getAttribute("data-begin"):d.player.duration()||1/0,n<t&&t<i?e.classList.contains("is-active")||(e.classList.add("is-active"),!d.settings.autoscroll||d.settings.stopScrollWhenInUse&&h.body.scroll.inUse()||h.body.scroll.to(e)):e.classList.remove("is-active")},el:function(){return h.element},on:function(t,e){g.on(this,t,e)},trigger:a=function(t){g.trigger(this,t)}});function b(t){var e=t.target.classList;null!=(t=t.target.getAttribute("data-begin")||t.target.parentElement.getAttribute("data-begin"))&&("line"===d.settings.clickArea||"text"===d.settings.clickArea&&e.contains(d.prefix+"-text"))&&d.player.currentTime(t)}n.registerPlugin("transcriptVideoEditing",function(t){s.player=this,s.validTracks=y.get(),s.currentTrack=y.active(s.validTracks),s.settings=n.mergeOptions(l,t),s.widget=v.create();function e(){s.currentTrack=y.active(s.validTracks),s.widget.setTrack(s.currentTrack)}if(0<s.validTracks.length)return e(),s.player.on("timeupdate",function(){s.widget.setCue(s.player.currentTime())}),s.settings.followPlayerTrack&&(s.player.on("captionstrackchange",e),s.player.on("subtitlestrackchange",e)),{el:function(){return s.widget.el()},setTrack:s.widget.setTrack};throw new Error("transcript-video-editing: No tracks found!")})}(window,videojs),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("video.js"));else if("function"==typeof define&&define.amd)define(["video.js"],e);else{var n,i=e("object"==typeof exports?require("video.js"):t.videojs);for(n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,function(n){return r=[function(t,e,n){t.exports=function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r={};return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=8)}([function(t,e,n){"use strict";function i(){}function r(a){var o=self.console[a];return o?function(){for(var t,e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=(t=a,e=i[0],"["+t+"] > "+e)),o.apply(self.console,i)}:i}n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={trace:i,debug:i,log:i,warn:i,info:i,error:i},s=o,l=function(t){if(!0===t||"object"===(void 0===t?"undefined":a(t))){!function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach(function(t){s[t]=e[t]?e[t].bind(e):r(t)})}(t,"debug","log","info","warn","error");try{s.log()}catch(t){s=o}}else s=o},u=s},function(t,e,n){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),s.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},s.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},s.getID3Data=function(t,e){for(var n=e,i=0;s.isHeader(t,e);)i=(i+=10)+s._readSize(t,e+6),s.isFooter(t,e+10)&&(i+=10),e+=i;if(0<i)return t.subarray(n,n+i)},s._readSize=function(t,e){var n=0,n=(127&t[e])<<21;return(n=(n|=(127&t[e+1])<<14)|(127&t[e+2])<<7)|127&t[e+3]},s.getTimeStamp=function(t){for(var e=s.getID3Frames(t),n=0;n<e.length;n++){var i=e[n];if(s.isTimeStampFrame(i))return s._readTimeStamp(i)}},s.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},s._getFrameData=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=s._readSize(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},s.getID3Frames=function(t){for(var e=0,n=[];s.isHeader(t,e);){for(var i=s._readSize(t,e+6),r=(e+=10)+i;e+8<r;){var a=s._getFrameData(t.subarray(e)),o=s._decodeFrame(a);o&&n.push(o),e+=a.size+10}s.isFooter(t,e)&&(e+=10)}return n},s._decodeFrame=function(t){return"PRIV"===t.type?s._decodePrivFrame(t):"T"===t.type[0]?s._decodeTextFrame(t):"W"===t.type[0]?s._decodeURLFrame(t):void 0},s._readTimeStamp=function(t){var e;if(8===t.data.byteLength)return e=1&(t=new Uint8Array(t.data))[3],t=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7],t/=45,e&&(t+=47721858.84),Math.round(t)},s._decodePrivFrame=function(t){var e,n;if(!(t.size<2))return e=s._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1)),{key:t.type,info:e,data:n.buffer}},s._decodeTextFrame=function(t){if(!(t.size<2)){var e;if("TXXX"===t.type)return e=1,e+=(n=s._utf8ArrayToStr(t.data.subarray(1))).length+1,e=s._utf8ArrayToStr(t.data.subarray(e)),{key:t.type,info:n,data:e};var n=s._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:n}}},s._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=s._utf8ArrayToStr(t.data.subarray(1)),e=(e+=n.length+1,s._utf8ArrayToStr(t.data.subarray(e)));return{key:t.type,info:n,data:e}}n=s._utf8ArrayToStr(t.data);return{key:t.type,data:n}};var i=s._utf8ArrayToStr=function(t){for(var e,n,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=t.length,a=void 0,o="",s=0;s<r;){if(0===(e=t[s++])&&i)return o;if(0!==e&&3!==e)switch(e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(e);break;case 12:case 13:a=t[s++],o+=String.fromCharCode((31&e)<<6|63&a);break;case 14:a=t[s++],n=t[s++],o+=String.fromCharCode((15&e)<<12|(63&a)<<6|(63&n)<<0)}}return o};function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function")}e.a=s},function(t,e,n){"use strict";d.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)};var s=d;o.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])};var l=o;r.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},r.prototype.initTable=function(){for(var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],a=n[2],o=n[3],n=this.invSubMix,s=n[0],l=n[1],u=n[2],c=n[3],d=new Uint32Array(256),h=0,f=0,p=0,p=0;p<256;p++)d[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var g=f^f<<1^f<<2^f<<3^f<<4,m=(t[h]=g=g>>>8^255&g^99,d[e[g]=h]),y=d[m],v=d[y],b=257*d[g]^16843008*g;i[h]=b<<24|b>>>8,r[h]=b<<16|b>>>16,a[h]=b<<8|b>>>24,o[h]=b,s[g]=(b=16843009*v^65537*y^257*m^16843008*h)<<24|b>>>8,l[g]=b<<16|b>>>16,u[g]=b<<8|b>>>24,c[g]=b,h?(h=m^d[d[d[v^m]]],f^=d[d[f]]):h=f=1}},r.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);for(var a=this.ksRows=4*(r+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),c=this.sBox,d=this.rcon,t=this.invSubMix,h=t[0],f=t[1],p=t[2],g=t[3],m=void 0,y=void 0,o=0;o<a;o++)o<r?m=l[o]=e[o]:(y=m,o%r==0?(y=c[(y=y<<8|y>>>24)>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=d[o/r|0]<<24):6<r&&o%r==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),l[o]=m=(l[o-r]^y)>>>0);for(s=0;s<a;s++)o=a-s,y=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?y:h[c[y>>>24]]^f[c[y>>>16&255]]^p[c[y>>>8&255]]^g[c[255&y]],u[s]=u[s]>>>0}},r.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},r.prototype.decrypt=function(t,e,n){for(var i,r,a,o,s,l,u=this.keySize+6,c=this.invKeySchedule,d=this.invSBox,h=this.invSubMix,f=h[0],p=h[1],g=h[2],m=h[3],h=this.uint8ArrayToUint32Array_(n),y=h[0],v=h[1],b=h[2],_=h[3],T=new Int32Array(t),S=new Int32Array(T.length),w=void 0,E=void 0,C=void 0,k=void 0,D=void 0,A=void 0,x=void 0,L=void 0,O=this.networkToHostOrderSwap;e<T.length;){for(a=O(T[e]),o=O(T[e+1]),s=O(T[e+2]),l=O(T[e+3]),D=a^c[0],A=l^c[1],x=s^c[2],L=o^c[3],i=4,r=1;r<u;r++)w=f[D>>>24]^p[A>>16&255]^g[x>>8&255]^m[255&L]^c[i],E=f[A>>>24]^p[x>>16&255]^g[L>>8&255]^m[255&D]^c[i+1],C=f[x>>>24]^p[L>>16&255]^g[D>>8&255]^m[255&A]^c[i+2],k=f[L>>>24]^p[D>>16&255]^g[A>>8&255]^m[255&x]^c[i+3],D=w,A=E,x=C,L=k,i+=4;w=d[D>>>24]<<24^d[A>>16&255]<<16^d[x>>8&255]<<8^d[255&L]^c[i],E=d[A>>>24]<<24^d[x>>16&255]<<16^d[L>>8&255]<<8^d[255&D]^c[i+1],C=d[x>>>24]<<24^d[L>>16&255]<<16^d[D>>8&255]<<8^d[255&A]^c[i+2],k=d[L>>>24]<<24^d[D>>16&255]<<16^d[A>>8&255]<<8^d[255&x]^c[i+3],i+=3,S[e]=O(w^y),S[e+1]=O(k^v),S[e+2]=O(C^b),S[e+3]=O(E^_),y=a,v=o,b=s,_=l,e+=4}return S.buffer},r.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0};var u=r,a=n(2),c=n(0);function i(t,e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.observer=t,this.config=e,this.logEnabled=!0;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}function o(t,e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.subtle=t,this.key=e}function d(t,e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.subtle=t,this.aesIV=e}i.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},i.prototype.decrypt=function(e,n,i,r){var t,a,o=this;this.disableWebCrypto&&this.config.enableSoftwareAES?(this.logEnabled&&(c.b.log("JS AES decrypt"),this.logEnabled=!1),(t=this.decryptor)||(this.decryptor=t=new u),t.expandKey(n),r(t.decrypt(e,0,i))):(this.logEnabled&&(c.b.log("WebCrypto AES decrypt"),this.logEnabled=!1),a=this.subtle,this.key!==n&&(this.key=n,this.fastAesKey=new l(a,n)),this.fastAesKey.expandKey().then(function(t){new s(a,i).decrypt(e,t).catch(function(t){o.onWebCryptoError(t,e,n,i,r)}).then(function(t){r(t)})}).catch(function(t){o.onWebCryptoError(t,e,n,i,r)}))},i.prototype.onWebCryptoError=function(t,e,n,i,r){this.config.enableSoftwareAES?(c.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,r)):(c.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},i.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},e.a=i},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(t){return"function"==typeof t}function u(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}((t.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,r,a,o;if(this._events||(this._events={}),"error"===t&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(c(n=this._events[t]))return!1;if(l(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(u(n))for(r=Array.prototype.slice.call(arguments,1),i=(o=n.slice()).length,a=0;a<i;a++)o[a].apply(this,r);return!0},n.prototype.on=n.prototype.addListener=function(t,e){if(l(e))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,l(e.listener)?e.listener:e),this._events[t]?u(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,u(this._events[t])&&!this._events[t].warned&&(e=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<e&&this._events[t].length>e&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this;throw TypeError("listener must be a function")},n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!l(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,r,a;if(!l(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(n=this._events[t]).length,i=-1,n===e||l(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(u(n)){for(a=r;0<a--;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(l(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?l(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){t=this._events[t];if(l(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var i,a,o;i=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,a=/^([^\/;?#]*)(.*)$/,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=this.parseURL(t);if(r)return i.path=o.normalizePath(i.path),o.buildURLFromParts(i);throw new Error("Error trying to parse base URL.")}i=this.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=o.normalizePath(i.path),o.buildURLFromParts(i)):e;var r=this.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");!r.netLoc&&r.path&&"/"!==r.path[0]&&(e=a.exec(r.path),r.netLoc=e[1],r.path=e[2]),r.netLoc&&!r.path&&(r.path="/");t={scheme:r.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};return i.netLoc||(t.netLoc=r.netLoc,"/"===i.path[0])||(i.path?(e=(e=r.path).substring(0,e.lastIndexOf("/")+1)+i.path,t.path=o.normalizePath(e)):(t.path=r.path,i.params||(t.params=r.params,i.query||(t.query=r.query)))),null===t.path&&(t.path=n.alwaysNormalize?o.normalizePath(i.path):i.path),o.buildURLFromParts(t)},parseURL:function(t){t=i.exec(t);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(/(?:\/|^)\.(?=\/)/g,"");t.length!==(t=t.replace(/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o},function(L,t,e){"use strict";function i(t,e){return 255===t[e]&&240==(246&t[e+1])}function s(t,e){return 1&t[e+1]?7:9}function l(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function p(t,e){return e+1<t.length&&i(t,e)}function g(t,e,n,i,r){var a,o,s,l,u,c;t.samplerate||(e=e,n=n,i=i,r=r,s=navigator.userAgent.toLowerCase(),l=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],c=1+((192&n[i+2])>>>6),i=(a=(60&n[i+2])>>>2)>u.length-1?void e.trigger(Event.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a}):(e=(1&n[i+2])<<2,e|=(192&n[i+3])>>>6,G.b.log("manifest codec:"+r+",ADTS data:type:"+c+",sampleingIndex:"+a+"["+u[a]+"Hz],channelConfig:"+e),n=/firefox/i.test(s)?6<=a?(c=5,o=new Array(4),a-3):(c=2,o=new Array(2),a):-1!==s.indexOf("android")?(c=2,o=new Array(2),a):(c=5,o=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&6<=a?a-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(6<=a&&1==e||/vivaldi/i.test(s))||!r&&1==e)&&(c=2,o=new Array(2)),a)),o[0]=c<<3,o[0]|=(14&a)>>1,o[1]|=(1&a)<<7,o[1]|=e<<3,5===c&&(o[1]|=(14&n)>>1,o[2]=(1&n)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[a],channelCount:e,codec:"mp4a.40."+c,manifestCodec:l}),t.config=i.config,t.samplerate=i.samplerate,t.channelCount=i.channelCount,t.codec=i.codec,t.manifestCodec=i.manifestCodec,G.b.log("parsed codec:"+t.codec+",rate:"+i.samplerate+",nb channel:"+i.channelCount))}function h(t){return 9216e4/t}function m(t,e,n,i,r){var a,i=function(t,e,n,i,r){var a=t.length,o=s(t,e),t=l(t,e);if(0<(t-=o)&&e+o+t<=a)return{headerLength:o,frameLength:t,stamp:n+i*r}}(e,n,i,r,h(t.samplerate));if(i)return r=i.stamp,a=i.headerLength,i=i.frameLength,e={unit:e.subarray(n+a,n+a+i),pts:r,dts:r},t.samples.push(e),t.len+=i,{sample:e,length:i+a}}var H=e(1),W=e(2),y=e(4),G=e(0),v=e(3),w=(x.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},x.prototype.resetTimeStamp=function(){},x.probe=function(t){if(!t)return!1;for(var e=(v.a.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(function(t,e){if(e+1<t.length&&i(t,e)){var n=s(t,e),e=e+(n=e+5<t.length?l(t,e):n);if(e===t.length||e+1<t.length&&i(t,e))return 1}}(t,e))return G.b.log("ADTS sync word found !"),!0;return!1},x.prototype.append=function(t,e,n,i){for(var r=this._audioTrack,a=v.a.getID3Data(t,0)||[],o=v.a.getTimeStamp(a),s=o?90*o:9e4*e,l=0,u=s,c=t.length,d=a.length,h=[{pts:u,dts:u,data:a}];d<c-1;)if(p(t,d)&&d+5<c){g(r,this.observer,t,d,r.manifestCodec);var f=m(r,t,d,s,l);if(!f){G.b.log("Unable to parse AAC frame");break}d+=f.length,u=f.sample.pts,l++}else v.a.isHeader(t,d)?(a=v.a.getID3Data(t,d),h.push({pts:u,dts:u,data:a}),d+=a.length):d++;this.remuxer.remux(r,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,n,i)},x.prototype.destroy=function(){},x),a=Math.pow(2,32)-1;A.prototype.resetTimeStamp=function(t){this.initPTS=t},A.prototype.resetInitSegment=function(t,e,n,i){var r,a;t&&t.byteLength?(null==e&&(e="mp4a.40.5"),null==n&&(n="avc1.42e01e"),a={},(r=this.initData=A.parseInitSegment(t)).audio&&r.video?a.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:i?t:null}:(r.audio&&(a.audio={container:"audio/mp4",codec:e,initSegment:i?t:null}),r.video&&(a.video={container:"video/mp4",codec:n,initSegment:i?t:null})),this.observer.trigger(H.a.FRAG_PARSING_INIT_SEGMENT,{tracks:a})):(e&&(this.audioCodec=e),n&&(this.videoCodec=n))},A.probe=function(t){return 0<A.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length},A.bin2str=function(t){return String.fromCharCode.apply(null,t)},A.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);t=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return t<0?4294967296+t:t},A.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},A.findBox=function(t,e){var n,i,r,a,o,s=[];if(t.data?(a=t.start,i=t.end,t=t.data):(a=0,i=t.byteLength),!e.length)return null;for(n=a;n<i;)o=1<(o=A.readUint32(t,n))?n+o:i,A.bin2str(t.subarray(n+4,n+8))===e[0]&&(1===e.length?s.push({data:t,start:n+8,end:o}):(r=A.findBox({data:t,start:n+8,end:o},e.slice(1))).length&&(s=s.concat(r))),n=o;return s},A.parseInitSegment=function(t){var r=[];return A.findBox(t,["moov","trak"]).forEach(function(t){var e,n,i=A.findBox(t,["tkhd"])[0];i&&(n=i.data[i.start],i=A.readUint32(i,0===n?12:20),(e=A.findBox(t,["mdia","mdhd"])[0])&&(n=e.data[e.start],e=A.readUint32(e,0===n?12:20),(n=A.findBox(t,["mdia","hdlr"])[0])&&(n={soun:"audio",vide:"video"}[A.bin2str(n.data.subarray(n.start+8,n.start+12))])&&((t=A.findBox(t,["mdia","minf","stbl","stsd"])).length&&(t=t[0],t=A.bin2str(t.data.subarray(t.start+12,t.start+16)),G.b.log("MP4Demuxer:"+n+":"+t+" found")),r[i]={timescale:e,type:n},r[n]={timescale:e,id:i})))}),r},A.getStartDTS=function(n,t){t=A.findBox(t,["moof","traf"]),t=[].concat.apply([],t.map(function(e){return A.findBox(e,["tfhd"]).map(function(t){t=A.readUint32(t,4),t=n[t].timescale||9e4;return A.findBox(e,["tfdt"]).map(function(t){var e=t.data[t.start],n=A.readUint32(t,4);return n=1===e?(n*=Math.pow(2,32))+A.readUint32(t,8):n})[0]/t})})),t=Math.min.apply(null,t);return isFinite(t)?t:0},A.offsetStartDTS=function(n,t,r){A.findBox(t,["moof","traf"]).map(function(e){return A.findBox(e,["tfhd"]).map(function(t){var t=A.readUint32(t,4),i=n[t].timescale||9e4;A.findBox(e,["tfdt"]).map(function(t){var e=t.data[t.start],n=A.readUint32(t,4);0===e?A.writeUint32(t,4,n-r*i):(n=(n=(n*=Math.pow(2,32))+A.readUint32(t,8))-r*i,n=Math.max(n,0),e=Math.floor(n/(1+a)),n=Math.floor(n%(1+a)),A.writeUint32(t,4,e),A.writeUint32(t,8,n))})})})},A.prototype.append=function(t,e,n,i){var r,a=this.initData,o=(a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),a=this.initData),this.initPTS);void 0===o&&(r=A.getStartDTS(a,t),this.initPTS=o=r-e,this.observer.trigger(H.a.INIT_PTS_FOUND,{initPTS:o})),A.offsetStartDTS(a,t,o),r=A.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,r,n,i,t)},A.prototype.destroy=function(){};var E=A,u={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,r){if(!(n+24>e.length)){var a=this.parseHeader(e,n);if(a&&n+a.frameLength<=e.length)return i=i+r*(9e4*a.samplesPerFrame/a.sampleRate),r={unit:e.subarray(n,n+a.frameLength),pts:i,dts:i},t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(r),t.len+=a.frameLength,{sample:r,length:a.frameLength}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,a=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!=n&&0!=r&&15!=r&&3!=a)return r=1e3*u.BitratesMap[14*(3==n?3-i:3==i?3:4)+r-1],a=u.SamplingRateMap[3*(3==n?0:2==n?1:2)+a],t=t[e+3]>>6==3?1:2,i=8*(e=u.SamplesCoefficients[n][i])*(n=u.BytesInSlot[i]),{sampleRate:a,channelCount:t,frameLength:parseInt(e*r/a+o,10)*n,samplesPerFrame:i}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),i=4,e=e+(i=n&&n.frameLength?n.frameLength:i);if(e===t.length||e+1<t.length&&this.isHeaderPattern(t,e))return!0}return!1}},b=u;D.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),e=Math.min(4,e);if(0===e)throw new Error("no bytes available");i.set(t.subarray(n,n+e)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*e,this.bytesAvailable-=e},D.prototype.skipBits=function(t){var e;this.bitsAvailable>t||(t=(t-=this.bitsAvailable)-((e=t>>3)>>3),this.bytesAvailable-=e,this.loadWord()),this.word<<=t,this.bitsAvailable-=t},D.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return 32<t&&G.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,0<this.bitsAvailable?this.word<<=e:0<this.bytesAvailable&&this.loadWord(),0<(e=t-e)&&this.bitsAvailable?n<<e|this.readBits(e):n},D.prototype.skipLZ=function(){for(var t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},D.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},D.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},D.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},D.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},D.prototype.readBoolean=function(){return 1===this.readBits(1)},D.prototype.readUByte=function(){return this.readBits(8)},D.prototype.readUShort=function(){return this.readBits(16)},D.prototype.readUInt=function(){return this.readBits(32)},D.prototype.skipScalingList=function(t){for(var e=8,n=8,i=0;i<t;i++)e=0===(n=0!==n?(e+this.readEG()+256)%256:n)?e:n},D.prototype.readSPS=function(){var t,e,n,i=0,r=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);if(s(),g=s(),l(5),d(3),s(),f(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var g=u();if(3===g&&d(1),f(),f(),d(1),c())for(e=3!==g?8:12,n=0;n<e;n++)c()&&p(n<6?16:64)}f();var g=u();if(0===g)u();else if(1===g)for(d(1),h(),h(),t=u(),n=0;n<t;n++)h();f(),d(1),g=u(),f=u(),0===(l=l(1))&&d(1),d(1),c()&&(i=u(),r=u(),a=u(),o=u());var m=[1,1];if(c()&&c())switch(s()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(g+1)-2*i-2*r),height:(2-l)*(f+1)*16-(l?2:4)*(a+o),pixelRatio:m}},D.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()};var S=D;k.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},k.prototype.decryptAacSample=function(e,n,i,r){var a=e[n].unit,t=a.subarray(16,a.length-a.length%16),t=t.buffer.slice(t.byteOffset,t.byteOffset+t.length),o=this;this.decryptBuffer(t,function(t){t=new Uint8Array(t),a.set(t,16),r||o.decryptAacSamples(e,n+1,i)})},k.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},k.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,r=32;r<=t.length-16;r+=160,i+=16)n.set(t.subarray(r,r+16),i);return n},k.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},k.prototype.decryptAvcSample=function(e,n,i,r,a,o){var s=this.discardEPB(a.data),t=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(t.buffer,function(t){a.data=l.getAvcDecryptedUnit(s,t),o||l.decryptAvcSamples(e,n,i+1,r)})},k.prototype.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var r=t[e].units;!(n>=r.length);n++){var a=r[n];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,a,o),!o)return}}}};var n=k,I={video:0,audio:1,id3:2,text:3};O.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new n(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},O.probe=function(t){t=O._syncOffset(t);return!(t<0||(t&&G.b.warn("MPEG2-TS detected but first sync word found @ offset "+t+", junk ahead ?"),0))},O._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},O.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:I[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},O.prototype.resetInitSegment=function(t,e,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=O.createTrack("video",i),this._audioTrack=O.createTrack("audio",i),this._id3Track=O.createTrack("id3",i),this._txtTrack=O.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=n,this._duration=i},O.prototype.resetTimeStamp=function(){},O.prototype.append=function(t,e,n,i){var r,a,o,s,l,u=t.length,c=!1,d=(this.contiguous=n,this.pmtParsed),h=this._avcTrack,f=this._audioTrack,p=this._id3Track,g=h.pid,m=f.pid,y=p.pid,v=this._pmtId,b=h.pesData,_=f.pesData,T=p.pesData,S=this._parsePAT,w=this._parsePMT,E=this._parsePES,C=this._parseAVCPES.bind(this),k=this._parseAACPES.bind(this),D=this._parseMPEGPES.bind(this),A=this._parseID3PES.bind(this),x=O._syncOffset(t);for(u-=(u+x)%188,r=x;r<u;r+=188)if(71===t[r]){if(a=!!(64&t[r+1]),o=((31&t[r+1])<<8)+t[r+2],1<(48&t[r+3])>>4){if((s=r+5+t[r+4])===r+188)continue}else s=r+4;switch(o){case g:a&&(b&&(l=E(b))&&C(l,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(s,r+188)),b.size+=r+188-s);break;case m:a&&(_&&(l=E(_))&&(f.isAAC?k:D)(l),_={data:[],size:0}),_&&(_.data.push(t.subarray(s,r+188)),_.size+=r+188-s);break;case y:a&&(T&&(l=E(T))&&A(l),T={data:[],size:0}),T&&(T.data.push(t.subarray(s,r+188)),T.size+=r+188-s);break;case 0:a&&(s+=t[s]+1),v=this._pmtId=S(t,s);break;case v:a&&(s+=t[s]+1);var L=w(t,s,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);0<(g=L.avc)&&(h.pid=g),0<(m=L.audio)&&(f.pid=m,f.isAAC=L.isAAC),0<(y=L.id3)&&(p.pid=y),c&&!d&&(G.b.log("reparse from beginning"),c=!1,r=x-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(l=E(b))?(C(l,!0),h.pesData=null):h.pesData=b,_&&(l=E(_))?((f.isAAC?k:D)(l),f.pesData=null):(_&&_.size&&G.b.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=_),T&&(l=E(T))?(A(l),p.pesData=null):p.pesData=T,null==this.sampleAes?this.remuxer.remux(f,h,p,this._txtTrack,e,n,i):this.decryptAndRemux(f,h,p,this._txtTrack,e,n,i)},O.prototype.decryptAndRemux=function(t,e,n,i,r,a,o){var s;t.samples&&t.isAAC?(s=this).sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,n,i,r,a,o)}):this.decryptAndRemuxAvc(t,e,n,i,r,a,o)},O.prototype.decryptAndRemuxAvc=function(t,e,n,i,r,a,o){var s;e.samples?(s=this).sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,n,i,r,a,o)}):this.remuxer.remux(t,e,n,i,r,a,o)},O.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},O.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},O.prototype._parsePMT=function(t,e,n,i){var r,a={audio:-1,avc:-1,id3:-1,isAAC:!0},o=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){switch(r=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){G.b.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=r);break;case 21:-1===a.id3&&(a.id3=r);break;case 219:if(!i){G.b.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=r);break;case 3:case 4:n?-1===a.audio&&(a.audio=r,a.isAAC=!1):G.b.log("MPEG audio found, not supported in this browser for now");break;case 36:G.b.warn("HEVC stream type found, not supported for now");break;default:G.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},O.prototype._parsePES=function(t){var e,n,i,r,a,o=0,s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&1<s.length;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1!==((h=s[0])[0]<<16)+(h[1]<<8)+h[2])return null;if((e=(h[4]<<8)+h[5])&&e>t.size-6)return null;192&(n=h[7])&&(4294967295<(i=536870912*(14&h[9])+4194304*(255&h[10])+16384*(254&h[11])+128*(255&h[12])+(254&h[13])/2)&&(i-=8589934592),64&n?(4294967295<(r=536870912*(14&h[14])+4194304*(255&h[15])+16384*(254&h[16])+128*(255&h[17])+(254&h[18])/2)&&(r-=8589934592),54e5<i-r&&(G.b.warn(Math.round((i-r)/9e4)+"s delta between PTS and DTS, align them"),i=r)):r=i),n=h[8],t.size-=a=n+9;for(var u=new Uint8Array(t.size),c=0,d=s.length;c<d;c++){var h,f=(h=s[c]).byteLength;if(a){if(f<a){a-=f;continue}h=h.subarray(a),f-=a,a=0}u.set(h,o),o+=f}return e&&(e-=n+3),{data:u,pts:i,dts:r,len:e}},O.prototype.pushAccesUnit=function(t,e){var n,i;t.units.length&&t.frame&&(i=(n=e.samples).length,!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++),t.debug.length&&G.b.log(t.pts+"/"+t.dts+":"+t.debug)},O.prototype._parseAVCPES=function(h,t){function f(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}}var p,g,m,y=this,v=this._avcTrack,e=this._parseAVCNALu(h.data),b=this.avcSample,_=!1,T=this.pushAccesUnit.bind(this);h.data=null,b&&e.length&&!v.audFound&&(T(b,v),b=this.avcSample=f(!1,h.pts,h.dts,"")),e.forEach(function(t){switch(t.type){case 1:g=!0,(b=b||(y.avcSample=f(!0,h.pts,h.dts,""))).frame=!0;var e=t.data;_&&4<e.length&&(2!==(e=new S(e).readSliceType())&&4!==e&&7!==e&&9!==e||(b.key=!0));break;case 5:g=!0,(b=b||(y.avcSample=f(!0,h.pts,h.dts,""))).key=!0,b.frame=!0;break;case 6:g=!0,(p=new S(y.discardEPB(t.data))).readUByte();for(var n=0,i=0,r=!1,a=0;!r&&1<p.bytesAvailable;){for(n=0;n+=a=p.readUByte(),255===a;);for(i=0;i+=a=p.readUByte(),255===a;);if(4===n&&0!==p.bytesAvailable){if(r=!0,181===p.readUByte()&&49===p.readUShort()&&1195456820===p.readUInt()&&3===p.readUByte()){var o=p.readUByte(),s=31&o,l=[o,p.readUByte()];for(m=0;m<s;m++)l.push(p.readUByte()),l.push(p.readUByte()),l.push(p.readUByte());y._insertSampleInOrder(y._txtTrack.samples,{type:3,pts:h.pts,bytes:l})}}else if(i<p.bytesAvailable)for(m=0;m<i;m++)p.readUByte()}break;case 7:if(_=g=!0,!v.sps){var e=(p=new S(t.data)).readSPS(),u=(v.width=e.width,v.height=e.height,v.pixelRatio=e.pixelRatio,v.sps=[t.data],v.duration=y._duration,t.data.subarray(1,4)),c="avc1.";for(m=0;m<3;m++){var d=u[m].toString(16);c+=d=d.length<2?"0"+d:d}v.codec=c}break;case 8:g=!0,v.pps||(v.pps=[t.data]);break;case 9:g=!1,v.audFound=!0,b&&T(b,v),b=y.avcSample=f(!1,h.pts,h.dts,"");break;case 12:g=!1;break;default:g=!1,b&&(b.debug+="unknown NAL "+t.type+" ")}b&&g&&b.units.push(t)}),t&&b&&(T(b,v),this.avcSample=null)},O.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(0<n){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;0<=i;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},O.prototype._getLastNalUnit=function(){var t,e=this.avcSample,n=void 0;return n=(e=e&&0!==e.units.length?e:(t=this._avcTrack.samples)[t.length-1])?(t=e.units)[t.length-1]:n},O.prototype._parseAVCNALu=function(t){var e,n,i,r,a,o,s,l,u=0,c=t.byteLength,d=this._avcTrack,h=d.naluState||0,f=h,p=[],g=-1;for(-1===h&&(r=31&t[g=0],h=0,u=1);u<c;)e=t[u++],h=h?1!==h?e?1===e?(0<=g?(i={data:t.subarray(g,u-h-1),type:r},p.push(i)):(a=this._getLastNalUnit())&&(f&&u<=4-f&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-f)),0<(n=u-h-1))&&((o=new Uint8Array(a.data.byteLength+n)).set(a.data,0),o.set(t.subarray(0,n),a.data.byteLength),a.data=o),u<c?(r=31&t[g=u],0):-1):0:3:e?0:2:e?0:1;return 0<=g&&0<=h&&(i={data:t.subarray(g,c),type:r,state:h},p.push(i)),0===p.length&&(s=this._getLastNalUnit())&&((l=new Uint8Array(s.data.byteLength+t.byteLength)).set(s.data,0),l.set(t,s.data.byteLength),s.data=l),d.naluState=h,p},O.prototype.discardEPB=function(t){for(var e=t.byteLength,n=[],i=1;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return t;for(var r=e-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=t[o];return a},O.prototype._parseAACPES=function(t){var e,n,i,r,a=this._audioTrack,o=t.data,s=t.pts,t=this.aacOverFlow,l=this.aacLastPTS;for(t&&((c=new Uint8Array(t.byteLength+o.byteLength)).set(t,0),c.set(o,t.byteLength),o=c),n=0,r=o.length;n<r-1&&!p(o,n);n++);if(n){var u,c=n<r-1?(u="AAC PES did not start with ADTS header,offset:"+n,!1):(u="no ADTS header found in AAC PES",!0);if(G.b.warn("parsing error:"+u),this.observer.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:c,reason:u}),c)return}for(g(a,this.observer,o,n,this.audioCodec),e=0,u=h(a.samplerate),t&&l&&(c=l+u,1<Math.abs(c-s)&&(G.b.log("AAC: align PTS for overlapping frames by "+Math.round((c-s)/90)),s=c));n<r;)if(p(o,n)&&n+5<r){var d=m(a,o,n,s,e);if(!d)break;n+=d.length,i=d.sample.pts,e++}else n++;t=n<r?o.subarray(n,r):null,this.aacOverFlow=t,this.aacLastPTS=i},O.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,r=0,a=t.pts;r<n;)if(b.isHeader(e,r)){var o=b.appendFrame(this._audioTrack,e,r,a,i);if(!o)break;r+=o.length,i++}else r++},O.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)};var R=O;T.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},T.prototype.resetTimeStamp=function(){},T.probe=function(t){var e,n,i=v.a.getID3Data(t,0);if(i&&void 0!==v.a.getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(b.probe(t,e))return G.b.log("MPEG Audio sync word found !"),!0;return!1},T.prototype.append=function(t,e,n,i){for(var r=v.a.getID3Data(t,0),a=v.a.getTimeStamp(r),o=a?90*a:9e4*e,s=r.length,l=t.length,u=0,c=0,d=this._audioTrack,h=[{pts:o,dts:o,data:r}];s<l;)if(b.isHeader(t,s)){var f=b.appendFrame(d,t,s,o,u);if(!f)break;s+=f.length,c=f.sample.pts,u++}else v.a.isHeader(t,s)?(r=v.a.getID3Data(t,s),h.push({pts:c,dts:c,data:r}),s+=r.length):s++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,n,i)},T.prototype.destroy=function(){};var P=T;_.getSilentFrame=function(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null};var U=_,o=Math.pow(2,32)-1;f.init=function(){for(var t in f.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})f.types.hasOwnProperty(t)&&(f.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e=(f.HDLR_TYPES={video:e,audio:n},new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])),n=new Uint8Array([0,0,0,0,0,0,0,0]),n=(f.STTS=f.STSC=f.STCO=n,f.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),f.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),f.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),f.STSD=new Uint8Array([0,0,0,0,0,0,0,1]),new Uint8Array([105,115,111,109])),i=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);f.FTYP=f.box(f.types.ftyp,n,r,n,i),f.DINF=f.box(f.types.dinf,f.box(f.types.dref,e))},f.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,a=r;r--;)i+=n[r].byteLength;for((e=new Uint8Array(i))[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),r=0,i=8;r<a;r++)e.set(n[r],i),i+=n[r].byteLength;return e},f.hdlr=function(t){return f.box(f.types.hdlr,f.HDLR_TYPES[t])},f.mdat=function(t){return f.box(f.types.mdat,t)},f.mdhd=function(t,e){e*=t;var n=Math.floor(e/(1+o)),e=Math.floor(e%(1+o));return f.box(f.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,e>>24,e>>16&255,e>>8&255,255&e,85,196,0,0]))},f.mdia=function(t){return f.box(f.types.mdia,f.mdhd(t.timescale,t.duration),f.hdlr(t.type),f.minf(t))},f.mfhd=function(t){return f.box(f.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},f.minf=function(t){return"audio"===t.type?f.box(f.types.minf,f.box(f.types.smhd,f.SMHD),f.DINF,f.stbl(t)):f.box(f.types.minf,f.box(f.types.vmhd,f.VMHD),f.DINF,f.stbl(t))},f.moof=function(t,e,n){return f.box(f.types.moof,f.mfhd(t),f.traf(n,e))},f.moov=function(t){for(var e=t.length,n=[];e--;)n[e]=f.trak(t[e]);return f.box.apply(null,[f.types.moov,f.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(f.mvex(t)))},f.mvex=function(t){for(var e=t.length,n=[];e--;)n[e]=f.trex(t[e]);return f.box.apply(null,[f.types.mvex].concat(n))},f.mvhd=function(t,e){e*=t;var n=Math.floor(e/(1+o)),e=Math.floor(e%(1+o)),t=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,e>>24,e>>16&255,e>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return f.box(f.types.mvhd,t)},f.sdtp=function(t){for(var e,n=t.samples||[],i=new Uint8Array(4+n.length),r=0;r<n.length;r++)e=n[r].flags,i[r+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return f.box(f.types.sdtp,i)},f.stbl=function(t){return f.box(f.types.stbl,f.stsd(t),f.box(f.types.stts,f.STTS),f.box(f.types.stsc,f.STSC),f.box(f.types.stsz,f.STSZ),f.box(f.types.stco,f.STCO))},f.avc1=function(t){for(var e,n,i=[],r=[],a=0;a<t.sps.length;a++)n=(e=t.sps[a]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(e));for(a=0;a<t.pps.length;a++)n=(e=t.pps[a]).byteLength,r.push(n>>>8&255),r.push(255&n),r=r.concat(Array.prototype.slice.call(e));var o=f.box(f.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(r))),s=t.width,l=t.height,u=t.pixelRatio[0],c=t.pixelRatio[1];return f.box(f.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,f.box(f.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),f.box(f.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,c>>24,c>>16&255,c>>8&255,255&c])))},f.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},f.mp4a=function(t){var e=t.samplerate;return f.box(f.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),f.box(f.types.esds,f.esds(t)))},f.mp3=function(t){var e=t.samplerate;return f.box(f.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))},f.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?f.box(f.types.stsd,f.STSD,f.mp4a(t)):f.box(f.types.stsd,f.STSD,f.mp3(t)):f.box(f.types.stsd,f.STSD,f.avc1(t))},f.tkhd=function(t){var e=t.id,n=t.duration*t.timescale,i=t.width,t=t.height,r=Math.floor(n/(1+o)),n=Math.floor(n%(1+o));return f.box(f.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,t>>8&255,255&t,0,0]))},f.traf=function(t,e){var n=f.sdtp(t),i=t.id,r=Math.floor(e/(1+o)),e=Math.floor(e%(1+o));return f.box(f.types.traf,f.box(f.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),f.box(f.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,e>>24,e>>16&255,e>>8&255,255&e])),f.trun(t,n.length+16+20+8+16+8+8),n)},f.trak=function(t){return t.duration=t.duration||4294967295,f.box(f.types.trak,f.tkhd(t),f.mdia(t))},f.trex=function(t){t=t.id;return f.box(f.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},f.trun=function(t,e){var n,i,r,a,o,s=t.samples||[],l=s.length,t=12+16*l,u=new Uint8Array(t);for(u.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,(e+=8+t)>>>24&255,e>>>16&255,e>>>8&255,255&e],0),n=0;n<l;n++)i=(o=s[n]).duration,r=o.size,a=o.flags,o=o.cts,u.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,o>>>24&255,o>>>16&255,o>>>8&255,255&o],12+16*n);return f.box(f.types.trun,u)},f.initSegment=function(t){f.types||f.init();var t=f.moov(t),e=new Uint8Array(f.FTYP.byteLength+t.byteLength);return e.set(f.FTYP),e.set(t,f.FTYP.byteLength),e};var q=f;d.prototype.destroy=function(){},d.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},d.prototype.resetInitSegment=function(){this.ISGenerated=!1},d.prototype.remux=function(t,e,n,i,r,a,o){var s,l,u,c,d;this.ISGenerated||this.generateIS(t,e,r),this.ISGenerated&&(c=t.samples.length,s=e.samples.length,u=l=r,c&&s&&(d=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale,l+=Math.max(0,d),u+=Math.max(0,-d)),c?(t.timescale||(G.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,r)),d=this.remuxAudio(t,l,a,o),s&&(c=void 0,d&&(c=d.endPTS-d.startPTS),e.timescale||(G.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,r)),this.remuxVideo(e,u,a,c,o))):(d=void 0,(d=s?this.remuxVideo(e,u,a,o):d)&&t.codec&&this.remuxEmptyAudio(t,l,a,d))),n.samples.length&&this.remuxID3(n,r),i.samples.length&&this.remuxText(i,r),this.observer.trigger(H.a.FRAG_PARSED)},d.prototype.generateIS=function(t,e,n){var i,r,a=this.observer,o=t.samples,s=e.samples,l=this.typeSupported,u="audio/mp4",c={},d={tracks:c},h=void 0===this._initPTS;h&&(i=r=1/0),t.config&&o.length&&(t.timescale=t.samplerate,G.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(l.mpeg?(u="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),c.audio={container:u,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array:q.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(i=r=o[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&s.length&&(u=e.inputTimeScale,e.timescale=u,c.video={container:"video/mp4",codec:e.codec,initSegment:q.initSegment([e]),metadata:{width:e.width,height:e.height}},h&&(i=Math.min(i,s[0].pts-u*n),r=Math.min(r,s[0].dts-u*n),this.observer.trigger(H.a.INIT_PTS_FOUND,{initPTS:i}))),Object.keys(c).length?(a.trigger(H.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,h&&(this._initPTS=i,this._initDTS=r)):a.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},d.prototype.remuxVideo=function(t,e,n,i,r){var a,o,s=8,l=t.timescale,u=t.samples,c=[],d=u.length,h=this._PTSNormalize,f=this._initDTS,p=this.nextAvcDts,g=this.isSafari,m=(g&&(n|=u.length&&p&&(r&&Math.abs(e-p/l)<.1||Math.abs(u[0].pts-p-f)<l/5)),n||(p=e*l),u.forEach(function(t){t.pts=h(t.pts-f,p),t.dts=h(t.dts-f,p)}),u.sort(function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||i||t.id-e.id}),u.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0));if(m<0){G.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(m/90)+" ms to overcome this issue");for(var y=0;y<u.length;y++)u[y].dts+=m}var r=u[0],v=Math.max(r.dts,0),b=Math.max(r.pts,0),e=Math.round((v-p)/90);n&&e&&(1<e?G.b.log("AVC:"+e+" ms hole between fragments detected,filling it"):e<-1&&G.b.log("AVC:"+-e+" ms overlapping between fragments detected"),v=p,u[0].dts=v,b=Math.max(b-e,p),u[0].pts=b,G.b.log("Video/PTS/DTS adjusted: "+Math.round(b/90)+"/"+Math.round(v/90)+",delta:"+e+" ms")),r=u[u.length-1],n=Math.max(r.dts,0),e=Math.max(r.pts,0,n),g&&(a=Math.round((n-v)/(u.length-1)));for(var _=0,T=0,S=0;S<d;S++){for(var w=u[S],E=w.units,C=E.length,k=0,D=0;D<C;D++)k+=E[D].data.length;T+=k,_+=C,w.length=k,w.dts=g?v+S*a:Math.max(w.dts,v),w.pts=Math.max(w.pts,w.dts)}r=T+4*_+8;try{o=new Uint8Array(r)}catch(t){return void this.observer.trigger(H.a.ERROR,{type:W.b.MUX_ERROR,details:W.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:r,reason:"fail allocating video mdat "+r})}var A=new DataView(o.buffer);A.setUint32(0,r),o.set(q.types.mdat,4);for(var x=0;x<d;x++){for(var L,O,I,R=u[x],N=R.units,U=0,F=void 0,P=0,j=N.length;P<j;P++){var M=N[P],B=M.data,M=M.data.byteLength;A.setUint32(s,M),s+=4,o.set(B,s),s+=M,U+=4+M}F=g?Math.max(0,a*Math.round((R.pts-R.dts)/a)):(x<d-1?a=u[x+1].dts-R.dts:(O=this.config,L=R.dts-u[0<x?x-1:x].dts,O.stretchShortVideoTrack?(I=O.maxBufferHole,O=O.maxSeekHole,Math.floor(Math.min(I,O)*l)<(I=(i?b+i*l:this.nextAudioPts)-R.pts)?((a=I-L)<0&&(a=L),G.b.log("It is approximately "+I/90+" ms to the next segment; using duration "+a/90+" ms for the last video frame.")):a=L):a=L),Math.round(R.pts-R.dts)),c.push({size:U,duration:a,cts:F,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:R.key?2:1,isNonSync:R.key?0:1}})}this.nextAvcDts=n+a;r=t.dropped,t.len=0,t.nbNalu=0,t.dropped=0,c.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&((n=c[0].flags).dependsOn=2,n.isNonSync=0),t.samples=c,n=q.moof(t.sequenceNumber++,v,t),t.samples=[],n={data1:n,data2:o,startPTS:b/l,endPTS:(e+a)/l,startDTS:v/l,endDTS:this.nextAvcDts/l,type:"video",nb:c.length,dropped:r};return this.observer.trigger(H.a.FRAG_PARSING_DATA,n),n},d.prototype.remuxAudio=function(t,e,n,i){var r,a,o,s,l=t.inputTimeScale,u=t.timescale,c=l/u,d=(t.isAAC?1024:1152)*c,h=this._PTSNormalize,f=this._initDTS,p=!t.isAAC&&this.typeSupported.mpeg,g=t.samples,m=[],y=this.nextAudioPts;if(n|=g.length&&y&&(i&&Math.abs(e-y/l)<.1||Math.abs(g[0].pts-y-f)<20*d),g.forEach(function(t){t.pts=t.dts=h(t.pts-f,e*l)}),0!==(g=g.filter(function(t){return 0<=t.pts})).length){if(n||(y=i?e*l:g[0].pts),t.isAAC)for(var v=this.config.maxAudioFramesDrift,b=0,_=y;b<g.length;){var T=g[b],S=T.pts-_,w=Math.abs(1e3*S/l);if(S<=-v*d)G.b.warn("Dropping 1 audio frame @ "+(_/l).toFixed(3)+"s due to "+Math.round(w)+" ms overlap."),g.splice(b,1),t.len-=T.unit.length;else if(v*d<=S&&w<1e4&&_){var E=Math.round(S/d);G.b.warn("Injecting "+E+" audio frame @ "+(_/l).toFixed(3)+"s due to "+Math.round(1e3*S/l)+" ms gap.");for(var C=0;C<E;C++){var k,D=Math.max(_,0);(k=U.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(G.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),k=T.unit.subarray()),g.splice(b,0,{unit:k,pts:D,dts:D}),t.len+=k.length,_+=d,b++}T.pts=T.dts=_,_+=d,b++}else Math.abs(S),T.pts=T.dts=_,_+=d,b++}for(var A=0,N=g.length;A<N;A++){var x=g[A],L=x.unit,x=x.pts;if(void 0!==s)r.duration=Math.round((x-s)/c);else{var O=Math.round(1e3*(x-y)/l),I=0;if(n&&t.isAAC&&O){if(0<O&&O<1e4)I=Math.round((x-y)/d),G.b.log(O+" ms hole between AAC samples detected,filling it"),0<I&&(k=(k=U.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||L.subarray(),t.len+=I*k.length);else if(O<-12){G.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(y/l).toFixed(3)+"s/"+(x/l).toFixed(3)+"s/"+-O+"ms"),t.len-=L.byteLength;continue}x=y}if(o=x,!(0<t.len))return;var O=p?t.len:t.len+8,R=p?0:8;try{a=new Uint8Array(O)}catch(t){return void this.observer.trigger(H.a.ERROR,{type:W.b.MUX_ERROR,details:W.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:O,reason:"fail allocating audio mdat "+O})}p||(new DataView(a.buffer).setUint32(0,O),a.set(q.types.mdat,4));for(var P=0;P<I;P++)(k=U.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(G.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),k=L.subarray()),a.set(k,R),R+=k.byteLength,r={size:k.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},m.push(r)}a.set(L,R);O=L.byteLength;R+=O,m.push(r={size:O,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}}),s=x}var M,u=0,i=m.length;return(2<=i&&(u=m[i-2].duration,r.duration=u),i)?(this.nextAudioPts=y=s+c*u,t.len=0,t.samples=m,u=p?new Uint8Array:q.moof(t.sequenceNumber++,o/c,t),t.samples=[],this.observer.trigger(H.a.FRAG_PARSING_DATA,u={data1:u,data2:a,startPTS:u=o/l,endPTS:M=y/l,startDTS:u,endDTS:M,type:"audio",nb:i}),u):null}},d.prototype.remuxEmptyAudio=function(t,e,n,i){var r=t.inputTimeScale,a=t.samplerate||r,o=this.nextAudioPts,s=(void 0!==o?o:i.startDTS*r)+this._initDTS,o=i.endDTS*r+this._initDTS,l=1024*(r/a),u=Math.ceil((o-s)/l),c=U.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(G.b.warn("remux empty Audio"),c){for(var d=[],h=0;h<u;h++){var f=s+h*l;d.push({unit:c,pts:f,dts:f}),t.len+=c.length}t.samples=d,this.remuxAudio(t,e,n)}else G.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},d.prototype.remuxID3=function(t,e){var n,i=t.samples.length,r=t.inputTimeScale,a=this._initPTS,o=this._initDTS;if(i){for(var s=0;s<i;s++)(n=t.samples[s]).pts=(n.pts-a)/r,n.dts=(n.dts-o)/r;this.observer.trigger(H.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},d.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var n,i=t.samples.length,r=t.inputTimeScale,a=this._initPTS;if(i){for(var o=0;o<i;o++)(n=t.samples[o]).pts=(n.pts-a)/r;this.observer.trigger(H.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},d.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;4294967296<Math.abs(t-e);)t+=n;return t};var C=d;c.prototype.destroy=function(){},c.prototype.resetTimeStamp=function(){},c.prototype.resetInitSegment=function(){},c.prototype.remux=function(t,e,n,i,r,a,o,s){var l=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),l.trigger(H.a.FRAG_PARSING_DATA,{data1:s,startPTS:r,startDTS:r,type:u,nb:1,dropped:0}),l.trigger(H.a.FRAG_PARSED)};var M=c;function r(t,e,n,i){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.observer=t,this.typeSupported=e,this.config=n,this.vendor=i}function c(t){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.observer=t}function d(t,e,n,i){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.observer=t,this.config=e,this.typeSupported=n;t=navigator.userAgent;this.isSafari=i&&-1<i.indexOf("Apple")&&t&&!t.match("CriOS"),this.ISGenerated=!1}function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function")}function _(){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function")}function T(t,e,n){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");this.observer=t,this.config=n,this.remuxer=e}function O(t,e,n,i){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");this.observer=t,this.config=n,this.typeSupported=i,this.remuxer=e,this.sampleAes=null}function k(t,e,n,i){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this.decryptdata=n,this.discardEPB=i,this.decrypter=new y.a(t,e)}function D(t){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}function A(t,e){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.observer=t,this.remuxer=e}function x(t,e,n){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.observer=t,this.config=n,this.remuxer=e}r.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},r.prototype.push=function(t,n,i,r,a,o,s,l,u,c,d,h){if(0<t.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method){var e=this.decrypter;null==e&&(e=this.decrypter=new y.a(this.observer,this.config));var f,p=this;try{f=performance.now()}catch(t){f=Date.now()}e.decrypt(t,n.key.buffer,n.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}p.observer.trigger(H.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:e}}),p.pushDecrypted(new Uint8Array(t),n,new Uint8Array(i),r,a,o,s,l,u,c,d,h)})}else this.pushDecrypted(new Uint8Array(t),n,new Uint8Array(i),r,a,o,s,l,u,c,d,h)},r.prototype.pushDecrypted=function(t,e,n,i,r,a,o,s,l,u,c,d){if(!(T=this.demuxer)||o&&!this.probe(t)){for(var h=this.observer,f=this.typeSupported,p=this.config,g=[{demux:R,remux:C},{demux:E,remux:M},{demux:w,remux:C},{demux:P,remux:C}],m=0,y=g.length;m<y;m++){var v=g[m],b=v.demux.probe;if(b(t)){var _=this.remuxer=new v.remux(h,p,f,this.vendor),T=new v.demux(h,_,p,f);this.probe=b;break}}if(!T)return void h.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=T}var S=this.remuxer;(o||s)&&(T.resetInitSegment(n,i,r,u),S.resetInitSegment()),o&&(T.resetTimeStamp(d),S.resetTimeStamp(d)),"function"==typeof T.setDecryptData&&T.setDecryptData(e),T.append(t,a,l,c)},t.a=r},function(N,U,t){"use strict";function F(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}function H(t,e,n){var i=t[e],t=t[n],r=t.startPTS;isNaN(r)?t.start=e<n?i.start+i.duration:Math.max(i.start-t.duration,0):e<n?(i.duration=r-i.start,i.duration<0&&T.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(t.duration=i.start-r,t.duration<0&&T.b.warn("negative duration computed for frag "+t.sn+",level "+t.level+", there should be some duration drift between playlist and fragment!"))}function W(t,e,n,i,r,a){var o,s,l=n,u=(isNaN(e.startPTS)||(u=Math.abs(e.startPTS-n),isNaN(e.deltaPTS)?e.deltaPTS=u:e.deltaPTS=Math.max(u,e.deltaPTS),l=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),i=Math.max(i,e.endPTS),r=Math.min(r,e.startDTS),a=Math.max(a,e.endDTS)),n-e.start),l=(e.start=e.startPTS=n,e.maxStartPTS=l,e.endPTS=i,e.startDTS=r,e.endDTS=a,e.duration=i-n,e.sn);if(!t||l<t.startSN||l>t.endSN)return 0;for(r=l-t.startSN,(o=t.fragments)[r]=e,s=r;0<s;s--)H(o,s,s-1);for(s=r;s<o.length-1;s++)H(o,s,s+1);return t.PTSKnown=!0,u}function G(t,e){var n,i=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,o=t.fragments,s=e.fragments,l=0;if(r<i)return e.PTSKnown=!1;for(var u=i;u<=r;u++){var c=o[a+u],d=s[u];d&&c&&(l=c.cc-d.cc,isNaN(c.startPTS)||(d.start=d.startPTS=c.startPTS,d.endPTS=c.endPTS,d.duration=c.duration,d.backtracked=c.backtracked,d.dropped=c.dropped,n=d))}if(l)for(T.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<s.length;u++)s[u].cc+=l;if(n)W(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(0<=a&&a<o.length)for(var h=o[a].start,u=0;u<s.length;u++)s[u].start+=h;e.PTSKnown=t.PTSKnown}function q(t,e){var t=t.fragments,e=e.fragments;{if(e.length&&t.length)return(t=function(t,e){for(var n=null,i=0;i<t.length;i+=1){var r=t[i];if(r&&r.cc===e){n=r;break}}return n}(t,e[0].cc))&&t.startPTS?t:void T.b.log("No frag in previous level to align on");T.b.log("No fragments to align")}}function V(n,t){t.fragments.forEach(function(t){var e;t&&(e=t.start+n,t.start=t.startPTS=e,t.endPTS=e+t.duration)}),t.PTSKnown=!0}function Y(t,e,n){var i,r,a;t=t,a=n,r=!1,(r=!!((i=e)&&i.details&&a&&(a.endCC>a.startCC||t&&t.cc<a.startCC))||r)&&(i=q(e.details,n))&&(T.b.log("Adjusting PTS using last level due to CC increase within current level"),V(i.start,n)),!1===n.PTSKnown&&e&&e.details&&(t=e.details.programDateTime,a=(n.programDateTime-t)/1e3+e.details.fragments[0].start,isNaN(a)||(T.b.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),V(a,n)))}function z(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Bt,this.regionList=[]}function $(){this.values=Object.create(null)}function K(t,e,n,i){var r,a,o=i?t.split(i):[t];for(r in o)"string"!=typeof o[r]||2===(a=o[r].split(n)).length&&e(a[0],a[1])}function X(n,t,a){function e(){var t=(t=(t=n).match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/))?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null;function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}if(null===t)throw new Error("Malformed timestamp: "+s);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){n=n.replace(/^\s+/,"")}var r,o,s=n;if(i(),t.startTime=e(),i(),"--\x3e"!==n.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);n=n.substr(3),i(),t.endTime=e(),i(),r=n,t=t,o=new $,K(r,function(t,e){switch(t){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===e){o.set(t,a[n].region);break}break;case"vertical":o.alt(t,e,["rl","lr"]);break;case"line":var i=e.split(","),r=i[0];o.integer(t,r),o.percent(t,r)&&o.set("snapToLines",!1),o.alt(t,r,["auto"]),2===i.length&&o.alt("lineAlign",i[1],["start",pe,"end"]);break;case"position":i=e.split(","),o.percent(t,i[0]),2===i.length&&o.alt("positionAlign",i[1],["start",pe,"end","line-left","line-right","auto"]);break;case"size":o.percent(t,e);break;case"align":o.alt(t,e,["start",pe,"end","left","right"])}},/:/,/\s/),t.region=o.get("region",null),t.vertical=o.get("vertical",""),"auto"===(r=o.get("line","auto"))&&-1===fe.line&&(r=-1),t.line=r,t.lineAlign=o.get("lineAlign","start"),t.snapToLines=o.get("snapToLines",!0),t.size=o.get("size",100),t.align=o.get("align",pe),"auto"===(r=o.get("position","auto"))&&50===fe.position&&(r="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=r}function Q(t){return t.replace(/<br(?: \/)?>/gi,"\n")}function J(t,e,n,i){for(var r,a,o,s,l,u=window.VTTCue||window.TextTrackCue,c=0;c<i.rows.length;c++)if(o=!0,s=0,l="",!(r=i.rows[c]).isEmpty()){for(var d=0;d<r.chars.length;d++)r.chars[d].uchar.match(/\s/)&&o?s++:(l+=r.chars[d].uchar,o=!1);(r.cueStartTime=e)===n&&(n+=1e-4),a=new u(e,n,Q(l.trim())),16<=s?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=c+1:a.line=7<c?c-2:c+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){if(t&&t.cues)for(;0<t.cues.length;)t.removeCue(t.cues[0])}function Z(t){for(var e=[],n=0;n<t.length;n++)"subtitles"===t[n].kind&&e.push(t[n]);return e}Object.defineProperty(U,"__esModule",{value:!0});var tt={},e=(t.d(tt,"newCue",function(){return J}),t(6)),r=t.n(e),b=t(1),_=t(2),T=t(0),et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};v.prototype.destroy=function(){this.unregisterListeners()},v.prototype.isEventHandler=function(){return"object"===et(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},v.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},v.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},v.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},v.prototype.onEventGeneric=function(t,e){try{!function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}.call(this,t,e).call()}catch(e){T.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(b.a.ERROR,{type:_.b.OTHER_ERROR,details:_.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}};var s=v,nt=/^(\d+)x(\d+)$/,it=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;y.prototype.decimalInteger=function(t){t=parseInt(this[t],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},y.prototype.hexadecimalInteger=function(t){if(this[t]){for(var e=(1&(e=(this[t]||"0x").slice(2)).length?"0":"")+e,n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},y.prototype.hexadecimalIntegerAsNumber=function(t){t=parseInt(this[t],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},y.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},y.prototype.enumeratedString=function(t){return this[t]},y.prototype.decimalResolution=function(t){t=nt.exec(this[t]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},y.parseAttrList=function(t){var e,n={};for(it.lastIndex=0;null!==(e=it.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n};var S=y,rt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},e=function(t,e,n){return e&&de(t.prototype,e),n&&de(t,n),t},at=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,ot=/#EXT-X-MEDIA:(.*)/g,st=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),lt=(e(ce,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=r.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),ce),ut=(m.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},m.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new lt).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},m.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},e(m,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=r.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){var t,e,n;return this._byteRange||(t=this._byteRange=[],this.rawByteRange&&(1===(e=this.rawByteRange.split("@",2)).length?(n=this.lastByteRangeEndOffset,t[0]=n||0):t[0]=parseInt(e[1]),t[1]=parseInt(e[0])+t[0])),this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),m),ct=function(e){function n(t){j(this,n);t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.MANIFEST_LOADING,b.a.LEVEL_LOADING,b.a.AUDIO_TRACK_LOADING,b.a.SUBTITLE_TRACK_LOADING));return t.loaders={},t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype.destroy=function(){for(var t in this.loaders){t=this.loaders[t];t&&t.destroy()}this.loaders={},s.prototype.destroy.call(this)},n.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},n.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},n.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},n.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},n.prototype.load=function(t,e){var n=this.loaders[e.type];if(void 0!==n){var i=n.context;if(i&&i.url===t)return void T.b.trace("playlist request ongoing");T.b.warn("abort previous loader for type:"+e.type),n.abort()}var i=this.hls.config,r=void 0,a=void 0,o=void 0,s=void 0,i=("manifest"===e.type?(r=i.manifestLoadingMaxRetry,a=i.manifestLoadingTimeOut,o=i.manifestLoadingRetryDelay,s=i.manifestLoadingMaxRetryTimeout):"level"===e.type?(r=0,a=i.levelLoadingTimeOut):(r=i.levelLoadingMaxRetry,a=i.levelLoadingTimeOut,o=i.levelLoadingRetryDelay,s=i.levelLoadingMaxRetryTimeout,T.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),n=this.loaders[e.type]=e.loader=new(void 0!==i.pLoader?i.pLoader:i.loader)(i),e.url=t,e.responseType="",{timeout:a,maxRetry:r,retryDelay:o,maxRetryDelay:s}),t={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};n.load(e,i,t)},n.prototype.resolve=function(t,e){return r.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},n.prototype.parseMasterPlaylist=function(t,e){var n=[];for(at.lastIndex=0;null!=(a=at.exec(t));){var i={},r=i.attrs=new S(a[1]),a=(i.url=this.resolve(a[2],e),r.decimalResolution("RESOLUTION"));a&&(i.width=a.width,i.height=a.height),i.bitrate=r.decimalInteger("AVERAGE-BANDWIDTH")||r.decimalInteger("BANDWIDTH"),i.name=r.NAME,function(i,r){["video","audio"].forEach(function(n){var t,e=i.filter(function(t){return t=t,!!(e=rt[e=n])&&!0===e[t.slice(0,4)];var e});e.length&&(t=e.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}),r[n+"Codec"]=(0<t.length?t:e)[0],i=i.filter(function(t){return-1===e.indexOf(t)}))}),r.unknownCodecs=i}([].concat((r.CODECS||"").split(/[ ,]+/)),i),i.videoCodec&&-1!==i.videoCodec.indexOf("avc1")&&(i.videoCodec=this.avc1toavcoti(i.videoCodec)),n.push(i)}return n},n.prototype.parseMasterPlaylistMedia=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],r=[],a=0;for(ot.lastIndex=0;null!==(s=ot.exec(t));){var o={},s=new S(s[1]);s.TYPE===n&&(o.groupId=s["GROUP-ID"],o.name=s.NAME,o.type=n,o.default="YES"===s.DEFAULT,o.autoselect="YES"===s.AUTOSELECT,o.forced="YES"===s.FORCED,s.URI&&(o.url=this.resolve(s.URI,e)),o.lang=s.LANGUAGE,o.name||(o.name=o.lang),i.length&&(s=function(t,e){if(!t)return null;for(var n=null,i=0;i<t.length;i++){var r=t[i];r.id===e&&(n=r)}return n}(i,o.groupId),o.audioCodec=(s||i[0]).codec),o.id=a++,r.push(o))}return r},n.prototype.avc1toavcoti=function(t){var e,n=t.split(".");return 2<n.length?(e=n.shift()+".",e=(e+=parseInt(n.shift()).toString(16))+("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},n.prototype.parseLevelPlaylist=function(t,e,n,i){var r,a,o=0,s=0,l={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},u=new lt,c=0,d=null,h=new ut;for(st.lastIndex=0;null!==(r=st.exec(t));){var f=r[1];if(f){h.duration=parseFloat(f);var p=(" "+r[2]).slice(1);h.title=p||null,h.tagList.push(p?["INF",f,p]:["INF",f])}else if(r[3])isNaN(h.duration)||(p=o++,h.type=i,h.start=s,h.levelkey=u,h.sn=p,h.level=n,h.cc=c,h.baseurl=e,h.relurl=(" "+r[3]).slice(1),l.fragments.push(h),s+=(d=h).duration,h=new ut);else if(r[4])h.rawByteRange=(" "+r[4]).slice(1),d&&(f=d.byteRangeEndOffset)&&(h.lastByteRangeEndOffset=f);else if(r[5])h.rawProgramDateTime=(" "+r[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(r[5]))-1e3*s));else{for(r=r[0].match(/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/),a=1;a<r.length&&void 0===r[a];a++);var g=(" "+r[a+1]).slice(1),m=(" "+r[a+2]).slice(1);switch(r[a]){case"#":h.tagList.push(m?[g,m]:[g]);break;case"PLAYLIST-TYPE":l.type=g.toUpperCase();break;case"MEDIA-SEQUENCE":o=l.startSN=parseInt(g);break;case"TARGETDURATION":l.targetduration=parseFloat(g);break;case"VERSION":l.version=parseInt(g);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":c++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(g);break;case"KEY":var y=new S(g),v=y.enumeratedString("METHOD"),b=y.URI,y=y.hexadecimalInteger("IV");v&&(u=new lt,b&&0<=["AES-128","SAMPLE-AES"].indexOf(v)&&(u.method=v,u.baseuri=e,u.reluri=b,u.key=null,u.iv=y));break;case"START":v=new S(g).decimalFloatingPoint("TIME-OFFSET");isNaN(v)||(l.startTimeOffset=v);break;case"MAP":b=new S(g);h.relurl=b.URI,h.rawByteRange=b.BYTERANGE,h.baseurl=e,h.level=n,h.type=i,h.sn="initSegment",l.initSegment=h,h=new ut;break;default:T.b.warn("line parsed but not handled: "+r)}}}return(h=d)&&!h.relurl&&(l.fragments.pop(),s-=h.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=o-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=c,l},n.prototype.loadsuccess=function(t,e,n){var i,r,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=t.data,t=t.url,s=n.type,l=n.id,u=n.level,c=this.hls;(this.loaders[s]=void 0)!==t&&0!==t.indexOf("data:")||(t=n.url),e.tload=performance.now(),0===o.indexOf("#EXTM3U")?0<o.indexOf("#EXTINF:")?(n="audioTrack"!==s&&"subtitleTrack"!==s,i=isNaN(u)?isNaN(l)?0:l:u,(i=this.parseLevelPlaylist(o,t,i,"audioTrack"===s?"audio":"subtitleTrack"===s?"subtitle":"main")).tload=e.tload,"manifest"===s&&c.trigger(b.a.MANIFEST_LOADED,{levels:[{url:t,details:i}],audioTracks:[],url:t,stats:e,networkDetails:a}),e.tparsed=performance.now(),i.targetduration?n?c.trigger(b.a.LEVEL_LOADED,{details:i,level:u||0,id:l||0,stats:e,networkDetails:a}):"audioTrack"===s?c.trigger(b.a.AUDIO_TRACK_LOADED,{details:i,id:l,stats:e,networkDetails:a}):"subtitleTrack"===s&&c.trigger(b.a.SUBTITLE_TRACK_LOADED,{details:i,id:l,stats:e,networkDetails:a}):c.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t,reason:"invalid targetduration",networkDetails:a})):(n=this.parseMasterPlaylist(o,t)).length?(u=n.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),s=this.parseMasterPlaylistMedia(o,t,"AUDIO",u),i=this.parseMasterPlaylistMedia(o,t,"SUBTITLES"),s.length&&(r=!1,s.forEach(function(t){t.url||(r=!0)}),!1===r&&n[0].audioCodec&&!n[0].attrs.AUDIO&&(T.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),s.unshift({type:"main",name:"main"}))),c.trigger(b.a.MANIFEST_LOADED,{levels:n,audioTracks:s,subtitles:i,url:t,stats:e,networkDetails:a})):c.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t,reason:"no level found in manifest",networkDetails:a}):c.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t,reason:"no EXTM3U delimiter",networkDetails:a})},n.prototype.loaderror=function(t,e){var n,i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.loader;switch(e.type){case"manifest":n=_.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":n=_.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":n=_.a.AUDIO_TRACK_LOAD_ERROR,i=!1}a&&(a.abort(),this.loaders[e.type]=void 0),this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:n,fatal:i,url:a.url,loader:a,response:t,context:e,networkDetails:r})},n.prototype.loadtimeout=function(t,e){var n,i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.loader;switch(e.type){case"manifest":n=_.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":n=_.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":n=_.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}a&&(a.abort(),this.loaders[e.type]=void 0),this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:n,fatal:i,url:a.url,loader:a,context:e,networkDetails:r})},n}(s),dt=function(e){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.FRAG_LOADING));return t.loaders={},t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype.destroy=function(){var t,e=this.loaders;for(t in e){var n=e[t];n&&n.destroy()}this.loaders={},s.prototype.destroy.call(this)},n.prototype.onFragLoading=function(t){var t=t.frag,e=t.type,n=this.loaders[e],i=this.hls.config,e=(t.loaded=0,n&&(T.b.warn("abort previous fragment loader for type:"+e),n.abort()),n=this.loaders[e]=t.loader=new(void 0!==i.fLoader?i.fLoader:i.loader)(i),void 0),e={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1},r=t.byteRangeStartOffset,t=t.byteRangeEndOffset;isNaN(r)||isNaN(t)||(e.rangeStart=r,e.rangeEnd=t),r={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},t={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(e,r,t)},n.prototype.loadsuccess=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,t=t.data,n=n.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(b.a.FRAG_LOADED,{payload:t,frag:n,stats:e,networkDetails:i})},n.prototype.loaderror=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},n.prototype.loadtimeout=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},n.prototype.loadprogress=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,e=e.frag;e.loaded=t.loaded,this.hls.trigger(b.a.FRAG_LOAD_PROGRESS,{frag:e,stats:t,networkDetails:i})},n}(s),ht=function(e){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.KEY_LOADING));return t.loaders={},t.decryptkey=null,t.decrypturl=null,t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype.destroy=function(){for(var t in this.loaders){t=this.loaders[t];t&&t.destroy()}this.loaders={},s.prototype.destroy.call(this)},n.prototype.onKeyLoading=function(t){var e,n,t=t.frag,i=t.type,r=this.loaders[i],a=t.decryptdata,o=a.uri;o!==this.decrypturl||null===this.decryptkey?(e=this.hls.config,r&&(T.b.warn("abort previous key loader for type:"+i),r.abort()),t.loader=this.loaders[i]=new e.loader(e),this.decrypturl=o,r=void(this.decryptkey=null),n=i=void 0,r={url:o,frag:t,responseType:"arraybuffer"},i={timeout:e.fragLoadingTimeOut,maxRetry:e.fragLoadingMaxRetry,retryDelay:e.fragLoadingRetryDelay,maxRetryDelay:e.fragLoadingMaxRetryTimeout},n={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(r,i,n)):this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(b.a.KEY_LOADED,{frag:t}))},n.prototype.loadsuccess=function(t,e,n){n=n.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(b.a.KEY_LOADED,{frag:n})},n.prototype.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},n.prototype.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},n}(s),w={search:function(t,e){for(var n=0,i=t.length-1;n<=i;){var r,a,o=e(a=t[r=(n+i)/2|0]);if(0<o)n=1+r;else{if(!(o<0))return a;i=r-1}}return null}},E={isBuffered:function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(t){}return!1},bufferInfo:function(t,e,n){try{if(t){for(var i=t.buffered,r=[],a=0;a<i.length;a++)r.push({start:i.start(a),end:i.end(a)});return this.bufferedInfo(r,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,n){var i,r,a,o,s,l=[];for(t.sort(function(t,e){return t.start-e.start||e.end-t.end}),s=0;s<t.length;s++){var u,c=l.length;c?(u=l[c-1].end,t[s].start-u<n?t[s].end>u&&(l[c-1].end=t[s].end):l.push(t[s])):l.push(t[s])}for(i=s=0,r=a=e;s<l.length;s++){var d=l[s].start,h=l[s].end;if(d<=e+n&&e<h)r=d,i=(a=h)-e;else if(e+n<d){o=d;break}}return{len:i,start:r,end:a,nextStart:o}}},ft=t(7),e=t(5),pt=t.n(e),e=t(9),gt=t.n(e),mt=B();g.prototype.destroy=function(){var t=this.w,t=(t?(t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null):(t=this.demuxer)&&(t.destroy(),this.demuxer=null),this.observer);t&&(t.removeAllListeners(),this.observer=null)},g.prototype.push=function(t,e,n,i,r,a,o,s){var l=this.w,u=isNaN(r.startDTS)?r.start:r.startDTS,c=r.decryptdata,d=this.frag,h=!(d&&r.cc===d.cc),f=!(d&&r.level===d.level),d=d&&r.sn===d.sn+1,d=!f&&d;h&&T.b.log(this.id+":discontinuity detected"),f&&T.b.log(this.id+":switch detected"),this.frag=r,l?l.postMessage({cmd:"demux",data:t,decryptdata:c,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:u,discontinuity:h,trackSwitch:f,contiguous:d,duration:a,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]):(r=this.demuxer)&&r.push(t,c,e,n,i,u,h,f,d,a,o,s)},g.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case b.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}};var yt=g,vt={toString:function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}},bt=function(t,e,n){return e&&ue(t.prototype,e),n&&ue(t,n),t},l="STOPPED",u="IDLE",_t="KEY_LOADING",Tt="FRAG_LOADING",St="FRAG_LOADING_WAITING_RETRY",wt="WAITING_LEVEL",c="PARSING",Et="PARSED",Ct="BUFFER_FLUSHING",kt="ENDED",d="ERROR",Dt=function(n){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,t,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.MANIFEST_LOADING,b.a.MANIFEST_PARSED,b.a.LEVEL_LOADED,b.a.KEY_LOADED,b.a.FRAG_LOADED,b.a.FRAG_LOAD_EMERGENCY_ABORTED,b.a.FRAG_PARSING_INIT_SEGMENT,b.a.FRAG_PARSING_DATA,b.a.FRAG_PARSED,b.a.ERROR,b.a.AUDIO_TRACK_SWITCHING,b.a.AUDIO_TRACK_SWITCHED,b.a.BUFFER_CREATED,b.a.BUFFER_APPENDED,b.a.BUFFER_FLUSHED));return e.config=t.config,e.audioCodecSwap=!1,e.ticks=0,e._state=l,e.ontick=e.tick.bind(e),e}var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),s.prototype.destroy.call(this),this.state=l},i.prototype.startLoad=function(t){var e,n,i;this.levels?(e=this.lastCurrentTime,n=this.hls,this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,this.startFragRequested||(-1===(i=n.startLevel)&&(this.bitrateTest=!(i=0)),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1),0<e&&-1===t&&(T.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=u,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()):(this.forceStartLoad=!0,this.state=l)},i.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=l,this.forceStartLoad=!1},i.prototype.tick=function(){1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},i.prototype.doTick=function(){switch(this.state){case d:break;case Ct:this.fragLoadError=0;break;case u:this._doTickIdle();break;case wt:var t=this.levels[this.level];t&&t.details&&(this.state=u);break;case St:var t=performance.now(),e=this.retryDate;(!e||e<=t||this.media&&this.media.seeking)&&(T.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=u)}this._checkBuffer(),this._checkFragmentChanged()},i.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var i=this.loadedmetadata?n.currentTime:this.nextLoadPosition,r=t.nextLoadLevel,a=this.levels[r];if(a){var o=a.bitrate,s=void 0,s=o?Math.max(8*e.maxBufferSize/o,e.maxBufferLength):e.maxBufferLength,o=(s=Math.min(s,e.maxMaxBufferLength),E.bufferInfo(this.mediaBuffer||n,i,e.maxBufferHole)),e=o.len;if(!(s<=e)){T.b.trace("buffer length of "+e.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;e=a.details;if(void 0===e||!0===e.live&&this.levelLastLoaded!==r)this.state=wt;else{s=this.fragPrevious;if(!e.live&&s&&!s.backtracked&&s.sn===e.endSN&&!o.nextStart)if(Math.min(n.duration,s.start+s.duration)-Math.max(o.end,s.start)<=Math.max(.2,s.duration))return t={},this.altAudio&&(t.type="video"),this.hls.trigger(b.a.BUFFER_EOS,t),void(this.state=kt);this._fetchPayloadOrEos(i,o,e)}}}}},i.prototype._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,r=this.level,a=n.fragments,o=a.length;if(0!==o){var s=a[0].start,l=a[o-1].start+a[o-1].duration,e=e.end,u=void 0;if(n.initSegment&&!n.initSegment.data)u=n.initSegment;else if(n.live){var c=this.config.initialLiveManifestSize;if(o<c)return void T.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+c);if(null===(u=this._ensureFragmentAtLivePoint(n,e,s,l,i,a,o)))return}else e<s&&(u=a[0]);(u=u||this._findFragment(s,i,o,a,e,l,n))&&this._loadFragmentOrKey(u,r,n,t,e)}},i.prototype._ensureFragmentAtLivePoint=function(t,e,n,i,r,a,o){var s=this.hls.config,l=this.media,u=void 0,c=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*t.targetduration;return e<Math.max(n-s.maxFragLookUpTolerance,i-c)&&(s=this.liveSyncPosition=this.computeLivePosition(n,t),T.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+s.toFixed(3)),e=s,l&&l.readyState&&l.duration>s&&(l.currentTime=s),this.nextLoadPosition=s),t.PTSKnown&&i<e&&l&&l.readyState?null:(this.startFragRequested&&!t.PTSKnown&&(r&&((c=r.sn+1)>=t.startSN&&c<=t.endSN&&(n=a[c-t.startSN],r.cc===n.cc&&T.b.log("live playlist, switching playlist, load frag with next SN: "+(u=n).sn)),u||(u=w.search(a,function(t){return r.cc-t.cc}))&&T.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)),u||(u=a[Math.min(o-1,Math.round(o/2))],T.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))),u)},i.prototype._findFragment=function(t,e,n,i,r,a,o){function s(t){var e=Math.min(d,t.duration+(t.deltaPTS||0));return t.start+t.duration-e<=r?1:t.start-e>r&&t.start?-1:0}var l=this.hls.config,u=void 0,c=void 0,d=l.maxFragLookUpTolerance,h=e?i[e.sn-i[0].sn+1]:void 0;return(c=r<a?(a-d<r&&(d=0),h&&!s(h)?h:w.search(i,s)):i[n-1])&&(a=(u=c).sn-o.startSN,h=e&&u.level===e.level,n=i[a-1],c=i[1+a],e&&u.sn===e.sn&&(h&&!u.backtracked?u.sn<o.endSN?(i=e.deltaPTS)&&i>l.maxBufferHole&&e.dropped&&a?(u=n,T.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):T.b.log("SN just loaded, load next one: "+(u=c).sn):u=null:u.backtracked&&(c&&c.backtracked?(T.b.warn("Already backtracked from fragment "+c.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+c.sn),u=c):(T.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,n?(n.loadCounter&&n.loadCounter--,(u=n).backtracked=!0):a&&(u=null))))),u},i.prototype._loadFragmentOrKey=function(t,e,n,i,r){var a=this.hls,o=a.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(T.b.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e+", currentTime:"+i.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;i=o.fragLoadingLoopThreshold;if(t.loadCounter>i&&Math.abs(this.fragLoadIdx-t.loadIdx)<i)return void a.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=a.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),a.trigger(b.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new yt(a,"main")),void(this.state=Tt)}T.b.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e),this.state=_t,a.trigger(b.a.KEY_LOADING,{frag:t})},i.prototype.getBufferedFrag=function(e){return w.search(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})},i.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},i.prototype._checkFragmentChanged=function(){var t,e,n=this.media;n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),E.isBuffered(n,e)?t=this.getBufferedFrag(e):E.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)&&((n=t)!==this.fragPlaying&&(this.hls.trigger(b.a.FRAG_CHANGED,{frag:n}),e=n.level,this.fragPlaying&&this.fragPlaying.level===e||this.hls.trigger(b.a.LEVEL_SWITCHED,{level:e}),this.fragPlaying=n))},i.prototype.immediateLevelSwitch=function(){T.b.log("immediateLevelSwitch"),this.immediateSwitch||(this.immediateSwitch=!0,t=void 0,(e=this.media)?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t);var t,e=this.fragCurrent;e&&e.loader&&e.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},i.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,E.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},i.prototype.nextLevelSwitch=function(){var t,e,n,i,r=this.media;r&&r.readyState&&((t=i=n=void 0)!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),(i=this.getBufferedFrag(r.currentTime))&&1<i.startPTS&&this.flushMainBuffer(0,i.startPTS-1),n=r.paused?0:(i=this.hls.nextLoadLevel,i=this.levels[i],(e=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*i.bitrate/(1e3*e)+1:0),(t=this.getBufferedFrag(r.currentTime+n))&&(t=this.followingBufferedFrag(t))&&((i=this.fragCurrent)&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(t.maxStartPTS,Number.POSITIVE_INFINITY)))},i.prototype.flushMainBuffer=function(t,e){this.state=Ct;t={startOffset:t,endOffset:e};this.altAudio&&(t.type="video"),this.hls.trigger(b.a.BUFFER_FLUSHING,t)},i.prototype.onMediaAttached=function(t){t=this.media=this.mediaBuffer=t.media,this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended),t=this.config;this.levels&&t.autoStartLoad&&this.hls.startLoad(t.startPosition)},i.prototype.onMediaDetaching=function(){var t=this.media,e=(t&&t.ended&&(T.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),this.levels);e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.prototype.onMediaSeeking=function(){var t,e,n,i=this.media,r=i?i.currentTime:void 0,a=this.config,o=(isNaN(r)||T.b.log("media seeking to "+r.toFixed(3)),this.mediaBuffer||i),o=E.bufferInfo(o,r,this.config.maxBufferHole);this.state===Tt?(t=this.fragCurrent,0===o.len&&t&&(n=a.maxFragLookUpTolerance,e=t.start-n,n=t.start+t.duration+n,r<e||n<r?(t.loader&&(T.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=u):T.b.log("seeking outside of buffer but within currently loaded fragment range"))):this.state===kt&&(0===o.len&&(this.fragPrevious=0),this.state=u),i&&(this.lastCurrentTime=r),this.state!==Tt&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*a.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=r),this.tick()},i.prototype.onMediaSeeked=function(){var t=this.media,t=t?t.currentTime:void 0;isNaN(t)||T.b.log("media seeked to "+t.toFixed(3)),this.tick()},i.prototype.onMediaEnded=function(){T.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},i.prototype.onManifestLoading=function(){T.b.log("trigger BUFFER_RESET"),this.hls.trigger(b.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},i.prototype.onManifestParsed=function(t){var e,n=!1,i=!1,t=(t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&T.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1,this.config);(t.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(t.startPosition)},i.prototype.onLevelLoaded=function(t){var e,n=t.details,t=t.level,i=this.levels[this.levelLastLoaded],r=this.levels[t],a=n.totalduration,o=0;T.b.log("level "+t+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live?(e=r.details)&&0<n.fragments.length?(G(e,n),o=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,e),n.PTSKnown&&!isNaN(o)?T.b.log("live playlist sliding:"+o.toFixed(3)):(T.b.log("live playlist - outdated PTS, unknown sliding"),Y(this.fragPrevious,i,n))):(T.b.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,Y(this.fragPrevious,i,n)):n.PTSKnown=!1,r.details=n,this.levelLastLoaded=t,this.hls.trigger(b.a.LEVEL_UPDATED,{details:n,level:t}),!1===this.startFragRequested&&(-1!==this.startPosition&&-1!==this.lastCurrentTime||(e=n.startTimeOffset,isNaN(e)?n.live?(this.startPosition=this.computeLivePosition(o,n),T.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(e<0&&(T.b.log("negative start time offset "+e+", count from end of last fragment"),e=o+a+e),T.b.log("start time offset found in playlist, adjust startPosition to "+e),this.startPosition=e),this.lastCurrentTime=this.startPosition),this.nextLoadPosition=this.startPosition),this.state===wt&&(this.state=u),this.tick()},i.prototype.onKeyLoaded=function(){this.state===_t&&(this.state=u,this.tick())},i.prototype.onFragLoaded=function(t){var e,n,i,r,a,o=this.fragCurrent,s=t.frag;this.state===Tt&&o&&"main"===s.type&&s.level===o.level&&s.sn===o.sn&&(r=t.stats,a=(e=this.levels[o.level]).details,T.b.log("Loaded  "+o.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+o.level),this.bitrateTest=!1,this.stats=r,!0===s.bitrateTest&&this.hls.nextLoadLevel?(this.state=u,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(b.a.FRAG_BUFFERED,{stats:r,frag:o,id:"main"}),this.tick()):"initSegment"===s.sn?(this.state=u,r.tparsed=r.tbuffered=performance.now(),a.initSegment.data=t.payload,this.hls.trigger(b.a.FRAG_BUFFERED,{stats:r,frag:o,id:"main"}),this.tick()):(this.state=c,s=a.totalduration,r=o.level,i=o.sn,n=this.config.defaultAudioCodec||e.audioCodec,this.audioCodecSwap&&(T.b.log("swapping playlist audio codec"),n=(n=void 0===n?this.lastAudioCodec:n)&&(-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,T.b.log("Parsing "+i+" of ["+a.startSN+" ,"+a.endSN+"],level "+r+", cc "+o.cc),i=(i=this.demuxer)||(this.demuxer=new yt(this.hls,"main")),r=!((r=this.media)&&r.seeking)&&(a.PTSKnown||!a.live),a=a.initSegment?a.initSegment.data:[],i.push(t.payload,a,n,e.videoCodec,o,s,r,void 0))),this.fragLoadError=0},i.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===c){var i,r,a=t.tracks;for(i in a.audio&&this.altAudio&&delete a.audio,(r=a.audio)&&(n=this.levels[this.level].audioCodec,e=navigator.userAgent.toLowerCase(),n&&this.audioCodecSwap&&(T.b.log("swapping playlist audio codec"),n=-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===e.indexOf("firefox")&&(n="mp4a.40.5"),-1!==e.indexOf("android")&&"audio/mpeg"!==r.container&&T.b.log("Android: force audio codec to "+(n="mp4a.40.2")),r.levelCodec=n,r.id=t.id),(r=a.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(b.a.BUFFER_CODECS,a),a){r=a[i],T.b.log("main track:"+i+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;o&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(b.a.BUFFER_APPENDING,{type:i,data:o,parent:"main",content:"initSegment"}))}this.tick()}},i.prototype.onFragParsingData=function(e){var n=this,t=this.fragCurrent,i=e.frag;if(t&&"main"===e.id&&i.sn===t.sn&&i.level===t.level&&("audio"!==e.type||!this.altAudio)&&this.state===c){var i=this.levels[this.level],r=t;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+t.duration,e.endDTS=e.startDTS+t.duration),T.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(r.dropped=e.dropped,r.dropped)if(r.backtracked)T.b.warn("Already backtracked on this fragment, appending with the gap");else{t=i.details;if(!t||r.sn!==t.startSN)return T.b.warn("missing video frame(s), backtracking fragment"),r.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=u,this.fragPrevious=r,void this.tick();T.b.warn("missing video frame(s) on first frag, appending with gap")}else r.backtracked=!1;var t=W(i.details,r,e.startPTS,e.endPTS,e.startDTS,e.endDTS),a=this.hls;a.trigger(b.a.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:t,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(t){t&&t.length&&n.state===c&&(n.appended=!0,n.pendingBuffering=!0,a.trigger(b.a.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))}),this.tick()}},i.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===c&&(this.stats.tparsed=performance.now(),this.state=Et,this._checkAppendedParsed())},i.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,t=t.id;e||(this.mediaBuffer!==this.media&&(T.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,(e=this.fragCurrent).loader&&(T.b.log("switching to main audio track, cancel main fragment load"),e.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=u),(e=this.hls).trigger(b.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),e.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:t}),this.altAudio=!1)},i.prototype.onAudioTrackSwitched=function(t){var e,t=t.id,t=!!this.hls.audioTracks[t].url;t&&(e=this.videoBuffer)&&this.mediaBuffer!==e&&(T.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e),this.altAudio=t,this.tick()},i.prototype.onBufferCreated=function(t){var e,n=t.tracks,i=void 0,r=void 0,a=!1;for(e in n){var o=n[e];"main"===o.id?(i=o,"video"===(r=e)&&(this.videoBuffer=n[e].buffer)):a=!0}a&&i?(T.b.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},i.prototype.onBufferAppended=function(t){var e;"main"!==t.parent||(e=this.state)!==c&&e!==Et||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed())},i.prototype._checkAppendedParsed=function(){var t,e,n;this.state!==Et||this.appended&&this.pendingBuffering||((t=this.fragCurrent)&&(e=this.mediaBuffer||this.media,T.b.log("main buffered : "+vt.toString(e.buffered)),(n=this._bufferedFrags.filter(function(t){return E.isBuffered(e,(t.startPTS+t.endPTS)/2)})).push(t),this._bufferedFrags=n.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t,(n=this.stats).tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(b.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=u),this.tick())},i.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n,i=!!this.media&&E.isBuffered(this.media,this.media.currentTime)&&E.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:case _.a.KEY_LOAD_ERROR:case _.a.KEY_LOAD_TIMEOUT:t.fatal||(this.fragLoadError+1<=this.config.fragLoadingMaxRetry?(n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout),e.loadCounter=0,T.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=St):(T.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=d));break;case _.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(i?(this._reduceMaxBufferLength(e.duration),this.state=u):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=d));break;case _.a.LEVEL_LOAD_ERROR:case _.a.LEVEL_LOAD_TIMEOUT:this.state!==d&&(t.fatal?(this.state=d,T.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==wt||(this.state=u));break;case _.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==c&&this.state!==Et||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=u):(T.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},i.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,T.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},i.prototype._checkBuffer=function(){var t,e,n,i,r,a,o,s,l=this.media,u=this.config;l&&l.readyState&&(t=l.currentTime,n=(o=this.mediaBuffer||l).buffered,!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,e=l.seeking?t:this.startPosition,o=E.isBuffered(o,e),n=n.start(0),o=!o&&Math.abs(e-n)<u.maxSeekHole,t===e&&!o||(T.b.log("target start position:"+e),o&&T.b.log("target start position not buffered, seek to buffered.start(0) "+(e=n)),T.b.log("adjust currentTime from "+t+" to "+e),l.currentTime=e)):this.immediateSwitch?this.immediateLevelSwitchEnd():(o=E.bufferInfo(l,t,0),n=!(l.paused||l.ended||0===l.buffered.length),t!==this.lastCurrentTime?(this.stallReported&&(T.b.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0):n&&(e=performance.now(),n=this.hls,this.stalled?(i=e-this.stalled,r=o.len,a=this.nudgeRetry||0,r<=.5&&i>1e3*u.lowBufferWatchdogPeriod?(this.stallReported||(this.stallReported=!0,T.b.warn("playback stalling in low buffer @"+t),n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:r})),s=(o=o.nextStart)-t,o&&s<u.maxSeekHole&&0<s&&(this.nudgeRetry=++a,s=a*u.nudgeOffset,T.b.log("adjust currentTime from "+l.currentTime+" to next buffered @ "+o+" + nudge "+s),l.currentTime=o+s,this.stalled=void 0,n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:o+s-t}))):.5<r&&i>1e3*u.highBufferWatchdogPeriod&&(this.stallReported||(this.stallReported=!0,T.b.warn("playback stalling in high buffer @"+t),n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:r})),this.stalled=void 0,this.nudgeRetry=++a,a<u.nudgeMaxRetry?(s=(o=l.currentTime)+a*u.nudgeOffset,T.b.log("adjust currentTime from "+o+" to "+s),l.currentTime=s,n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_NUDGE_ON_STALL,fatal:!1})):(T.b.error("still stuck in high buffer @"+t+" after "+u.nudgeMaxRetry+", raise fatal error"),n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_STALLED_ERROR,fatal:!0})))):(this.stalled=e,this.stallReported=!1))))},i.prototype.onFragLoadEmergencyAborted=function(){this.state=u,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},i.prototype.onBufferFlushed=function(){var e=this.mediaBuffer||this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return E.isBuffered(e,(t.startPTS+t.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=u,this.fragPrevious=null},i.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},i.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},bt(i,[{key:"state",set:function(t){var e;this.state!==t&&(e=this.state,this._state=t,T.b.log("main stream:"+e+"->"+t),this.hls.trigger(b.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t}))},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){t=this.getBufferedFrag(t.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),i}(s),At=function(t,e,n){return e&&le(t.prototype,e),n&&le(t,n),t},xt=function(e){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.MANIFEST_LOADED,b.a.LEVEL_LOADED,b.a.FRAG_LOADED,b.a.ERROR));return t.canload=!1,t.currentLevelIndex=null,t.manualLevelIndex=-1,t.timer=null,t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},n.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},n.prototype.stopLoad=function(){this.canload=!1},n.prototype.onManifestLoaded=function(t){var e,n=[],i={},r=null,a=!1,o=!1,s=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),l=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,a=a||!!t.videoCodec,o=o||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===s&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),void 0===(r=i[t.bitrate])?(t.url=[t.url],t.urlId=0,i[t.bitrate]=t,n.push(t)):r.url.push(t.url)}),n=(n=!0===a&&!0===o?n.filter(function(t){return!!t.videoCodec}):n).filter(function(t){var e=t.audioCodec,t=t.videoCodec;return(!e||F(e))&&(!t||F(t))}),t.audioTracks&&(l=t.audioTracks.filter(function(t){return!t.audioCodec||F(t.audioCodec,"audio")})),0<n.length){e=n[0].bitrate,n.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=n;for(var u=0;u<n.length;u++)if(n[u].bitrate===e){this._firstLevel=u,T.b.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(b.a.MANIFEST_PARSED,{levels:n,audioTracks:l,firstLevel:this._firstLevel,stats:t.stats,audio:o,video:a,altAudio:0<l.length})}else this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},n.prototype.setLevelInternal=function(t){var e,n=this._levels,i=this.hls;0<=t&&t<n.length?(this.cleanTimer(),this.currentLevelIndex!==t&&(T.b.log("switching to level "+t),(e=n[this.currentLevelIndex=t]).level=t,i.trigger(b.a.LEVEL_SWITCH,e),i.trigger(b.a.LEVEL_SWITCHING,e)),(n=(e=n[t]).details)&&!0!==n.live||(n=e.urlId,i.trigger(b.a.LEVEL_LOADING,{url:e.url[n],level:t,id:n}))):i.trigger(b.a.ERROR,{type:_.b.OTHER_ERROR,details:_.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},n.prototype.onError=function(t){if(!0===t.fatal)t.type===_.b.NETWORK_ERROR&&this.cleanTimer();else{var e=!1,n=!1,i=void 0;switch(t.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:case _.a.FRAG_LOOP_LOADING_ERROR:case _.a.KEY_LOAD_ERROR:case _.a.KEY_LOAD_TIMEOUT:i=t.frag.level,n=!0;break;case _.a.LEVEL_LOAD_ERROR:case _.a.LEVEL_LOAD_TIMEOUT:i=t.context.level,e=!0;break;case _.a.REMUX_ALLOC_ERROR:i=t.level,e=!0}void 0!==i&&this.recoverLevel(t,i,e,n)}},n.prototype.recoverLevel=function(t,e,n,i){var r=this,a=this.hls.config,o=t.details,s=this._levels[e];if(s.loadError++,s.fragmentError=i,!0===n){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return T.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return r.loadLevel()},a),t.levelRetry=!0,this.levelRetryCount++,T.b.warn("level controller, "+o+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}!0!==n&&!0!==i||(1<(t=s.url.length)&&s.loadError<t?(T.b.warn("level controller, "+o+" for level "+e+": switching to redundant stream id "+s.urlId),s.urlId=(s.urlId+1)%t,s.details=void 0):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,T.b.warn("level controller, "+o+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):!0===i&&(T.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},n.prototype.onFragLoaded=function(t){var t=t.frag;void 0!==t&&"main"===t.type&&void 0!==(t=this._levels[t.level])&&(t.fragmentError=!1,t.loadError=0,this.levelRetryCount=0)},n.prototype.onLevelLoaded=function(t){var e,n,i=this,r=t.level;r===this.currentLevelIndex&&(!1===(r=this._levels[r]).fragmentError&&(r.loadError=0,this.levelRetryCount=0),(e=t.details).live?(n=1e3*(e.averagetargetduration||e.targetduration),(r=r.details)&&e.endSN===r.endSN&&(n/=2,T.b.log("same live playlist, reload twice faster")),n-=performance.now()-t.stats.trequest,n=Math.max(1e3,Math.round(n)),T.b.log("live playlist, reload in "+n+" ms"),this.timer=setTimeout(function(){return i.loadLevel()},n)):this.cleanTimer())},n.prototype.loadLevel=function(){var t,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(e=this._levels[this.currentLevelIndex])&&0<e.url.length&&(t=e.urlId,this.hls.trigger(b.a.LEVEL_LOADING,{url:e.url[t],level:this.currentLevelIndex,id:t}))},At(n,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){var t;return void 0===this._startLevel?void 0!==(t=this.hls.config.startLevel)?t:this._firstLevel:this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),n}(s),Lt=t(3),Ot=function(e){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.FRAG_PARSING_METADATA));return t.id3Track=void 0,t.media=void 0,t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype.destroy=function(){s.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(t){this.media=t.media,this.media},n.prototype.onMediaDetaching=function(){this.media=void 0},n.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var a=Lt.a.getID3Frames(n[r].data);if(a){var o=n[r].pts,s=r<n.length-1?n[r+1].pts:e.endPTS;o===s&&(s+=1e-4);for(var l=0;l<a.length;l++){var u,c=a[l];Lt.a.isTimeStampFrame(c)||((u=new i(o,s,"")).value=c,this.id3Track.addCue(u))}}}},n}(s);i.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},i.prototype.getTotalWeight=function(){return this.totalWeight_},i.prototype.getEstimate=function(){var t;return this.alpha_?(t=1-Math.pow(this.alpha_,this.totalWeight_),this.estimate_/t):this.estimate_};var It=i;p.prototype.sample=function(t,e){e=8e3*e/(t=Math.max(t,this.minDelayMs_)),t/=1e3;this.fast_.sample(t,e),this.slow_.sample(t,e)},p.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},p.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},p.prototype.destroy=function(){};var Rt=p,Pt=function(t,e,n){return e&&se(t.prototype,e),n&&se(t,n),t},e=function(n){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,t,b.a.FRAG_LOADING,b.a.FRAG_LOADED,b.a.FRAG_BUFFERED,b.a.ERROR));return e.lastLoadedFragLevel=0,e._nextAutoLevel=-1,e.hls=t,e.timer=null,e._bwEstimator=null,e.onCheck=e._abandonRulesCheck.bind(e),e}var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.destroy=function(){this.clearTimer(),s.prototype.destroy.call(this)},i.prototype.onFragLoading=function(t){var e,n,i,r,a=t.frag;"main"===a.type&&(this.timer||(this.timer=setInterval(this.onCheck,100)),this._bwEstimator||(e=this.hls,t=t.frag.level,t=e.levels[t].details.live,n=e.config,r=i=void 0,r=t?(i=n.abrEwmaFastLive,n.abrEwmaSlowLive):(i=n.abrEwmaFastVoD,n.abrEwmaSlowVoD),this._bwEstimator=new Rt(e,r,i,n.abrEwmaDefaultEstimate)),this.fragCurrent=a)},i.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent,i=n.loader,r=t.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return T.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=i.stats;if(e&&a&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var o=performance.now()-a.trequest,s=Math.abs(e.playbackRate);if(o>500*n.duration/s){var l=t.levels,u=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),c=l[n.level],c=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,c=a.total||Math.max(a.loaded,Math.round(n.duration*c/8)),d=e.currentTime,c=(c-a.loaded)/u,h=(E.bufferInfo(e,d,t.config.maxBufferHole).end-d)/s;if(h<2*n.duration/s&&h<c){for(var f=void 0,p=void 0,p=n.level-1;r<p;p--){var g=l[p].realBitrate?Math.max(l[p].realBitrate,l[p].bitrate):l[p].bitrate;if((f=n.duration*g/(6.4*u))<h)break}f<c&&(T.b.warn("loading too slow, abort fragment loading and switch to level "+p+":fragLoadedDelay["+p+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+f.toFixed(1)+"<"+c.toFixed(1)+":"+h.toFixed(1)),t.nextLoadLevel=p,this._bwEstimator.sample(o,a.loaded),i.abort(),this.clearTimer(),t.trigger(b.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}},i.prototype.onFragLoaded=function(t){var e,n,i=t.frag;"main"!==i.type||isNaN(i.sn)||(this.clearTimer(),this.lastLoadedFragLevel=i.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate&&(e=((i=this.hls.levels[i.level]).loaded?i.loaded.bytes:0)+t.stats.loaded,n=(i.loaded?i.loaded.duration:0)+t.frag.duration,i.loaded={bytes:e,duration:n},i.realBitrate=Math.round(8*e/n)),t.frag.bitrateTest&&((i=t.stats).tparsed=i.tbuffered=i.tload,this.onFragBuffered(t)))},i.prototype.onFragBuffered=function(t){var e,n=t.stats,t=t.frag;!0===n.aborted||1!==t.loadCounter||"main"!==t.type||isNaN(t.sn)||t.bitrateTest&&n.tload!==n.tbuffered||(e=n.tparsed-n.trequest,T.b.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(e,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),t.bitrateTest?this.bitrateTestDelay=e/1e3:this.bitrateTestDelay=0)},i.prototype.onError=function(t){switch(t.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},i.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},i.prototype._findBestLevel=function(t,e,n,i,r,a,o,s,l){for(var u=r;i<=u;u--){var c=l[u].details,d=c?c.totalduration/c.fragments.length:e,c=!!c&&c.live,h=u<=t?o*n:s*n,f=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,p=f*d/h;if(T.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(h)+"/"+f+"/"+d+"/"+a+"/"+p),f<h&&(!p||c&&!this.bitrateTestDelay||p<a))return u}return-1},Pt(i,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;e=this._nextABRAutoLevel;return e=-1!==t?Math.min(t,e):e},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,r=t.minAutoLevel,t=t.media,a=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,s=t?t.currentTime:0,l=t&&0!==t.playbackRate?Math.abs(t.playbackRate):1,u=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,t=(E.bufferInfo(t,s,i.maxBufferHole).end-s)/l,s=this._findBestLevel(a,o,u,r,e,t,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(0<=s)return s;T.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var c,l=o?Math.min(o,i.maxStarvationDelay):i.maxStarvationDelay,d=i.abrBandWidthFactor,h=i.abrBandWidthUpFactor;return 0==t&&(c=this.bitrateTestDelay)&&(l=(o?Math.min(o,i.maxLoadingDelay):i.maxLoadingDelay)-c,T.b.trace("bitrate test took "+Math.round(1e3*c)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*l)+" ms"),d=h=1),s=this._findBestLevel(a,o,u,r,e,t+l,d,h,n),Math.max(s,0)}}]),i}(s),Mt=B(),Nt=function(e){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.MEDIA_ATTACHING,b.a.MEDIA_DETACHING,b.a.MANIFEST_PARSED,b.a.BUFFER_RESET,b.a.BUFFER_APPENDING,b.a.BUFFER_CODECS,b.a.BUFFER_EOS,b.a.BUFFER_FLUSHING,b.a.LEVEL_PTS_UPDATED,b.a.LEVEL_UPDATED));return t._msDuration=null,t._levelDuration=null,t._live=null,t._objectUrl=null,t.onsbue=t.onSBUpdateEnd.bind(t),t.onsbe=t.onSBUpdateError.bind(t),t.pendingTracks={},t.tracks={},t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype.destroy=function(){s.prototype.destroy.call(this)},n.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){e=this.sourceBuffer.audio;if(.1<Math.abs(e.timestampOffset-t.start)){n=e.updating;try{e.abort()}catch(t){n=!0,T.b.warn("can not abort audio buffer: "+t)}n?this.audioTimestampOffset=t.start:(T.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+t.start),e.timestampOffset=t.start)}}},n.prototype.onManifestParsed=function(t){var e=t.audio,n=t.video||t.levels.length&&t.audio,i=0;t.altAudio&&(e||n)&&T.b.log((i=(e?1:0)+(n?1:0))+" sourceBuffer(s) expected"),this.sourceBufferNb=i},n.prototype.onMediaAttaching=function(t){var e,t=this.media=t.media;t&&(e=this.mediaSource=new Mt,this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),e.addEventListener("sourceopen",this.onmso),e.addEventListener("sourceended",this.onmse),e.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(e),this._objectUrl=t.src)},n.prototype.onMediaDetaching=function(){T.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){T.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):T.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(b.a.MEDIA_DETACHED)},n.prototype.onMediaSourceOpen=function(){T.b.log("media source opened"),this.hls.trigger(b.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},n.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},n.prototype.onMediaSourceClose=function(){T.b.log("media source closed")},n.prototype.onMediaSourceEnded=function(){T.b.log("media source ended")},n.prototype.onSBUpdateEnd=function(){this.audioTimestampOffset&&(t=this.sourceBuffer.audio,T.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset),this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var n=this.parent,t=this.segments.reduce(function(t,e){return e.parent===n?t+1:t},0);this.hls.trigger(b.a.BUFFER_APPENDED,{parent:n,pending:t}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},n.prototype.onSBUpdateError=function(t){T.b.error("sourceBuffer error:",t),this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferReset=function(){var t,e=this.sourceBuffer;for(t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},n.prototype.createSourceBuffers=function(t){var e,n=this.sourceBuffer,i=this.mediaSource;for(e in t)if(!n[e]){var r=t[e],a=r.levelCodec||r.codec,o=r.container+";codecs="+a;T.b.log("creating sourceBuffer("+o+")");try{var s=n[e]=i.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[e]={codec:a,container:r.container},r.buffer=s}catch(t){T.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:o})}}this.hls.trigger(b.a.BUFFER_CREATED,{tracks:t})},n.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},n.prototype.onBufferAppendFail=function(t){T.b.error("sourceBuffer error:",t.event),this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferEos=function(t){var e,n=this.sourceBuffer,i=t.type;for(e in n)i&&e!==i||n[e].ended||(n[e].ended=!0,T.b.log(e+" sourceBuffer now EOS"));this.checkEos()},n.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){n=t[n];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}T.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){T.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},n.prototype.onLevelUpdated=function(t){t=t.details;0<t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._live=t.live,this.updateMediaElementDuration())},n.prototype.updateMediaElementDuration=function(){var t,e=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(T.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||t===1/0||isNaN(t))&&(T.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n)e+=n[i].buffered.length}catch(t){T.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(b.a.BUFFER_FLUSHED)}},n.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,n=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void T.b.error("trying to append although a media error occured, flush segment and abort");if(!this.appending&&(n&&n.length)){var i=n.shift();try{var r=e[i.type];r?r.updating?n.unshift(i):(r.ended=!1,this.parent=i.parent,r.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){T.b.error("error while trying to append buffer:"+e.message),n.unshift(i);r={type:_.b.MEDIA_ERROR,parent:i.parent};if(22===e.code)return this.segments=[],r.details=_.a.BUFFER_FULL_ERROR,r.fatal=!1,void t.trigger(b.a.ERROR,r);if(this.appendError?this.appendError++:this.appendError=1,r.details=_.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return T.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],r.fatal=!0,void t.trigger(b.a.ERROR,r);r.fatal=!1,t.trigger(b.a.ERROR,r)}}}},n.prototype.flushBuffer=function(t,e,n){var i,r,a,o,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(T.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var c in u)if(!n||c===n){if((i=u[c]).ended=!1,i.updating)return T.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<i.buffered.length;r++)if(a=i.buffered.start(r),o=i.buffered.end(r),l=-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(s=t,e):(s=Math.max(a,t),Math.min(o,e)),.5<Math.min(l,o)-s)return this.flushBufferCounter++,T.b.log("flush "+c+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),i.remove(s,l),!1}catch(t){T.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else T.b.warn("abort flushing too many retries");T.b.log("buffer flushed")}return!0},n}(s),Ut=function(t,e,n){return e&&oe(t.prototype,e),n&&oe(t,n),t},Ft=function(n){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var e=this,t=n.call(this,t,b.a.FPS_DROP_LEVEL_CAPPING,b.a.MEDIA_ATTACHING,b.a.MANIFEST_PARSED);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var t=r,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},r.prototype.onFpsDropLevelCapping=function(t){r.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},r.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},r.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.prototype.detectPlayerSize=function(){var t,e;this.media&&(t=this.levels?this.levels.length:0)&&((e=this.hls).autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping)},r.prototype.getMaxLevel=function(n){var i=this;if(!this.levels)return-1;var t=this.levels.filter(function(t,e){return r.isLevelAllowed(e,i.restrictedLevels)&&e<=n});return r.getMaxLevelByMediaSize(t,this.mediaWidth,this.mediaHeight)},r.isLevelAllowed=function(t){return-1===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},r.getMaxLevelByMediaSize=function(t,e,n){if(!t||!t.length)return-1;for(var i,r=t.length-1,a=0;a<t.length;a+=1){var o=t[a];if((o.width>=e||o.height>=n)&&(!(i=t[a+1])||o.width!==i.width||o.height!==i.height)){r=a;break}}return r},Ut(r,[{key:"mediaWidth",get:function(){var t=void 0,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=r.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=r.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),r}(s),jt=function(n){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var e=this,t=n.call(this,t,b.a.MEDIA_ATTACHING);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},i.prototype.checkFPS=function(t,e,n){var i,r,a,o,s=performance.now();e&&(this.lastTime&&(o=s-this.lastTime,i=n-this.lastDroppedFrames,r=e-this.lastDecodedFrames,o=1e3*i/o,(a=this.hls).trigger(b.a.FPS_DROP,{currentDropped:i,currentDecoded:r,totalDroppedFrames:n}),0<o&&i>a.config.fpsDroppedMonitoringThreshold*r&&(o=a.currentLevel,T.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+o),0<o&&(-1===a.autoLevelCapping||a.autoLevelCapping>=o)&&(a.trigger(b.a.FPS_DROP_LEVEL_CAPPING,{level:--o,droppedLevel:a.currentLevel}),a.autoLevelCapping=o,a.streamController.nextLevelSwitch()))),this.lastTime=s,this.lastDroppedFrames=n,this.lastDecodedFrames=e)},i.prototype.checkFPSInterval=function(){var t,e=this.video;e&&(this.isVideoPlaybackQualityAvailable?(t=e.getVideoPlaybackQuality(),this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)):this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount))},i}(s);n.prototype.destroy=function(){this.abort(),this.loader=null},n.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},n.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},n.prototype.loadInternal=function(){var t=this.context,e=this.loader=new XMLHttpRequest,n=this.stats,i=(n.tfirst=0,n.loaded=0,this.xhrSetup);try{if(i)try{i(e,t.url)}catch(n){e.open("GET",t.url,!0),i(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},n.prototype.readystatechange=function(t){var e,n,t=t.currentTarget,i=t.readyState,r=this.stats,a=this.context,o=this.config;!r.aborted&&2<=i&&(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===i?200<=(i=t.status)&&i<300?(r.tload=Math.max(r.tfirst,performance.now()),n=e=void 0,n="arraybuffer"===a.responseType?(e=t.response).byteLength:(e=t.responseText).length,r.loaded=r.total=n,n={url:t.responseURL,data:e},this.callbacks.onSuccess(n,r,a,t)):r.retry>=o.maxRetry||400<=i&&i<499?(T.b.error(i+" while loading "+a.url),this.callbacks.onError({code:i,text:t.statusText},a,t)):(T.b.warn(i+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++):this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout))},n.prototype.loadtimeout=function(){T.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},n.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats,t=(n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total),this.callbacks.onProgress);t&&t(n,this.context,null,e)};function Bt(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}}var Ht=n,Wt=function(t,e,n){return e&&ae(t.prototype,e),n&&ae(t,n),t},Gt=function(e){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.MANIFEST_LOADING,b.a.MANIFEST_PARSED,b.a.AUDIO_TRACK_LOADED,b.a.ERROR));return t.ticks=0,t.ontick=t.tick.bind(t),t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype.destroy=function(){this.cleanTimer(),s.prototype.destroy.call(this)},n.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.tick=function(){1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},n.prototype.doTick=function(){this.updateTrack(this.trackId)},n.prototype.onError=function(t){t.fatal&&t.type===_.b.NETWORK_ERROR&&this.cleanTimer()},n.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},n.prototype.onManifestParsed=function(t){var e=this,t=t.audioTracks||[],n=!1,i=(this.tracks=t,this.hls.trigger(b.a.AUDIO_TRACKS_UPDATED,{audioTracks:t}),0);t.forEach(function(t){if(t.default&&!n)return e.audioTrack=i,void(n=!0);i++}),!1===n&&t.length&&(T.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},n.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(T.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},n.prototype.setAudioTrackInternal=function(t){var e,n,i,r;0<=t&&t<this.tracks.length&&(this.cleanTimer(),this.trackId=t,T.b.log("switching to audioTrack "+t),e=this.tracks[t],n=this.hls,r=e.type,i=e.url,n.trigger(b.a.AUDIO_TRACK_SWITCH,r={id:t,type:r,url:i}),n.trigger(b.a.AUDIO_TRACK_SWITCHING,r),r=e.details,!i||void 0!==r&&!0!==r.live||(T.b.log("(re)loading playlist for audioTrack "+t),n.trigger(b.a.AUDIO_TRACK_LOADING,{url:i,id:t})))},n.prototype.updateTrack=function(t){var e,n;0<=t&&t<this.tracks.length&&(this.cleanTimer(),this.trackId=t,T.b.log("updating audioTrack "+t),e=(n=this.tracks[t]).url,n=n.details,!e||void 0!==n&&!0!==n.live||(T.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(b.a.AUDIO_TRACK_LOADING,{url:e,id:t})))},Wt(n,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),n}(s),qt=function(t,e,n){return e&&re(t.prototype,e),n&&re(t,n),t},Vt="STOPPED",Yt="STARTING",C="IDLE",zt="PAUSED",$t="KEY_LOADING",Kt="FRAG_LOADING",Xt="FRAG_LOADING_WAITING_RETRY",Qt="WAITING_TRACK",h="PARSING",f="PARSED",Jt="BUFFER_FLUSHING",Zt="ENDED",te="ERROR",ee="WAITING_INIT_PTS",ne=function(n){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,t,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.AUDIO_TRACKS_UPDATED,b.a.AUDIO_TRACK_SWITCHING,b.a.AUDIO_TRACK_LOADED,b.a.KEY_LOADED,b.a.FRAG_LOADED,b.a.FRAG_PARSING_INIT_SEGMENT,b.a.FRAG_PARSING_DATA,b.a.FRAG_PARSED,b.a.ERROR,b.a.BUFFER_RESET,b.a.BUFFER_CREATED,b.a.BUFFER_APPENDED,b.a.BUFFER_FLUSHED,b.a.INIT_PTS_FOUND));return e.config=t.config,e.audioCodecSwap=!1,e.ticks=0,e._state=Vt,e.ontick=e.tick.bind(e),e.initPTS=[],e.waitingFragment=null,e.videoTrackCC=null,e}var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),s.prototype.destroy.call(this),this.state=Vt},i.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,t=t.initPTS;"main"===e&&(this.initPTS[n]=t,this.videoTrackCC=n,T.b.log("InitPTS for cc:"+n+" found from video track:"+t),this.state===ee&&this.tick())},i.prototype.startLoad=function(t){var e;this.tracks?(e=this.lastCurrentTime,this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),(this.fragLoadError=0)<e&&-1===t?(T.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=C):(this.lastCurrentTime=this.startPosition||t,this.state=Yt),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()):(this.startPosition=t,this.state=Vt)},i.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Vt},i.prototype.tick=function(){1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},i.prototype.doTick=function(){var t,e,n,i=this.hls,r=i.config;switch(this.state){case te:case zt:case Jt:break;case Yt:this.state=Qt,this.loadedmetadata=!1;break;case C:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer||this.media,s=this.videoBuffer||this.media,l=E.bufferInfo(o,t,r.maxBufferHole),s=E.bufferInfo(s,t,r.maxBufferHole),u=l.len,c=l.end,d=this.fragPrevious,s=Math.max(r.maxBufferLength,s.len),h=this.audioSwitch,f=this.trackId;if((u<s||h)&&f<a.length){if(void 0===(u=a[f].details)){this.state=Qt;break}if(!h&&!u.live&&d&&d.sn===u.endSN&&!l.nextStart&&(!this.media.seeking||this.media.duration-c<d.duration/2)){this.hls.trigger(b.a.BUFFER_EOS,{type:"audio"}),this.state=Zt;break}var s=u.fragments,a=s.length,p=s[0].start,g=s[a-1].start+s[a-1].duration,m=void 0;if(h)if(u.live&&!u.PTSKnown)T.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),c=0;else if(c=t,u.PTSKnown&&t<p){if(!(l.end>p||l.nextStart))return;T.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=p+.05}if(u.initSegment&&!u.initSegment.data)m=u.initSegment;else if(c<=p){m=s[0];if(null!==this.videoTrackCC&&m.cc!==this.videoTrackCC&&(n=this.videoTrackCC,m=w.search(s,function(t){return t.cc<n?1:t.cc>n?-1:0})),u.live&&m.loadIdx&&m.loadIdx===this.fragLoadIdx)return h=l.nextStart||p,T.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(h+.05)),void(this.media.currentTime=h+.05)}else{var l=void 0,y=r.maxFragLookUpTolerance,h=d?s[d.sn-s[0].sn+1]:void 0,v=function(t){var e=Math.min(y,t.duration);return t.start+t.duration-e<=c?1:t.start-e>c&&t.start?-1:0};(l=c<g?(g-y<c&&(y=0),h&&!v(h)?h:w.search(s,v)):s[a-1])&&(p=(m=l).start,d&&m.level===d.level&&m.sn===d.sn&&(m.sn<u.endSN?(m=s[m.sn+1-u.startSN],T.b.log("SN just loaded, load next one: "+m.sn)):m=null))}if(m)if(m.decryptdata&&null!=m.decryptdata.uri&&null==m.decryptdata.key)T.b.log("Loading key for "+m.sn+" of ["+u.startSN+" ,"+u.endSN+"],track "+f),this.state=$t,i.trigger(b.a.KEY_LOADING,{frag:m});else{if(T.b.log("Loading "+m.sn+", cc: "+m.cc+" of ["+u.startSN+" ,"+u.endSN+"],track "+f+", currentTime:"+t+",bufferEnd:"+c.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,m.loadCounter){m.loadCounter++;g=r.fragLoadingLoopThreshold;if(m.loadCounter>g&&Math.abs(this.fragLoadIdx-m.loadIdx)<g)return void i.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:m})}else m.loadCounter=1;m.loadIdx=this.fragLoadIdx,this.fragCurrent=m,this.startFragRequested=!0,isNaN(m.sn)||(this.nextLoadPosition=m.start+m.duration),i.trigger(b.a.FRAG_LOADING,{frag:m}),this.state=Kt}}break;case Qt:(e=this.tracks[this.trackId])&&e.details&&(this.state=C);break;case Xt:h=performance.now(),v=this.retryDate,a=(o=this.media)&&o.seeking;(!v||v<=h||a)&&(T.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=C);break;case ee:l=this.videoTrackCC;if(void 0===this.initPTS[l])break;p=this.waitingFragment;p?l!==(d=p.frag.cc)?(e=this.tracks[this.trackId]).details&&e.details.live&&(T.b.warn("Waiting fragment CC ("+d+") does not match video track CC ("+l+")"),this.waitingFragment=null,this.state=C):(this.state=Kt,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null):this.state=C}},i.prototype.onMediaAttached=function(t){t=this.media=this.mediaBuffer=t.media,this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended),t=this.config;this.tracks&&t.autoStartLoad&&this.startLoad(t.startPosition)},i.prototype.onMediaDetaching=function(){var t=this.media,e=(t&&t.ended&&(T.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),this.tracks);e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.prototype.onMediaSeeking=function(){this.state===Zt&&(this.state=C),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},i.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.prototype.onAudioTracksUpdated=function(t){T.b.log("audio tracks updated"),this.tracks=t.audioTracks},i.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=zt,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=C,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},i.prototype.onAudioTrackLoaded=function(t){var e=t.details,t=t.id,n=this.tracks[t],i=e.totalduration,r=0;T.b.log("track "+t+" loaded ["+e.startSN+","+e.endSN+"],duration:"+i),e.live?(t=n.details)&&0<e.fragments.length?(G(t,e),r=e.fragments[0].start,e.PTSKnown?T.b.log("live audio playlist sliding:"+r.toFixed(3)):T.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,T.b.log("live audio playlist - first load, unknown sliding")):e.PTSKnown=!1,n.details=e,this.startFragRequested||(-1===this.startPosition&&(i=e.startTimeOffset,isNaN(i)?this.startPosition=0:(T.b.log("start time offset found in playlist, adjust startPosition to "+i),this.startPosition=i)),this.nextLoadPosition=this.startPosition),this.state===Qt&&(this.state=C),this.tick()},i.prototype.onKeyLoaded=function(){this.state===$t&&(this.state=C,this.tick())},i.prototype.onFragLoaded=function(t){var e,n,i,r,a,o,s,l=this.fragCurrent,u=t.frag;this.state===Kt&&l&&"audio"===u.type&&u.level===l.level&&u.sn===l.sn&&(n=(e=(u=this.tracks[this.trackId]).details).totalduration,i=l.level,r=l.sn,a=l.cc,u=this.config.defaultAudioCodec||u.audioCodec||"mp4a.40.2",o=this.stats=t.stats,"initSegment"===r?(this.state=C,o.tparsed=o.tbuffered=performance.now(),e.initSegment.data=t.payload,this.hls.trigger(b.a.FRAG_BUFFERED,{stats:o,frag:l,id:"audio"}),this.tick()):(this.state=h,this.appended=!1,this.demuxer||(this.demuxer=new yt(this.hls,"audio")),o=this.initPTS[a],s=e.initSegment?e.initSegment.data:[],e.initSegment||void 0!==o?(this.pendingBuffering=!0,T.b.log("Demuxing "+r+" of ["+e.startSN+" ,"+e.endSN+"],track "+i),this.demuxer.push(t.payload,s,u,null,l,n,!1,o)):(T.b.log("unknown video PTS for continuity counter "+a+", waiting for video PTS before demuxing audio frag "+r+" of ["+e.startSN+" ,"+e.endSN+"],track "+i),this.waitingFragment=t,this.state=ee))),this.fragLoadError=0},i.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===h&&(n=void 0,(e=t.tracks).video&&delete e.video,(n=e.audio)&&(n.levelCodec=n.codec,n.id=t.id,this.hls.trigger(b.a.BUFFER_CODECS,e),T.b.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]"),(t=n.initSegment)&&(e={type:"audio",data:t,parent:"audio",content:"initSegment"},this.audioSwitch?this.pendingData=[e]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(b.a.BUFFER_APPENDING,e))),this.tick()))},i.prototype.onFragParsingData=function(e){var t,n,i,r,a=this,o=this.fragCurrent,s=e.frag;o&&"audio"===e.id&&"audio"===e.type&&s.sn===o.sn&&s.level===o.level&&this.state===h&&(s=this.trackId,i=this.tracks[s],t=this.hls,isNaN(e.endPTS)&&(e.endPTS=e.startPTS+o.duration,e.endDTS=e.startDTS+o.duration),T.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),W(i.details,o,e.startPTS,e.endPTS),i=this.audioSwitch,o=this.media,n=!1,i&&o&&(o.readyState?(i=o.currentTime,T.b.log("switching audio track : currentTime:"+i),i>=e.startPTS&&(T.b.log("switching audio track : flushing all audio"),this.state=Jt,t.trigger(b.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),this.audioSwitch=!(n=!0),t.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:s}))):(this.audioSwitch=!1,t.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:s}))),r=this.pendingData,this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&r.push({type:e.type,data:t,parent:"audio",content:"data"})}),!n&&r.length&&(r.forEach(function(t){a.state===h&&(a.pendingBuffering=!0,a.hls.trigger(b.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick())},i.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===h&&(this.stats.tparsed=performance.now(),this.state=f,this._checkAppendedParsed())},i.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},i.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},i.prototype.onBufferAppended=function(t){var e;"audio"!==t.parent||(e=this.state)!==h&&e!==f||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed())},i.prototype._checkAppendedParsed=function(){var t,e,n;this.state!==f||this.appended&&this.pendingBuffering||(t=this.fragCurrent,n=this.stats,e=this.hls,t&&(this.fragPrevious=t,n.tbuffered=performance.now(),e.trigger(b.a.FRAG_BUFFERED,{stats:n,frag:t,id:"audio"}),n=this.mediaBuffer||this.media,T.b.log("audio buffered : "+vt.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,e.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=C),this.tick())},i.prototype.onError=function(t){var e,n,i=t.frag;if(!i||"audio"===i.type)switch(t.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:t.fatal||((e=this.fragLoadError)?e++:e=1,e<=(n=this.config).fragLoadingMaxRetry?(this.fragLoadError=e,i.loadCounter=0,e=Math.min(Math.pow(2,e-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout),T.b.warn("audioStreamController: frag loading failed, retry in "+e+" ms"),this.retryDate=performance.now()+e,this.state=Xt):(T.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=te));break;case _.a.FRAG_LOOP_LOADING_ERROR:case _.a.AUDIO_TRACK_LOAD_ERROR:case _.a.AUDIO_TRACK_LOAD_TIMEOUT:case _.a.KEY_LOAD_ERROR:case _.a.KEY_LOAD_TIMEOUT:this.state!==te&&(this.state=t.fatal?te:C,T.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case _.a.BUFFER_FULL_ERROR:"audio"!==t.parent||this.state!==h&&this.state!==f||(n=this.mediaBuffer,e=this.media.currentTime,n&&E.isBuffered(n,e)&&E.isBuffered(n,e+.5)?((n=this.config).maxMaxBufferLength>=n.maxBufferLength&&(n.maxMaxBufferLength/=2,T.b.warn("audio:reduce max buffer length to "+n.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.state=C):(T.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Jt,this.hls.trigger(b.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})))}},i.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(T.b.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(b.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=f):(this.state=C,this.fragPrevious=null,this.tick())},qt(i,[{key:"state",set:function(t){var e;this.state!==t&&(e=this.state,this._state=t,T.b.log("audio stream:"+e+"->"+t))},get:function(){return this._state}}]),i}(s),ie=function(){function _(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}function T(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function t(t,e,n){var i=this,r=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),a={},o=(r?i=document.createElement("custom"):a.enumerable=!0,i.hasBeenReset=!1,""),s=!1,l=t,u=e,c=n,d=null,h="",f=!0,p="auto",g="start",m=50,y="middle",v=50,b="middle";if(Object.defineProperty(i,"id",T({},a,{get:function(){return o},set:function(t){o=""+t}})),Object.defineProperty(i,"pauseOnExit",T({},a,{get:function(){return s},set:function(t){s=!!t}})),Object.defineProperty(i,"startTime",T({},a,{get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",T({},a,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",T({},a,{get:function(){return c},set:function(t){c=""+t,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",T({},a,{get:function(){return d},set:function(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",T({},a,{get:function(){return h},set:function(t){t="string"==typeof(t=t)&&!!S[t.toLowerCase()]&&t.toLowerCase();if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",T({},a,{get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",T({},a,{get:function(){return p},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",T({},a,{get:function(){return g},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",T({},a,{get:function(){return m},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",T({},a,{get:function(){return y},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",T({},a,{get:function(){return v},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",T({},a,{get:function(){return b},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),i.displayState=void 0,r)return i}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var S={"":!0,lr:!0,rl:!0},e={start:!0,middle:!0,end:!0,left:!0,right:!0};return t.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},t}();function re(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ae(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}function oe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function se(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n,i){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new It(e),this.fast_=new It(n)}function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}function le(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(n,t){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.hls=n,this.id=t;var r=this.observer=new pt.a,e=n.config,i=(r.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t,t].concat(n))},r.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.removeListener.apply(r,[t].concat(n))},function(t,e){(e=e||{}).frag=this.frag,e.id=this.id,n.trigger(t,e)}.bind(this)),i=(r.on(b.a.FRAG_DECRYPTED,i),r.on(b.a.FRAG_PARSING_INIT_SEGMENT,i),r.on(b.a.FRAG_PARSING_DATA,i),r.on(b.a.FRAG_PARSED,i),r.on(b.a.ERROR,i),r.on(b.a.FRAG_PARSING_METADATA,i),r.on(b.a.FRAG_PARSING_USERDATA,i),r.on(b.a.INIT_PTS_FOUND,i),{mp4:mt.isTypeSupported("video/mp4"),mpeg:mt.isTypeSupported("audio/mpeg"),mp3:mt.isTypeSupported('audio/mp4; codecs="mp3"')}),a=navigator.vendor;if(e.enableWorker&&"undefined"!=typeof Worker){T.b.log("demuxing in webworker");var o=void 0;try{o=this.w=gt()(10),this.onwmsg=this.onWorkerMessage.bind(this),o.addEventListener("message",this.onwmsg),o.onerror=function(t){n.trigger(b.a.ERROR,{type:_.b.OTHER_ERROR,details:_.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},o.postMessage({cmd:"init",typeSupported:i,vendor:a,id:t,config:JSON.stringify(e)})}catch(t){T.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),o&&URL.revokeObjectURL(o.objectURL),this.demuxer=new ft.a(r,i,e,a),this.w=void 0}}else this.demuxer=new ft.a(r,i,e,a)}function m(){j(this,m),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function ce(){j(this,ce),this.method=null,this.key=null,this.iv=null,this._uri=null}function de(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");for(var e in t="string"==typeof t?y.parseAttrList(t):t)t.hasOwnProperty(e)&&(this[e]=t[e])}function v(t){var e=this,n=v;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");this.hls=t,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(1<i?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}$.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};function he(t){var e=t;return me.hasOwnProperty(t)&&(e=me[t]),String.fromCharCode(e)}function k(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e}var fe=new ie(0,0,0),pe="middle"===fe.align?"middle":"center",ge=(z.prototype={parse:function(t){function e(){for(var t=0,e=Q(e=i.buffer);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}var i=this;t&&(i.buffer+=i.decoder.decode(t,{stream:!0}));try{if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var n,r=(n=e()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var a=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(a?a=!1:n=e(),i.state){case"HEADER":/:/.test(n)?K(n,function(t,e){"Region"===t&&console.log("parse region",e)},/:/):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new ie(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{X(n,i.cue,i.regionList)}catch(t){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(t){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}},z),me={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ye={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ve={17:2,18:4,21:6,22:8,23:10,19:13,20:15},be={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},_e={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Te=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],D={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var n=this.verboseFilter[t];this.verboseLevel>=n&&console.log(this.time+" ["+t+"] "+e)}},Se=(P.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},P.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},P.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},P.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},P.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},P.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},P),we=(R.prototype.reset=function(){this.uchar=" ",this.penState.reset()},R.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},R.prototype.setPenState=function(t){this.penState.copy(t)},R.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},R.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},R.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},R),Ee=(I.prototype.equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},I.prototype.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},I.prototype.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},I.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(D.log("ERROR","Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(D.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},I.prototype.moveCursor=function(t){var e=this.pos+t;if(1<t)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},I.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},I.prototype.insertChar=function(t){144<=t&&this.backSpace();var e=he(t);100<=this.pos?D.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},I.prototype.clearFromPos=function(t){for(var e=t;e<100;e++)this.chars[e].reset()},I.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},I.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},I.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},I.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},I),Ce=(O.prototype.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},O.prototype.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},O.prototype.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},O.prototype.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},O.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},O.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},O.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},O.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},O.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},O.prototype.setCursor=function(t){D.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},O.prototype.setPAC=function(t){D.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[i].cueStartTime;if(a&&a<D.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(r.rows[i+o])}}this.currRow=e;var s,a=this.rows[this.currRow],a=(null!==t.indent&&(s=t.indent,s=Math.max(s-1,0),a.setCursor(t.indent),t.color=a.chars[s].penState.foreground),{foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1});this.setPen(a)},O.prototype.setBkgData=function(t){D.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},O.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},O.prototype.rollUp=function(){var t;null===this.nrRollUpRows?D.log("DEBUG","roll_up but nrRollUpRows not set yet"):(D.log("TEXT",this.getDisplayText()),t=this.currRow+1-this.nrRollUpRows,(t=this.rows.splice(t,1)[0]).clear(),this.rows.splice(this.currRow,0,t),D.log("INFO","Rolling up"))},O.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=0;i<15;i++){var r=this.rows[i].getTextString();r&&(t?e.push("Row "+(i+1)+": '"+r+"'"):e.push(r.trim()))}return n=0<e.length?t?"["+e.join(" | ")+"]":e.join("\n"):n},O.prototype.getTextAndFormat=function(){return this.rows},O),ke=(L.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},L.prototype.getHandler=function(){return this.outputFilter},L.prototype.setHandler=function(t){this.outputFilter=t},L.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},L.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},L.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,D.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},L.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";D.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(D.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},L.prototype.ccRCL=function(){D.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},L.prototype.ccBS=function(){D.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},L.prototype.ccAOF=function(){},L.prototype.ccAON=function(){},L.prototype.ccDER=function(){D.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},L.prototype.ccRU=function(t){D.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},L.prototype.ccFON=function(){D.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},L.prototype.ccRDC=function(){D.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},L.prototype.ccTR=function(){D.log("INFO","TR"),this.setMode("MODE_TEXT")},L.prototype.ccRTD=function(){D.log("INFO","RTD"),this.setMode("MODE_TEXT")},L.prototype.ccEDM=function(){D.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},L.prototype.ccCR=function(){D.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},L.prototype.ccENM=function(){D.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},L.prototype.ccEOC=function(){var t;D.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(t=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,D.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate(!0)},L.prototype.ccTO=function(t){D.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},L.prototype.ccMIDROW=function(t){var e={flash:!1};e.underline=t%2==1,e.italics=46<=t,e.italics?e.foreground="white":(t=Math.floor(t/2)-16,e.foreground=["white","green","blue","cyan","red","yellow","magenta"][t]),D.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},L.prototype.outputDataUpdate=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=D.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},L.prototype.cueSplitAtTime=function(t){!this.outputFilter||this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t)},L);x.prototype.getHandler=function(t){return this.channels[t].getHandler()},x.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},x.prototype.addData=function(t,e){var n,i,r,a=!1;this.lastTime=t,D.setTime(t);for(var o=0;o<e.length;o+=2)i=127&e[o],r=127&e[o+1],0!=i||0!=r?(D.log("DATA","["+k([e[o],e[o+1]])+"] -> ("+k([i,r])+")"),!(n=(n=(n=(n=this.parseCmd(i,r))||this.parseMidrow(i,r))||this.parsePAC(i,r))||this.parseBackgroundAttributes(i,r))&&(a=this.parseChars(i,r))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(a):D.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,D.log("WARNING","Couldn't parse cleaned data "+k([i,r])+" orig: "+k([e[o],e[o+1]])))):this.dataCounters.padding+=2},x.prototype.parseCmd=function(t,e){if(!((20===t||28===t)&&32<=e&&e<=47)&&!((23===t||31===t)&&33<=e&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,D.log("DEBUG","Repeated command ("+k([t,e])+") is dropped"),!0;var n,i=this.channels[(n=20===t||23===t?1:2)-1];return 20===t||28===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},x.prototype.parseMidrow=function(t,e){var n;return(17===t||25===t)&&32<=e&&e<=47&&((n=17===t?1:2)!==this.currChNr?(D.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),D.log("DEBUG","MIDROW ("+k([t,e])+")"),!0))},x.prototype.parsePAC=function(t,e){if(!((17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127)&&!((16===t||24===t)&&64<=e&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,!(this.lastCmdB=null);var n=t<=23?1:2,i=this.interpretPAC((64<=e&&e<=95?1==n?ye:be:1==n?ve:_e)[t],e);return this.channels[n-1].setPAC(i),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},x.prototype.interpretPAC=function(t,e){t={color:null,italics:!1,indent:null,underline:!1,row:t};return t.underline=1==(1&(e=95<e?e-96:e-64)),e<=13?t.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(e/2)]:e<=15?(t.italics=!0,t.color="white"):t.indent=4*Math.floor((e-16)/2),t},x.prototype.parseChars=function(t,e){var n,i=null,r=null,a=null;return 17<=(a=25<=t?(i=2,t-8):(i=1,t))&&a<=19?(n=e,D.log("INFO","Special char '"+he(n=17===a?e+80:18===a?e+112:e+144)+"' in channel "+i),r=[n]):32<=t&&t<=127&&(r=0===e?[t]:[t,e]),r&&(a=k(r),D.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null),r},x.prototype.parseBackgroundAttributes=function(t,e){var n,i;return!(!((16===t||24===t)&&32<=e&&e<=47)&&!((23===t||31===t)&&45<=e&&e<=47)||(n={},16===t||24===t?(i=Math.floor((e-32)/2),n.background=Te[i],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),this.channels[(t<24?1:2)-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null))},x.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},x.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)};var De=x;He.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},He.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.track)};function Ae(t,e,n){return t.substr(n||0,e.length)===e}function xe(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()}var Le=He,Oe={parse:function(t,a,i,r,e,n){var t=Object(Lt.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),o="00:00.000",s=0,l=0,u=0,c=[],d=void 0,h=!0,f=new ge;f.oncue=function(t){var e=i[r],n=i.ccOffset;e&&e.new&&(void 0!==l?n=i.ccOffset=e.start:function(t,e,n){var i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,i.new=!1;for(;r&&r.new;)t.ccOffset+=i.start-r.start,i.new=!1,r=t[(i=r).prevCC];t.presentationOffset=n}(i,r,u)),u&&(n=u+i.ccOffset-i.presentationOffset),t.startTime+=n-l,t.endTime+=n-l,t.id=xe(t.startTime.toString())+xe(t.endTime.toString())+xe(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),0<t.endTime&&c.push(t)},f.onparsingerror=function(t){d=t},f.onflush=function(){d&&n?n(d):e(c)},t.forEach(function(e){if(h){if(Ae(e,"X-TIMESTAMP-MAP=")){h=!1,e.substr(16).split(",").forEach(function(t){Ae(t,"LOCAL:")?o=t.substr(6):Ae(t,"MPEGTS:")&&(s=parseInt(t.substr(7)))});try{s-=a=a<0?a+8589934592:a,t=o,n=parseInt(t.substr(-3)),i=parseInt(t.substr(-6,2)),r=parseInt(t.substr(-9,2)),t=9<t.length?parseInt(t.substr(0,t.indexOf(":"))):0,l=(isNaN(n)||isNaN(i)||isNaN(r)||isNaN(t)?-1:(n=n+1e3*i+6e4*r)+36e5*t)/1e3,u=s/9e4,-1===l&&(d=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){d=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(h=!1)}var t,n,i,r;f.parse(e+"\n")}),f.flush()}},Ie=function(i){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var e,n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,t,b.a.MEDIA_ATTACHING,b.a.MEDIA_DETACHING,b.a.FRAG_PARSING_USERDATA,b.a.FRAG_DECRYPTED,b.a.MANIFEST_LOADING,b.a.MANIFEST_LOADED,b.a.FRAG_LOADED,b.a.LEVEL_SWITCHING,b.a.INIT_PTS_FOUND));return n.hls=t,n.config=t.config,n.enabled=!0,n.Cues=t.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions&&(t=new Le(n,1),e=new Le(n,2),n.cea608Parser=new De(0,t,e)),n}var t=r,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r.prototype.addCues=function(t,e,n,i){for(var r,a,o=this.cueRanges,s=!1,l=o.length;l--;){var u=o[l],c=(r=u[0],c=u[1],a=e,Math.min(c,n)-Math.max(r,a));if(0<=c&&(u[0]=Math.min(u[0],e),u[1]=Math.max(u[1],n),s=!0,.5<c/(n-e)))return}s||o.push([e,n]),this.Cues.newCue(this[t],e,n,i)},r.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},r.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(!0===i["textTrack"+t])return i}return null},r.prototype.sendAddTrackEvent=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},r.prototype.createCaptionsTrack=function(t){var e,n="textTrack"+t;this[n]||((e=this.getExistingTrack(t))?(this[n]=e,a(this[n]),this.sendAddTrackEvent(this[n],this.media)):(e=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode))&&(e[n]=!0,this[n]=e))},r.prototype.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},r.prototype.destroy=function(){s.prototype.destroy.call(this)},r.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},r.prototype.onMediaDetaching=function(){a(this.textTrack1),a(this.textTrack2)},r.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},r.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)a(e[n])}},r.prototype.onManifestLoaded=function(t){var a,o=this;this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT&&(this.tracks=t.subtitles||[],a=this.media?this.media.textTracks:[],this.tracks.forEach(function(t,e){var n,i,r=void 0;e<a.length&&(e=a[e],i=t,!(n=e)||n.label!==i.name||n.textTrack1||n.textTrack2||(r=e)),(r=r||o.createTextTrack("subtitles",t.name,t.lang)).mode=t.default?"showing":"hidden",o.textTracks.push(r)}))},r.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},r.prototype.onFragLoaded=function(t){var e,n,i=t.frag,r=t.payload;"main"===i.type?((e=i.sn)!==this.lastSn+1&&(n=this.cea608Parser)&&n.reset(),this.lastSn=e):"subtitle"===i.type&&(r.byteLength?void 0===this.initPTS?this.unparsedVttFrags.push(t):null!=(n=i.decryptdata)&&null!=n.key&&"AES-128"===n.method||this._parseVTTs(i,r):this.hls.trigger(b.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i}))},r.prototype._parseVTTs=function(e,t){var n=this.vttCCs,r=(n[e.cc]||(n[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc),this.textTracks),a=this.hls;Oe.parse(t,this.initPTS,n,e.cc,function(t){var i=r[e.trackId];t.forEach(function(e){if(!i.cues.getCueById(e.id))try{i.addCue(e)}catch(t){var n=new window.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,i.addCue(n)}}),a.trigger(b.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){T.b.log("Failed to parse VTT cue: "+t),a.trigger(b.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},r.prototype.onFragDecrypted=function(t){var e=t.payload,n=t.frag;"subtitle"===n.type&&(void 0===this.initPTS?this.unparsedVttFrags.push(t):this._parseVTTs(n,e))},r.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},r.prototype.extractCea608Data=function(t){for(var e,n,i,r=31&t[0],a=2,o=[],s=0;s<r;s++)e=t[a++],n=127&t[a++],i=127&t[a++],0==n&&0==i||0!=(4&e)&&0==(3&e)&&(o.push(n),o.push(i));return o},r}(s),Re=function(t,e,n){return e&&Be(t.prototype,e),n&&Be(t,n),t},Pe=function(e){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.MANIFEST_LOADING,b.a.MANIFEST_LOADED,b.a.SUBTITLE_TRACK_LOADED));return t.tracks=[],t.trackId=-1,t.media=void 0,t.subtitleDisplay=!1,t}var t=n,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i),n.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=Z(this.media.textTracks),n=0;n<e.length;n++)"showing"===e[n].mode&&(t=n);this.subtitleTrack=t}},n.prototype.destroy=function(){s.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},n.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},n.prototype.onManifestLoaded=function(t){var e=this,t=t.subtitles||[];this.tracks=t,this.trackId=-1,this.hls.trigger(b.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:t}),t.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},n.prototype.onTick=function(){var t,e=this.trackId,n=this.tracks[e];!n||void 0!==(t=n.details)&&!0!==t.live||(T.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(b.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:e}))},n.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(T.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},n.prototype.setSubtitleTrackInternal=function(t){var e,n;t<-1||t>=this.tracks.length||(this.timer&&(clearInterval(this.timer),this.timer=null),n=Z(this.media.textTracks),-1!==this.trackId&&this.subtitleDisplay&&(n[this.trackId].mode="hidden"),this.trackId=t,T.b.log("switching to subtitle track "+t),this.hls.trigger(b.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t&&(e=this.tracks[t],this.subtitleDisplay&&(n[t].mode="showing"),void 0!==(n=e.details)&&!0!==n.live||(T.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(b.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))))},Re(n,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),n}(s),Me=t(4),Ne="STOPPED",Ue="IDLE",Fe="KEY_LOADING",je="FRAG_LOADING",t=function(n){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,t,b.a.MEDIA_ATTACHED,b.a.ERROR,b.a.KEY_LOADED,b.a.FRAG_LOADED,b.a.SUBTITLE_TRACKS_UPDATED,b.a.SUBTITLE_TRACK_SWITCH,b.a.SUBTITLE_TRACK_LOADED,b.a.SUBTITLE_FRAG_PROCESSED));return e.config=t.config,e.vttFragSNsProcessed={},e.vttFragQueues=void 0,e.currentlyProcessing=null,e.state=Ne,e.currentTrackId=-1,e.ticks=0,e.decrypter=new Me.a(t.observer,t.config),e}var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.destroy=function(){s.prototype.destroy.call(this),this.state=Ne},i.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})},i.prototype.nextFrag=function(){var t;null===this.currentlyProcessing&&-1<this.currentTrackId&&this.vttFragQueues[this.currentTrackId].length&&(t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift(),this.fragCurrent=t,this.hls.trigger(b.a.FRAG_LOADING,{frag:t}),this.state=je)},i.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=Ue,this.nextFrag()},i.prototype.onMediaAttached=function(){this.state=Ue},i.prototype.onError=function(t){t=t.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},i.prototype.tick=function(){var t=this;1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(function(){t.tick()},1),this.ticks=0)},i.prototype.doTick=function(){var n=this;switch(this.state){case Ue:var t,e=this.tracks,i=this.currentTrackId,r=this.vttFragSNsProcessed[i],a=this.vttFragQueues[i],o=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!e)break;if(void 0===(t=i<e.length?e[i].details:t))break;t.fragments.forEach(function(t){var e;-1<r.indexOf(t.sn)||t.sn===o||(e=t,a.some(function(t){return t.sn===e.sn}))||(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key?(T.b.log("Loading key for "+t.sn),n.state=Fe,n.hls.trigger(b.a.KEY_LOADING,{frag:t})):(t.trackId=i,a.push(t),n.nextFrag()))})}},i.prototype.onSubtitleTracksUpdated=function(t){var e=this;T.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},i.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},i.prototype.onSubtitleTrackLoaded=function(){this.tick()},i.prototype.onKeyLoaded=function(){this.state===Fe&&(this.state=Ue,this.tick())},i.prototype.onFragLoaded=function(t){var n,e=this.fragCurrent,i=t.frag.decryptdata,r=t.frag,a=this.hls;if(this.state===je&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&0<t.payload.byteLength&&null!=i&&null!=i.key&&"AES-128"===i.method){try{n=performance.now()}catch(t){n=Date.now()}this.decrypter.decrypt(t.payload,i.key.buffer,i.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}a.trigger(b.a.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:n,tdecrypt:e}})})}},i}(s),A={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ht,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:e,bufferController:Nt,capLevelController:Ft,fpsController:jt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};function Be(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function He(t,e){if(!(this instanceof He))throw new TypeError("Cannot call a class as a function");this.timelineController=t,this.track=e,this.startTime=null,this.endTime=null,this.screen=null}function x(t,e,n){o(this,x),this.field=t||1,this.outputs=[e,n],this.channels=[new ke(1,e),new ke(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}function L(t,e){o(this,L),this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Ce,this.nonDisplayedMemory=new Ce,this.lastOutputScreen=new Ce,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function O(){o(this,O),this.rows=[];for(var t=0;t<15;t++)this.rows.push(new Ee);this.currRow=14,this.nrRollUpRows=null,this.reset()}function I(){o(this,I),this.chars=[];for(var t=0;t<100;t++)this.chars.push(new we);this.pos=0,this.currPenState=new Se}function R(t,e,n,i,r,a){o(this,R),this.uchar=t||" ",this.penState=new Se(e,n,i,r,a)}function P(t,e,n,i,r){o(this,P),this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1}A.subtitleStreamController=t,A.subtitleTrackController=Pe,A.timelineController=Ie,A.cueHandler=tt,A.enableCEA708Captions=!0,A.enableWebVTT=!0,A.captionsTextTrack1Label="English",A.captionsTextTrack1LanguageCode="en",A.captionsTextTrack2Label="Spanish",A.captionsTextTrack2LanguageCode="es",A.audioStreamController=ne,A.audioTrackController=Gt;Ht=function(t,e,n){return e&&We(t.prototype,e),n&&We(t,n),t},M.isSupported=function(){return t=B(),e=window.SourceBuffer||window.WebKitSourceBuffer,t=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove,!!t&&!!e;var t,e},Ht(M,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return b.a}},{key:"ErrorTypes",get:function(){return _.b}},{key:"ErrorDetails",get:function(){return _.a}},{key:"DefaultConfig",get:function(){return M.defaultConfig||A},set:function(t){M.defaultConfig=t}}]),M.prototype.destroy=function(){T.b.log("destroy"),this.trigger(b.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},M.prototype.attachMedia=function(t){T.b.log("attachMedia"),this.media=t,this.trigger(b.a.MEDIA_ATTACHING,{media:t})},M.prototype.detachMedia=function(){T.b.log("detachMedia"),this.trigger(b.a.MEDIA_DETACHING),this.media=null},M.prototype.loadSource=function(t){t=r.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),T.b.log("loadSource:"+t),this.url=t,this.trigger(b.a.MANIFEST_LOADING,{url:t})},M.prototype.startLoad=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;T.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},M.prototype.stopLoad=function(){T.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},M.prototype.swapAudioCodec=function(){T.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},M.prototype.recoverMediaError=function(){T.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Ht(M,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){T.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){T.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){T.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){T.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){T.b.log("set startLevel:"+t);-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){T.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++)if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),e=M;function M(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this,i=M;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");var r,a=M.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(r in a)r in t||(t[r]=a[r]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(T.a)(t.debug),this.config=t,this._autoLevelCapping=-1;var o=this.observer=new pt.a,n=(o.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.emit.apply(o,[t,t].concat(n))},o.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.removeListener.apply(o,[t].concat(n))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o),this.abrController=new t.abrController(this)),i=new t.bufferController(this),s=new t.capLevelController(this),l=new t.fpsController(this),u=new ct(this),c=new dt(this),d=new ht(this),h=new Ot(this),f=[this.levelController=new xt(this),this.streamController=new Dt(this)],p=t.audioStreamController,g=(p&&f.push(new p(this)),this.networkControllers=f,[u,c,d,n,i,s,l,h]);(p=t.audioTrackController)&&(f=new p(this),this.audioTrackController=f,g.push(f)),(p=t.subtitleTrackController)&&(u=new p(this),this.subtitleTrackController=u,g.push(u)),[t.subtitleStreamController,t.timelineController].forEach(function(t){t&&g.push(new t(e))}),this.coreComponents=g}function We(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}U.default=e},function(t,e,r){function a(t,e){for(var n=[e],i=[],r={};n.length;){var a=n.pop();!r[a]&&t[a]&&(r[a]=!0,i.push(a),a=function(t){var e=[],n=t.toString();if(!(t=n.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/)))return e;for(var i,t=t[1],r=new RegExp("(\\\\n|\\W)"+(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");i=r.exec(n);)e.push(i[3]);return e}(t[a]),n=n.concat(a))}return i}t.exports=function(t,e){var n=r.m,i=(e=e||{}).all?Object.keys(n):a(n,t),t="("+function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r={},t=(i.m=n,i.c=r,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t},i(i.s=ENTRY_MODULE));return t.default||t}.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.map(function(t){return JSON.stringify(t)+": "+n[t].toString()}).join(",")+"})(self);",i=new window.Blob([t],{type:"text/javascript"});if(e.bare)return i;t=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(i),e=new window.Worker(t);return e.objectURL=t,e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(1),l=n(0),i=n(5),u=n.n(i);e.default=function(i){function r(t,e){i.postMessage({event:t,data:e})}var a=new u.a;a.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];a.emit.apply(a,[t,t].concat(n))},a.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];a.removeListener.apply(a,[t].concat(n))};i.addEventListener("message",function(t){var e=t.data;switch(e.cmd){case"init":var n=JSON.parse(e.config);i.demuxer=new o.a(a,e.typeSupported,n,e.vendor);try{Object(l.a)(!0===n.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":i.demuxer.push(e.data,e.decryptdata,e.initSegment,e.audioCodec,e.videoCodec,e.timeOffset,e.discontinuity,e.trackSwitch,e.contiguous,e.duration,e.accurateTimeOffset,e.defaultInitPTS)}}),a.on(s.a.FRAG_DECRYPTED,r),a.on(s.a.FRAG_PARSING_INIT_SEGMENT,r),a.on(s.a.FRAG_PARSED,r),a.on(s.a.ERROR,r),a.on(s.a.FRAG_PARSING_METADATA,r),a.on(s.a.FRAG_PARSING_USERDATA,r),a.on(s.a.INIT_PTS_FOUND,r),a.on(s.a.FRAG_PARSING_DATA,function(t,e){var n=[],t={event:t,data:e};e.data1&&(t.data1=e.data1.buffer,n.push(e.data1.buffer),delete e.data1),e.data2&&(t.data2=e.data2.buffer,n.push(e.data2.buffer),delete e.data2),i.postMessage(t,n)})}}]).default},function(t,e){t.exports=n},function(t,e,n){"use strict";function i(t,i){function e(){var e=null,n=null;return function(){var t=Date.now();!e||2e3<t-e?(e=t,o.recoverMediaError()):!n||2e3<t-n?(n=t,o.swapAudioCodec(),o.recoverMediaError()):console.error("Error loading media: File could not be played. e = "+n+"; r = "+t)}}var n=i.options_,r=i.el(),a=null,o=this.hls=new u(n.hlsjsConfig),s=e(),l=e();r.addEventListener("error",function(t){t=t.currentTarget.error;t.code===t.MEDIA_ERR_DECODE?l():console.error("Error loading media: File could not be played")}),this.dispose=function(){o.destroy()},this.duration=function(){return a||r.duration||0},o.on(u.Events.LEVEL_LOADED,function(t,e){a=e.details.live?1/0:e.details.totalduration}),o.on(u.Events.ERROR,function(t,e){if(e.fatal)switch(e.type){case u.ErrorTypes.NETWORK_ERROR:o.startLoad();break;case u.ErrorTypes.MEDIA_ERROR:s();break;default:console.error("Error loading media: File could not be played")}}),Object.keys(u.Events).forEach(function(t){var n=u.Events[t];o.on(n,function(t,e){i.trigger(n,e)})}),i.featuresNativeTextTracks||(Object.defineProperty(r,"textTracks",{value:i.textTracks,writable:!1}),r.addTextTrack=function(){return i.addTextTrack.apply(i,arguments)}),o.attachMedia(r),o.loadSource(t.src)}var r,u=n(0),a=(window.Hls||(window.Hls=u),/^application\/(x-mpegURL|vnd\.apple\.mpegURL)$/i),o=/\.m3u8/i,s={canHandleSource:function(t){return t.skipContribHlsJs?"":a.test(t.type)?"probably":o.test(t.src)?"maybe":""},handleSource:function(t,e){return new i(t,e)},canPlayType:function(t){return a.test(t)?"probably":""}};u.isSupported()&&((n=(n=n(1))&&n.default||n)?(r=(r=n.getTech&&n.getTech("Html5"))||n.getComponent&&n.getComponent("Html5"))&&r.registerSourceHandler(s,0):console.warn("videojs-contrib-hls.js: Couldn't find find window.videojs nor require('video.js')"))}],a={},i.m=r,i.c=a,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2);function i(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r,a}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):t.videojsOffset=e(t.videojs)}(this,function(r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;function t(e){var n=this,i=(e=e||{},this.constructor);this._offsetStart=e.start||0,this._offsetEnd=e.end||0,this._restartBeginning=e.restart_beginning||!1,i.__super__&&i.__super__.__offsetInit||(i.__super__={__offsetInit:!0,duration:i.prototype.duration,currentTime:i.prototype.currentTime,bufferedPercent:i.prototype.bufferedPercent,remainingTime:i.prototype.remainingTime},i.prototype.duration=function(){return 0<this._offsetEnd?this._offsetEnd-this._offsetStart:i.__super__.duration.apply(this,arguments)-this._offsetStart},i.prototype.currentTime=function(t){return void 0!==t?i.__super__.currentTime.call(this,t+this._offsetStart)-this._offsetStart:i.__super__.currentTime.apply(this,arguments)-this._offsetStart},i.prototype.remainingTime=function(){var t=this.currentTime();return t<this._offsetStart&&(t=0),this.duration()-t},i.prototype.startOffset=function(){return this._offsetStart},i.prototype.endOffset=function(){return 0<this._offsetEnd?this._offsetEnd:this.duration()}),this.ready(function(){var t;t=n,r.mergeOptions(a,e),t.one("play",function(){t.on("timeupdate",o)})})}var a={},e=r.registerPlugin||r.plugin,o=function t(){var e=this.currentTime();e<0&&(this.currentTime(0),this.play()),0<this._offsetEnd&&e>this._offsetEnd-this._offsetStart&&(this.off("timeupdate",t),this.pause(),this.trigger("ended"),this._restartBeginning?(this.trigger("loadstart"),this.currentTime(0)):this.currentTime(this._offsetEnd-this._offsetStart))};return e("offset",t),t.VERSION="__VERSION__",t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):t.videojsCutButtons=e(t.videojs)}(this,function(r){"use strict";function t(n){var i=this;this.ready(function(){var t,e;t=i,e=r.mergeOptions(a,n),t.addClass("vjs-rangeset-buttons"),e.to&&(t.controlBar.cutTo=t.controlBar.addChild("cutButton",{cut:"to"}),t.controlBar.el().insertBefore(t.controlBar.cutTo.el(),t.controlBar.el().lastChild.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling)),e.from&&(t.controlBar.cutFrom=t.controlBar.addChild("cutButton",{cut:"from"}),t.controlBar.el().insertBefore(t.controlBar.cutFrom.el(),t.controlBar.cutTo.el()))})}var e=(r="default"in r?r.default:r).getComponent("Button"),n=r.getComponent("Component"),a={},i=r.registerPlugin||r.plugin,e=function(n){function i(t,e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,t,e));return"to"===t.options_.cut?t.controlText(t.localize("Set Range Slider end time to current time")):"from"===t.options_.cut&&t.controlText(t.localize("Set Range Slider start time to current time")),t}var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.buildCSSClass=function(){return"vjs-rangeset-button "+this.options_.cut+" "+n.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function(){function t(t,e){var n=t.currentTime(),i=(r=t.getValueSlider()).start,r=r.end;e?t.playBetween(n,r):t.playBetween(i,n),t.currentTime(n)}"to"===this.options_.cut?t(this.player_,!1):"from"===this.options_.cut&&t(this.player_,!0)},i}(e);return n.registerComponent("CutButton",e),i("cutButtons",t),t.VERSION="1.0.0",t}),function(c,n){"use strict";var i,u,r,d,h,a,f,o,s={settings:{},prefix:"transcript"},l=(s.player=this,{autoscroll:!0,clickArea:"text",showTitle:!0,showTrackSelector:!0,followPlayerTrack:!0,stopScrollWhenInUse:!0}),p={secondsToTime:function(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),t=(t=Math.floor(t%60))<10?"0"+t:t,n=0<e&&n<10?"0"+n:n;return 0<e?e+":"+n+":"+t:n+":"+t},localize:function(t){return t},createEl:function(t,e){e=e||"";t=document.createElement(t);return t.className=i.prefix+e,t},extend:function(t){var e,n,i=typeof t;if(!("function"==i||"object"==i&&t))return t;for(var r=1,a=arguments.length;r<a;r++)for(n in e=arguments[r])t[n]=e[n];return t}},g={handlers_:[],on:function(t,e,n){if("function"!=typeof n)throw new TypeError("Callback is not a function.");this.handlers_.push([t,e,n])},trigger:function(e,n){this.handlers_.forEach(function(t){t[0]===e&&t[1]===n&&t[2].apply()})}},m=(u=function(t,e,n,i){return e+n*Math.sin(Math.min(1,t/i)*(Math.PI/2))},{init:function(t,e){return this.element=t,this.userIsScrolling=!1,this.mouseIsOverTranscript=!0,this.isAutoScrolling=!0,function(t){var e=this;t.addEventListener("scroll",function(){e.isAutoScrolling?e.isAutoScrolling=!1:(e.userIsScrolling=!0,t.classList.add("is-inuse"))}),t.addEventListener("mouseenter",function(){e.mouseIsOverTranscript=!0}),t.addEventListener("mouseleave",function(){e.mouseIsOverTranscript=!1,setTimeout(function(){e.mouseIsOverTranscript||(e.userIsScrolling=!1,t.classList.remove("is-inuse"))},1e3)})}.call(this,this.element),this},to:function(t){var e,n,i,r,a,o;this.canScroll()&&(n=(e=t.parentElement).offsetTop+e.clientHeight,i=t.offsetTop+t.clientHeight,r=t.offsetTop-e.offsetTop,a=t.offsetTop+t.clientHeight-e.offsetTop,r<e.scrollTop?o=t.offsetTop-e.offsetTop:a>e.scrollTop+e.clientHeight&&(o=i-n),void 0!==o&&e.scrollTop!==o&&function(e,n,i){var r=Date.now(),a=e.scrollTop,o=this,s=(n=Math.max(0,n),(n=Math.min(e.scrollHeight-e.clientHeight,n))-a),l=function(){var t=Date.now()-r;o.isAutoScrolling=!0,e.scrollTop=u(t,a,s,i),e.scrollTop!==n&&requestAnimationFrame(l,e)};requestAnimationFrame(l,e)}.call(this,e,o,400))},canScroll:function(){var t=this.element;return t.scrollHeight>t.offsetHeight},inUse:function(){return this.userIsScrolling}}),y={get:function(){var t,e,n=[];for(s.tracks=s.player.textTracks(),t=0;t<s.tracks.length;t++)"captions"!==(e=s.tracks[t]).kind&&"subtitles"!==e.kind||n.push(e);return n},active:function(t){for(var e,n=0;n<s.tracks.length;n++)if("showing"===(e=s.tracks[n]).mode)return r=e;return r||t[0]}},v=(d=i=s,h={element:{},body:{}},f=function(t){"object"!=typeof t&&(t=d.player.textTracks()[t]);var e,n,i,r,a,o=p.createEl("div","-body"),s=document.createDocumentFragment();if(t.activeCues){for(var l=t.cues,u=0;u<l.length;u++)n=l[u],a=r=i=void 0,i=p.createEl("div","-line"),r=p.createEl("span","-timestamp"),a=p.createEl("span","-text"),i.setAttribute("data-begin",n.startTime),r.textContent=p.secondsToTime(n.startTime),a.innerHTML=n.text,i.appendChild(r),i.appendChild(a),n=i,s.appendChild(n);o.innerHTML="",o.appendChild(s),o.setAttribute("lang",t.language),o.scroll=(e=o,Object.create(m).init(e)),o.addEventListener("click",b),h.element.replaceChild(o,h.body),h.body=o}else"showing"!==t.mode&&(t.mode="hidden"),c.setTimeout(function(){f(t)},100)},{create:function(){var t,i,e=document.createElement("div");return(h.element=e).setAttribute("id",d.prefix+"-"+d.player.id()),d.settings.showTitle&&((t=p.createEl("header","-header")).textContent=p.localize("Transcript"),e.appendChild(t)),d.settings.showTrackSelector&&(i=p.createEl("select","-selector"),d.validTracks.forEach(function(t,e){var n=document.createElement("option");n.value=e,n.textContent=t.label+" ("+t.language+")",i.appendChild(n)}),i.addEventListener("change",function(t){o(document.querySelector("#"+d.prefix+"-"+d.player.id()+" option:checked").value),a("trackchanged")}),t=i,e.appendChild(t)),h.body=p.createEl("div","-body"),e.appendChild(h.body),o(d.currentTrack),this},setTrack:o=function(t,e){f(t,e)},setCue:function(t){for(var e,n,i,r=h.body.children,a=0;a<r.length;a++)n=(e=r[a]).getAttribute("data-begin"),i=a<r.length-1?r[a+1].getAttribute("data-begin"):d.player.duration()||1/0,n<t&&t<i?e.classList.contains("is-active")||(e.classList.add("is-active"),!d.settings.autoscroll||d.settings.stopScrollWhenInUse&&h.body.scroll.inUse()||h.body.scroll.to(e)):e.classList.remove("is-active")},el:function(){return h.element},on:function(t,e){g.on(this,t,e)},trigger:a=function(t){g.trigger(this,t)}});function b(t){var e=t.target.classList;null!=(t=t.target.getAttribute("data-begin")||t.target.parentElement.getAttribute("data-begin"))&&("line"===d.settings.clickArea||"timestamp"===d.settings.clickArea&&e.contains(d.prefix+"-timestamp")||"text"===d.settings.clickArea&&e.contains(d.prefix+"-text"))&&d.player.currentTime(t)}n.registerPlugin("transcript",function(t){s.player=this,s.validTracks=y.get(),s.currentTrack=y.active(s.validTracks),s.settings=n.mergeOptions(l,t),s.widget=v.create();function e(){s.currentTrack=y.active(s.validTracks),s.widget.setTrack(s.currentTrack)}if(0<s.validTracks.length)return e(),s.player.on("timeupdate",function(){s.widget.setCue(s.player.currentTime())}),s.settings.followPlayerTrack&&(s.player.on("captionstrackchange",e),s.player.on("subtitlestrackchange",e)),{el:function(){return s.widget.el()},setTrack:s.widget.setTrack};throw new Error("videojs-transcript: No tracks found!")})}(window,videojs),function(e){"undefined"!=typeof window&&window.videojs?e(window.videojs):"function"==typeof define&&define.amd?define("videojs-hotkeys",["video.js"],function(t){return e(t.default||t)}):"undefined"!=typeof module&&module.exports&&(module.exports=e(require("video.js")))}(function(a){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.22"}),(a.registerPlugin||a.plugin)("hotkeys",function(c){function d(t){return"function"==typeof n?n(t):n}function t(t){var e;h.controls()&&(e=p.activeElement,(_||e==f||e==f.querySelector(".vjs-tech")||e==f.querySelector(".iframeblocker")||e==f.querySelector(".vjs-control-bar"))&&i&&(t=window.event||t,e=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault(),1==e?h.volume(h.volume()+g):-1==e&&h.volume(h.volume()-g)))}var h=this,f=h.el(),p=document,e=a.mergeOptions||a.util.mergeOptions,g=(c=e({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(t){return 32===t.which||179===t.which},rewindKey:function(t){return 37===t.which||177===t.which},forwardKey:function(t){return 39===t.which||176===t.which},volumeUpKey:function(t){return 38===t.which},volumeDownKey:function(t){return 40===t.which},muteKey:function(t){return 77===t.which},fullscreenKey:function(t){return 70===t.which},customKeys:{}},c||{})).volumeStep,n=c.seekStep,m=c.enableMute,i=c.enableVolumeScroll,y=c.enableFullscreen,v=c.enableNumbers,b=c.enableJogStyle,_=c.alwaysCaptureHotkeys,T=c.enableModifiersForNumbers,e=c.enableInactiveFocus,r=c.skipInitialFocus;f.hasAttribute("tabIndex")||f.setAttribute("tabIndex","-1"),f.style.outline="none",!_&&h.autoplay()||r||h.one("play",function(){f.focus()}),e&&h.on("userinactive",function(){function n(){clearTimeout(t)}var t=setTimeout(function(){h.off("useractive",n);var t=p.activeElement,e=f.querySelector(".vjs-control-bar");t&&t.parentElement==e&&f.focus()},10);h.one("useractive",n)}),h.on("play",function(){var t=f.querySelector(".iframeblocker");t&&""===t.style.display&&(t.style.display="block",t.style.bottom="39px")});return h.on("keydown",function(t){var e,n=t.which,i=t.preventDefault,r=h.duration();if(h.controls()){var a,o,s,l=p.activeElement;if(_||l==f||l==f.querySelector(".vjs-tech")||l==f.querySelector(".vjs-control-bar")||l==f.querySelector(".iframeblocker"))switch(l=t,e=h,c.playPauseKey(l,e)?1:c.rewindKey(l,e)?2:c.forwardKey(l,e)?3:c.volumeUpKey(l,e)?4:c.volumeDownKey(l,e)?5:c.muteKey(l,e)?6:c.fullscreenKey(l,e)?7:void 0){case 1:i(),_&&t.stopPropagation(),h.paused()?h.play():h.pause();break;case 2:a=!h.paused(),i(),a&&h.pause(),(o=h.currentTime()-d(t))<=0&&(o=0),h.currentTime(o),a&&h.play();break;case 3:a=!h.paused(),i(),a&&h.pause(),(o=h.currentTime()+d(t))>=r&&(o=a?r-.001:r),h.currentTime(o),a&&h.play();break;case 5:i(),b?(o=h.currentTime()-1,h.currentTime()<=1&&(o=0),h.currentTime(o)):h.volume(h.volume()-g);break;case 4:i(),b?((o=h.currentTime()+1)>=r&&(o=r),h.currentTime(o)):h.volume(h.volume()+g);break;case 6:m&&h.muted(!h.muted());break;case 7:y&&(h.isFullscreen()?h.exitFullscreen():h.requestFullscreen());break;default:for(s in(47<n&&n<59||95<n&&n<106)&&(T||!(t.metaKey||t.ctrlKey||t.altKey))&&v&&(a=48,o=n-(a=95<n?96:a),i(),h.currentTime(h.duration()*o*.1)),c.customKeys){var u=c.customKeys[s];u&&u.key&&u.handler&&u.key(t)&&(i(),u.handler(h,c,t))}}}}),h.on("dblclick",function(t){!h.controls()||(t=t.relatedTarget||t.toElement||p.activeElement)!=f&&t!=f.querySelector(".vjs-tech")&&t!=f.querySelector(".iframeblocker")||y&&(h.isFullscreen()?h.exitFullscreen():h.requestFullscreen())}),h.on("mousewheel",t),h.on("DOMMouseScroll",t),this})});