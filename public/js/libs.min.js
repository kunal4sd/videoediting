!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(T,N){"use strict";function v(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function g(e){return null!=e&&e===e.window}var e=[],S=T.document,U=Object.getPrototypeOf,s=e.slice,F=e.concat,j=e.push,B=e.indexOf,H={},W=H.toString,G=H.hasOwnProperty,q=G.toString,V=q.call(Object),m={},Y={type:!0,src:!0,noModule:!0};function z(e,t,n){var i,r=(t=t||S).createElement("script");if(r.text=e,n)for(i in Y)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function p(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?H[W.call(e)]||"object":typeof e}var w=function(e,t){return new w.fn.init(e,t)},$=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function K(e){var t=!!e&&"length"in e&&e.length,n=p(e);return!v(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=w.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return w.each(this,e)},map:function(n){return this.pushStack(w.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:j,sort:e.sort,splice:e.splice},w.extend=w.fn.extend=function(){var e,t,n,i,r,a=arguments[0]||{},o=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[o]||{},o++),"object"==typeof a||v(a)||(a={}),o===s&&(a=this,o--);o<s;o++)if(null!=(e=arguments[o]))for(t in e)r=a[t],a!==(n=e[t])&&(l&&n&&(w.isPlainObject(n)||(i=Array.isArray(n)))?(r=i?(i=!1,r&&Array.isArray(r)?r:[]):r&&w.isPlainObject(r)?r:{},a[t]=w.extend(l,r,n)):void 0!==n&&(a[t]=n));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==W.call(e)||(e=U(e))&&("function"!=typeof(e=G.call(e,"constructor")&&e.constructor)||q.call(e)!==V))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){z(e)},each:function(e,t){var n,i=0;if(K(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace($,"")},makeArray:function(e,t){t=t||[];return null!=e&&(K(Object(e))?w.merge(t,"string"==typeof e?[e]:e):j.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:B.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!=o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,o=[];if(K(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&o.push(r);return F.apply([],o)},guid:1,support:m}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=e[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()});function i(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&w(e).is(n))break;i.push(e)}return i}function X(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(n){function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function N(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function U(){S()}var e,f,_,a,F,p,j,B,T,l,u,S,w,i,E,g,r,o,m,C="sizzle"+ +new Date,y=n.document,k=0,H=0,W=ce(),G=ce(),v=ce(),q=function(e,t){return e===t&&(u=!0),0},V={}.hasOwnProperty,t=[],Y=t.pop,z=t.push,D=t.push,$=t.slice,b=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",s="[\\x20\\t\\r\\n\\f]",c="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",X="\\["+s+"*("+c+")(?:"+s+"*([*^$|!~]?=)"+s+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+c+"))|)"+s+"*\\]",Q=":("+c+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+X+")*)|.*)\\)|)",J=new RegExp(s+"+","g"),A=new RegExp("^"+s+"+|((?:^|[^\\\\])(?:\\\\.)*)"+s+"+$","g"),Z=new RegExp("^"+s+"*,"+s+"*"),ee=new RegExp("^"+s+"*([>+~]|"+s+")"+s+"*"),te=new RegExp("="+s+"*([^\\]'\"]*?)"+s+"*\\]","g"),ne=new RegExp(Q),ie=new RegExp("^"+c+"$"),h={ID:new RegExp("^#("+c+")"),CLASS:new RegExp("^\\.("+c+")"),TAG:new RegExp("^("+c+"|[*])"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+s+"*(even|odd|(([+-]|)(\\d*)n|)"+s+"*(?:([+-]|)"+s+"*(\\d+)|))"+s+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+s+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+s+"*((?:-\\d)?\\d*)"+s+"*\\)|)(?=[^-]|$)","i")},re=/^(?:input|select|textarea|button)$/i,ae=/^h\d$/i,x=/^[^{]+\{\s*\[native \w/,oe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,se=/[+~]/,L=new RegExp("\\\\([\\da-f]{1,6}"+s+"?|("+s+")|.)","ig"),le=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ue=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{D.apply(t=$.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(n){D={apply:t.length?function(e,t){z.apply(e,$.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function O(e,t,n,i){var r,a,o,s,l,u,c,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:y)!==w&&S(t),t=t||w,E)){if(11!==h&&(l=oe.exec(e)))if(r=l[1]){if(9===h){if(!(o=t.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(d&&(o=d.getElementById(r))&&m(t,o)&&o.id===r)return n.push(o),n}else{if(l[2])return D.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&f.getElementsByClassName&&t.getElementsByClassName)return D.apply(n,t.getElementsByClassName(r)),n}if(f.qsa&&!v[e+" "]&&(!g||!g.test(e))){if(1!==h)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(le,N):t.setAttribute("id",s=C),a=(u=p(e)).length;a--;)u[a]="#"+s+" "+M(u[a]);c=u.join(","),d=se.test(e)&&pe(t.parentNode)||t}if(c)try{return D.apply(n,d.querySelectorAll(c)),n}catch(e){}finally{s===C&&t.removeAttribute("id")}}}return B(e.replace(A,"$1"),t,n,i)}function ce(){var n=[];function i(e,t){return n.push(e+" ")>_.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function I(e){return e[C]=!0,e}function R(e){var t=w.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ue(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function P(o){return I(function(a){return a=+a,I(function(e,t){for(var n,i=o([],e.length,a),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=O.support={},F=O.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},S=O.setDocument=function(e){var e=e?e.ownerDocument||e:y;return e!==w&&9===e.nodeType&&e.documentElement&&(i=(w=e).documentElement,E=!F(w),y!==w&&(e=w.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",U,!1):e.attachEvent&&e.attachEvent("onunload",U)),f.attributes=R(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=R(function(e){return e.appendChild(w.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=x.test(w.getElementsByClassName),f.getById=R(function(e){return i.appendChild(e).id=C,!w.getElementsByName||!w.getElementsByName(C).length}),f.getById?(_.filter.ID=function(e){var t=e.replace(L,d);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&E)return(t=t.getElementById(e))?[t]:[]}):(_.filter.ID=function(e){var t=e.replace(L,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,i,r,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(r=t.getElementsByName(e),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),_.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;n=a[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},r=[],g=[],(f.qsa=x.test(w.querySelectorAll))&&(R(function(e){i.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+s+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+s+"*(?:value|"+K+")"),e.querySelectorAll("[id~="+C+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]")}),R(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=w.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+s+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),i.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(f.matchesSelector=x.test(o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&R(function(e){f.disconnectedMatch=o.call(e,"*"),o.call(e,"[s!='']:x"),r.push("!=",Q)}),g=g.length&&new RegExp(g.join("|")),r=r.length&&new RegExp(r.join("|")),e=x.test(i.compareDocumentPosition),m=e||x.test(i.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=e?function(e,t){return e===t?(u=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===w||e.ownerDocument===y&&m(y,e)?-1:t===w||t.ownerDocument===y&&m(y,t)?1:l?b(l,e)-b(l,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e===w?-1:t===w?1:r?-1:a?1:l?b(l,e)-b(l,t):0;if(r===a)return he(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?he(o[i],s[i]):o[i]===y?-1:s[i]===y?1:0}),w},O.matches=function(e,t){return O(e,null,null,t)},O.matchesSelector=function(e,t){if((e.ownerDocument||e)!==w&&S(e),t=t.replace(te,"='$1']"),f.matchesSelector&&E&&!v[t+" "]&&(!r||!r.test(t))&&(!g||!g.test(t)))try{var n=o.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<O(t,w,null,[e]).length},O.contains=function(e,t){return(e.ownerDocument||e)!==w&&S(e),m(e,t)},O.attr=function(e,t){(e.ownerDocument||e)!==w&&S(e);var n=_.attrHandle[t.toLowerCase()],n=n&&V.call(_.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==n?n:f.attributes||!E?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},O.escape=function(e){return(e+"").replace(le,N)},O.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},O.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(q),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return l=null,e},a=O.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=a(t);return n},(_=O.selectors={cacheLength:50,createPseudo:I,match:h,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(L,d),e[3]=(e[3]||e[4]||e[5]||"").replace(L,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||O.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&O.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return h.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ne.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(L,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+s+")"+e+"("+s+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=O.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(J," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,e,t,g,m){var y="nth"!==p.slice(0,3),v="last"!==p.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,a,o,s,l,u=y!=v?"nextSibling":"previousSibling",c=e.parentNode,d=b&&e.nodeName.toLowerCase(),h=!n&&!b,f=!1;if(c){if(y){for(;u;){for(o=e;o=o[u];)if(b?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(f=(s=(i=(r=(a=(o=c)[C]||(o[C]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===k&&i[1])&&i[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(f=s=0)||l.pop();)if(1===o.nodeType&&++f&&o===e){r[p]=[k,s,f];break}}else if(!1===(f=h?s=(i=(r=(a=(o=e)[C]||(o[C]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===k&&i[1]:f))for(;(o=++s&&o&&o[u]||(f=s=0)||l.pop())&&((b?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++f||(h&&((r=(a=o[C]||(o[C]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]=[k,f]),o!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,a){var t,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||O.error("unsupported pseudo: "+e);return o[C]?o(a):1<o.length?(t=[e,e,"",a],_.setFilters.hasOwnProperty(e.toLowerCase())?I(function(e,t){for(var n,i=o(e,a),r=i.length;r--;)e[n=b(e,i[r])]=!(t[n]=i[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:I(function(e){var i=[],r=[],s=j(e.replace(A,"$1"));return s[C]?I(function(e,t,n,i){for(var r,a=s(e,null,i,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:I(function(t){return function(e){return 0<O(t,e).length}}),contains:I(function(t){return t=t.replace(L,d),function(e){return-1<(e.textContent||e.innerText||a(e)).indexOf(t)}}),lang:I(function(n){return ie.test(n||"")||O.error("unsupported lang: "+n),n=n.replace(L,d).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ae.test(e.nodeName)},input:function(e){return re.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:P(function(){return[0]}),last:P(function(e,t){return[t-1]}),eq:P(function(e,t,n){return[n<0?n+t:n]}),even:P(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:P(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:P(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:P(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})_.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ge(){}function M(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function me(o,e,t){var s=e.dir,l=e.next,u=l||s,c=t&&"parentNode"===u,d=H++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||c)return o(e,t,n);return!1}:function(e,t,n){var i,r,a=[k,d];if(n){for(;e=e[s];)if((1===e.nodeType||c)&&o(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||c)if(r=(r=e[C]||(e[C]={}))[e.uniqueID]||(r[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((i=r[u])&&i[0]===k&&i[1]===d)return a[2]=i[2];if((r[u]=a)[2]=o(e,t,n))return!0}return!1}}function ye(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function ve(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)!(a=e[s])||n&&!n(a,i,r)||(o.push(a),u&&t.push(s));return o}function be(f,p,g,m,y,e){return m&&!m[C]&&(m=be(m)),y&&!y[C]&&(y=be(y,e)),I(function(e,t,n,i){var r,a,o,s=[],l=[],u=t.length,c=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)O(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!e&&p?c:ve(c,s,f,n,i),h=g?y||(e?f:u||m)?[]:t:d;if(g&&g(d,h,n,i),m)for(r=ve(h,l),m(r,[],n,i),a=r.length;a--;)(o=r[a])&&(h[l[a]]=!(d[l[a]]=o));if(e){if(y||f){if(y){for(r=[],a=h.length;a--;)(o=h[a])&&r.push(d[a]=o);y(null,h=[],r,i)}for(a=h.length;a--;)(o=h[a])&&-1<(r=y?b(e,o):s[a])&&(e[r]=!(t[r]=o))}}else h=ve(h===t?h.splice(u,h.length):h),y?y(null,t,h,i):D.apply(t,h)})}function _e(m,y){function e(e,t,n,i,r){var a,o,s,l=0,u="0",c=e&&[],d=[],h=T,f=e||b&&_.find.TAG("*",r),p=k+=null==h?1:Math.random()||.1,g=f.length;for(r&&(T=t===w||t||r);u!==g&&null!=(a=f[u]);u++){if(b&&a){for(o=0,t||a.ownerDocument===w||(S(a),n=!E);s=m[o++];)if(s(a,t||w,n)){i.push(a);break}r&&(k=p)}v&&((a=!s&&a)&&l--,e&&c.push(a))}if(l+=u,v&&u!==l){for(o=0;s=y[o++];)s(c,d,t,n);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=Y.call(i));d=ve(d)}D.apply(i,d),r&&!e&&0<d.length&&1<l+y.length&&O.uniqueSort(i)}return r&&(k=p,T=h),c}var v=0<y.length,b=0<m.length;return v?I(e):e}return ge.prototype=_.filters=_.pseudos,_.setFilters=new ge,p=O.tokenize=function(e,t){var n,i,r,a,o,s,l,u=G[e+" "];if(u)return t?0:u.slice(0);for(o=e,s=[],l=_.preFilter;o;){for(a in n&&!(i=Z.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(r=[])),n=!1,(i=ee.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(A," ")}),o=o.slice(n.length)),_.filter)!(i=h[a].exec(o))||l[a]&&!(i=l[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?O.error(e):G(e,s).slice(0)},j=O.compile=function(e,t){var n,i=[],r=[],a=v[e+" "];if(!a){for(n=(t=t||p(e)).length;n--;)((a=function e(t){for(var i,n,r,a=t.length,o=_.relative[t[0].type],s=o||_.relative[" "],l=o?1:0,u=me(function(e){return e===i},s,!0),c=me(function(e){return-1<b(i,e)},s,!0),d=[function(e,t,n){return e=!o&&(n||t!==T)||((i=t).nodeType?u:c)(e,t,n),i=null,e}];l<a;l++)if(n=_.relative[t[l].type])d=[me(ye(d),n)];else{if((n=_.filter[t[l].type].apply(null,t[l].matches))[C]){for(r=++l;r<a&&!_.relative[t[r].type];r++);return be(1<l&&ye(d),1<l&&M(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(A,"$1"),n,l<r&&e(t.slice(l,r)),r<a&&e(t=t.slice(r)),r<a&&M(t))}d.push(n)}return ye(d)}(t[n]))[C]?i:r).push(a);(a=v(e,_e(r,i))).selector=e}return a},B=O.select=function(e,t,n,i){var r,a,o,s,l,u="function"==typeof e&&e,c=!i&&p(e=u.selector||e);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===t.nodeType&&E&&_.relative[a[1].type]){if(!(t=(_.find.ID(o.matches[0].replace(L,d),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=h.needsContext.test(e)?0:a.length;r--&&(o=a[r],!_.relative[s=o.type]);)if((l=_.find[s])&&(i=l(o.matches[0].replace(L,d),se.test(a[0].type)&&pe(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&M(a))break;return D.apply(n,i),n}}return(u||j(e,c))(i,t,!E,n,!t||se.test(e)&&pe(t.parentNode)||t),n},f.sortStable=C.split("").sort(q).join("")===C,f.detectDuplicates=!!u,S(),f.sortDetached=R(function(e){return 1&e.compareDocumentPosition(w.createElement("fieldset"))}),R(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&R(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),R(function(e){return null==e.getAttribute("disabled")})||de(K,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),O}(T),Q=(w.find=e,w.expr=e.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=e.uniqueSort,w.text=e.getText,w.isXMLDoc=e.isXML,w.contains=e.contains,w.escapeSelector=e.escape,w.expr.match.needsContext);function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var J=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Z(e,n,i){return v(n)?w.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?w.grep(e,function(e){return e===n!==i}):"string"!=typeof n?w.grep(e,function(e){return-1<B.call(n,e)!==i}):w.filter(n,e,i)}w.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)w.find(e,r[t],n);return 1<i?w.uniqueSort(n):n},filter:function(e){return this.pushStack(Z(this,e||[],!1))},not:function(e){return this.pushStack(Z(this,e||[],!0))},is:function(e){return!!Z(this,"string"==typeof e&&Q.test(e)?w(e):e||[],!1).length}});var ee,te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ne=((w.fn.init=function(e,t,n){if(!e)return this;if(n=n||ee,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:te.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),J.test(i[1])&&w.isPlainObject(t))for(var i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=S.getElementById(i[2]))&&(this[0]=n,this.length=1),this}).prototype=w.fn,ee=w(S),/^(?:parents|prev(?:Until|All))/),ie={children:!0,contents:!0,next:!0,prev:!0};function re(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,a=[],o="string"!=typeof e&&w(e);if(!Q.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&w.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?w.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?B.call(w(e),this[0]):B.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return i(e,"parentNode")},parentsUntil:function(e,t,n){return i(e,"parentNode",n)},next:function(e){return re(e,"nextSibling")},prev:function(e){return re(e,"previousSibling")},nextAll:function(e){return i(e,"nextSibling")},prevAll:function(e){return i(e,"previousSibling")},nextUntil:function(e,t,n){return i(e,"nextSibling",n)},prevUntil:function(e,t,n){return i(e,"previousSibling",n)},siblings:function(e){return X((e.parentNode||{}).firstChild,e)},children:function(e){return X(e.firstChild)},contents:function(e){return l(e,"iframe")?e.contentDocument:(l(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(i,r){w.fn[i]=function(e,t){var n=w.map(this,r,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=w.filter(t,n)),1<this.length&&(ie[i]||w.uniqueSort(n),ne.test(i)&&n.reverse()),this.pushStack(n)}});var E=/[^\x20\t\r\n\f]+/g;function c(e){return e}function ae(e){throw e}function oe(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},w.each(e.match(E)||[],function(e,t){n[t]=!0}),n):w.extend({},i);function r(){for(s=s||i.once,o=a=!0;u.length;c=-1)for(t=u.shift();++c<l.length;)!1===l[c].apply(t[0],t[1])&&i.stopOnFalse&&(c=l.length,t=!1);i.memory||(t=!1),a=!1,s&&(l=t?[]:"")}var a,t,o,s,l=[],u=[],c=-1,d={add:function(){return l&&(t&&!a&&(c=l.length-1,u.push(t)),function n(e){w.each(e,function(e,t){v(t)?i.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==p(t)&&n(t)})}(arguments),t&&!a&&r()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;-1<(n=w.inArray(t,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<w.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=u=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=u=[],t||a||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),a||r()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},w.extend({Deferred:function(e){var a=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var r=arguments;return w.Deferred(function(i){w.each(a,function(e,t){var n=v(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var l=0;function u(r,a,o,s){return function(){function e(){var e,t;if(!(r<l)){if((e=o.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,u(l,a,c,s),u(l,a,ae,s)):(l++,t.call(e,u(l,a,c,s),u(l,a,ae,s),u(l,a,c,a.notifyWith))):(o!==c&&(n=void 0,i=[e]),(s||a.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,t.stackTrace),l<=r+1&&(o!==ae&&(n=void 0,i=[e]),a.rejectWith(n,i))}};r?t():(w.Deferred.getStackHook&&(t.stackTrace=w.Deferred.getStackHook()),T.setTimeout(t))}}return w.Deferred(function(e){a[0][3].add(u(0,e,v(i)?i:c,e.notifyWith)),a[1][3].add(u(0,e,v(t)?t:c)),a[2][3].add(u(0,e,v(n)?n:ae))}).promise()},promise:function(e){return null!=e?w.extend(e,o):o}},s={};return w.each(a,function(e,t){var n=t[2],i=t[5];o[t[1]]=n.add,i&&n.add(function(){r=i},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,a[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,a)}}var n=arguments.length,i=n,r=Array(i),a=s.call(arguments),o=w.Deferred();if(n<=1&&(oe(e,o.done(t(i)).resolve,o.reject,!n),"pending"===o.state()||v(a[i]&&a[i].then)))return o.then();for(;i--;)oe(a[i],t(i),o.reject);return o.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,le=(w.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&se.test(e.name)&&T.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){T.setTimeout(function(){throw e})},w.Deferred());function ue(){S.removeEventListener("DOMContentLoaded",ue),T.removeEventListener("load",ue),w.ready()}w.fn.ready=function(e){return le.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||((w.isReady=!0)!==e&&0<--w.readyWait||le.resolveWith(S,[w]))}}),w.ready.then=le.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?T.setTimeout(w.ready):(S.addEventListener("DOMContentLoaded",ue),T.addEventListener("load",ue));function d(e,t,n,i,r,a,o){var s=0,l=e.length,u=null==n;if("object"===p(n))for(s in r=!0,n)d(e,t,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,v(i)||(o=!0),t=u?o?(t.call(e,i),null):(u=t,function(e,t,n){return u.call(w(e),n)}):t))for(;s<l;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):a}var ce=/^-ms-/,de=/-([a-z])/g;function he(e,t){return t.toUpperCase()}function b(e){return e.replace(ce,"ms-").replace(de,he)}function fe(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function t(){this.expando=w.expando+t.uid++}t.uid=1,t.prototype={cache:function(e){var t=e[this.expando];return t||(t={},fe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[b(t)]=n;else for(i in t)r[b(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(b):(t=b(t))in i?[t]:t.match(E)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!w.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var y=new t,u=new t,pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ge=/[A-Z]/g;function me(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ge,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:pe.test(r)?JSON.parse(r):r)}catch(e){}u.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return u.hasData(e)||y.hasData(e)},data:function(e,t,n){return u.access(e,t,n)},removeData:function(e,t){u.remove(e,t)},_data:function(e,t,n){return y.access(e,t,n)},_removeData:function(e,t){y.remove(e,t)}}),w.fn.extend({data:function(n,e){var t,i,r,a=this[0],o=a&&a.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){u.set(this,n)}):d(this,function(e){var t;if(a&&void 0===e)return void 0!==(t=u.get(a,n))||void 0!==(t=me(a,n))?t:void 0;this.each(function(){u.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=u.get(a),1===a.nodeType&&!y.get(a,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(i=o[t].name).indexOf("data-")&&(i=b(i.slice(5)),me(a,i,r[i]));y.set(a,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){u.remove(this,e)})}}),w.extend({queue:function(e,t,n){var i;if(e)return i=y.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=y.access(e,t,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,r=n.shift(),a=w._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,function(){w.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return y.get(e,n)||y.access(e,n,{empty:w.Callbacks("once memory").add(function(){y.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?w.queue(this[0],t):void 0===n?this:this.each(function(){var e=w.queue(this,t,n);w._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&w.dequeue(this,t)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||a.resolveWith(o,[o])}var i,r=1,a=w.Deferred(),o=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=y.get(o[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),a.promise(t)}});function ye(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")}function ve(e,t,n,i){var r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in n=n.apply(e,i||[]),t)e.style[r]=a[r];return n}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,h=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),f=["Top","Right","Bottom","Left"];function be(e,t,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return w.css(e,t,"")},l=s(),u=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==u&&+l)&&h.exec(w.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;o--;)w.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;w.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var _e={};function _(e,t){for(var n,i,r,a,o,s=[],l=0,u=e.length;l<u;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(s[l]=y.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&ye(i)&&(s[l]=(o=a=void 0,a=(r=i).ownerDocument,r=r.nodeName,(o=_e[r])||(a=a.body.appendChild(a.createElement(r)),o=w.css(a,"display"),a.parentNode.removeChild(a),_e[r]=o="none"===o?"block":o)))):"none"!==n&&(s[l]="none",y.set(i,"display",n)));for(l=0;l<u;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}w.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ye(this)?w(this).show():w(this).hide()})}});var Te=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,we=/^$|^module$|\/(?:java|ecma)script/i,C={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function k(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&l(e,t)?w.merge([e],n):n}function Ee(e,t){for(var n=0,i=e.length;n<i;n++)y.set(e[n],"globalEval",!t||y.get(t[n],"globalEval"))}C.optgroup=C.option,C.tbody=C.tfoot=C.colgroup=C.caption=C.thead,C.th=C.td;var Ce=/<|&#?\w+;/;function ke(e,t,n,i,r){for(var a,o,s,l,u,c=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((a=e[h])||0===a)if("object"===p(a))w.merge(d,a.nodeType?[a]:a);else if(Ce.test(a)){for(o=o||c.appendChild(t.createElement("div")),s=(Se.exec(a)||["",""])[1].toLowerCase(),s=C[s]||C._default,o.innerHTML=s[1]+w.htmlPrefilter(a)+s[2],u=s[0];u--;)o=o.lastChild;w.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(t.createTextNode(a));for(c.textContent="",h=0;a=d[h++];)if(i&&-1<w.inArray(a,i))r&&r.push(a);else if(l=w.contains(a.ownerDocument,a),o=k(c.appendChild(a),"script"),l&&Ee(o),n)for(u=0;a=o[u++];)we.test(a.type||"")&&n.push(a);return c}O=S.createDocumentFragment().appendChild(S.createElement("div")),(o=S.createElement("input")).setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),O.appendChild(o),m.checkClone=O.cloneNode(!0).cloneNode(!0).lastChild.checked,O.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!O.cloneNode(!0).lastChild.defaultValue;var De=S.documentElement,Ae=/^key/,xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Le=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function D(){return!1}function Ie(){try{return S.activeElement}catch(e){}}function Re(e,t,n,i,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Re(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=D;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,t,r,i,n)})}w.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,u,c,d,h,f,p=y.get(t);if(p)for(n.handler&&(n=(a=n).handler,r=a.selector),r&&w.find.matchesSelector(De,r),n.guid||(n.guid=w.guid++),(s=p.events)||(s=p.events={}),(o=p.handle)||(o=p.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(E)||[""]).length;l--;)d=f=(h=Le.exec(e[l])||[])[1],h=(h[2]||"").split(".").sort(),d&&(u=w.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=w.event.special[d]||{},f=w.extend({type:d,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:h.join(".")},a),(c=s[d])||((c=s[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,h,o)||t.addEventListener&&t.addEventListener(d,o)),u.add&&(u.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,f):c.push(f),w.event.global[d]=!0)},remove:function(e,t,n,i,r){var a,o,s,l,u,c,d,h,f,p,g,m=y.hasData(e)&&y.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(E)||[""]).length;u--;)if(f=g=(s=Le.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=w.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)c=h[a],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(a,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||w.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)w.event.remove(e,f+t[u],n,i,!0);w.isEmptyObject(l)&&y.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,o=w.event.fix(e),s=new Array(arguments.length),e=(y.get(this,"events")||{})[o.type]||[],l=w.event.special[o.type]||{};for(s[0]=o,t=1;t<arguments.length;t++)s[t]=arguments[t];if(o.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,o)){for(a=w.event.handlers.call(this,o,e),t=0;(i=a[t++])&&!o.isPropagationStopped();)for(o.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(r.namespace)||(o.handleObj=r,o.data=r.data,void 0!==(r=((w.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(o.result=r)&&(o.preventDefault(),o.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,i,r,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[r=(i=t[n]).selector+" "]&&(o[r]=i.needsContext?-1<w(r,this).index(u):w.find(r,this,null,[u]).length),o[r]&&a.push(i);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ie()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ie()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(e){return l(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:D,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ae.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){w.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||w.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),w.fn.extend({on:function(e,t,n,i){return Re(this,e,t,n,i)},one:function(e,t,n,i){return Re(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=D),this.each(function(){w.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Me=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,i,r,a,o,s;if(1===t.nodeType){if(y.hasData(e)&&(a=y.access(e),o=y.set(t,a),s=a.events))for(r in delete o.handle,o.events={},s)for(n=0,i=s[r].length;n<i;n++)w.event.add(t,r,s[r][n]);u.hasData(e)&&(a=u.access(e),o=w.extend({},a),u.set(t,o))}}function A(n,i,r,a){i=F.apply([],i);var e,t,o,s,l,u,c=0,d=n.length,h=d-1,f=i[0],p=v(f);if(p||1<d&&"string"==typeof f&&!m.checkClone&&Ne.test(f))return n.each(function(e){var t=n.eq(e);p&&(i[0]=f.call(this,e,t.html())),A(t,i,r,a)});if(d&&(t=(e=ke(i,n[0].ownerDocument,!1,n,a)).firstChild,1===e.childNodes.length&&(e=t),t||a)){for(s=(o=w.map(k(e,"script"),je)).length;c<d;c++)l=e,c!==h&&(l=w.clone(l,!0,!0),s&&w.merge(o,k(l,"script"))),r.call(n[c],l,c);if(s)for(u=o[o.length-1].ownerDocument,w.map(o,Be),c=0;c<s;c++)l=o[c],we.test(l.type||"")&&!y.access(l,"globalEval")&&w.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):z(l.textContent.replace(Ue,""),u,l))}return n}function We(e,t,n){for(var i,r=t?w.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||w.cleanData(k(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&Ee(k(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s,l,u,c=e.cloneNode(!0),d=w.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=k(c),i=0,r=(a=k(e)).length;i<r;i++)s=a[i],l=o[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&Te.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(n)for(a=a||k(e),o=o||k(c),i=0,r=a.length;i<r;i++)He(a[i],o[i]);else He(e,c);return 0<(o=k(c,"script")).length&&Ee(o,!d&&k(e,"script")),c},cleanData:function(e){for(var t,n,i,r=w.event.special,a=0;void 0!==(n=e[a]);a++)if(fe(n)){if(t=n[y.expando]){if(t.events)for(i in t.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,t.handle);n[y.expando]=void 0}n[u.expando]&&(n[u.expando]=void 0)}}}),w.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return d(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)})},prepend:function(){return A(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Fe(this,e)).insertBefore(e,t.firstChild)})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(k(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return d(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!C[(Se.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(k(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return A(this,arguments,function(e){var t=this.parentNode;w.inArray(this,n)<0&&(w.cleanData(k(this)),t&&t.replaceChild(e,this))},n)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){w.fn[e]=function(e){for(var t,n=[],i=w(e),r=i.length-1,a=0;a<=r;a++)t=a===r?this:this.clone(!0),w(i[a])[o](t),j.apply(n,t.get());return this.pushStack(n)}});function Ge(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:T).getComputedStyle(e)}var qe,Ve,Ye,ze,$e,Ke,n,Xe=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Qe=new RegExp(f.join("|"),"i");function r(){var e;n&&(Ke.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",n.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",De.appendChild(Ke).appendChild(n),e=T.getComputedStyle(n),qe="1%"!==e.top,$e=12===Je(e.marginLeft),n.style.right="60%",ze=36===Je(e.right),Ve=36===Je(e.width),n.style.position="absolute",Ye=36===n.offsetWidth||"absolute",De.removeChild(Ke),n=null)}function Je(e){return Math.round(parseFloat(e))}function x(e,t,n){var i,r,a=e.style;return(n=n||Ge(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(r=w.style(e,t)),!m.pixelBoxStyles()&&Xe.test(r)&&Qe.test(t)&&(e=a.width,t=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=e,a.minWidth=t,a.maxWidth=i)),void 0!==r?r+"":r}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Ke=S.createElement("div"),(n=S.createElement("div")).style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===n.style.backgroundClip,w.extend(m,{boxSizingReliable:function(){return r(),Ve},pixelBoxStyles:function(){return r(),ze},pixelPosition:function(){return r(),qe},reliableMarginLeft:function(){return r(),$e},scrollboxSize:function(){return r(),Ye}}));var et=/^(none|table(?!-c[ea]).+)/,tt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","Moz","ms"],at=S.createElement("div").style;function ot(e){return w.cssProps[e]||(w.cssProps[e]=function(e){if(e in at)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in at)return e}(e)||e)}function st(e,t,n){var i=h.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function lt(e,t,n,i,r,a){var o="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=w.css(e,n+f[o],!0,r)),i?("content"===n&&(l-=w.css(e,"padding"+f[o],!0,r)),"margin"!==n&&(l-=w.css(e,"border"+f[o]+"Width",!0,r))):(l+=w.css(e,"padding"+f[o],!0,r),"padding"!==n?l+=w.css(e,"border"+f[o]+"Width",!0,r):s+=w.css(e,"border"+f[o]+"Width",!0,r));return!i&&0<=a&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))),l}function ut(e,t,n){var i=Ge(e),r=x(e,t,i),a="border-box"===w.css(e,"boxSizing",!1,i),o=a;if(Xe.test(r)){if(!n)return r;r="auto"}return o=o&&(m.boxSizingReliable()||r===e.style[t]),"auto"!==r&&(parseFloat(r)||"inline"!==w.css(e,"display",!1,i))||(r=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(r=parseFloat(r)||0)+lt(e,t,n||(a?"border":"content"),o,i,r)+"px"}function a(e,t,n,i,r){return new a.prototype.init(e,t,n,i,r)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=x(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=b(t),l=tt.test(t),u=e.style;if(l||(t=ot(s)),o=w.cssHooks[t]||w.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:u[t];"string"==(a=typeof n)&&(r=h.exec(n))&&r[1]&&(n=be(e,t,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(w.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,a=b(t);return tt.test(t)||(t=ot(a)),"normal"===(r=void 0===(r=(a=w.cssHooks[t]||w.cssHooks[a])&&"get"in a?a.get(e,!0,n):r)?x(e,t,i):r)&&t in it&&(r=it[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),w.each(["height","width"],function(e,a){w.cssHooks[a]={get:function(e,t,n){if(t)return!et.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,a,n):ve(e,nt,function(){return ut(e,a,n)})},set:function(e,t,n){var i=Ge(e),r="border-box"===w.css(e,"boxSizing",!1,i),n=n&&lt(e,a,n,r,i);return r&&m.scrollboxSize()===i.position&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-lt(e,a,"border",!1,i)-.5)),n&&(r=h.exec(t))&&"px"!==(r[3]||"px")&&(e.style[a]=t,t=w.css(e,a)),st(0,t,n)}}}),w.cssHooks.marginLeft=Ze(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(x(e,"marginLeft"))||e.getBoundingClientRect().left-ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(r,a){w.cssHooks[r+a]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+f[t]+a]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(w.cssHooks[r+a].set=st)}),w.fn.extend({css:function(e,t){return d(this,function(e,t,n){var i,r,a={},o=0;if(Array.isArray(t)){for(i=Ge(e),r=t.length;o<r;o++)a[t[o]]=w.css(e,t[o],!1,i);return a}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,1<arguments.length)}}),((w.Tween=a).prototype={constructor:a,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(w.cssNumber[n]?"":"px")},cur:function(){var e=a.propHooks[this.prop];return(e&&e.get?e:a.propHooks._default).get(this)},run:function(e){var t,n=a.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:a.propHooks._default).set(this),this}}).init.prototype=a.prototype,(a.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=w.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=a.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=a.prototype.init,w.fx.step={};var L,ct,o,O,dt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function ft(){ct&&(!1===S.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(ft):T.setTimeout(ft,w.fx.interval),w.fx.tick())}function pt(){return T.setTimeout(function(){L=void 0}),L=Date.now()}function gt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=f[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function mt(e,t,n){for(var i,r=(I.tweeners[t]||[]).concat(I.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function I(r,e,t){var n,a,i,o,s,l,u,c=0,d=I.prefilters.length,h=w.Deferred().always(function(){delete f.elem}),f=function(){if(a)return!1;for(var e=L||pt(),e=Math.max(0,p.startTime+p.duration-e),t=1-(e/p.duration||0),n=0,i=p.tweens.length;n<i;n++)p.tweens[n].run(t);return h.notifyWith(r,[p,t,e]),t<1&&i?e:(i||h.notifyWith(r,[p,1,0]),h.resolveWith(r,[p]),!1)},p=h.promise({elem:r,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},t),originalProperties:e,originalOptions:t,startTime:L||pt(),duration:t.duration,tweens:[],createTween:function(e,t){t=w.Tween(r,p.opts,e,t,p.opts.specialEasing[e]||p.opts.easing);return p.tweens.push(t),t},stop:function(e){var t=0,n=e?p.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)p.tweens[t].run(1);return e?(h.notifyWith(r,[p,1,0]),h.resolveWith(r,[p,e])):h.rejectWith(r,[p,e]),this}}),g=p.props,m=g,y=p.opts.specialEasing;for(i in m)if(o=b(i),s=y[o],l=m[i],Array.isArray(l)&&(s=l[1],l=m[i]=l[0]),i!==o&&(m[o]=l,delete m[i]),(u=w.cssHooks[o])&&"expand"in u)for(i in l=u.expand(l),delete m[o],l)i in m||(m[i]=l[i],y[i]=s);else y[o]=s;for(;c<d;c++)if(n=I.prefilters[c].call(p,r,g,p.opts))return v(n.stop)&&(w._queueHooks(p.elem,p.opts.queue).stop=n.stop.bind(n)),n;return w.map(g,mt,p),v(p.opts.start)&&p.opts.start.call(r,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),w.fx.timer(w.extend(f,{elem:r,anim:p,queue:p.opts.queue})),p}w.Animation=w.extend(I,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,h.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=v(e)?(t=e,["*"]):e.match(E)).length;i<r;i++)n=e[i],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,a,o,s,l,u,c="width"in t||"height"in t,d=this,h={},f=e.style,p=e.nodeType&&ye(e),g=y.get(e,"fxshow");for(i in n.queue||(null==(o=w._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[i],dt.test(r)){if(delete t[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||w.style(e,i)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(h))for(i in c&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=y.get(e,"display")),"none"===(c=w.css(e,"display"))&&(u?c=u:(_([e],!0),u=e.style.display||u,c=w.css(e,"display"),_([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(e,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,h)l||(g?"hidden"in g&&(p=g.hidden):g=y.access(e,"fxshow",{display:u}),a&&(g.hidden=!p),p&&_([e],!0),d.done(function(){for(i in p||_([e]),y.remove(e,"fxshow"),h)w.style(e,i,h[i])})),l=mt(p?g[i]:0,i,d),i in g||(g[i]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=I(this,w.extend({},t),o);(a||y.get(this,"finish"))&&e.stop(!0)}var a=w.isEmptyObject(t),o=w.speed(e,n,i);return r.finish=r,a||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(r,e,a){function o(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof r&&(a=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=w.timers,i=y.get(this);if(t)i[t]&&i[t].stop&&o(i[t]);else for(t in i)i[t]&&i[t].stop&&ht.test(t)&&o(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||w.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=y.get(this),n=t[o+"queue"],i=t[o+"queueHooks"],r=w.timers,a=n?n.length:0;for(t.finish=!0,w.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===o&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),w.each(["toggle","show","hide"],function(e,i){var r=w.fn[i];w.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(gt(i,!0),e,t,n)}}),w.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){w.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(L=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),L=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ct||(ct=!0,ft())},w.fx.stop=function(){ct=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(i,e){return i=w.fx&&w.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=T.setTimeout(e,i);t.stop=function(){T.clearTimeout(n)}})},o=S.createElement("input"),O=S.createElement("select").appendChild(S.createElement("option")),o.type="checkbox",m.checkOn=""!==o.value,m.optSelected=O.selected,(o=S.createElement("input")).value="t",o.type="radio",m.radioValue="t"===o.value;var yt,R=w.expr.attrHandle,vt=(w.fn.extend({attr:function(e,t){return d(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?w.prop(e,t,n):(1===a&&w.isXMLDoc(e)||(r=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){var n;if(!m.radioValue&&"radio"===t&&l(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(E);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var o=R[t]||w.find.attr;R[t]=function(e,t,n){var i,r,a=t.toLowerCase();return n||(r=R[a],R[a]=i,i=null!=o(e,t,n)?a:null,R[a]=r),i}}),/^(?:input|select|textarea|button)$/i),bt=/^(?:a|area)$/i;function P(e){return(e.match(E)||[]).join(" ")}function M(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(E)||[]}w.fn.extend({prop:function(e,t){return d(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&w.isXMLDoc(e)||(t=w.propFix[t]||t,r=w.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(w.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,i,r,a,o,s=0;if(v(t))return this.each(function(e){w(this).addClass(t.call(this,e,M(this)))});if((e=_t(t)).length)for(;n=this[s++];)if(o=M(n),i=1===n.nodeType&&" "+P(o)+" "){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(o=P(i))&&n.setAttribute("class",o)}return this},removeClass:function(t){var e,n,i,r,a,o,s=0;if(v(t))return this.each(function(e){w(this).removeClass(t.call(this,e,M(this)))});if(!arguments.length)return this.attr("class","");if((e=_t(t)).length)for(;n=this[s++];)if(o=M(n),i=1===n.nodeType&&" "+P(o)+" "){for(a=0;r=e[a++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(o=P(i))&&n.setAttribute("class",o)}return this},toggleClass:function(r,t){var a=typeof r,o="string"==a||Array.isArray(r);return"boolean"==typeof t&&o?t?this.addClass(r):this.removeClass(r):v(r)?this.each(function(e){w(this).toggleClass(r.call(this,e,M(this),t),t)}):this.each(function(){var e,t,n,i;if(o)for(t=0,n=w(this),i=_t(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=a||((e=M(this))&&y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&y.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+P(M(t))+" ").indexOf(i))return!0;return!1}});function Tt(e){e.stopPropagation()}var St=/\r/g,wt=(w.fn.extend({val:function(t){var n,e,i,r=this[0];return arguments.length?(i=v(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,w(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=w.map(e,function(e){return null==e?"":e+""})),(n=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):r?(n=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(St,""):null==e?"":e:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:P(w.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,r="select-one"===e.type,a=r?null:[],o=r?i+1:n.length,s=i<0?o:r?i:0;s<o;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(t=w(t).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,a=w.makeArray(t),o=r.length;o--;)((i=r[o]).selected=-1<w.inArray(w.valHooks.option.get(i),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},m.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in T,/^(?:focusinfocus|focusoutblur)$/),Et=(w.extend(w.event,{trigger:function(e,t,n,i){var r,a,o,s,l,u,c,d=[n||S],h=G.call(e,"type")?e.type:e,f=G.call(e,"namespace")?e.namespace.split("."):[],p=c=a=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!wt.test(h+w.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),s=h.indexOf(":")<0&&"on"+h,(e=e[w.expando]?e:new w.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:w.makeArray(t,[e]),u=w.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!g(n)){for(o=u.delegateType||h,wt.test(o+h)||(p=p.parentNode);p;p=p.parentNode)d.push(p),a=p;a===(n.ownerDocument||S)&&d.push(a.defaultView||a.parentWindow||T)}for(r=0;(p=d[r++])&&!e.isPropagationStopped();)c=p,e.type=1<r?o:u.bindType||h,(l=(y.get(p,"events")||{})[e.type]&&y.get(p,"handle"))&&l.apply(p,t),(l=s&&p[s])&&l.apply&&fe(p)&&(e.result=l.apply(p,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!fe(n)||s&&v(n[h])&&!g(n)&&((a=n[s])&&(n[s]=null),w.event.triggered=h,e.isPropagationStopped()&&c.addEventListener(h,Tt),n[h](),e.isPropagationStopped()&&c.removeEventListener(h,Tt),w.event.triggered=void 0,a&&(n[s]=a)),e.result}},simulate:function(e,t,n){n=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(n,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),m.focusin||w.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){w.event.simulate(i,e.target,w.event.fix(e))}w.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=y.access(e,i);t||e.addEventListener(n,r,!0),y.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=y.access(e,i)-1;t?y.access(e,i,t):(e.removeEventListener(n,r,!0),y.remove(e,i))}}}),T.location),Ct=Date.now(),kt=/\?/,Dt=(w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t},/\[\]$/),At=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;w.param=function(e,t){function n(e,t){t=v(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,r=[];if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,a){if(Array.isArray(e))w.each(e,function(e,t){r||Dt.test(i)?a(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,a)});else if(r||"object"!==p(e))a(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,a)}(i,e[i],t,n);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Lt.test(this.nodeName)&&!xt.test(e)&&(this.checked||!Te.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Ot=/%20/g,It=/#.*$/,Rt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Ut={},Ft={},jt="*/".concat("*"),Bt=S.createElement("a");function Ht(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(E)||[];if(v(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function Wt(t,i,r,a){var o={},s=t===Ft;function l(e){var n;return o[e]=!0,w.each(t[e]||[],function(e,t){t=t(i,r,a);return"string"!=typeof t||s||o[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!o["*"]&&l("*")}function Gt(e,t){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&w.extend(!0,e,i),e}Bt.href=Et.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,w.ajaxSettings),t):Gt(w.ajaxSettings,e)},ajaxPrefilter:Ht(Ut),ajaxTransport:Ht(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,u,c,n,d,h,f,i,p=w.ajaxSetup({},t=t||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?w(g):w.event,y=w.Deferred(),v=w.Callbacks("once memory"),b=p.statusCode||{},r={},a={},o="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Pt.exec(c);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?c:null},setRequestHeader:function(e,t){return null==h&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==h&&(p.mimeType=e),this},statusCode:function(e){if(e)if(h)_.always(e[_.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||o;return l&&l.abort(e),s(0,e),this}};if(y.promise(_),p.url=((e||p.url||Et.href)+"").replace(Nt,Et.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(E)||[""],null==p.crossDomain){e=S.createElement("a");try{e.href=p.url,e.href=e.href,p.crossDomain=Bt.protocol+"//"+Bt.host!=e.protocol+"//"+e.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Wt(Ut,p,t,_),h)return _;for(i in(f=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Mt.test(p.type),u=p.url.replace(It,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ot,"+")):(e=p.url.slice(u.length),p.data&&(p.processData||"string"==typeof p.data)&&(u+=(kt.test(u)?"&":"?")+p.data,delete p.data),!1===p.cache&&(u=u.replace(Rt,"$1"),e=(kt.test(u)?"&":"?")+"_="+Ct+++e),p.url=u+e),p.ifModified&&(w.lastModified[u]&&_.setRequestHeader("If-Modified-Since",w.lastModified[u]),w.etag[u]&&_.setRequestHeader("If-None-Match",w.etag[u])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+jt+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(g,_,p)||h))return _.abort();if(o="abort",v.add(p.complete),_.done(p.success),_.fail(p.error),l=Wt(Ft,p,t,_)){if(_.readyState=1,f&&m.trigger("ajaxSend",[_,p]),h)return _;p.async&&0<p.timeout&&(d=T.setTimeout(function(){_.abort("timeout")},p.timeout));try{h=!1,l.send(r,s)}catch(e){if(h)throw e;s(-1,e)}}else s(-1,"No Transport");function s(e,t,n,i){var r,a,o,s=t;h||(h=!0,d&&T.clearTimeout(d),l=void 0,c=i||"",_.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(o=function(e,t,n){for(var i,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o=o||r}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,_,n)),o=function(e,t,n,i){var r,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if((s=r.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(p,o,_,i),i?(p.ifModified&&((n=_.getResponseHeader("Last-Modified"))&&(w.lastModified[u]=n),(n=_.getResponseHeader("etag"))&&(w.etag[u]=n)),204===e||"HEAD"===p.type?s="nocontent":304===e?s="notmodified":(s=o.state,r=o.data,i=!(a=o.error))):(a=s,!e&&s||(s="error",e<0&&(e=0))),_.status=e,_.statusText=(t||s)+"",i?y.resolveWith(g,[r,s,_]):y.rejectWith(g,[_,s,a]),_.statusCode(b),b=void 0,f&&m.trigger(i?"ajaxSuccess":"ajaxError",[_,p,i?r:a]),v.fireWith(g,[_,s]),f&&(m.trigger("ajaxComplete",[_,p]),--w.active||w.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,r){w[r]=function(e,t,n,i){return v(t)&&(i=i||n,n=t,t=void 0),w.ajax(w.extend({url:e,type:r,dataType:i,data:t,success:n},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){w(this).wrapInner(n.call(this,e))}):this.each(function(){var e=w(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){w(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Vt=w.ajaxSettings.xhr(),Yt=(m.cors=!!Vt&&"withCredentials"in Vt,m.ajax=Vt=!!Vt,w.ajaxTransport(function(r){var a,o;if(m.cors||Vt&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=o=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(qt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),o=i.onerror=i.ontimeout=a("error"),void 0!==i.onabort?i.onabort=o:i.onreadystatechange=function(){4===i.readyState&&T.setTimeout(function(){a&&o()})},a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=w("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(i[0])},abort:function(){r&&r()}}}),[]),zt=/(=)\?(?=&|$)|\?\?/,$t=(w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Ct++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,a,o=!1!==e.jsonp&&(zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(zt,"$1"+i):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},e.dataTypes[0]="json",r=T[i],T[i]=function(){a=arguments},n.always(function(){void 0===r?w(T).removeProp(i):T[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(i)),a&&v(r)&&r(a[0]),a=r=void 0}),"script"}),m.createHTMLDocument=((e=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(i)):t=S),i=!n&&[],(n=J.exec(e))?[t.createElement(n[1])]:(n=ke([e],t,i),i&&i.length&&w(i).remove(),w.merge([],n.childNodes)));var i},w.fn.load=function(e,t,n){var i,r,a,o=this,s=e.indexOf(" ");return-1<s&&(i=P(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&w.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(e,t,n){var i,r,a,o,s=w.css(e,"position"),l=w(e),u={};"static"===s&&(e.style.position="relative"),a=l.offset(),i=w.css(e,"top"),o=w.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(i+o).indexOf("auto")?(r=(s=l.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(o)||0),null!=(t=v(t)?t.call(e,n,w.extend({},a)):t).top&&(u.top=t.top-a.top+r),null!=t.left&&(u.left=t.left-a.left+s),"using"in t?t.using.call(e,u):l.css(u)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),r.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-w.css(i,"marginTop",!0),left:t.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||De})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var a="pageYOffset"===r;w.fn[t]=function(e){return d(this,function(e,t,n){var i;if(g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(a?i.pageXOffset:n,a?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),w.each(["top","left"],function(e,n){w.cssHooks[n]=Ze(m.pixelPosition,function(e,t){if(t)return t=x(e,n),Xe.test(t)?w(e).position()[n]+"px":t})}),w.each({Height:"height",Width:"width"},function(o,s){w.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,a){w.fn[a]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return d(this,function(e,t,n){var i;return g(e)?0===a.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?w.css(e,t,r):w.style(e,t,n,r)},s,n?e:void 0,n)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){w.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),v(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=l,w.isFunction=v,w.isWindow=g,w.camelCase=b,w.type=p,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w}),T.jQuery),Kt=T.$;return w.noConflict=function(e){return T.$===w&&(T.$=Kt),e&&T.jQuery===w&&(T.jQuery=$t),w},N||(T.jQuery=T.$=w),w}),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(e,window,document)}):"object"==typeof exports?module.exports=function(e,t){return e=e||window,t=t||("undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t,e,e.document)}:n(jQuery,window,document)}(function(I,L,v,R){function a(t){var n,i,r={};I.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),r[i]=e,"o"===n[1]&&a(t[e]))}),t._hungarianMap=r}function _(t,n,i){var r;t._hungarianMap||a(t),I.each(n,function(e){(r=t._hungarianMap[e])===R||!i&&n[r]!==R||("o"===r.charAt(0)?(n[r]||(n[r]={}),I.extend(!0,n[r],n[e]),_(t[r],n[r],i)):n[r]=n[e])})}function O(e){var t,n=A.defaults.oLanguage,i=n.sDecimal;i&&Qe(i),e&&(t=e.sZeroRecords,!e.sEmptyTable&&t&&"No data available in table"===n.sEmptyTable&&E(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&t&&"Loading..."===n.sLoadingRecords&&E(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&i!==e&&Qe(e))}function B(e){if(i(e,"ordering","bSort"),i(e,"orderMulti","bSortMulti"),i(e,"orderClasses","bSortClasses"),i(e,"orderCellsTop","bSortCellsTop"),i(e,"order","aaSorting"),i(e,"orderFixed","aaSortingFixed"),i(e,"paging","bPaginate"),i(e,"pagingType","sPaginationType"),i(e,"pageLength","iDisplayLength"),i(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&_(A.models.oSearch,e[t])}function H(e){i(e,"orderable","bSortable"),i(e,"orderData","aDataSort"),i(e,"orderSequence","asSorting"),i(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"!=typeof t||I.isArray(t)||(e.aDataSort=[t])}function W(e){var t,n,i,r;A.__browser||(A.__browser=t={},r=(i=(n=I("<div/>").css({position:"fixed",top:0,left:-1*I(L).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(I("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(I("<div/>").css({width:"100%",height:10}))).appendTo("body")).children()).children(),t.barWidth=i[0].offsetWidth-i[0].clientWidth,t.bScrollOversize=100===r[0].offsetWidth&&100!==i[0].clientWidth,t.bScrollbarLeft=1!==Math.round(r.offset().left),t.bBounding=!!n[0].getBoundingClientRect().width,n.remove()),I.extend(e.oBrowser,A.__browser),e.oScroll.iBarWidth=A.__browser.barWidth}function n(e,t,n,i,r,a){var o,s=!1;for(n!==R&&(o=n,s=!0);i!==r;)e.hasOwnProperty(i)&&(o=s?t(o,e[i],i,e):e[i],s=!0,i+=a);return o}function G(e,t){var n=A.defaults.column,i=e.aoColumns.length,n=I.extend({},A.models.oColumn,n,{nTh:t||v.createElement("th"),sTitle:n.sTitle||(t?t.innerHTML:""),aDataSort:n.aDataSort||[i],mData:n.mData||i,idx:i});e.aoColumns.push(n),(n=e.aoPreSearchCols)[i]=I.extend({},A.models.oSearch,n[i]),q(e,i,I(t).data())}function q(e,t,n){var i,t=e.aoColumns[t],r=e.oClasses,a=I(t.nTh),o=(t.sWidthOrig||(t.sWidthOrig=a.attr("width")||null,(i=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/))&&(t.sWidthOrig=i[1])),n!==R&&null!==n&&(H(n),_(A.defaults.column,n),n.mDataProp===R||n.mData||(n.mData=n.mDataProp),n.sType&&(t._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&a.addClass(n.sClass),I.extend(t,n),E(t,n,"sWidth","sWidthOrig"),n.iDataSort!==R&&(t.aDataSort=[n.iDataSort]),E(t,n,"aDataSort")),t.mData),s=S(o),l=t.mRender?S(t.mRender):null,n=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};t._bAttrSrc=I.isPlainObject(o)&&(n(o.sort)||n(o.type)||n(o.filter)),t._setter=null,t.fnGetData=function(e,t,n){var i=s(e,t,R,n);return l&&t?l(i,t,e,n):i},t.fnSetData=function(e,t,n){return p(o)(e,t,n)},"number"!=typeof o&&(e._rowReadObject=!0),e.oFeatures.bSort||(t.bSortable=!1,a.addClass(r.sSortableNone)),e=-1!==I.inArray("asc",t.asSorting),n=-1!==I.inArray("desc",t.asSorting),t.bSortable&&(e||n)?e&&!n?(t.sSortingClass=r.sSortableAsc,t.sSortingClassJUI=r.sSortJUIAscAllowed):!e&&n?(t.sSortingClass=r.sSortableDesc,t.sSortingClassJUI=r.sSortJUIDescAllowed):(t.sSortingClass=r.sSortable,t.sSortingClassJUI=r.sSortJUI):(t.sSortingClass=r.sSortableNone,t.sSortingClassJUI="")}function P(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;Re(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}""===(t=e.oScroll).sY&&""===t.sX||Ie(e),k(e,null,"column-sizing",[e])}function M(e,t){e=V(e,"bVisible");return"number"==typeof e[t]?e[t]:null}function u(e,t){e=V(e,"bVisible");return-1!==(e=I.inArray(t,e))?e:null}function y(e){var n=0;return I.each(e.aoColumns,function(e,t){t.bVisible&&"none"!==I(t.nTh).css("display")&&n++}),n}function V(e,n){var i=[];return I.map(e.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function m(e){for(var t,n,i,r,a,o,s,l=e.aoColumns,u=e.aoData,c=A.ext.type.detect,d=0,h=l.length;d<h;d++)if(s=[],!(a=l[d]).sType&&a._sManualType)a.sType=a._sManualType;else if(!a.sType){for(t=0,n=c.length;t<n;t++){for(i=0,r=u.length;i<r&&(s[i]===R&&(s[i]=b(e,i,d,"type")),(o=c[t](s[i],e))||t===c.length-1)&&"html"!==o;i++);if(o){a.sType=o;break}}a.sType||(a.sType="string")}}function Y(e,t,n,i){var r,a,o,s=e.aoColumns;if(t)for(r=t.length-1;0<=r;r--)for(var l,u=(l=t[r]).targets!==R?l.targets:l.aTargets,c=0,d=(u=I.isArray(u)?u:[u]).length;c<d;c++)if("number"==typeof u[c]&&0<=u[c]){for(;s.length<=u[c];)G(e);i(u[c],l)}else if("number"==typeof u[c]&&u[c]<0)i(s.length+u[c],l);else if("string"==typeof u[c])for(a=0,o=s.length;a<o;a++)"_all"!=u[c]&&!I(s[a].nTh).hasClass(u[c])||i(a,l);if(n)for(r=0,e=n.length;r<e;r++)i(r,n[r])}function T(e,t,n,i){var r=e.aoData.length,a=I.extend(!0,{},A.models.oRow,{src:n?"dom":"data",idx:r});a._aData=t,e.aoData.push(a);for(var o=e.aoColumns,s=0,l=o.length;s<l;s++)o[s].sType=null;return e.aiDisplayMaster.push(r),(t=e.rowIdFn(t))!==R&&(e.aIds[t]=a),!n&&e.oFeatures.bDeferRender||ee(e,r,n,i),r}function z(n,e){var i;return(e=e instanceof I?e:I(e)).map(function(e,t){return i=Z(n,t),T(n,i.data,t,i.cells)})}function b(e,t,n,i){var r=e.iDraw,a=e.aoColumns[n],o=e.aoData[t]._aData,s=a.sDefaultContent,l=a.fnGetData(o,i,{settings:e,row:t,col:n});if(l===R)return e.iDrawError!=r&&null===s&&(F(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=r),s;if(l!==o&&null!==l||null===s||i===R){if("function"==typeof l)return l.call(o)}else l=s;return null===l&&"display"==i?"":l}function $(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function K(e){return I.map(e.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function S(r){var a,s;return I.isPlainObject(r)?(a={},I.each(r,function(e,t){t&&(a[e]=S(t))}),function(e,t,n,i){var r=a[t]||a._;return r!==R?r(e,t,n,i):e}):null===r?function(e){return e}:"function"==typeof r?function(e,t,n,i){return r(e,t,n,i)}:"string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("(")?function(e){return e[r]}:(s=function(e,t,n){var i;if(""!==n)for(var r,a=0,o=(r=K(n)).length;a<o;a++){if(n=r[a].match(Tt),i=r[a].match(f),n){if(r[a]=r[a].replace(Tt,""),""!==r[a]&&(e=e[r[a]]),i=[],r.splice(0,a+1),r=r.join("."),I.isArray(e))for(a=0,o=e.length;a<o;a++)i.push(s(e[a],t,r));e=""===(e=n[0].substring(1,n[0].length-1))?i:i.join(e);break}if(i)r[a]=r[a].replace(f,""),e=e[r[a]]();else{if(null===e||e[r[a]]===R)return R;e=e[r[a]]}}return e},function(e,t){return s(e,t,r)})}function p(i){return I.isPlainObject(i)?p(i._):null===i?function(){}:"function"==typeof i?function(e,t,n){i(e,"set",t,n)}:"string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("[")&&-1===i.indexOf("(")?function(e,t){e[i]=t}:(l=function(e,t,n){for(var i,r,a=(n=K(n))[n.length-1],o=0,s=n.length-1;o<s;o++){if(i=n[o].match(Tt),r=n[o].match(f),i){if(n[o]=n[o].replace(Tt,""),e[n[o]]=[],(a=n.slice()).splice(0,o+1),i=a.join("."),I.isArray(t))for(r=0,s=t.length;r<s;r++)l(a={},t[r],i),e[n[o]].push(a);else e[n[o]]=t;return}r&&(n[o]=n[o].replace(f,""),e=e[n[o]](t)),null!==e[n[o]]&&e[n[o]]!==R||(e[n[o]]={}),e=e[n[o]]}a.match(f)?e[a.replace(f,"")](t):e[a.replace(Tt,"")]=t},function(e,t){return l(e,t,i)});var l}function X(e){return j(e.aoData,"_aData")}function Q(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function J(e,t,n){for(var i=-1,r=0,a=e.length;r<a;r++)e[r]==t?i=r:e[r]>t&&e[r]--;-1!=i&&n===R&&e.splice(i,1)}function r(n,i,e,t){var r,a=n.aoData[i],o=function(e,t){for(;e.childNodes.length;)e.removeChild(e.firstChild);e.innerHTML=b(n,i,t,"display")};if("dom"!==e&&(e&&"auto"!==e||"dom"!==a.src)){var s=a.anCells;if(s)if(t!==R)o(s[t],t);else for(e=0,r=s.length;e<r;e++)o(s[e],e)}else a._aData=Z(n,a,t,t===R?R:a._aData).data;if(a._aSortData=null,a._aFilterData=null,o=n.aoColumns,t!==R)o[t].sType=null;else{for(e=0,r=o.length;e<r;e++)o[e].sType=null;te(n,a)}}function Z(e,t,n,i){function r(e,t){var n;"string"==typeof e&&-1!==(n=e.indexOf("@"))&&(n=e.substring(n+1),p(e)(i,t.getAttribute(n)))}function a(e){n!==R&&n!==d||(s=h[d],l=I.trim(e.innerHTML),s&&s._bAttrSrc?(p(s.mData._)(i,l),r(s.mData.sort,e),r(s.mData.type,e),r(s.mData.filter,e)):f?(s._setter||(s._setter=p(s.mData)),s._setter(i,l)):i[d]=l),d++}var o,s,l,u=[],c=t.firstChild,d=0,h=e.aoColumns,f=e._rowReadObject,i=i!==R?i:f?{}:[];if(c)for(;c;)"TD"!=(o=c.nodeName.toUpperCase())&&"TH"!=o||(a(c),u.push(c)),c=c.nextSibling;else for(c=0,o=(u=t.anCells).length;c<o;c++)a(u[c]);return(t=t.firstChild?t:t.nTr)&&(t=t.getAttribute("id"))&&p(e.rowId)(i,t),{data:i,cells:u}}function ee(e,t,n,i){var r,a,o,s,l,u=e.aoData[t],c=u._aData,d=[];if(null===u.nTr){for(r=n||v.createElement("tr"),u.nTr=r,u.anCells=d,r._DT_RowIndex=t,te(e,u),s=0,l=e.aoColumns.length;s<l;s++)o=e.aoColumns[s],(a=n?i[s]:v.createElement(o.sCellType))._DT_CellIndex={row:t,column:s},d.push(a),n&&!o.mRender&&o.mData===s||I.isPlainObject(o.mData)&&o.mData._===s+".display"||(a.innerHTML=b(e,t,s,"display")),o.sClass&&(a.className+=" "+o.sClass),o.bVisible&&!n?r.appendChild(a):!o.bVisible&&n&&a.parentNode.removeChild(a),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,a,b(e,t,s),c,t,s);k(e,"aoRowCreatedCallback",null,[r,c,t,d])}u.nTr.setAttribute("role","row")}function te(e,t){var n=t.nTr,i=t._aData;n&&((e=e.rowIdFn(i))&&(n.id=e),i.DT_RowClass&&(e=i.DT_RowClass.split(" "),t.__rowc=t.__rowc?_t(t.__rowc.concat(e)):e,I(n).removeClass(t.__rowc.join(" ")).addClass(i.DT_RowClass)),i.DT_RowAttr&&I(n).attr(i.DT_RowAttr),i.DT_RowData&&I(n).data(i.DT_RowData))}function ne(e){var t,n,i,r,a,o=e.nTHead,s=e.nTFoot,l=0===I("th, td",o).length,u=e.oClasses,c=e.aoColumns;for(l&&(r=I("<tr/>").appendTo(o)),t=0,n=c.length;t<n;t++)a=c[t],i=I(a.nTh).addClass(a.sClass),l&&i.appendTo(r),e.oFeatures.bSort&&(i.addClass(a.sSortingClass),!1!==a.bSortable&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Be(e,a.nTh,t))),a.sTitle!=i[0].innerHTML&&i.html(a.sTitle),Ke(e,"header")(e,i,a,u);if(l&&ae(e.aoHeader,o),I(o).find(">tr").attr("role","row"),I(o).find(">tr>th, >tr>td").addClass(u.sHeaderTH),I(s).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==s)for(n=(e=e.aoFooter[t=0]).length;t<n;t++)(a=c[t]).nTf=e[t].cell,a.sClass&&I(a.nTf).addClass(a.sClass)}function ie(e,t,n){var i,r,a,o,s=[],l=[],u=e.aoColumns.length;if(t){for(n===R&&(n=!1),i=0,r=t.length;i<r;i++){for(s[i]=t[i].slice(),s[i].nTr=t[i].nTr,a=u-1;0<=a;a--)e.aoColumns[a].bVisible||n||s[i].splice(a,1);l.push([])}for(i=0,r=s.length;i<r;i++){if(e=s[i].nTr)for(;a=e.firstChild;)e.removeChild(a);for(a=0,t=s[i].length;a<t;a++)if(o=u=1,l[i][a]===R){for(e.appendChild(s[i][a].cell),l[i][a]=1;s[i+u]!==R&&s[i][a].cell==s[i+u][a].cell;)l[i+u][a]=1,u++;for(;s[i][a+o]!==R&&s[i][a].cell==s[i][a+o].cell;){for(n=0;n<u;n++)l[i+n][a+o]=1;o++}I(s[i][a].cell).attr("rowspan",u).attr("colspan",o)}}}}function c(e){var t=k(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==I.inArray(!1,t))g(e,!1);else{var t=[],n=0,i=e.asStripeClasses,r=i.length,a=e.oLanguage,o=e.iInitDisplayStart,s="ssp"==D(e),l=e.aiDisplay,o=(e.bDrawing=!0,o!==R&&-1!==o&&(e._iDisplayStart=!s&&o>=e.fnRecordsDisplay()?0:o,e.iInitDisplayStart=-1),e._iDisplayStart),u=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,g(e,!1);else if(s){if(!e.bDestroying&&!le(e))return}else e.iDraw++;if(0!==l.length)for(a=s?e.aoData.length:u,s=s?0:o;s<a;s++){var c,d=l[s],h=e.aoData[d],f=(null===h.nTr&&ee(e,d),h.nTr);0!==r&&(c=i[n%r],h._sRowStripe!=c&&(I(f).removeClass(h._sRowStripe).addClass(c),h._sRowStripe=c)),k(e,"aoRowCallback",null,[f,h._aData,n,s,d]),t.push(f),n++}else n=a.sZeroRecords,1==e.iDraw&&"ajax"==D(e)?n=a.sLoadingRecords:a.sEmptyTable&&0===e.fnRecordsTotal()&&(n=a.sEmptyTable),t[0]=I("<tr/>",{class:r?i[0]:""}).append(I("<td />",{valign:"top",colSpan:y(e),class:e.oClasses.sRowEmpty}).html(n))[0];k(e,"aoHeaderCallback","header",[I(e.nTHead).children("tr")[0],X(e),o,u,l]),k(e,"aoFooterCallback","footer",[I(e.nTFoot).children("tr")[0],X(e),o,u,l]),(i=I(e.nTBody)).children().detach(),i.append(I(t)),k(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function s(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&Ue(e),i?fe(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,c(e),e._drawHold=!1}function re(e){var t=e.oClasses,n=I(e.nTable),n=I("<div/>").insertBefore(n),i=e.oFeatures,r=I("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,o,s,l,u,c,d=e.sDom.split(""),h=0;h<d.length;h++){if(a=null,"<"==(o=d[h])){if(s=I("<div/>")[0],"'"==(l=d[h+1])||'"'==l){for(u="",c=2;d[h+c]!=l;)u+=d[h+c],c++;"H"==u?u=t.sJUIHeader:"F"==u&&(u=t.sJUIFooter),-1!=u.indexOf(".")?(l=u.split("."),s.id=l[0].substr(1,l[0].length-1),s.className=l[1]):"#"==u.charAt(0)?s.id=u.substr(1,u.length-1):s.className=u,h+=c}r.append(s),r=I(s)}else if(">"==o)r=r.parent();else if("l"==o&&i.bPaginate&&i.bLengthChange)a=De(e);else if("f"==o&&i.bFilter)a=he(e);else if("r"==o&&i.bProcessing)a=Le(e);else if("t"==o)a=Oe(e);else if("i"==o&&i.bInfo)a=Te(e);else if("p"==o&&i.bPaginate)a=Ae(e);else if(0!==A.ext.feature.length)for(c=0,l=(s=A.ext.feature).length;c<l;c++)if(o==s[c].cFeature){a=s[c].fnInit(e);break}a&&((s=e.aanFeatures)[o]||(s[o]=[]),s[o].push(a),r.append(a))}n.replaceWith(r),e.nHolding=null}function ae(e,t){var n,i,r,a,o,s,l,u,c,d,h=I(t).children("tr");for(e.splice(0,e.length),r=0,s=h.length;r<s;r++)e.push([]);for(r=0,s=h.length;r<s;r++)for(i=(n=h[r]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(u=(u=+i.getAttribute("colspan"))&&0!==u&&1!==u?u:1,c=(c=+i.getAttribute("rowspan"))&&0!==c&&1!==c?c:1,a=0,o=e[r];o[a];)a++;for(l=a,d=1===u,o=0;o<u;o++)for(a=0;a<c;a++)e[r+a][l+o]={cell:i,unique:d},e[r+a].nTr=n}i=i.nextSibling}}function oe(e,t,n){var i=[];n||(n=e.aoHeader,t&&ae(n=[],t));for(var t=0,r=n.length;t<r;t++)for(var a=0,o=n[t].length;a<o;a++)!n[t][a].unique||i[a]&&e.bSortCellsTop||(i[a]=n[t][a].cell);return i}function se(i,e,t){var r,a;k(i,"aoServerParams","serverParams",[e]),e&&I.isArray(e)&&(r={},a=/(.*?)\[\]$/,I.each(e,function(e,t){var n=t.name.match(a);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(t.value)):r[t.name]=t.value}),e=r);function n(e){k(i,null,"xhr",[i,e,i.jqXHR]),t(e)}var o,s,l=i.ajax,u=i.oInstance;I.isPlainObject(l)&&l.data&&(s="function"==typeof(o=l.data)?o(e,i):o,e="function"==typeof o&&s?s:I.extend(!0,e,s),delete l.data),s={data:e,success:function(e){var t=e.error||e.sError;t&&F(i,0,t),i.json=e,n(e)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(e,t){var n=k(i,null,"xhr",[i,null,i.jqXHR]);-1===I.inArray(!0,n)&&("parsererror"==t?F(i,0,"Invalid JSON response",1):4===e.readyState&&F(i,0,"Ajax error",7)),g(i,!1)}},i.oAjaxData=e,k(i,null,"preXhr",[i,e]),i.fnServerData?i.fnServerData.call(u,i.sAjaxSource,I.map(e,function(e,t){return{name:t,value:e}}),n,i):i.sAjaxSource||"string"==typeof l?i.jqXHR=I.ajax(I.extend(s,{url:l||i.sAjaxSource})):"function"==typeof l?i.jqXHR=l.call(u,e,n,i):(i.jqXHR=I.ajax(I.extend(s,l)),l.data=o)}function le(t){return!t.bAjaxDataGet||(t.iDraw++,g(t,!0),se(t,ue(t),function(e){ce(t,e)}),!1)}function ue(e){function n(e,t){u.push({name:e,value:t})}var t,i,r=e.aoColumns,a=r.length,o=e.oFeatures,s=e.oPreviousSearch,l=e.aoPreSearchCols,u=[],c=w(e),d=e._iDisplayStart,h=!1!==o.bPaginate?e._iDisplayLength:-1,f=(n("sEcho",e.iDraw),n("iColumns",a),n("sColumns",j(r,"sName").join(",")),n("iDisplayStart",d),n("iDisplayLength",h),{draw:e.iDraw,columns:[],order:[],start:d,length:h,search:{value:s.sSearch,regex:s.bRegex}});for(d=0;d<a;d++)t=r[d],i=l[d],h="function"==typeof t.mData?"function":t.mData,f.columns.push({data:h,name:t.sName,searchable:t.bSearchable,orderable:t.bSortable,search:{value:i.sSearch,regex:i.bRegex}}),n("mDataProp_"+d,h),o.bFilter&&(n("sSearch_"+d,i.sSearch),n("bRegex_"+d,i.bRegex),n("bSearchable_"+d,t.bSearchable)),o.bSort&&n("bSortable_"+d,t.bSortable);return o.bFilter&&(n("sSearch",s.sSearch),n("bRegex",s.bRegex)),o.bSort&&(I.each(c,function(e,t){f.order.push({column:t.col,dir:t.dir}),n("iSortCol_"+e,t.col),n("sSortDir_"+e,t.dir)}),n("iSortingCols",c.length)),null===(r=A.ext.legacy.ajax)?e.sAjaxSource?u:f:r?u:f}function ce(e,t){var n=de(e,t),i=t.sEcho!==R?t.sEcho:t.draw,r=t.iTotalRecords!==R?t.iTotalRecords:t.recordsTotal,a=t.iTotalDisplayRecords!==R?t.iTotalDisplayRecords:t.recordsFiltered;if(i){if(+i<e.iDraw)return;e.iDraw=+i}for(Q(e),e._iRecordsTotal=parseInt(r,10),e._iRecordsDisplay=parseInt(a,10),i=0,r=n.length;i<r;i++)T(e,n[i]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,c(e),e._bInitComplete||Ce(e,t),e.bAjaxDataGet=!0,g(e,!1)}function de(e,t){e=I.isPlainObject(e.ajax)&&e.ajax.dataSrc!==R?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===e?t.aaData||t[e]:""!==e?S(e)(t):t}function he(n){var e=n.oClasses,t=n.sTableId,i=n.oLanguage,r=n.oPreviousSearch,a=n.aanFeatures,o='<input type="search" class="'+e.sFilterInput+'"/>',s=(s=i.sSearch).match(/_INPUT_/)?s.replace("_INPUT_",o):s+o,e=I("<div/>",{id:a.f?null:t+"_filter",class:e.sFilter}).append(I("<label/>").append(s)),a=function(){var e=this.value||"";e!=r.sSearch&&(fe(n,{sSearch:e,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),n._iDisplayStart=0,c(n))},o=null!==n.searchDelay?n.searchDelay:"ssp"===D(n)?400:0,l=I("input",e).val(r.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",o?kt(a,o):a).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",t);return I(n.nTable).on("search.dt.DT",function(e,t){if(n===t)try{l[0]!==v.activeElement&&l.val(r.sSearch)}catch(e){}}),e[0]}function fe(e,t,n){function i(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive}var r=e.oPreviousSearch,a=e.aoPreSearchCols;if(m(e),"ssp"!=D(e)){for(me(e,t.sSearch,n,t.bEscapeRegex!==R?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),i(t),t=0;t<a.length;t++)ge(e,a[t].sSearch,t,a[t].bEscapeRegex!==R?!a[t].bEscapeRegex:a[t].bRegex,a[t].bSmart,a[t].bCaseInsensitive);pe(e)}else i(t);e.bFiltered=!0,k(e,null,"search",[e])}function pe(e){for(var t,n,i=A.ext.search,r=e.aiDisplay,a=0,o=i.length;a<o;a++){for(var s=[],l=0,u=r.length;l<u;l++)n=r[l],t=e.aoData[n],i[a](e,t._aFilterData,n,t._aData,l)&&s.push(n);r.length=0,I.merge(r,s)}}function ge(e,t,n,i,r,a){if(""!==t){for(var o=[],s=e.aiDisplay,i=ye(t,i,r,a),r=0;r<s.length;r++)t=e.aoData[s[r]]._aFilterData[n],i.test(t)&&o.push(s[r]);e.aiDisplay=o}}function me(e,t,n,i,r,a){var o,i=ye(t,i,r,a),a=e.oPreviousSearch.sSearch,s=e.aiDisplayMaster,r=[];if(0!==A.ext.search.length&&(n=!0),o=ve(e),t.length<=0)e.aiDisplay=s.slice();else{for((o||n||a.length>t.length||0!==t.indexOf(a)||e.bSorted)&&(e.aiDisplay=s.slice()),t=e.aiDisplay,n=0;n<t.length;n++)i.test(e.aoData[t[n]]._sFilterRow)&&r.push(t[n]);e.aiDisplay=r}}function ye(e,t,n,i){return e=t?e:St(e),n&&(e="^(?=.*?"+I.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(e){var t;return(e='"'===e.charAt(0)?(t=e.match(/^"(.*)"$/))?t[1]:e:e).replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,i?"i":"")}function ve(e){for(var t,n,i,r,a,o=e.aoColumns,s=A.ext.type.search,l=!1,u=0,c=e.aoData.length;u<c;u++)if(!(a=e.aoData[u])._aFilterData){for(i=[],t=0,n=o.length;t<n;t++)(l=o[t]).bSearchable?(r=b(e,u,t,"filter"),"string"!=typeof(r=null===(r=s[l.sType]?s[l.sType](r):r)?"":r)&&r.toString&&(r=r.toString())):r="",r.indexOf&&-1!==r.indexOf("&")&&(wt.innerHTML=r,r=Et?wt.textContent:wt.innerText),r.replace&&(r=r.replace(/[\r\n]/g,"")),i.push(r);a._aFilterData=i,a._sFilterRow=i.join("  "),l=!0}return l}function be(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function _e(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Te(e){var t=e.sTableId,n=e.aanFeatures.i,i=I("<div/>",{class:e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:Se,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),I(e.nTable).attr("aria-describedby",t+"_info")),i[0]}function Se(e){var t,n,i,r,a,o,s=e.aanFeatures.i;0!==s.length&&(t=e.oLanguage,n=e._iDisplayStart+1,i=e.fnDisplayEnd(),r=e.fnRecordsTotal(),o=(a=e.fnRecordsDisplay())?t.sInfo:t.sInfoEmpty,a!==r&&(o+=" "+t.sInfoFiltered),o=we(e,o+=t.sInfoPostFix),null!==(t=t.fnInfoCallback)&&(o=t.call(e.oInstance,e,n,i,r,a,o)),I(s).html(o))}function we(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,a=e.fnRecordsDisplay(),o=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,a)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(a/r)))}function Ee(n){var i,e,r=n.iInitDisplayStart,t=n.aoColumns,a=n.oFeatures,o=n.bDeferLoading;if(n.bInitialised){for(re(n),ne(n),ie(n,n.aoHeader),ie(n,n.aoFooter),g(n,!0),a.bAutoWidth&&Re(n),i=0,a=t.length;i<a;i++)(e=t[i]).sWidth&&(e.nTh.style.width=U(e.sWidth));k(n,null,"preInit",[n]),s(n),"ssp"==(t=D(n))&&!o||("ajax"==t?se(n,[],function(e){var t=de(n,e);for(i=0;i<t.length;i++)T(n,t[i]);n.iInitDisplayStart=r,s(n),g(n,!1),Ce(n,e)}):(g(n,!1),Ce(n)))}else setTimeout(function(){Ee(n)},200)}function Ce(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&P(e),k(e,null,"plugin-init",[e,t]),k(e,"aoInitComplete","init",[e,t])}function ke(e,t){t=parseInt(t,10);e._iDisplayLength=t,$e(e),k(e,null,"length",[e,t])}function De(i){for(var e=i.oClasses,t=i.sTableId,n=i.aLengthMenu,r=(a=I.isArray(n[0]))?n[0]:n,n=a?n[1]:n,a=I("<select/>",{name:t+"_length","aria-controls":t,class:e.sLengthSelect}),o=0,s=r.length;o<s;o++)a[0][o]=new Option("number"==typeof n[o]?i.fnFormatNumber(n[o]):n[o],r[o]);var l=I("<div><label/></div>").addClass(e.sLength);return i.aanFeatures.l||(l[0].id=t+"_length"),l.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),I("select",l).val(i._iDisplayLength).on("change.DT",function(){ke(i,I(this).val()),c(i)}),I(i.nTable).on("length.dt.DT",function(e,t,n){i===t&&I("select",l).val(n)}),l[0]}function Ae(e){function o(e){c(e)}var t=e.sPaginationType,s=A.ext.pager[t],l="function"==typeof s,t=I("<div/>").addClass(e.oClasses.sPaging+t)[0],u=e.aanFeatures;return l||s.fnInit(e,t,o),u.p||(t.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(l)for(var t=e._iDisplayStart,n=e._iDisplayLength,i=e.fnRecordsDisplay(),t=(r=-1===n)?0:Math.ceil(t/n),n=r?1:Math.ceil(i/n),i=s(t,n),r=0,a=u.p.length;r<a;r++)Ke(e,"pageButton")(e,u.p[r],r,i,t,n);else s.fnUpdate(e,o)},sName:"pagination"})),t}function xe(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,a=e.fnRecordsDisplay();return 0===a||-1===r?i=0:"number"==typeof t?a<(i=t*r)&&(i=0):"first"==t?i=0:"previous"==t?(i=0<=r?i-r:0)<0&&(i=0):"next"==t?i+r<a&&(i+=r):"last"==t?i=Math.floor((a-1)/r)*r:F(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(k(e,null,"page",[e]),n&&c(e)),t}function Le(e){return I("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function g(e,t){e.oFeatures.bProcessing&&I(e.aanFeatures.r).css("display",t?"block":"none"),k(e,null,"processing",[e,t])}function Oe(e){var t=I(e.nTable),n=(t.attr("role","grid"),e.oScroll);if(""===n.sX&&""===n.sY)return e.nTable;var i=n.sX,r=n.sY,a=e.oClasses,o=t.children("caption"),s=o.length?o[0]._captionSide:null,l=I(t[0].cloneNode(!1)),u=I(t[0].cloneNode(!1)),c=t.children("tfoot");c.length||(c=null),l=I("<div/>",{class:a.sScrollWrapper}).append(I("<div/>",{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?i?U(i):null:"100%"}).append(I("<div/>",{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===s?o:null).append(t.children("thead"))))).append(I("<div/>",{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:i?U(i):null}).append(t)),c&&l.append(I("<div/>",{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:i?i?U(i):null:"100%"}).append(I("<div/>",{class:a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===s?o:null).append(t.children("tfoot")))));var d=(t=l.children())[0],a=t[1],h=c?t[2]:null;return i&&I(a).on("scroll.DT",function(){var e=this.scrollLeft;d.scrollLeft=e,c&&(h.scrollLeft=e)}),I(a).css(r&&n.bCollapse?"max-height":"height",r),e.nScrollHead=d,e.nScrollBody=a,e.nScrollFoot=h,e.aoDrawCallback.push({fn:Ie,sName:"scrolling"}),l[0]}function Ie(n){function e(e){(e=e.style).paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0}var t,i,r,a,o=(u=n.oScroll).sX,s=u.sXInner,l=u.sY,u=u.iBarWidth,c=I(n.nScrollHead),d=c[0].style,h=(p=c.children("div"))[0].style,f=p.children("table"),p=n.nScrollBody,g=I(p),m=p.style,y=I(n.nScrollFoot).children("div"),v=y.children("table"),b=I(n.nTHead),_=I(n.nTable),T=_[0],S=T.style,w=n.nTFoot?I(n.nTFoot):null,E=n.oBrowser,C=E.bScrollOversize,k=j(n.aoColumns,"nTh"),D=[],A=[],x=[],L=[],O=p.scrollHeight>p.clientHeight;n.scrollBarVis!==O&&n.scrollBarVis!==R?(n.scrollBarVis=O,P(n)):(n.scrollBarVis=O,_.children("thead, tfoot").remove(),w&&(i=w.clone().prependTo(_),t=w.find("tr"),i=i.find("tr")),r=b.clone().prependTo(_),b=b.find("tr"),O=r.find("tr"),r.find("th, td").removeAttr("tabindex"),o||(m.width="100%",c[0].style.width="100%"),I.each(oe(n,r),function(e,t){a=M(n,e),t.style.width=n.aoColumns[a].sWidth}),w&&N(function(e){e.style.width=""},i),c=_.outerWidth(),""===o?(S.width="100%",C&&(_.find("tbody").height()>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(S.width=U(_.outerWidth()-u)),c=_.outerWidth()):""!==s&&(S.width=U(s),c=_.outerWidth()),N(e,O),N(function(e){x.push(e.innerHTML),D.push(U(I(e).css("width")))},O),N(function(e,t){-1!==I.inArray(e,k)&&(e.style.width=D[t])},b),I(O).height(0),w&&(N(e,i),N(function(e){L.push(e.innerHTML),A.push(U(I(e).css("width")))},i),N(function(e,t){e.style.width=A[t]},t),I(i).height(0)),N(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+x[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=D[t]},O),w&&N(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+L[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=A[t]},i),_.outerWidth()<c?(t=p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y")?c+u:c,C&&(p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(S.width=U(t-u)),""!==o&&""===s||F(n,1,"Possible column misalignment",6)):t="100%",m.width=U(t),d.width=U(t),w&&(n.nScrollFoot.style.width=U(t)),!l&&C&&(m.height=U(T.offsetHeight+u)),o=_.outerWidth(),f[0].style.width=U(o),h.width=U(o),s=_.height()>p.clientHeight||"scroll"==g.css("overflow-y"),h[l="padding"+(E.bScrollbarLeft?"Left":"Right")]=s?u+"px":"0px",w&&(v[0].style.width=U(o),y[0].style.width=U(o),y[0].style[l]=s?u+"px":"0px"),_.children("colgroup").insertBefore(_.children("thead")),g.scroll(),!n.bSorted&&!n.bFiltered||n._drawHold||(p.scrollTop=0))}function N(e,t,n){for(var i,r,a=0,o=0,s=t.length;o<s;){for(i=t[o].firstChild,r=n?n[o].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,a):e(i,a),a++),i=i.nextSibling,r=n?r.nextSibling:null;o++}}function Re(e){var t,n,i=e.nTable,r=e.aoColumns,a=(g=e.oScroll).sY,o=g.sX,s=g.sXInner,l=r.length,u=V(e,"bVisible"),c=I("th",e.nTHead),d=i.getAttribute("width"),h=i.parentNode,f=!1,p=e.oBrowser,g=p.bScrollOversize;for((t=i.style.width)&&-1!==t.indexOf("%")&&(d=t),t=0;t<u.length;t++)null!==(n=r[u[t]]).sWidth&&(n.sWidth=Pe(n.sWidthOrig,h),f=!0);if(g||!f&&!o&&!a&&l==y(e)&&l==c.length)for(t=0;t<l;t++)null!==(u=M(e,t))&&(r[u].sWidth=U(c.eq(t).width()));else{(l=I(i).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var m=I("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(I(e.nTHead).clone()).append(I(e.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),c=oe(e,l.find("thead")[0]),t=0;t<u.length;t++)n=r[u[t]],c[t].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?U(n.sWidthOrig):"",n.sWidthOrig&&o&&I(c[t]).append(I("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(t=0;t<u.length;t++)n=r[f=u[t]],I(Me(e,f)).clone(!1).append(n.sContentPadding).appendTo(m);for(I("[name]",l).removeAttr("name"),n=I("<div/>").css(o||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(h),o&&s?l.width(s):o?(l.css("width","auto"),l.removeAttr("width"),l.width()<h.clientWidth&&d&&l.width(h.clientWidth)):a?l.width(h.clientWidth):d&&l.width(d),t=a=0;t<u.length;t++)s=(h=I(c[t])).outerWidth()-h.width(),a+=h=p.bBounding?Math.ceil(c[t].getBoundingClientRect().width):h.outerWidth(),r[u[t]].sWidth=U(h-s);i.style.width=U(a),n.remove()}d&&(i.style.width=U(d)),!d&&!o||e._reszEvt||(i=function(){I(L).on("resize.DT-"+e.sInstance,kt(function(){P(e)}))},g?setTimeout(i,1e3):i(),e._reszEvt=!0)}function Pe(e,t){if(!e)return 0;e=I("<div/>").css("width",U(e)).appendTo(t||v.body),t=e[0].offsetWidth;return e.remove(),t}function Me(e,t){var n=Ne(e,t);if(n<0)return null;var i=e.aoData[n];return i.nTr?i.anCells[t]:I("<td/>").html(b(e,n,t,"display"))[0]}function Ne(e,t){for(var n,i=-1,r=-1,a=0,o=e.aoData.length;a<o;a++)(n=(n=(n=b(e,a,t,"display")+"").replace(Ct,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=a);return r}function U(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function w(e){var t,n,i,r=[],a=e.aoColumns,o=e.aaSortingFixed,s=I.isPlainObject(o),l=[],u=function(e){e.length&&!I.isArray(e[0])?l.push(e):I.merge(l,e)};for(I.isArray(o)&&u(o),s&&o.pre&&u(o.pre),u(e.aaSorting),s&&o.post&&u(o.post),e=0;e<l.length;e++)for(s=(u=a[i=l[e][o=0]].aDataSort).length;o<s;o++)n=a[t=u[o]].sType||"string",l[e]._idx===R&&(l[e]._idx=I.inArray(l[e][1],a[t].asSorting)),r.push({src:i,col:t,dir:l[e][1],index:l[e]._idx,type:n,formatter:A.ext.type.order[n+"-pre"]});return r}function Ue(e){var t,n,i,u,c=[],d=A.ext.type.order,h=e.aoData,r=0,a=e.aiDisplayMaster;for(m(e),t=0,n=(u=w(e)).length;t<n;t++)(i=u[t]).formatter&&r++,We(e,i.col);if("ssp"!=D(e)&&0!==u.length){for(t=0,n=a.length;t<n;t++)c[a[t]]=t;r===u.length?a.sort(function(e,t){for(var n,i,r,a=u.length,o=h[e]._aSortData,s=h[t]._aSortData,l=0;l<a;l++)if(0!==(n=(n=o[(r=u[l]).col])<(i=s[r.col])?-1:i<n?1:0))return"asc"===r.dir?n:-n;return(n=c[e])<(i=c[t])?-1:i<n?1:0}):a.sort(function(e,t){for(var n,i,r,a=u.length,o=h[e]._aSortData,s=h[t]._aSortData,l=0;l<a;l++)if(n=o[(r=u[l]).col],i=s[r.col],0!==(n=(r=d[r.type+"-"+r.dir]||d["string-"+r.dir])(n,i)))return n;return(n=c[e])<(i=c[t])?-1:i<n?1:0})}e.bSorted=!0}function Fe(e){for(var t=e.aoColumns,n=w(e),e=e.oLanguage.oAria,i=0,r=t.length;i<r;i++){var a,o=(a=t[i]).asSorting,s=a.sTitle.replace(/<.*?>/g,""),l=a.nTh;l.removeAttribute("aria-sort"),a.bSortable&&(s+="asc"===(a=0<n.length&&n[0].col==i?(l.setAttribute("aria-sort","asc"==n[0].dir?"ascending":"descending"),o[n[0].index+1]||o[0]):o[0])?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",s)}}function je(e,t,n,i){function r(e,t){var n=e._idx;return(n=n===R?I.inArray(e[1],o):n)+1<o.length?n+1:t?null:0}var a=e.aaSorting,o=e.aoColumns[t].asSorting;"number"==typeof a[0]&&(a=e.aaSorting=[a]),n&&e.oFeatures.bSortMulti?-1!==(n=I.inArray(t,j(a,"0")))?null===(t=null===(t=r(a[n],!0))&&1===a.length?0:t)?a.splice(n,1):(a[n][1]=o[t],a[n]._idx=t):(a.push([t,o[0],0]),a[a.length-1]._idx=0):a.length&&a[0][0]==t?(t=r(a[0]),a.length=1,a[0][1]=o[t],a[0]._idx=t):(a.length=0,a.push([t,o[0]]),a[0]._idx=0),s(e),"function"==typeof i&&i(e)}function Be(t,e,n,i){var r=t.aoColumns[n];ze(e,{},function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(g(t,!0),setTimeout(function(){je(t,n,e.shiftKey,i),"ssp"!==D(t)&&g(t,!1)},0)):je(t,n,e.shiftKey,i))})}function He(e){var t,n,i=e.aLastSort,r=e.oClasses.sSortColumn,a=w(e),o=e.oFeatures;if(o.bSort&&o.bSortClasses){for(o=0,t=i.length;o<t;o++)n=i[o].src,I(j(e.aoData,"anCells",n)).removeClass(r+(o<2?o+1:3));for(o=0,t=a.length;o<t;o++)n=a[o].src,I(j(e.aoData,"anCells",n)).addClass(r+(o<2?o+1:3))}e.aLastSort=a}function We(e,t){var n,i=e.aoColumns[t],r=A.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,u(e,t)));for(var a,o=A.ext.type.order[i.sType+"-pre"],s=0,l=e.aoData.length;s<l;s++)(i=e.aoData[s])._aSortData||(i._aSortData=[]),i._aSortData[t]&&!r||(a=r?n[s]:b(e,s,t,"sort"),i._aSortData[t]=o?o(a):a)}function Ge(n){var e;n.oFeatures.bStateSave&&!n.bDestroying&&(e={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:I.extend(!0,[],n.aaSorting),search:be(n.oPreviousSearch),columns:I.map(n.aoColumns,function(e,t){return{visible:e.bVisible,search:be(n.aoPreSearchCols[t])}})},k(n,"aoStateSaveParams","stateSaveParams",[n,e]),n.oSavedState=e,n.fnStateSaveCallback.call(n.oInstance,n,e))}function qe(n,e,i){var r,a,t,o=n.aoColumns,e=function(e){if(e&&e.time){var t=k(n,"aoStateLoadParams","stateLoadParams",[n,e]);if(-1===I.inArray(!1,t)&&!(0<(t=n.iStateDuration)&&e.time<+new Date-1e3*t||e.columns&&o.length!==e.columns.length)){if(n.oLoadedState=I.extend(!0,{},e),e.start!==R&&(n._iDisplayStart=e.start,n.iInitDisplayStart=e.start),e.length!==R&&(n._iDisplayLength=e.length),e.order!==R&&(n.aaSorting=[],I.each(e.order,function(e,t){n.aaSorting.push(t[0]>=o.length?[0,t[1]]:t)})),e.search!==R&&I.extend(n.oPreviousSearch,_e(e.search)),e.columns)for(r=0,a=e.columns.length;r<a;r++)(t=e.columns[r]).visible!==R&&(o[r].bVisible=t.visible),t.search!==R&&I.extend(n.aoPreSearchCols[r],_e(t.search));k(n,"aoStateLoaded","stateLoaded",[n,e])}}i()};n.oFeatures.bStateSave?(t=n.fnStateLoadCallback.call(n.oInstance,n,e))!==R&&e(t):i()}function Ve(e){var t=A.settings;return-1!==(e=I.inArray(e,j(t,"nTable")))?t[e]:null}function F(e,t,n,i){if(n="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),t)L.console&&console.log&&console.log(n);else if(t=(t=A.ext).sErrMode||t.errMode,e&&k(e,null,"error",[e,i,n]),"alert"==t)alert(n);else{if("throw"==t)throw Error(n);"function"==typeof t&&t(e,i,n)}}function E(n,i,e,t){I.isArray(e)?I.each(e,function(e,t){I.isArray(t)?E(n,i,t[0],t[1]):E(n,i,t)}):(t===R&&(t=e),i[e]!==R&&(n[t]=i[e]))}function Ye(e,t,n){var i,r;for(r in t)t.hasOwnProperty(r)&&(i=t[r],I.isPlainObject(i)?(I.isPlainObject(e[r])||(e[r]={}),I.extend(!0,e[r],i)):e[r]=n&&"data"!==r&&"aaData"!==r&&I.isArray(i)?i.slice():i);return e}function ze(t,e,n){I(t).on("click.DT",e,function(e){I(t).blur(),n(e)}).on("keypress.DT",e,function(e){13===e.which&&(e.preventDefault(),n(e))}).on("selectstart.DT",function(){return!1})}function C(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function k(t,e,n,i){var r=[];return e&&(r=I.map(t[e].slice().reverse(),function(e){return e.fn.apply(t.oInstance,i)})),null!==n&&(e=I.Event(n+".dt"),I(t.nTable).trigger(e,i),r.push(e.result)),r}function $e(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;n<=t&&(t=n-i),t-=t%i,e._iDisplayStart=t=-1===i||t<0?0:t}function Ke(e,t){var e=e.renderer,n=A.ext.renderer[t];return I.isPlainObject(e)&&e[t]?n[e[t]]||n._:"string"==typeof e&&n[e]||n._}function D(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Xe(e,t){var n=[],n=Lt.numbers_length,i=Math.floor(n/2);return t<=n?n=d(0,t):e<=i?((n=d(0,n-2)).push("ellipsis"),n.push(t-1)):(t-1-i<=e?n=d(t-(n-2),t):((n=d(e-i+2,e+i-1)).push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Qe(n){I.each({num:function(e){return dt(e,n)},"num-fmt":function(e){return dt(e,n,vt)},"html-num":function(e){return dt(e,n,gt)},"html-num-fmt":function(e){return dt(e,n,gt,vt)}},function(e,t){h.type.order[e+n+"-pre"]=t,e.match(/^html\-/)&&(h.type.search[e+n]=h.type.search.html)})}function Je(t){return function(){var e=[Ve(this[A.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return A.ext.internal[t].apply(this,e)}}function o(e){return!e||!0===e||"-"===e}function Ze(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null}function et(e,t,n){var i="string"==typeof e;return!!o(e)||(t&&i&&(e=bt(e,t)),n&&i&&(e=e.replace(vt,"")),!isNaN(parseFloat(e))&&isFinite(e))}function tt(e,t,n){return!!o(e)||((o(e)||"string"==typeof e)&&!!et(e.replace(gt,""),t,n)||null)}function nt(e,t,n,i){var r=[],a=0,o=t.length;if(i!==R)for(;a<o;a++)e[t[a]][n]&&r.push(e[t[a]][n][i]);else for(;a<o;a++)r.push(e[t[a]][n]);return r}function d(e,t){var n,i=[];t===R?(t=0,n=e):(n=t,t=e);for(var r=t;r<n;r++)i.push(r);return i}function it(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t}function rt(i,r,e){var t,n;e&&(t=new x(i)).one("draw",function(){e(t.ajax.json())}),"ssp"==D(i)?s(i,r):(g(i,!0),(n=i.jqXHR)&&4!==n.readyState&&n.abort(),se(i,[],function(e){Q(i);for(var t=0,n=(e=de(i,e)).length;t<n;t++)T(i,e[t]);s(i,r),g(i,!1)}))}function at(e,t,n,i,r){var a,o,s,l,u,c=[],d=typeof t;for(t&&"string"!==d&&"function"!==d&&t.length!==R||(t=[t]),d=0,s=t.length;d<s;d++)for(l=0,u=(o=t[d]&&t[d].split&&!t[d].match(/[\[\(:]/)?t[d].split(","):[t[d]]).length;l<u;l++)(a=n("string"==typeof o[l]?I.trim(o[l]):o[l]))&&a.length&&(c=c.concat(a));if((e=h.selector[e]).length)for(d=0,s=e.length;d<s;d++)c=e[d](i,r,c);return _t(c)}function ot(e){return(e=e||{}).filter&&e.search===R&&(e.search=e.filter),I.extend({search:"none",order:"current",page:"all"},e)}function st(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e}function lt(e,t){var n=e.context;n.length&&(n=n[0].aoData[t!==R?t:e[0]])&&n._details&&(n._details.remove(),n._detailsShow=R,n._details=R)}function ut(e,t){var o,r,s,n=e.context;n.length&&e.length&&((e=n[0].aoData[e[0]])._details&&((e._detailsShow=t)?e._details.insertAfter(e.nTr):e._details.detach(),o=n[0],r=new x(o),s=o.aoData,r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<j(s,"_details").length&&(r.on("draw.dt.DT_details",function(e,t){o===t&&r.rows({page:"current"}).eq(0).each(function(e){(e=s[e])._detailsShow&&e._details.insertAfter(e.nTr)})}),r.on("column-visibility.dt.DT_details",function(e,t){if(o===t)for(var n,i=y(t),r=0,a=s.length;r<a;r++)(n=s[r])._details&&n._details.children("td[colspan]").attr("colspan",i)}),r.on("destroy.dt.DT_details",function(e,t){if(o===t)for(var n=0,i=s.length;n<i;n++)s[n]._details&&lt(r,n)}))))}function ct(e,t,n,i,r){for(var n=[],i=0,a=r.length;i<a;i++)n.push(b(e,r[i],t));return n}function dt(e,t,n,i){return 0===e||e&&"-"!==e?((e=t?bt(e,t):e).replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),+e):-1/0}function ht(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e}var h,t,e,A=function(m){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new x(e?Ve(this[h.iApiIndex]):this)},this.fnAddData=function(e,t){var n=this.api(!0),e=(I.isArray(e)&&(I.isArray(e[0])||I.isPlainObject(e[0]))?n.rows:n.row).add(e);return t!==R&&!t||n.draw(),e.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===R||e?t.draw(!1):""===i.sX&&""===i.sY||Ie(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();e!==R&&!e||t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),r=(e=i.rows(e)).settings()[0],a=r.aoData[e[0][0]];return e.remove(),t&&t.call(this,r,a),n!==R&&!n||i.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,i,r,a){r=this.api(!0),(null===t||t===R?r:r.column(t)).search(e,n,i,a),r.draw()},this.fnGetData=function(e,t){var n,i=this.api(!0);return e!==R?(n=e.nodeName?e.nodeName.toLowerCase():"",t!==R||"td"==n||"th"==n?i.cell(e,t).data():i.row(e).data()||null):i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==R?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?[(e=t.cell(e).index()).row,e.columnVisible,e.column]:null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){e=this.api(!0).page(e);t!==R&&!t||e.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),n!==R&&!n||e.columns.adjust().draw()},this.fnSettings=function(){return Ve(this[h.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,r){var a=this.api(!0);return(n===R||null===n?a.row(t):a.cell(t,n)).data(e),r!==R&&!r||a.columns.adjust(),i!==R&&!i||a.draw(),0},this.fnVersionCheck=h.fnVersionCheck;var e,y=this,v=m===R,b=this.length;for(e in v&&(m={}),this.oApi=this.internal=h.internal,A.ext.internal)e&&(this[e]=Je(e));return this.each(function(){var e={},n=1<b?Ye(e,m,!0):m,i=0,e=this.getAttribute("id"),r=!1,t=A.defaults,a=I(this);if("table"!=this.nodeName.toLowerCase())F(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{B(t),H(t.column),_(t,t,!0),_(t.column,t.column,!0),_(t,I.extend(n,a.data()));for(var o=A.settings,i=0,s=o.length;i<s;i++){var l=o[i];if(l.nTable==this||l.nTHead&&l.nTHead.parentNode==this||l.nTFoot&&l.nTFoot.parentNode==this){var u=(n.bRetrieve!==R?n:t).bRetrieve;if(v||u)return l.oInstance;if((n.bDestroy!==R?n:t).bDestroy){l.oInstance.fnDestroy();break}return void F(l,0,"Cannot reinitialise DataTable",3)}if(l.sTableId==this.id){o.splice(i,1);break}}null!==e&&""!==e||(this.id=e="DataTables_Table_"+A.ext._unique++);var c,d=I.extend(!0,{},A.models.oSettings,{sDestroyWidth:a[0].style.width,sInstance:e,sTableId:e}),h=(d.nTable=this,d.oApi=y.internal,d.oInit=n,o.push(d),d.oInstance=1===y.length?y:a.dataTable(),B(n),O(n.oLanguage),n.aLengthMenu&&!n.iDisplayLength&&(n.iDisplayLength=(I.isArray(n.aLengthMenu[0])?n.aLengthMenu[0]:n.aLengthMenu)[0]),n=Ye(I.extend(!0,{},t),n),E(d.oFeatures,n,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),E(d,n,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),E(d.oScroll,n,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),E(d.oLanguage,n,"fnInfoCallback"),C(d,"aoDrawCallback",n.fnDrawCallback,"user"),C(d,"aoServerParams",n.fnServerParams,"user"),C(d,"aoStateSaveParams",n.fnStateSaveParams,"user"),C(d,"aoStateLoadParams",n.fnStateLoadParams,"user"),C(d,"aoStateLoaded",n.fnStateLoaded,"user"),C(d,"aoRowCallback",n.fnRowCallback,"user"),C(d,"aoRowCreatedCallback",n.fnCreatedRow,"user"),C(d,"aoHeaderCallback",n.fnHeaderCallback,"user"),C(d,"aoFooterCallback",n.fnFooterCallback,"user"),C(d,"aoInitComplete",n.fnInitComplete,"user"),C(d,"aoPreDrawCallback",n.fnPreDrawCallback,"user"),d.rowIdFn=S(n.rowId),W(d),d.oClasses),f=(I.extend(h,A.ext.classes,n.oClasses),a.addClass(h.sTable),d.iInitDisplayStart===R&&(d.iInitDisplayStart=n.iDisplayStart,d._iDisplayStart=n.iDisplayStart),null!==n.iDeferLoading&&(d.bDeferLoading=!0,e=I.isArray(n.iDeferLoading),d._iRecordsDisplay=e?n.iDeferLoading[0]:n.iDeferLoading,d._iRecordsTotal=e?n.iDeferLoading[1]:n.iDeferLoading),d.oLanguage),e=(I.extend(!0,f,n.oLanguage),f.sUrl&&(I.ajax({dataType:"json",url:f.sUrl,success:function(e){O(e),_(t.oLanguage,e),I.extend(!0,f,e),Ee(d)},error:function(){Ee(d)}}),r=!0),null===n.asStripeClasses&&(d.asStripeClasses=[h.sStripeOdd,h.sStripeEven]),d.asStripeClasses),p=a.children("tbody").find("tr").eq(0);if(-1!==I.inArray(!0,I.map(e,function(e){return p.hasClass(e)}))&&(I("tbody tr",this).removeClass(e.join(" ")),d.asDestroyStripes=e.slice()),e=[],0!==(o=this.getElementsByTagName("thead")).length&&(ae(d.aoHeader,o[0]),e=oe(d)),null===n.aoColumns)for(o=[],i=0,s=e.length;i<s;i++)o.push(null);else o=n.aoColumns;for(i=0,s=o.length;i<s;i++)G(d,e?e[i]:null);Y(d,n.aoColumnDefs,o,function(e,t){q(d,e,t)}),p.length&&(c=function(e,t){return null!==e.getAttribute("data-"+t)?t:null},I(p[0]).children("th, td").each(function(e,t){var n,i=d.aoColumns[e];i.mData===e&&(n=c(t,"sort")||c(t,"order"),t=c(t,"filter")||c(t,"search"),null===n&&null===t||(i.mData={_:e+".display",sort:null!==n?e+".@data-"+n:R,type:null!==n?e+".@data-"+n:R,filter:null!==t?e+".@data-"+t:R},q(d,e)))}));var g=d.oFeatures,e=function(){if(n.aaSorting===R){var e=d.aaSorting;for(i=0,s=e.length;i<s;i++)e[i][1]=d.aoColumns[i].asSorting[0]}He(d),g.bSort&&C(d,"aoDrawCallback",function(){var e,n;d.bSorted&&(e=w(d),n={},I.each(e,function(e,t){n[t.src]=t.dir}),k(d,null,"order",[d,e,n]),Fe(d))}),C(d,"aoDrawCallback",function(){(d.bSorted||"ssp"===D(d)||g.bDeferRender)&&He(d)},"sc");var e=a.children("caption").each(function(){this._captionSide=I(this).css("caption-side")}),t=a.children("thead");if(0===t.length&&(t=I("<thead/>").appendTo(a)),d.nTHead=t[0],0===(t=a.children("tbody")).length&&(t=I("<tbody/>").appendTo(a)),d.nTBody=t[0],0===(t=0===(t=a.children("tfoot")).length&&0<e.length&&(""!==d.oScroll.sX||""!==d.oScroll.sY)?I("<tfoot/>").appendTo(a):t).length||0===t.children().length?a.addClass(h.sNoFooter):0<t.length&&(d.nTFoot=t[0],ae(d.aoFooter,d.nTFoot)),n.aaData)for(i=0;i<n.aaData.length;i++)T(d,n.aaData[i]);else!d.bDeferLoading&&"dom"!=D(d)||z(d,I(d.nTBody).children("tr"));d.aiDisplay=d.aiDisplayMaster.slice(),!(d.bInitialised=!0)===r&&Ee(d)};n.bStateSave?(g.bStateSave=!0,C(d,"aoDrawCallback",Ge,"state_save"),qe(d,0,e)):e()}}),y=null,this},ft={},pt=/[\r\n]/g,gt=/<.*?>/g,mt=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,yt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),vt=/[',$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,bt=function(e,t){return ft[t]||(ft[t]=RegExp(St(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(ft[t],"."):e},j=function(e,t,n){var i=[],r=0,a=e.length;if(n!==R)for(;r<a;r++)e[r]&&e[r][t]&&i.push(e[r][t][n]);else for(;r<a;r++)e[r]&&i.push(e[r][t]);return i},_t=function(e){e:{if(!(e.length<2))for(var t,n=(t=e.slice().sort())[0],i=1,r=t.length;i<r;i++){if(t[i]===n){t=!1;break e}n=t[i]}t=!0}if(t)return e.slice();t=[];var a,r=e.length,o=0,i=0;e:for(;i<r;i++){for(n=e[i],a=0;a<o;a++)if(t[a]===n)continue e;t.push(n),o++}return t},i=(A.util={throttle:function(i,e){var r,a,o=e!==R?e:200;return function(){var e=this,t=+new Date,n=arguments;r&&t<r+o?(clearTimeout(a),a=setTimeout(function(){r=R,i.apply(e,n)},o)):(r=t,i.apply(e,n))}},escapeRegex:function(e){return e.replace(yt,"\\$1")}},function(e,t,n){e[t]!==R&&(e[n]=e[t])}),Tt=/\[.*?\]$/,f=/\(\)$/,St=A.util.escapeRegex,wt=I("<div>")[0],Et=wt.textContent!==R,Ct=/<.*?>/g,kt=A.util.throttle,Dt=[],l=Array.prototype,x=function(e,t){if(!(this instanceof x))return new x(e,t);function n(e){var t,n,i,r,a;t=e,r=A.settings,a=I.map(r,function(e){return e.nTable}),(e=t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=I.inArray(t,a))?[r[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=I(t):t instanceof I&&(i=t),i?i.map(function(){return-1!==(n=I.inArray(this,a))?r[n]:null}).toArray():void 0):[])&&(o=o.concat(e))}var o=[];if(I.isArray(e))for(var i=0,r=e.length;i<r;i++)n(e[i]);else n(e);this.context=_t(o),t&&I.merge(this,t),this.selector={rows:null,cols:null,opts:null},x.extend(this,this,Dt)},At=(A.Api=x,I.extend(x.prototype,{any:function(){return 0!==this.count()},concat:l.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new x(t[e],this[e]):null},filter:function(e){var t=[];if(l.filter)t=l.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new x(this.context,t)},flatten:function(){var e=[];return new x(this.context,e.concat.apply(e,this.toArray()))},join:l.join,indexOf:l.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,i){var r,a,o,s,l,u,c,d=[],h=this.context,f=this.selector;for("string"==typeof e&&(i=n,n=t,t=e,e=!1),a=0,o=h.length;a<o;a++){var p=new x(h[a]);if("table"===t)(r=n.call(p,h[a],a))!==R&&d.push(r);else if("columns"===t||"rows"===t)(r=n.call(p,h[a],this[a],a))!==R&&d.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(c=this[a],"column-rows"===t&&(u=At(h[a],f.opts)),s=0,l=c.length;s<l;s++)r=c[s],(r="cell"===t?n.call(p,h[a],r.row,r.column,a,s):n.call(p,h[a],r,a,s,u))!==R&&d.push(r)}return d.length||i?((t=(e=new x(h,e?d.concat.apply([],d):d)).selector).rows=f.rows,t.cols=f.cols,t.opts=f.opts,e):this},lastIndexOf:l.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(l.map)t=l.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new x(this.context,t)},pluck:function(t){return this.map(function(e){return e[t]})},pop:l.pop,push:l.push,reduce:l.reduce||function(e,t){return n(this,e,t,0,this.length,1)},reduceRight:l.reduceRight||function(e,t){return n(this,e,t,this.length-1,-1,-1)},reverse:l.reverse,selector:null,shift:l.shift,slice:function(){return new x(this.context,this)},sort:l.sort,splice:l.splice,toArray:function(){return l.slice.call(this)},to$:function(){return I(this)},toJQuery:function(){return I(this)},unique:function(){return new x(this.context,_t(this))},unshift:l.unshift}),x.extend=function(e,t,n){if(n.length&&t&&(t instanceof x||t.__dt_wrapper))for(var i,r=0,a=n.length;r<a;r++)t[(i=n[r]).name]="function"==typeof i.val?function(t,n,i){return function(){var e=n.apply(t,arguments);return x.extend(e,e,i.methodExt),e}}(e,i.val,i):I.isPlainObject(i.val)?{}:i.val,t[i.name].__dt_wrapper=!0,x.extend(e,t[i.name],i.propExt)},x.register=t=function(e,t){if(I.isArray(e))for(var n=0,i=e.length;n<i;n++)x.register(e[n],t);else for(var r,a=e.split("."),o=Dt,n=0,i=a.length;n<i;n++){var s=(r=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];e:{for(var l=0,u=o.length;l<u;l++)if(o[l].name===s){l=o[l];break e}l=null}l||o.push(l={name:s,val:{},methodExt:[],propExt:[]}),n===i-1?l.val=t:o=r?l.methodExt:l.propExt}},x.registerPlural=e=function(e,t,n){x.register(e,n),x.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof x?e.length?I.isArray(e[0])?new x(e.context,e[0]):e[0]:R:e})},t("tables()",function(e){var t,n,i;return t=e?(t=x,n=this.context,new t(e="number"==typeof e?[n[e]]:(i=I.map(n,function(e){return e.nTable}),I(i).filter(e).map(function(){var e=I.inArray(this,i);return n[e]}).toArray()))):this}),t("table()",function(e){var t=(e=this.tables(e)).context;return t.length?new x(t[0]):e}),e("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),e("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),e("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),e("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),e("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),t("draw()",function(t){return this.iterator("table",function(e){"page"===t?c(e):s(e,!1===(t="string"==typeof t?"full-hold"!==t:t))})}),t("page()",function(t){return t===R?this.page.info().page:this.iterator("table",function(e){xe(e,t)})}),t("page.info()",function(){if(0===this.context.length)return R;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,i=e.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(t/n),pages:r?1:Math.ceil(i/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===D(e)}}),t("page.len()",function(t){return t===R?0!==this.context.length?this.context[0]._iDisplayLength:R:this.iterator("table",function(e){ke(e,t)})}),t("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),t("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),t("ajax.reload()",function(t,n){return this.iterator("table",function(e){rt(e,!1===n,t)})}),t("ajax.url()",function(t){var e=this.context;return t===R?0===e.length?R:(e=e[0]).ajax?I.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource:this.iterator("table",function(e){I.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),t("ajax.url().load()",function(t,n){return this.iterator("table",function(e){rt(e,!1===n,t)})}),function(e,t){var n=[],i=e.aiDisplay,r=e.aiDisplayMaster,a=t.search;if(s=t.order,l=t.page,"ssp"==D(e))return"removed"===a?[]:d(0,r.length);if("current"==l)for(s=e._iDisplayStart,l=e.fnDisplayEnd();s<l;s++)n.push(i[s]);else if("current"==s||"applied"==s){if("none"==a)n=r.slice();else if("applied"==a)n=i.slice();else if("removed"==a){for(var o={},s=0,l=i.length;s<l;s++)o[i[s]]=null;n=I.map(r,function(e){return o.hasOwnProperty(e)?null:e})}}else if("index"==s||"original"==s)for(s=0,l=e.aoData.length;s<l;s++)"none"==a?n.push(s):(-1===(r=I.inArray(s,i))&&"removed"==a||0<=r&&"applied"==a)&&n.push(s);return n}),xt=(t("rows()",function(e,t){e===R?e="":I.isPlainObject(e)&&(t=e,e="");var t=ot(t),n=this.iterator("table",function(r){var a,o=t;return at("row",e,function(n){var e,t=Ze(n),i=r.aoData;return null===t||o?(a=a||At(r,o),null!==t&&-1!==I.inArray(t,a)?[t]:null===n||n===R||""===n?a:"function"==typeof n?I.map(a,function(e){var t=i[e];return n(e,t._aData,t.nTr)?e:null}):n.nodeName?(t=n._DT_RowIndex,e=n._DT_CellIndex,t!==R?i[t]&&i[t].nTr===n?[t]:[]:e?i[e.row]&&i[e.row].nTr===n?[e.row]:[]:(t=I(n).closest("*[data-dt-row]")).length?[t.data("dt-row")]:[]):"string"==typeof n&&"#"===n.charAt(0)&&(t=r.aIds[n.replace(/^#/,"")])!==R?[t.idx]:(t=it(nt(r.aoData,a,"nTr")),I(t).filter(n).map(function(){return this._DT_RowIndex}).toArray())):[t]},r,o)},1);return n.selector.rows=e,n.selector.opts=t,n}),t("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||R},1)}),t("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return nt(e.aoData,t,"_aData")},1)}),e("rows().cache()","row().cache()",function(n){return this.iterator("row",function(e,t){e=e.aoData[t];return"search"===n?e._aFilterData:e._aSortData},1)}),e("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(e,t){r(e,t,n)})}),e("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),e("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var a=0,o=this[i].length;a<o;a++){var s=n[i].rowIdFn(n[i].aoData[this[i][a]]._aData);t.push((!0===e?"#":"")+s)}return new x(n,t)}),e("rows().remove()","row().remove()",function(){var c=this;return this.iterator("row",function(e,t,n){var i,r,a,o,s,l=e.aoData,u=l[t];for(l.splice(t,1),i=0,r=l.length;i<r;i++)if(s=(a=l[i]).anCells,null!==a.nTr&&(a.nTr._DT_RowIndex=i),null!==s)for(a=0,o=s.length;a<o;a++)s[a]._DT_CellIndex.row=i;J(e.aiDisplayMaster,t),J(e.aiDisplay,t),J(c[n],t,!1),0<e._iRecordsDisplay&&e._iRecordsDisplay--,$e(e),(t=e.rowIdFn(u._aData))!==R&&delete e.aIds[t]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),t("rows.add()",function(a){var e=this.iterator("table",function(e){for(var t,n=[],i=0,r=a.length;i<r;i++)(t=a[i]).nodeName&&"TR"===t.nodeName.toUpperCase()?n.push(z(e,t)[0]):n.push(T(e,t));return n},1),t=this.rows(-1);return t.pop(),I.merge(t,e),t}),t("row()",function(e,t){return st(this.rows(e,t))}),t("row().data()",function(e){var t=this.context;if(e===R)return t.length&&this.length?t[0].aoData[this[0]]._aData:R;var n=t[0].aoData[this[0]];return n._aData=e,I.isArray(e)&&n.nTr.id&&p(t[0].rowId)(e,n.nTr.id),r(t[0],this[0],"data"),this}),t("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),t("row.add()",function(t){t instanceof I&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?z(e,t)[0]:T(e,t)});return this.row(e[0])}),t("row().child()",function(e,t){var r,a,o,n=this.context;return e===R?n.length&&this.length?n[0].aoData[this[0]]._details:R:(!0===e?this.child.show():!1===e?lt(this):n.length&&this.length&&(r=n[0],n=n[0].aoData[this[0]],a=[],(o=function(e,t){if(I.isArray(e)||e instanceof I)for(var n=0,i=e.length;n<i;n++)o(e[n],t);else e.nodeName&&"tr"===e.nodeName.toLowerCase()?a.push(e):(n=I("<tr><td/></tr>").addClass(t),I("td",n).addClass(t).html(e)[0].colSpan=y(r),a.push(n[0]))})(e,t),n._details&&n._details.detach(),n._details=I(a),n._detailsShow&&n._details.insertAfter(n.nTr)),this)}),t(["row().child.show()","row().child().show()"],function(){return ut(this,!0),this}),t(["row().child.hide()","row().child().hide()"],function(){return ut(this,!1),this}),t(["row().child.remove()","row().child().remove()"],function(){return lt(this),this}),t("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1}),/^([^:]+):(name|visIdx|visible)$/),Lt=(t("columns()",function(t,n){t===R?t="":I.isPlainObject(t)&&(n=t,t="");var n=ot(n),e=this.iterator("table",function(a){var e=t,o=n,s=a.aoColumns,l=j(s,"sName"),u=j(s,"nTh");return at("column",e,function(n){var i,e=Ze(n);if(""===n)return d(s.length);if(null!==e)return[0<=e?e:s.length+e];if("function"==typeof n)return i=At(a,o),I.map(s,function(e,t){return n(t,ct(a,t,0,0,i),u[t])?t:null});var t,r="string"==typeof n?n.match(xt):"";if(r)switch(r[2]){case"visIdx":case"visible":return(e=parseInt(r[1],10))<0?[(t=I.map(s,function(e,t){return e.bVisible?t:null}))[t.length+e]]:[M(a,e)];case"name":return I.map(l,function(e,t){return e===r[1]?t:null});default:return[]}return n.nodeName&&n._DT_CellIndex?[n._DT_CellIndex.column]:(e=I(u).filter(n).map(function(){return I.inArray(this,u)}).toArray()).length||!n.nodeName?e:(e=I(n).closest("*[data-dt-column]")).length?[e.data("dt-column")]:[]},a,o)},1);return e.selector.cols=t,e.selector.opts=n,e}),e("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),e("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),e("columns().data()","column().data()",function(){return this.iterator("column-rows",ct,1)}),e("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),e("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(e,t,n,i,r){return nt(e.aoData,r,"search"===a?"_aFilterData":"_aSortData",t)},1)}),e("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return nt(e.aoData,r,"anCells",t)},1)}),e("columns().visible()","column().visible()",function(u,n){var e=this.iterator("column",function(e,t){if(u===R)return e.aoColumns[t].bVisible;var n,i=e.aoColumns,r=i[t],a=e.aoData;if(u!==R&&r.bVisible!==u){if(u)for(var o=I.inArray(!0,j(i,"bVisible"),t+1),s=0,l=a.length;s<l;s++)n=a[s].nTr,i=a[s].anCells,n&&n.insertBefore(i[t],i[o]||null);else I(j(e.aoData,"anCells",t)).detach();r.bVisible=u,ie(e,e.aoHeader),ie(e,e.aoFooter),e.aiDisplay.length||I(e.nTBody).find("td[colspan]").attr("colspan",y(e)),Ge(e)}});return u!==R&&(this.iterator("column",function(e,t){k(e,null,"column-visibility",[e,t,u,n])}),n!==R&&!n||this.columns.adjust()),e}),e("columns().indexes()","column().index()",function(n){return this.iterator("column",function(e,t){return"visible"===n?u(e,t):t},1)}),t("columns.adjust()",function(){return this.iterator("table",function(e){P(e)},1)}),t("column.index()",function(e,t){var n;if(0!==this.context.length)return n=this.context[0],"fromVisible"===e||"toData"===e?M(n,t):"fromData"===e||"toVisible"===e?u(n,t):void 0}),t("column()",function(e,t){return st(this.columns(e,t))}),t("cells()",function(g,e,m){if(I.isPlainObject(g)&&(g.row===R?(m=g,g=null):(m=e,e=null)),I.isPlainObject(e)&&(m=e,e=null),null===e||e===R)return this.iterator("table",function(n){var i,r,a,o,s,l,u,e=g,t=ot(m),c=n.aoData,d=At(n,t),h=it(nt(c,d,"anCells")),f=I([].concat.apply([],h)),p=n.aoColumns.length;return at("cell",e,function(e){var t="function"==typeof e;if(null===e||e===R||t){for(r=[],a=0,o=d.length;a<o;a++)for(i=d[a],s=0;s<p;s++)l={row:i,column:s},t?(u=c[i],e(l,b(n,i,s),u.anCells?u.anCells[s]:null)&&r.push(l)):r.push(l);return r}return I.isPlainObject(e)?e.column!==R&&e.row!==R&&-1!==I.inArray(e.row,d)?[e]:[]:(t=f.filter(e).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray()).length||!e.nodeName?t:(u=I(e).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},n,t)});var n,i,r,a,o,s=this.columns(e),l=this.rows(g),t=(this.iterator("table",function(e,t){for(n=[],i=0,r=l[t].length;i<r;i++)for(a=0,o=s[t].length;a<o;a++)n.push({row:l[t][i],column:s[t][a]})},1),this.cells(n,m));return I.extend(t.selector,{cols:e,rows:g,opts:m}),t}),e("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:R},1)}),t("cells().data()",function(){return this.iterator("cell",function(e,t,n){return b(e,t,n)},1)}),e("cells().cache()","cell().cache()",function(i){return i="search"===i?"_aFilterData":"_aSortData",this.iterator("cell",function(e,t,n){return e.aoData[t][i][n]},1)}),e("cells().render()","cell().render()",function(i){return this.iterator("cell",function(e,t,n){return b(e,t,n,i)},1)}),e("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:u(e,n)}},1)}),e("cells().invalidate()","cell().invalidate()",function(i){return this.iterator("cell",function(e,t,n){r(e,t,i,n)})}),t("cell()",function(e,t,n){return st(this.cells(e,t,n))}),t("cell().data()",function(e){var t=this.context,n=this[0];return e===R?t.length&&n.length?b(t[0],n[0].row,n[0].column):R:($(t[0],n[0].row,n[0].column,e),r(t[0],n[0].row,"data",n[0].column),this)}),t("order()",function(t,e){var n=this.context;return t===R?0!==n.length?n[0].aaSorting:R:("number"==typeof t?t=[[t,e]]:t.length&&!I.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),t("order.listener()",function(t,n,i){return this.iterator("table",function(e){Be(e,t,n,i)})}),t("order.fixed()",function(t){var e;return t?this.iterator("table",function(e){e.aaSortingFixed=I.extend(!0,{},t)}):(e=(e=this.context).length?e[0].aaSortingFixed:R,I.isArray(e)?{pre:e}:e)}),t(["columns().order()","column().order()"],function(i){var r=this;return this.iterator("table",function(e,t){var n=[];I.each(r[t],function(e,t){n.push([t,i])}),e.aaSorting=n})}),t("search()",function(t,n,i,r){var e=this.context;return t===R?0!==e.length?e[0].oPreviousSearch.sSearch:R:this.iterator("table",function(e){e.oFeatures.bFilter&&fe(e,I.extend({},e.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===r||r}),1)})}),e("columns().search()","column().search()",function(i,r,a,o){return this.iterator("column",function(e,t){var n=e.aoPreSearchCols;if(i===R)return n[t].sSearch;e.oFeatures.bFilter&&(I.extend(n[t],{sSearch:i+"",bRegex:null!==r&&r,bSmart:null===a||a,bCaseInsensitive:null===o||o}),fe(e,e.oPreviousSearch,1))})}),t("state()",function(){return this.context.length?this.context[0].oSavedState:null}),t("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),t("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),t("state.save()",function(){return this.iterator("table",function(e){Ge(e)})}),A.versionCheck=A.fnVersionCheck=function(e){for(var t,n,i=A.version.split("."),r=0,a=(e=e.split(".")).length;r<a;r++)if((t=parseInt(i[r],10)||0)!==(n=parseInt(e[r],10)||0))return n<t;return!0},A.isDataTable=A.fnIsDataTable=function(e){var r=I(e).get(0),a=!1;return e instanceof A.Api||(I.each(A.settings,function(e,t){var n=t.nScrollHead?I("table",t.nScrollHead)[0]:null,i=t.nScrollFoot?I("table",t.nScrollFoot)[0]:null;t.nTable!==r&&n!==r&&i!==r||(a=!0)}),a)},A.tables=A.fnTables=function(t){var e=!1,n=(I.isPlainObject(t)&&(e=t.api,t=t.visible),I.map(A.settings,function(e){if(!t||I(e.nTable).is(":visible"))return e.nTable}));return e?new x(n):n},A.camelToHungarian=_,t("$()",function(e,t){t=this.rows(t).nodes(),t=I(t);return I([].concat(t.filter(e).toArray(),t.find(e).toArray()))}),I.each(["on","one","off"],function(e,n){t(n+"()",function(){var e=Array.prototype.slice.call(arguments),t=(e[0]=I.map(e[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" "),I(this.tables().nodes()));return t[n].apply(t,e),this})}),t("clear()",function(){return this.iterator("table",function(e){Q(e)})}),t("settings()",function(){return new x(this.context,this.context)}),t("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),t("data()",function(){return this.iterator("table",function(e){return j(e.aoData,"_aData")}).flatten()}),t("destroy()",function(d){return d=d||!1,this.iterator("table",function(t){var n,e=t.nTableWrapper.parentNode,i=t.oClasses,r=t.nTable,a=t.nTBody,o=t.nTHead,s=t.nTFoot,l=I(r),a=I(a),u=I(t.nTableWrapper),c=I.map(t.aoData,function(e){return e.nTr});t.bDestroying=!0,k(t,"aoDestroyCallback","destroy",[t]),d||new x(t).columns().visible(!0),u.off(".DT").find(":not(tbody *)").off(".DT"),I(L).off(".DT-"+t.sInstance),r!=o.parentNode&&(l.children("thead").detach(),l.append(o)),s&&r!=s.parentNode&&(l.children("tfoot").detach(),l.append(s)),t.aaSorting=[],t.aaSortingFixed=[],He(t),I(c).removeClass(t.asStripeClasses.join(" ")),I("th, td",o).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),a.children().detach(),a.append(c),l[o=d?"remove":"detach"](),u[o](),!d&&e&&(e.insertBefore(r,t.nTableReinsertBefore),l.css("width",t.sDestroyWidth).removeClass(i.sTable),(n=t.asDestroyStripes.length)&&a.children().each(function(e){I(this).addClass(t.asDestroyStripes[e%n])})),-1!==(e=I.inArray(t,A.settings))&&A.settings.splice(e,1)})}),I.each(["column","row","cell"],function(e,l){t(l+"s().every()",function(a){var o=this.selector.opts,s=this;return this.iterator(l,function(e,t,n,i,r){a.call(s[l](t,"cell"===l?n:o,"cell"===l?o:R),t,n,i,r)})})}),t("i18n()",function(e,t,n){var i=this.context[0];return(e=S(e)(i.oLanguage))===R&&(e=t),(e=n!==R&&I.isPlainObject(e)?e[n]!==R?e[n]:e._:e).replace("%d",n)}),A.version="1.10.19",A.settings=[],A.models={},A.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},A.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},A.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},A.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:I.extend({},A.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},a(A.defaults),A.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(A.defaults.column),A.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:R,oAjaxData:R,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==D(this)?+this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==D(this)?+this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;return r.bServerSide?!1===a||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!a||i<n||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},A.ext=h={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:A.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:A.version},I.extend(h,{afnFiltering:h.search,aTypes:h.type.detect,ofnSearch:h.type.search,oSort:h.type.order,afnSortData:h.order,aoFeatures:h.feature,oApi:h.internal,oStdClasses:h.classes,oPagination:h.pager}),I.extend(A.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),A.ext.pager);I.extend(Lt,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[Xe(e,t)]},simple_numbers:function(e,t){return["previous",Xe(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Xe(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Xe(e,t),"last"]},_numbers:Xe,numbers_length:7}),I.extend(!0,A.ext.renderer,{pageButton:{_:function(s,e,l,t,u,c){function d(e,t){function n(e){xe(s,e.data.action,!0)}for(var i,r,a=0,o=t.length;a<o;a++)if(r=t[a],I.isArray(r))i=I("<"+(r.DT_el||"div")+"/>").appendTo(e),d(i,r);else{switch(h=null,f="",r){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":h=g.sFirst,f=r+(0<u?"":" "+p.sPageButtonDisabled);break;case"previous":h=g.sPrevious,f=r+(0<u?"":" "+p.sPageButtonDisabled);break;case"next":h=g.sNext,f=r+(u<c-1?"":" "+p.sPageButtonDisabled);break;case"last":h=g.sLast,f=r+(u<c-1?"":" "+p.sPageButtonDisabled);break;default:h=r+1,f=u===r?p.sPageButtonActive:""}null!==h&&(ze(i=I("<a>",{class:p.sPageButton+" "+f,"aria-controls":s.sTableId,"aria-label":m[r],"data-dt-idx":y,tabindex:s.iTabIndex,id:0===l&&"string"==typeof r?s.sTableId+"_"+r:null}).html(h).appendTo(e),{action:r},n),y++)}}var h,f,n,p=s.oClasses,g=s.oLanguage.oPaginate,m=s.oLanguage.oAria.paginate||{},y=0;try{n=I(e).find(v.activeElement).data("dt-idx")}catch(e){}d(I(e).empty(),t),n!==R&&I(e).find("[data-dt-idx="+n+"]").focus()}}}),I.extend(A.ext.type.detect,[function(e,t){t=t.oLanguage.sDecimal;return et(e,t)?"num"+t:null},function(e){if(e&&!(e instanceof Date)&&!mt.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||o(e)?"date":null},function(e,t){t=t.oLanguage.sDecimal;return et(e,t,!0)?"num-fmt"+t:null},function(e,t){t=t.oLanguage.sDecimal;return tt(e,t)?"html-num"+t:null},function(e,t){t=t.oLanguage.sDecimal;return tt(e,t,!0)?"html-num-fmt"+t:null},function(e){return o(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),I.extend(A.ext.type.search,{html:function(e){return o(e)?e:"string"==typeof e?e.replace(pt," ").replace(gt,""):""},string:function(e){return!o(e)&&"string"==typeof e?e.replace(pt," "):e}}),I.extend(h.type.order,{"date-pre":function(e){return e=Date.parse(e),isNaN(e)?-1/0:e},"html-pre":function(e){return o(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return o(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:t<e?1:0},"string-desc":function(e,t){return e<t?1:t<e?-1:0}}),Qe(""),I.extend(!0,A.ext.renderer,{header:{_:function(r,a,o,s){I(r.nTable).on("order.dt.DT",function(e,t,n,i){r===t&&(e=o.idx,a.removeClass(o.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[e]?s.sSortAsc:"desc"==i[e]?s.sSortDesc:o.sSortingClass))})},jqueryui:function(r,a,o,s){I("<div/>").addClass(s.sSortJUIWrapper).append(a.contents()).append(I("<span/>").addClass(s.sSortIcon+" "+o.sSortingClassJUI)).appendTo(a),I(r.nTable).on("order.dt.DT",function(e,t,n,i){r===t&&(e=o.idx,a.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[e]?s.sSortAsc:"desc"==i[e]?s.sSortDesc:o.sSortingClass),a.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==i[e]?s.sSortJUIAsc:"desc"==i[e]?s.sSortJUIDesc:o.sSortingClassJUI))})}}});return A.render={number:function(i,r,a,o,s){return{display:function(e){if("number"!=typeof e&&"string"!=typeof e)return e;var t=e<0?"-":"",n=parseFloat(e);return isNaN(n)?ht(e):(n=n.toFixed(a),e=Math.abs(n),n=parseInt(e,10),e=a?r+(e-n).toFixed(a).substring(2):"",t+(o||"")+n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,i)+e+(s||""))}}},text:function(){return{display:ht,filter:ht}}},I.extend(A.ext.internal,{_fnExternApiFunc:Je,_fnBuildAjax:se,_fnAjaxUpdate:le,_fnAjaxParameters:ue,_fnAjaxUpdateDraw:ce,_fnAjaxDataSrc:de,_fnAddColumn:G,_fnColumnOptions:q,_fnAdjustColumnSizing:P,_fnVisibleToColumnIndex:M,_fnColumnIndexToVisible:u,_fnVisbleColumns:y,_fnGetColumns:V,_fnColumnTypes:m,_fnApplyColumnDefs:Y,_fnHungarianMap:a,_fnCamelToHungarian:_,_fnLanguageCompat:O,_fnBrowserDetect:W,_fnAddData:T,_fnAddTr:z,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==R?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,t,n){return I.inArray(n,e.aoData[t].anCells)},_fnGetCellData:b,_fnSetCellData:$,_fnSplitObjNotation:K,_fnGetObjectDataFn:S,_fnSetObjectDataFn:p,_fnGetDataMaster:X,_fnClearTable:Q,_fnDeleteIndex:J,_fnInvalidate:r,_fnGetRowElements:Z,_fnCreateTr:ee,_fnBuildHead:ne,_fnDrawHead:ie,_fnDraw:c,_fnReDraw:s,_fnAddOptionsHtml:re,_fnDetectHeader:ae,_fnGetUniqueThs:oe,_fnFeatureHtmlFilter:he,_fnFilterComplete:fe,_fnFilterCustom:pe,_fnFilterColumn:ge,_fnFilter:me,_fnFilterCreateSearch:ye,_fnEscapeRegex:St,_fnFilterData:ve,_fnFeatureHtmlInfo:Te,_fnUpdateInfo:Se,_fnInfoMacros:we,_fnInitialise:Ee,_fnInitComplete:Ce,_fnLengthChange:ke,_fnFeatureHtmlLength:De,_fnFeatureHtmlPaginate:Ae,_fnPageChange:xe,_fnFeatureHtmlProcessing:Le,_fnProcessingDisplay:g,_fnFeatureHtmlTable:Oe,_fnScrollDraw:Ie,_fnApplyToChildren:N,_fnCalculateColumnWidths:Re,_fnThrottle:kt,_fnConvertToWidth:Pe,_fnGetWidestNode:Me,_fnGetMaxLenString:Ne,_fnStringToCss:U,_fnSortFlatten:w,_fnSort:Ue,_fnSortAria:Fe,_fnSortListener:je,_fnSortAttachListener:Be,_fnSortingClasses:He,_fnSortData:We,_fnSaveState:Ge,_fnLoadState:qe,_fnSettingsFromNode:Ve,_fnLog:F,_fnMap:E,_fnBindAction:ze,_fnCallbackReg:C,_fnCallbackFire:k,_fnLengthOverflow:$e,_fnRenderer:Ke,_fnDataSource:D,_fnRowAttributes:te,_fnExtend:Ye,_fnCalculateEnd:function(){}}),((I.fn.dataTable=A).$=I).fn.dataTableSettings=A.settings,I.fn.dataTableExt=A.ext,I.fn.DataTable=function(e){return I(this).dataTable(e).api()},I.each(A,function(e,t){I.fn.DataTable[e]=t}),I.fn.dataTable}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return n(e,window,document)}):"object"==typeof exports?module.exports=function(e,t){return e=e||window,t&&t.fn.dataTable||(t=require("datatables.net")(e,t).$),n(t,e,e.document)}:n(jQuery,window,document)}(function(c,s,e,d){function l(a,e,t){function n(t,n){var e,i=a.rows({search:"applied"}).indexes(),r=(i.indexOf(t)>i.indexOf(n)&&(e=n,n=t,t=e),!1);return i.filter(function(e){return e===t&&(r=!0),e===n?!(r=!1):r})}var i=function(t,n){n<t&&(e=n,n=t,t=e);var e,i=!1;return a.columns(":visible").indexes().filter(function(e){return e===t&&(i=!0),e===n?!(i=!1):i})};t=a.cells({selected:!0}).any()||t?(i=i(t.column,e.column),n(t.row,e.row)):(i=i(0,e.column),n(0,e.row)),t=a.cells(t,i).flatten(),a.cells(e,{selected:!0}).any()?a.cells(t).deselect():a.cells(t).select()}function r(e){var t=e.settings()[0]._select.selector;c(e.table().container()).off("mousedown.dtSelect",t).off("mouseup.dtSelect",t).off("click.dtSelect",t),c("body").off("click.dtSelect"+e.table().node().id)}function a(a){var o,t=c(a.table().container()),n=a.settings()[0],i=n._select.selector;t.on("mousedown.dtSelect",i,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&t.css("-moz-user-select","none").one("selectstart.dtSelect",i,function(){return!1}),s.getSelection&&(o=s.getSelection())}).on("mouseup.dtSelect",i,function(){t.css("-moz-user-select","")}).on("click.dtSelect",i,function(e){var t=a.select.items();if(s.getSelection&&((!(i=s.getSelection()).anchorNode||c(i.anchorNode).closest("table")[0]===a.table().node())&&i!==o))return;var n,i=a.settings()[0],r=a.settings()[0].oClasses.sWrapper.replace(/ /g,".");c(e.target).closest("div."+r)[0]==a.table().container()&&(r=a.cell(c(e.target).closest("td, th"))).any()&&(n=c.Event("user-select.dt"),u(a,n,[t,r,e]),n.isDefaultPrevented()||(n=r.index(),"row"===t?(t=n.row,p(e,a,i,"row",t)):"column"===t?(t=r.index().column,p(e,a,i,"column",t)):"cell"===t&&(t=r.index(),p(e,a,i,"cell",t)),i._select_lastCell=n))}),c("body").on("click.dtSelect"+a.table().node().id,function(e){!n._select.blurable||c(e.target).parents().filter(a.table().container()).length||0===c(e.target).parents("html").length||c(e.target).parents("div.DTE").length||f(n,!0)})}function u(e,t,n,i){i&&!e.flatten().length||("string"==typeof t&&(t+=".dt"),n.unshift(e),c(e.table().node()).trigger(t,n))}function o(i){var r,a,o,s,e=i.settings()[0];e._select.info&&e.aanFeatures.i&&"api"!==i.select.style()&&(r=i.rows({selected:!0}).flatten().length,a=i.columns({selected:!0}).flatten().length,o=i.cells({selected:!0}).flatten().length,s=function(e,t,n){e.append(c('<span class="select-item"/>').append(i.i18n("select."+t+"s",{_:"%d "+t+"s selected",0:"",1:"1 "+t+" selected"},n)))},c.each(e.aanFeatures.i,function(e,t){var t=c(t),n=c('<span class="select-info"/>'),i=(s(n,"row",r),s(n,"column",a),s(n,"cell",o),t.children("span.select-info"));i.length&&i.remove(),""!==n.text()&&t.append(n)}))}function h(e,t,n,i){var r,a=e[t+"s"]({search:"applied"}).indexes(),i=c.inArray(i,a),o=c.inArray(n,a);e[t+"s"]({selected:!0}).any()||-1!==i?(o<i&&(r=o,o=i,i=r),a.splice(o+1,a.length),a.splice(0,i)):a.splice(c.inArray(n,a)+1,a.length),e[t](n,{selected:!0}).any()?(a.splice(c.inArray(n,a),1),e[t+"s"](a).deselect()):e[t+"s"](a).select()}function f(e,t){!t&&"single"!==e._select.style||((t=new m.Api(e)).rows({selected:!0}).deselect(),t.columns({selected:!0}).deselect(),t.cells({selected:!0}).deselect())}function p(e,t,n,i,r){var a=t.select.style(),o=t[i](r,{selected:!0}).any();"os"===a?e.ctrlKey||e.metaKey?t[i](r).select(!o):e.shiftKey?"cell"===i?l(t,r,n._select_lastCell||null):h(t,i,r,n._select_lastCell?n._select_lastCell[i]:null):(e=t[i+"s"]({selected:!0}),o&&1===e.flatten().length?t[i](r).deselect():(e.deselect(),t[i](r).select())):"multi+shift"==a&&e.shiftKey?"cell"===i?l(t,r,n._select_lastCell||null):h(t,i,r,n._select_lastCell?n._select_lastCell[i]:null):t[i](r).select(!o)}function n(t,n){return function(e){return e.i18n("buttons."+t,n)}}function g(e){return"draw.dt.DT"+(e=e._eventNamespace)+" select.dt.DT"+e+" deselect.dt.DT"+e}var m=c.fn.dataTable,t=(m.select={},m.select.version="1.2.7",m.select.init=function(e){var t=e.settings()[0],n=t.oInit.select,i=m.defaults.select,n=n===d?i:n,i="row",r="api",a=!1,o=!0,s="td, th",l="selected",u=!1;t._select={},!0===n?(r="os",u=!0):"string"==typeof n?(r=n,u=!0):c.isPlainObject(n)&&(n.blurable!==d&&(a=n.blurable),n.info!==d&&(o=n.info),n.items!==d&&(i=n.items),n.style!==d&&(r=n.style,u=!0),n.selector!==d&&(s=n.selector),n.className!==d)&&(l=n.className),e.select.selector(s),e.select.items(i),e.select.style(r),e.select.blurable(a),e.select.info(o),t._select.className=l,c.fn.dataTable.ext.order["select-checkbox"]=function(t,e){return this.api().column(e,{order:"index"}).nodes().map(function(e){return"row"===t._select.items?c(e).parent().hasClass(t._select.className):"cell"===t._select.items&&c(e).hasClass(t._select.className)})},!u&&c(e.table().node()).hasClass("selectable")&&e.select.style("os")},c.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,s){m.ext.selector[s.type].push(function(e,t,n){var i,r=[];if(!0!==(t=t.selected)&&!1!==t)return n;for(var a=0,o=n.length;a<o;a++)i=e[s.prop][n[a]],(!0===t&&!0===i._select_selected||!1===t&&!i._select_selected)&&r.push(n[a]);return r})}),m.ext.selector.cell.push(function(e,t,n){var i,r=[];if((t=t.selected)===d)return n;for(var a=0,o=n.length;a<o;a++)i=e.aoData[n[a].row],(!0!==t||!i._selected_cells||!0!==i._selected_cells[n[a].column])&&(!1!==t||i._selected_cells&&i._selected_cells[n[a].column])||r.push(n[a]);return r}),m.Api.register),i=m.Api.registerPlural,y=(t("select()",function(){return this.iterator("table",function(e){m.select.init(new m.Api(e))})}),t("select.blurable()",function(t){return t===d?this.context[0]._select.blurable:this.iterator("table",function(e){e._select.blurable=t})}),t("select.info()",function(t){return o===d?this.context[0]._select.info:this.iterator("table",function(e){e._select.info=t})}),t("select.items()",function(t){return t===d?this.context[0]._select.items:this.iterator("table",function(e){e._select.items=t,u(new m.Api(e),"selectItems",[t])})}),t("select.style()",function(t){return t===d?this.context[0]._select.style:this.iterator("table",function(i){i._select.style=t,i._select_init||(n=new m.Api(i),i.aoRowCreatedCallback.push({fn:function(e,t,n){for((t=i.aoData[n])._select_selected&&c(e).addClass(i._select.className),e=0,n=i.aoColumns.length;e<n;e++)(i.aoColumns[e]._select_selected||t._selected_cells&&t._selected_cells[e])&&c(t.anCells[e]).addClass(i._select.className)},sName:"select-deferRender"}),n.on("preXhr.dt.dtSelect",function(){var e=n.rows({selected:!0}).ids(!0).filter(function(e){return e!==d}),t=n.cells({selected:!0}).eq(0).map(function(e){var t=n.row(e.row).id(!0);return t?{row:t,column:e.column}:d}).filter(function(e){return e!==d});n.one("draw.dt.dtSelect",function(){n.rows(e).select(),t.any()&&t.each(function(e){n.cells(e.row,e.column).select()})})}),n.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){o(n)}),n.on("destroy.dtSelect",function(){r(n),n.off(".dtSelect")}));var n,e=new m.Api(i);r(e),"api"!==t&&a(e),u(new m.Api(i),"selectStyle",[t])})}),t("select.selector()",function(t){return t===d?this.context[0]._select.selector:this.iterator("table",function(e){r(new m.Api(e)),e._select.selector=t,"api"!==e._select.style&&a(new m.Api(e))})}),i("rows().select()","row().select()",function(e){var n=this;return!1===e?this.deselect():(this.iterator("row",function(e,t){f(e),e.aoData[t]._select_selected=!0,c(e.aoData[t].nTr).addClass(e._select.className)}),this.iterator("table",function(e,t){u(n,"select",["row",n[t]],!0)}),this)}),i("columns().select()","column().select()",function(e){var n=this;return!1===e?this.deselect():(this.iterator("column",function(e,t){f(e),e.aoColumns[t]._select_selected=!0;t=new m.Api(e).column(t);c(t.header()).addClass(e._select.className),c(t.footer()).addClass(e._select.className),t.nodes().to$().addClass(e._select.className)}),this.iterator("table",function(e,t){u(n,"select",["column",n[t]],!0)}),this)}),i("cells().select()","cell().select()",function(e){var n=this;return!1===e?this.deselect():(this.iterator("cell",function(e,t,n){f(e),(t=e.aoData[t])._selected_cells===d&&(t._selected_cells=[]),t._selected_cells[n]=!0,t.anCells&&c(t.anCells[n]).addClass(e._select.className)}),this.iterator("table",function(e,t){u(n,"select",["cell",n[t]],!0)}),this)}),i("rows().deselect()","row().deselect()",function(){var n=this;return this.iterator("row",function(e,t){e.aoData[t]._select_selected=!1,c(e.aoData[t].nTr).removeClass(e._select.className)}),this.iterator("table",function(e,t){u(n,"deselect",["row",n[t]],!0)}),this}),i("columns().deselect()","column().deselect()",function(){var n=this;return this.iterator("column",function(i,e){i.aoColumns[e]._select_selected=!1;var t=new m.Api(i),n=t.column(e);c(n.header()).removeClass(i._select.className),c(n.footer()).removeClass(i._select.className),t.cells(null,e).indexes().each(function(e){var t=i.aoData[e.row],n=t._selected_cells;!t.anCells||n&&n[e.column]||c(t.anCells[e.column]).removeClass(i._select.className)})}),this.iterator("table",function(e,t){u(n,"deselect",["column",n[t]],!0)}),this}),i("cells().deselect()","cell().deselect()",function(){var n=this;return this.iterator("cell",function(e,t,n){(t=e.aoData[t])._selected_cells[n]=!1,t.anCells&&!e.aoColumns[n]._select_selected&&c(t.anCells[n]).removeClass(e._select.className)}),this.iterator("table",function(e,t){u(n,"deselect",["cell",n[t]],!0)}),this}),0);return c.extend(m.ext.buttons,{selected:{text:n("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(e,t,n){var i=this;n._eventNamespace=".select"+y++,e.on(g(n),function(){i.enable(!!(-1!==c.inArray("rows",n.limitTo)&&e.rows({selected:!0}).any()||-1!==c.inArray("columns",n.limitTo)&&e.columns({selected:!0}).any()||-1!==c.inArray("cells",n.limitTo)&&e.cells({selected:!0}).any()))}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectedSingle:{text:n("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(t,e,n){var i=this;n._eventNamespace=".select"+y++,t.on(g(n),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;i.enable(1===e)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectAll:{text:n("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:n("selectNone","Deselect all"),className:"buttons-select-none",action:function(){f(this.settings()[0],!0)},init:function(t,e,n){var i=this;n._eventNamespace=".select"+y++,t.on(g(n),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;i.enable(0<e)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}}}),c.each(["Row","Column","Cell"],function(e,t){var r=t.toLowerCase();m.ext.buttons["select"+t+"s"]={text:n("select"+t+"s","Select "+r+"s"),className:"buttons-select-"+r+"s",action:function(){this.select.items(r)},init:function(e){var i=this;e.on("selectItems.dt.DT",function(e,t,n){i.active(n===r)})}}}),c(e).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&m.select.init(new m.Api(t))}),m.select}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return n(e,window,document)}):"object"==typeof exports?module.exports=function(e,t){return e=e||window,t&&t.fn.dataTable||(t=require("datatables.net")(e,t).$),n(t,e,e.document)}:n(jQuery,window,document)}(function(y,v,b,p){function _(e,t,n){y.fn.animate?e.stop().fadeIn(t,n):(e.css("display","block"),n&&n.call(e))}function T(e,t,n){y.fn.animate?e.stop().fadeOut(t,n):(e.css("display","none"),n&&n.call(e))}function e(e,t){return e=new n.Api(e),t=t||e.init().buttons||n.defaults.buttons,new S(e,t).container()}function S(t,e){if(!(this instanceof S))return function(e){return new S(e,t).container()};y.isArray(e=!0===(e=void 0===e?{}:e)?{}:e)&&(e={buttons:e}),this.c=y.extend(!0,{},S.defaults,e),e.buttons&&(this.c.buttons=e.buttons),this.s={dt:new n.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+i++},this.dom={container:y("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()}var r,n=y.fn.dataTable,i=0,c=0,s=n.ext.buttons,a=(y.extend(S.prototype,{action:function(e,t){return e=this._nodeToButton(e),t===p?e.conf.action:(e.conf.action=t,this)},active:function(e,t){var n=this._nodeToButton(e);return e=this.c.dom.button.active,n=y(n.node),t===p?n.hasClass(e):(n.toggleClass(e,t===p||t),this)},add:function(e,t){var n=this.s.buttons;if("string"==typeof t){t=t.split("-");for(var i=this.s,n=0,r=t.length-1;n<r;n++)i=i.buttons[+t[n]];n=i.buttons,t=+t[t.length-1]}return this._expandButton(n,e,i!==p,t),this._draw(),this},container:function(){return this.dom.container},disable:function(e){return e=this._nodeToButton(e),y(e.node).addClass(this.c.dom.button.disabled).attr("disabled",!0),this},destroy:function(){y("body").off("keyup."+this.s.namespace);for(var e=this.s.buttons.slice(),t=0,n=e.length;t<n;t++)this.remove(e[t].node);for(this.dom.container.remove(),t=0,n=(e=this.s.dt.settings()[0]).length;t<n;t++)if(e.inst===this){e.splice(t,1);break}return this},enable:function(e,t){return!1===t?this.disable(e):(e=this._nodeToButton(e),y(e.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled"),this)},name:function(){return this.c.name},node:function(e){return e?(e=this._nodeToButton(e),y(e.node)):this.dom.container},processing:function(e,t){var n=this.s.dt,i=this._nodeToButton(e);return t===p?y(i.node).hasClass("processing"):(y(i.node).toggleClass("processing",t),y(n.table().node()).triggerHandler("buttons-processing.dt",[t,n.button(e),n,y(e),i.conf]),this)},remove:function(e){var t=this._nodeToButton(e),n=this._nodeToHost(e),i=this.s.dt;if(t.buttons.length)for(var r=t.buttons.length-1;0<=r;r--)this.remove(t.buttons[r].node);return t.conf.destroy&&t.conf.destroy.call(i.button(e),i,y(e),t.conf),this._removeKey(t.conf),y(t.node).remove(),e=y.inArray(t,n),n.splice(e,1),this},text:function(e,t){function n(e){return"function"==typeof e?e(r,a,i.conf):e}var i=this._nodeToButton(e),r=(e=this.c.dom.collection.buttonLiner,e=(i.inCollection&&e&&e.tag?e:this.c.dom.buttonLiner).tag,this.s.dt),a=y(i.node);return t===p?n(i.conf.text):(i.conf.text=t,(e?a.children(e):a).html(n(t)),this)},_constructor:function(){var n=this,e=this.s.dt,i=e.settings()[0],t=this.c.buttons;i._buttons||(i._buttons=[]),i._buttons.push({inst:this,name:this.c.name});for(var r=0,a=t.length;r<a;r++)this.add(t[r]);e.on("destroy",function(e,t){t===i&&n.destroy()}),y("body").on("keyup."+this.s.namespace,function(e){var t;b.activeElement&&b.activeElement!==b.body||(t=String.fromCharCode(e.keyCode).toLowerCase(),-1!==n.s.listenKeys.toLowerCase().indexOf(t)&&n._keypress(t,e))})},_addKey:function(e){e.key&&(this.s.listenKeys+=(y.isPlainObject(e.key)?e.key:e).key)},_draw:function(e,t){e||(e=this.dom.container,t=this.s.buttons),e.children().detach();for(var n=0,i=t.length;n<i;n++)e.append(t[n].inserter),e.append(" "),t[n].buttons&&t[n].buttons.length&&this._draw(t[n].collection,t[n].buttons)},_expandButton:function(e,t,n,i){for(var r=this.s.dt,a=0,o=(t=y.isArray(t)?t:[t]).length;a<o;a++){var s,l=this._resolveExtends(t[a]);l&&(y.isArray(l)?this._expandButton(e,l,n,i):(s=this._buildButton(l,n))&&(i!==p&&null!==i?(e.splice(i,0,s),i++):e.push(s),s.conf.buttons&&(s.collection=y("<"+this.c.dom.collection.tag+"/>"),s.conf._collection=s.collection,this._expandButton(s.buttons,s.conf.buttons,!0,i)),l.init&&l.init.call(r.button(s.node),r,y(s.node),l),0))}},_buildButton:function(t,e){function n(e){return"function"==typeof e?e(o,u,t):e}var i=this.c.dom.button,r=this.c.dom.buttonLiner,a=this.c.dom.collection,o=this.s.dt;if(e&&a.button&&(i=a.button),e&&a.buttonLiner&&(r=a.buttonLiner),t.available&&!t.available(o,t))return!1;function s(e,t,n,i){i.action.call(t.button(n),e,t,n,i),y(t.table().node()).triggerHandler("buttons-action.dt",[t.button(n),t,n,i])}var a=t.tag||i.tag,l=t.clickBlurs===p||t.clickBlurs,u=y("<"+a+"/>").addClass(i.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault(),!u.hasClass(i.disabled)&&t.action&&s(e,o,u,t),l&&u.trigger("blur")}).on("keyup.dtb",function(e){13===e.keyCode&&!u.hasClass(i.disabled)&&t.action&&s(e,o,u,t)});return"a"===a.toLowerCase()&&u.attr("href","#"),"button"===a.toLowerCase()&&u.attr("type","button"),r.tag?(a=y("<"+r.tag+"/>").html(n(t.text)).addClass(r.className),"a"===r.tag.toLowerCase()&&a.attr("href","#"),u.append(a)):u.html(n(t.text)),!1===t.enabled&&u.addClass(i.disabled),t.className&&u.addClass(t.className),t.titleAttr&&u.attr("title",n(t.titleAttr)),t.attr&&u.attr(t.attr),t.namespace||(t.namespace=".dt-button-"+c++),r=(r=this.c.dom.buttonContainer)&&r.tag?y("<"+r.tag+"/>").addClass(r.className).append(u):u,this._addKey(t),this.c.buttonCreated&&(r=this.c.buttonCreated(t,r)),{conf:t,node:u.get(0),inserter:r,buttons:[],inCollection:e,collection:null}},_nodeToButton:function(e,t){for(var n=0,i=(t=t||this.s.buttons).length;n<i;n++){if(t[n].node===e)return t[n];if(t[n].buttons.length){var r=this._nodeToButton(e,t[n].buttons);if(r)return r}}},_nodeToHost:function(e,t){for(var n=0,i=(t=t||this.s.buttons).length;n<i;n++){if(t[n].node===e)return t;if(t[n].buttons.length){var r=this._nodeToHost(e,t[n].buttons);if(r)return r}}},_keypress:function(a,o){var s;o._buttonsHandled||(s=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].conf,r=e[t].node;!i.key||i.key!==a&&(!y.isPlainObject(i.key)||i.key.key!==a||i.key.shiftKey&&!o.shiftKey||i.key.altKey&&!o.altKey||i.key.ctrlKey&&!o.ctrlKey||i.key.metaKey&&!o.metaKey)||(o._buttonsHandled=!0,y(r).click()),e[t].buttons.length&&s(e[t].buttons)}})(this.s.buttons)},_removeKey:function(e){var t;e.key&&(t=(y.isPlainObject(e.key)?e.key:e).key,e=this.s.listenKeys.split(""),t=y.inArray(t,e),e.splice(t,1),this.s.listenKeys=e.join(""))},_resolveExtends:function(n){function e(e){for(var t=0;!y.isPlainObject(e)&&!y.isArray(e);){if(e===p)return;if("function"==typeof e){if(!(e=e(i,n)))return!1}else if("string"==typeof e){if(!s[e])throw"Unknown button type: "+e;e=s[e]}if(30<++t)throw"Buttons: Too many iterations"}return y.isArray(e)?e:y.extend({},e)}var t,i=this.s.dt;for(n=e(n);n&&n.extend;){if(!s[n.extend])throw"Cannot extend unknown button type: "+n.extend;var r=e(s[n.extend]);if(y.isArray(r))return r;if(!r)return!1;var a=r.className,o=(n=y.extend({},r,n),a&&n.className!==a&&(n.className=a+" "+n.className),n.postfixButtons);if(o){for(n.buttons||(n.buttons=[]),a=0,t=o.length;a<t;a++)n.buttons.push(o[a]);n.postfixButtons=null}if(o=n.prefixButtons){for(n.buttons||(n.buttons=[]),a=0,t=o.length;a<t;a++)n.buttons.splice(a,0,o[a]);n.prefixButtons=null}n.extend=r.extend}return n},_popover:function(i,e,t){function r(){T(y(".dt-button-collection"),p.fade,function(){y(this).detach()}),y(e.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),y("div.dt-button-background").off("click.dtb-collection"),S.background(!1,p.backgroundClassName,p.fade,g),y("body").off(".dtb-collection"),e.off("buttons-action.b-internal")}var n,a,o,s,l,u,c,d,h,f=this.c,p=y.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:f.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,rightAlignClassName:"dt-button-right",tag:f.dom.collection.tag},t),g=e.node(),m=(!1===i&&r(),(t=y(e.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes())).length&&(g=t.eq(0),r()),t=y("<div/>").addClass("dt-button-collection").addClass(p.collectionLayout).css("display","none"),i=y(i).addClass(p.contentClassName).attr("role","menu").appendTo(t),g.attr("aria-expanded","true"),g.parents("body")[0]!==b.body&&(g=b.body.lastChild),p.collectionTitle&&t.prepend('<div class="dt-button-collection-title">'+p.collectionTitle+"</div>"),_(t.insertAfter(g)),f=y(e.table().container()),t.css("position"));"dt-container"===p.align&&(g=g.parent(),t.css("width",f.width())),"absolute"===m&&(t.hasClass(p.rightAlignClassName)||t.hasClass(p.leftAlignClassName)||"dt-container"===p.align)?(n=g.position(),t.css({top:n.top+g.outerHeight(),left:n.left}),a=t.outerHeight(),o=f.offset().top+f.height(),o=(s=n.top+g.outerHeight()+a)-o,s=n.top-a,l=f.offset().top,u=n.top-a-5,(l-s<o||p.dropup)&&-u<l&&t.css("top",u),f=(n=f.offset().left)+(f=f.width()),c=(m=t.offset().left)+(c=t.width()),d=(h=g.offset().left)+(d=g.outerWidth()),h=0,t.hasClass(p.rightAlignClassName)?m+(h=d-c)<n&&(h=(f-=c+h)<(m=n-(m+h))?h+f:h+m):f<c+(h=n-m)&&(h=(f-=c+h)<(m=n-(m+h))?h+f:h+m),t.css("left",t.position().left+h)):"absolute"===m?(n=g.position(),t.css({top:n.top+g.outerHeight(),left:n.left}),a=t.outerHeight(),m=g.offset().top,h=0,d=(h=g.offset().left)+(d=g.outerWidth()),c=(m=t.offset().left)+(c=i.width()),u=n.top-a-5,o=f.offset().top+f.height(),o=(s=n.top+g.outerHeight()+a)-o,s=n.top-a,((l=f.offset().top)-s<o||p.dropup)&&-u<l&&t.css("top",u),h="button-right"===p.align?d-c:h-m,t.css("left",t.position().left+h)):((m=t.height()/2)>y(v).height()/2&&(m=y(v).height()/2),t.css("marginTop",-1*m)),p.background&&S.background(!0,p.backgroundClassName,p.fade,g),y("div.dt-button-background").on("click.dtb-collection",function(){}),y("body").on("click.dtb-collection",function(e){var t=y.fn.addBack?"addBack":"andSelf",n=y(e.target).parent()[0];(y(e.target).parents()[t]().filter(i).length||y(n).hasClass("dt-buttons"))&&!y(e.target).hasClass("dt-button-background")||r()}).on("keyup.dtb-collection",function(e){27===e.keyCode&&r()}),p.autoClose&&setTimeout(function(){e.on("buttons-action.b-internal",function(e,t,n,i){i[0]!==g[0]&&r()})},0),y(t).trigger("buttons-popover.dt")}}),S.background=function(e,t,n,i){n===p&&(n=400),i=i||b.body,e?_(y("<div/>").addClass(t).css("display","none").insertAfter(i),n):T(y("div."+t),n,function(){y(this).removeClass(t).remove()})},S.instanceSelector=function(e,i){if(e===p||null===e)return y.map(i,function(e){return e.inst});function r(e){if(y.isArray(e))for(var t=0,n=e.length;t<n;t++)r(e[t]);else"string"==typeof e?-1!==e.indexOf(",")?r(e.split(",")):-1!==(e=y.inArray(y.trim(e),o))&&a.push(i[e].inst):"number"==typeof e&&a.push(i[e].inst)}var a=[],o=y.map(i,function(e){return e.name});return r(e),a},S.buttonSelector=function(e,t){function a(e,t){var n,i=[],r=(s(i,t.s.buttons),y.map(i,function(e){return e.node}));if(y.isArray(e)||e instanceof y)for(r=0,n=e.length;r<n;r++)a(e[r],t);else if(null===e||e===p||"*"===e)for(r=0,n=i.length;r<n;r++)o.push({inst:t,node:i[r].node});else if("number"==typeof e)o.push({inst:t,node:t.s.buttons[e].node});else if("string"==typeof e)if(-1!==e.indexOf(","))for(r=0,n=(i=e.split(",")).length;r<n;r++)a(y.trim(i[r]),t);else if(e.match(/^\d+(\-\d+)*$/))r=y.map(i,function(e){return e.idx}),o.push({inst:t,node:i[y.inArray(e,r)].node});else if(-1!==e.indexOf(":name"))for(e=e.replace(":name",""),r=0,n=i.length;r<n;r++)i[r].name===e&&o.push({inst:t,node:i[r].node});else y(r).filter(e).each(function(){o.push({inst:t,node:this})});else"object"==typeof e&&e.nodeName&&(-1!==(i=y.inArray(e,r))&&o.push({inst:t,node:r[i]}))}for(var o=[],s=function(e,t,n){for(var i,r,a=0,o=t.length;a<o;a++)(i=t[a])&&(e.push({node:i.node,name:i.conf.name,idx:r=n!==p?n+a:a+""}),i.buttons&&s(e,i.buttons,r+"-"))},n=0,i=e.length;n<i;n++)a(t,e[n]);return o},S.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"ActiveXObject"in v?"a":"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},S.version="1.6.3",y.extend(s,{collection:{text:function(e){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function(e,t,n){t.attr("aria-expanded",!1)},action:function(e,t,n,i){e.stopPropagation(),i._collection.parents("body").length?this.popover(!1,i):this.popover(i._collection,i)},attr:{"aria-haspopup":!0}},copy:function(e,t){return s.copyHtml5?"copyHtml5":s.copyFlash&&s.copyFlash.available(e,t)?"copyFlash":void 0},csv:function(e,t){return s.csvHtml5&&s.csvHtml5.available(e,t)?"csvHtml5":s.csvFlash&&s.csvFlash.available(e,t)?"csvFlash":void 0},excel:function(e,t){return s.excelHtml5&&s.excelHtml5.available(e,t)?"excelHtml5":s.excelFlash&&s.excelFlash.available(e,t)?"excelFlash":void 0},pdf:function(e,t){return s.pdfHtml5&&s.pdfHtml5.available(e,t)?"pdfHtml5":s.pdfFlash&&s.pdfFlash.available(e,t)?"pdfFlash":void 0},pageLength:function(e){e=e.settings()[0].aLengthMenu;var t=y.isArray(e[0])?e[0]:e,n=y.isArray(e[0])?e[1]:e;return{extend:"collection",text:function(e){return e.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},e.page.len())},className:"buttons-page-length",autoClose:!0,buttons:y.map(t,function(r,e){return{text:n[e],className:"button-page-length",action:function(e,t){t.page.len(r).draw()},init:function(e,t,n){var i=this;e.on("length.dt"+n.namespace,t=function(){i.active(e.page.len()===r)}),t()},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}),init:function(e,t,n){var i=this;e.on("length.dt"+n.namespace,function(){i.text(n.text)})},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}}),n.Api.register("buttons()",function(t,n){n===p&&(n=t,t=p),this.selector.buttonGroup=t;var e=this.iterator(!0,"table",function(e){if(e._buttons)return S.buttonSelector(S.instanceSelector(t,e._buttons),n)},!0);return e._groupSelector=t,e}),n.Api.register("button()",function(e,t){return 1<(e=this.buttons(e,t)).length&&e.splice(1,e.length),e}),n.Api.registerPlural("buttons().active()","button().active()",function(t){return t===p?this.map(function(e){return e.inst.active(e.node)}):this.each(function(e){e.inst.active(e.node,t)})}),n.Api.registerPlural("buttons().action()","button().action()",function(t){return t===p?this.map(function(e){return e.inst.action(e.node)}):this.each(function(e){e.inst.action(e.node,t)})}),n.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})}),n.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(e){e.inst.disable(e.node)})}),n.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=y();return y(this.each(function(e){t=t.add(e.inst.node(e.node))})),t}),n.Api.registerPlural("buttons().processing()","button().processing()",function(t){return t===p?this.map(function(e){return e.inst.processing(e.node)}):this.each(function(e){e.inst.processing(e.node,t)})}),n.Api.registerPlural("buttons().text()","button().text()",function(t){return t===p?this.map(function(e){return e.inst.text(e.node)}):this.each(function(e){e.inst.text(e.node,t)})}),n.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(e){e.inst.node(e.node).trigger("click")})}),n.Api.register("button().popover()",function(t,n){return this.map(function(e){return e.inst._popover(t,this.button(this[0].node),n)})}),n.Api.register("buttons().containers()",function(){var i=y(),r=this._groupSelector;return this.iterator(!0,"table",function(e){if(e._buttons)for(var t=0,n=(e=S.instanceSelector(r,e._buttons)).length;t<n;t++)i=i.add(e[t].container())}),i}),n.Api.register("buttons().container()",function(){return this.containers().eq(0)}),n.Api.register("button().add()",function(e,t){var n=this.context;return n.length&&((n=S.instanceSelector(this._groupSelector,n[0]._buttons)).length&&n[0].add(t,e)),this.button(this._groupSelector,e)}),n.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(e){e.destroy()}),this}),n.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(e){e.inst.remove(e.node)}),this}),n.Api.register("buttons.info()",function(e,t,n){var i=this;return!1===e?(this.off("destroy.btn-info"),T(y("#datatables_buttons_info"),400,function(){y(this).remove()}),clearTimeout(r),r=null):(r&&clearTimeout(r),y("#datatables_buttons_info").length&&y("#datatables_buttons_info").remove(),e=e?"<h2>"+e+"</h2>":"",_(y('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(y("<div/>")["string"==typeof t?"html":"append"](t)).css("display","none").appendTo("body")),n!==p&&0!==n&&(r=setTimeout(function(){i.buttons.info(!1)},n)),this.on("destroy.btn-info",function(){i.buttons.info(!1)})),this}),n.Api.register("buttons.exportData()",function(e){if(this.context.length)return t(new n.Api(this.context[0]),e)}),n.Api.register("buttons.exportInfo()",function(e){var t=e=e||{},n="*"===t.filename&&"*"!==t.title&&t.title!==p&&null!==t.title&&""!==t.title?t.title:t.filename;return(n="function"==typeof n?n():n)===p||null===n?n=null:(n=(n=-1!==n.indexOf("*")?y.trim(n.replace("*",y("head > title").text())):n).replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),n+=t=(t=a(t.extension))?t:""),{filename:n,title:t=null===(t=a(e.title))?null:-1!==t.indexOf("*")?t.replace("*",y("head > title").text()||"Exported data"):t,messageTop:o(this,e.message||e.messageTop,"top"),messageBottom:o(this,e.messageBottom,"bottom")}}),function(e){return null===e||e===p?null:"function"==typeof e?e():e}),o=function(e,t,n){return null===(t=a(t))?null:(e=y("caption",e.table().container()).eq(0),"*"===t?e.css("caption-side")!==n?null:e.length?e.text():"":t)},g=y("<textarea/>")[0],t=function(n,e){var i=y.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(e){return t(e)},footer:function(e){return t(e)},body:function(e){return t(e)}},customizeData:null},e),t=function(e){return"string"!=typeof e||(e=(e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),i.stripHtml&&(e=e.replace(/<[^>]*>/g,"")),i.trim&&(e=e.replace(/^\s+|\s+$/g,"")),i.stripNewlines&&(e=e.replace(/\n/g," ")),i.decodeEntities&&(g.innerHTML=e,e=g.value)),e},r=(e=n.columns(i.columns).indexes().map(function(e){var t=n.column(e).header();return i.format.header(t.innerHTML,e,t)}).toArray(),n.table().footer()?n.columns(i.columns).indexes().map(function(e){var t=n.column(e).footer();return i.format.footer(t?t.innerHTML:"",e,t)}).toArray():null),a=y.extend({},i.modifier);n.select&&"function"==typeof n.select.info&&a.selected===p&&n.rows(i.rows,y.extend({selected:!0},a)).any()&&y.extend(a,{selected:!0}),a=n.rows(i.rows,a).indexes().toArray();for(var a=(o=n.cells(a,i.columns)).render(i.orthogonal).toArray(),o=o.nodes().toArray(),s=e.length,l=[],u=0,c=0,d=0<s?a.length/s:0;c<d;c++){for(var h=[s],f=0;f<s;f++)h[f]=i.format.body(a[u],c,f,o[u]),u++;l[c]=h}return e={header:e,footer:r,body:l},i.customizeData&&i.customizeData(e),e};return y.fn.dataTable.Buttons=S,y.fn.DataTable.Buttons=S,y(b).on("init.dt plugin-init.dt",function(e,t){"dt"===e.namespace&&(e=t.oInit.buttons||n.defaults.buttons)&&!t._buttons&&new S(t,e).container()}),n.ext.feature.push({fnInit:e,cFeature:"B"}),n.ext.features&&n.ext.features.register("buttons",e),S}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t(e.bootstrap={},e.jQuery)}(this,function(e,t){"use strict";function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,n){t&&N(e.prototype,t),n&&N(e,n)}function a(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})):t).forEach(function(e){var t=i,n=r[e=e];e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n})}return i}fe=t=t&&t.hasOwnProperty("default")?t.default:t,pe="transitionend",ge={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;e=fe(e).css("transition-duration");return parseFloat(e)?(e=e.split(",")[0],1e3*parseFloat(e)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){fe(e).trigger(pe)},supportsTransitionEnd:function(){return Boolean(pe)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],a=t[i],a=a&&ge.isElement(a)?"element":{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(a))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+r+'".')}}},fe.fn.emulateTransitionEnd=function(e){var t=this,n=!1;return fe(this).one(ge.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||ge.triggerTransitionEnd(t)},e),this},fe.event.special[ge.TRANSITION_END]={bindType:pe,delegateType:pe,handle:function(e){if(fe(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};for(var i,U,F,j,B,H,o,W,G,q,V,Y,c,z,$,r,K,X,Q,J,Z,d,h,ee,te,l,ne,ie,re,ae,oe,se,s,le,ue,ce,de,he,fe,pe,ge,f=ge,u=(u="."+(F="bs.alert"),j=(i=t).fn[U="alert"],B={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},(u=Ee.prototype).close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},u.dispose=function(){i.removeData(this._element,F),this._element=null},u._getRootElement=function(e){var t=f.getSelectorFromElement(e),n=!1;return n=(n=t?document.querySelector(t):n)||i(e).closest(".alert")[0]},u._triggerCloseEvent=function(e){var t=i.Event(B.CLOSE);return i(e).trigger(t),t},u._removeElement=function(t){var e,n=this;i(t).removeClass("show"),i(t).hasClass("fade")?(e=f.getTransitionDurationFromElement(t),i(t).one(f.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(e)):this._destroyElement(t)},u._destroyElement=function(e){i(e).detach().trigger(B.CLOSED).remove()},Ee._jQueryInterface=function(n){return this.each(function(){var e=i(this),t=e.data(F);t||(t=new Ee(this),e.data(F,t)),"close"===n&&t[n](this)})},Ee._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},n(Ee,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),H=Ee,i(document).on(B.CLICK_DATA_API,'[data-dismiss="alert"]',H._handleDismiss(new H)),i.fn[U]=H._jQueryInterface,i.fn[U].Constructor=H,i.fn[U].noConflict=function(){return i.fn[U]=j,H._jQueryInterface},H),me=(p="."+(G="bs.button"),q=(o=t).fn[W="button"],V="active",ye='[data-toggle^="button"]',p={CLICK_DATA_API:"click"+p+(me=".data-api"),FOCUS_BLUR_DATA_API:"focus"+p+me+" blur"+p+me},(me=we.prototype).toggle=function(){var e=!0,t=!0,n=o(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i,r=this._element.querySelector("input");if(r){if("radio"===r.type&&(r.checked&&this._element.classList.contains(V)?e=!1:(i=n.querySelector(".active"))&&o(i).removeClass(V)),e){if(r.hasAttribute("disabled")||n.hasAttribute("disabled")||r.classList.contains("disabled")||n.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(V),o(r).trigger("change")}r.focus(),t=!1}}t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(V)),e&&o(this._element).toggleClass(V)},me.dispose=function(){o.removeData(this._element,G),this._element=null},we._jQueryInterface=function(t){return this.each(function(){var e=o(this).data(G);e||(e=new we(this),o(this).data(G,e)),"toggle"===t&&e[t]()})},n(we,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),Y=we,o(document).on(p.CLICK_DATA_API,ye,function(e){e.preventDefault();e=e.target;o(e).hasClass("btn")||(e=o(e).closest(".btn")),Y._jQueryInterface.call(o(e),"toggle")}).on(p.FOCUS_BLUR_DATA_API,ye,function(e){var t=o(e.target).closest(".btn")[0];o(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),o.fn[W]=Y._jQueryInterface,o.fn[W].Constructor=Y,o.fn[W].noConflict=function(){return o.fn[W]=q,Y._jQueryInterface},Y),ye=(r="."+($="bs.carousel"),K=(c=t).fn[z="carousel"],X={interval:5e3,keyboard:!0,slide:!".data-api",pause:"hover",wrap:!0},Q={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},J="next",Z="prev",d={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,TOUCHEND:"touchend"+r,LOAD_DATA_API:"load"+r+".data-api",CLICK_DATA_API:"click"+r+".data-api"},h="active",ee=".active.carousel-item",(p=Se.prototype).next=function(){this._isSliding||this._slide(J)},p.nextWhenVisible=function(){!document.hidden&&c(this._element).is(":visible")&&"hidden"!==c(this._element).css("visibility")&&this.next()},p.prev=function(){this._isSliding||this._slide(Z)},p.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(f.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},p.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},p.to=function(e){var t=this,n=(this._activeElement=this._element.querySelector(ee),this._getItemIndex(this._activeElement));if(!(e>this._items.length-1||e<0))if(this._isSliding)c(this._element).one(d.SLID,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();this._slide(n<e?J:Z,this._items[e])}},p.dispose=function(){c(this._element).off(r),c.removeData(this._element,$),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},p._getConfig=function(e){return e=a({},X,e),f.typeCheckConfig(z,e,Q),e},p._addEventListeners=function(){var t=this;this._config.keyboard&&c(this._element).on(d.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(c(this._element).on(d.MOUSEENTER,function(e){return t.pause(e)}).on(d.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&c(this._element).on(d.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},p._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},p._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},p._getItemByDirection=function(e,t){var n=e===J,i=e===Z,r=this._getItemIndex(t),a=this._items.length-1;if((i&&0===r||n&&r===a)&&!this._config.wrap)return t;i=(r+(e===Z?-1:1))%this._items.length;return-1==i?this._items[this._items.length-1]:this._items[i]},p._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(ee)),e=c.Event(d.SLIDE,{relatedTarget:e,direction:t,from:i,to:n});return c(this._element).trigger(e),e},p._setActiveIndicatorElement=function(e){var t;this._indicatorsElement&&(t=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),c(t).removeClass(h),(t=this._indicatorsElement.children[this._getItemIndex(e)])&&c(t).addClass(h))},p._slide=function(e,t){var n,i,r,a=this,o=this._element.querySelector(ee),s=this._getItemIndex(o),l=t||o&&this._getItemByDirection(e,o),t=this._getItemIndex(l),u=Boolean(this._interval),e=e===J?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right");l&&c(l).hasClass(h)?this._isSliding=!1:!this._triggerSlideEvent(l,e).isDefaultPrevented()&&o&&l&&(this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(l),r=c.Event(d.SLID,{relatedTarget:l,direction:e,from:s,to:t}),c(this._element).hasClass("slide")?(c(l).addClass(i),f.reflow(l),c(o).addClass(n),c(l).addClass(n),e=f.getTransitionDurationFromElement(o),c(o).one(f.TRANSITION_END,function(){c(l).removeClass(n+" "+i).addClass(h),c(o).removeClass(h+" "+i+" "+n),a._isSliding=!1,setTimeout(function(){return c(a._element).trigger(r)},0)}).emulateTransitionEnd(e)):(c(o).removeClass(h),c(l).addClass(h),this._isSliding=!1,c(this._element).trigger(r)),u&&this.cycle())},Se._jQueryInterface=function(i){return this.each(function(){var e=c(this).data($),t=a({},X,c(this).data()),n=("object"==typeof i&&(t=a({},t,i)),"string"==typeof i?i:t.slide);if(e||(e=new Se(this,t),c(this).data($,e)),"number"==typeof i)e.to(i);else if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}else t.interval&&(e.pause(),e.cycle())})},Se._dataApiClickHandler=function(e){var t,n,i=f.getSelectorFromElement(this);i&&(i=c(i)[0])&&c(i).hasClass("carousel")&&(t=a({},c(i).data(),c(this).data()),(n=this.getAttribute("data-slide-to"))&&(t.interval=!1),Se._jQueryInterface.call(c(i),t),n&&c(i).data($).to(n),e.preventDefault())},n(Se,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return X}}]),te=Se,c(document).on(d.CLICK_DATA_API,"[data-slide], [data-slide-to]",te._dataApiClickHandler),c(window).on(d.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,n=e.length;t<n;t++){var i=c(e[t]);te._jQueryInterface.call(i,i.data())}}),c.fn[z]=te._jQueryInterface,c.fn[z].Constructor=te,c.fn[z].noConflict=function(){return c.fn[z]=K,te._jQueryInterface},te),p=(p="."+(ie="bs.collapse"),re=(l=t).fn[ne="collapse"],ae={toggle:!0,parent:""},oe={toggle:"boolean",parent:"(string|element)"},se={SHOW:"show"+p,SHOWN:"shown"+p,HIDE:"hide"+p,HIDDEN:"hidden"+p,CLICK_DATA_API:"click"+p+".data-api"},s="show",le="collapse",ue="collapsing",ce="collapsed",de='[data-toggle="collapse"]',(p=g.prototype).toggle=function(){l(this._element).hasClass(s)?this.hide():this.show()},p.show=function(){var e,t,n,i,r=this;this._isTransitioning||l(this._element).hasClass(s)||(e=this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return e.getAttribute("data-parent")===r._config.parent})).length?null:e)&&(i=l(e).not(this._selector).data(ie))&&i._isTransitioning||(n=l.Event(se.SHOW),l(this._element).trigger(n),n.isDefaultPrevented()||(e&&(g._jQueryInterface.call(l(e).not(this._selector),"hide"),i||l(e).data(ie,null)),t=this._getDimension(),l(this._element).removeClass(le).addClass(ue),this._element.style[t]=0,this._triggerArray.length&&l(this._triggerArray).removeClass(ce).attr("aria-expanded",!0),this.setTransitioning(!0),n="scroll"+(t[0].toUpperCase()+t.slice(1)),i=f.getTransitionDurationFromElement(this._element),l(this._element).one(f.TRANSITION_END,function(){l(r._element).removeClass(ue).addClass(le).addClass(s),r._element.style[t]="",r.setTransitioning(!1),l(r._element).trigger(se.SHOWN)}).emulateTransitionEnd(i),this._element.style[t]=this._element[n]+"px"))},p.hide=function(){var e=this;if(!this._isTransitioning&&l(this._element).hasClass(s)){var t=l.Event(se.HIDE);if(l(this._element).trigger(t),!t.isDefaultPrevented()){var t=this._getDimension(),n=(this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",f.reflow(this._element),l(this._element).addClass(ue).removeClass(le).removeClass(s),this._triggerArray.length);if(0<n)for(var i=0;i<n;i++){var r=this._triggerArray[i],a=f.getSelectorFromElement(r);null===a||l([].slice.call(document.querySelectorAll(a))).hasClass(s)||l(r).addClass(ce).attr("aria-expanded",!1)}this.setTransitioning(!0),this._element.style[t]="";t=f.getTransitionDurationFromElement(this._element);l(this._element).one(f.TRANSITION_END,function(){e.setTransitioning(!1),l(e._element).removeClass(ue).addClass(le).trigger(se.HIDDEN)}).emulateTransitionEnd(t)}}},p.setTransitioning=function(e){this._isTransitioning=e},p.dispose=function(){l.removeData(this._element,ie),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},p._getConfig=function(e){return(e=a({},ae,e)).toggle=Boolean(e.toggle),f.typeCheckConfig(ne,e,oe),e},p._getDimension=function(){return l(this._element).hasClass("width")?"width":"height"},p._getParent=function(){var n=this,e=null,t=(f.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent),'[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'),t=[].slice.call(e.querySelectorAll(t));return l(t).each(function(e,t){n._addAriaAndCollapsedClass(g._getTargetFromElement(t),[t])}),e},p._addAriaAndCollapsedClass=function(e,t){e&&(e=l(e).hasClass(s),t.length&&l(t).toggleClass(ce,!e).attr("aria-expanded",e))},g._getTargetFromElement=function(e){e=f.getSelectorFromElement(e);return e?document.querySelector(e):null},g._jQueryInterface=function(i){return this.each(function(){var e=l(this),t=e.data(ie),n=a({},ae,e.data(),"object"==typeof i&&i?i:{});if(!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||(t=new g(this,n),e.data(ie,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},n(g,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return ae}}]),he=g,l(document).on(se.CLICK_DATA_API,de,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=l(this),e=f.getSelectorFromElement(this),e=[].slice.call(document.querySelectorAll(e));l(e).each(function(){var e=l(this),t=e.data(ie)?"toggle":n.data();he._jQueryInterface.call(e,t)})}),l.fn[ne]=he._jQueryInterface,l.fn[ne].Constructor=he,l.fn[ne].noConflict=function(){return l.fn[ne]=re,he._jQueryInterface},he),ve="undefined"!=typeof window&&"undefined"!=typeof document,be=["Edge","Trident","Firefox"],_e=0,Te=0;Te<be.length;Te+=1)if(ve&&0<=navigator.userAgent.indexOf(be[Te])){_e=1;break}function g(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=l.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(de)),i=0,r=n.length;i<r;i++){var a=n[i],o=f.getSelectorFromElement(a),s=[].slice.call(document.querySelectorAll(o)).filter(function(e){return e===t});null!==o&&0<s.length&&(this._selector=o,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}function Se(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=c(e)[0],this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._addEventListeners()}function we(e){this._element=e}function Ee(e){this._element=e}var Ce=ve&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},_e))}};function ke(e){return e&&"[object Function]"==={}.toString.call(e)}function De(e,t){if(1!==e.nodeType)return[];e=getComputedStyle(e,null);return t?e[t]:e}function Ae(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function xe(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=De(e),n=t.overflow,i=t.overflowX,t=t.overflowY;return/(auto|scroll|overlay)/.test(n+t+i)?e:xe(Ae(e))}var Le=ve&&!(!window.MSInputMethodContext||!document.documentMode),Oe=ve&&/MSIE 10/.test(navigator.userAgent);function Ie(e){return 11===e?Le:10!==e&&Le||Oe}function Re(e){if(!e)return document.documentElement;for(var t=Ie(10)?document.body:null,n=e.offsetParent;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===De(n,"position")?Re(n):n:(e?e.ownerDocument:document).documentElement}function Pe(e){return null!==e.parentNode?Pe(e.parentNode):e}function Me(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,n=n?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(n,0);r=r.commonAncestorContainer;if(e!==r&&t!==r||i.contains(n))return"BODY"===(n=(i=r).nodeName)||"HTML"!==n&&Re(i.firstElementChild)!==i?Re(r):r;n=Pe(e);return n.host?Me(n.host,t):Me(e,Pe(t).host)}function Ne(e,t){var t="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",n=e.nodeName;return"BODY"===n||"HTML"===n?(n=e.ownerDocument.documentElement,(e.ownerDocument.scrollingElement||n)[t]):e[t]}function Ue(e,t){var t="x"===t?"Left":"Top",n="Left"==t?"Right":"Bottom";return parseFloat(e["border"+t+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}function Fe(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Ie(10)?n["offset"+e]+i["margin"+("Height"===e?"Top":"Left")]+i["margin"+("Height"===e?"Bottom":"Right")]:0)}function je(){var e=document.body,t=document.documentElement,n=Ie(10)&&getComputedStyle(t);return{height:Fe("Height",e,t,n),width:Fe("Width",e,t,n)}}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function He(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e){return y({},e,{right:e.left+e.width,bottom:e.top+e.height})}function We(e){var t={};try{Ie(10)?(t=e.getBoundingClientRect(),i=Ne(e,"top"),r=Ne(e,"left"),t.top+=i,t.left+=r,t.bottom+=i,t.right+=r):t=e.getBoundingClientRect()}catch(e){}var n,i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?je():{},t=r.width||e.clientWidth||i.right-i.left,r=r.height||e.clientHeight||i.bottom-i.top,t=e.offsetWidth-t,r=e.offsetHeight-r;return(t||r)&&(t-=Ue(n=De(e),"x"),r-=Ue(n,"y"),i.width-=t,i.height-=r),v(i)}function Ge(e,t,n){var n=2<arguments.length&&void 0!==n&&n,i=Ie(10),r="HTML"===t.nodeName,a=We(e),o=We(t),e=xe(e),s=De(t),l=parseFloat(s.borderTopWidth,10),u=parseFloat(s.borderLeftWidth,10),o=(n&&"HTML"===t.nodeName&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0)),v({top:a.top-o.top-l,left:a.left-o.left-u,width:a.width,height:a.height}));return o.marginTop=0,o.marginLeft=0,!i&&r&&(a=parseFloat(s.marginTop,10),r=parseFloat(s.marginLeft,10),o.top-=l-a,o.bottom-=l-a,o.left-=u-r,o.right-=u-r,o.marginTop=a,o.marginLeft=r),o=(i&&!n?t.contains(e):t===e&&"BODY"!==e.nodeName)?function(e,t,n){var n=2<arguments.length&&void 0!==n&&n,i=Ne(t,"top"),t=Ne(t,"left"),n=n?-1:1;return e.top+=i*n,e.bottom+=i*n,e.left+=t*n,e.right+=t*n,e}(o,t):o}function qe(e){if(!e||!e.parentElement||Ie())return document.documentElement;for(var t=e.parentElement;t&&"none"===De(t,"transform");)t=t.parentElement;return t||document.documentElement}function Ve(e,t,n,i,r){var a,r=4<arguments.length&&void 0!==r&&r,o={top:0,left:0},s=r?qe(e):Me(e,t);return"viewport"===i?o=function(e,t){var t=1<arguments.length&&void 0!==t&&t,n=e.ownerDocument.documentElement,e=Ge(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:Ne(n),t=t?0:Ne(n,"left");return v({top:a-e.top+e.marginTop,left:t-e.left+e.marginLeft,width:i,height:r})}(s,r):(a=void 0,"scrollParent"===i?"BODY"===(a=xe(Ae(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===i?e.ownerDocument.documentElement:i,t=Ge(a,s,r),"HTML"!==a.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===De(t,"position")||e(Ae(t)))}(s)?o=t:(i=(e=je()).height,r=e.width,o.top+=t.top-t.marginTop,o.bottom=i+t.top,o.left+=t.left-t.marginLeft,o.right=r+t.left)),o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function Ye(e,t,n,i,r,a){a=5<arguments.length&&void 0!==a?a:0;if(-1===e.indexOf("auto"))return e;var i=Ve(n,i,a,r),o={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},a=Object.keys(o).map(function(e){return y({key:e},o[e],{area:(e=o[e]).width*e.height})}).sort(function(e,t){return t.area-e.area}),r=a.filter(function(e){var t=e.width,e=e.height;return t>=n.clientWidth&&e>=n.clientHeight}),t=(0<r.length?r:a)[0].key,i=e.split("-")[1];return t+(i?"-"+i:"")}function ze(e,t,n,i){i=3<arguments.length&&void 0!==i?i:null;return Ge(n,i?qe(t):Me(t,n),i)}function $e(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),t=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+t,height:e.offsetHeight+n}}function Ke(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function Xe(e,t,n){n=n.split("-")[0];var e=$e(e),i={width:e.width,height:e.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",o=r?"left":"top",s=r?"height":"width",r=r?"width":"height";return i[a]=t[a]+t[s]/2-e[s]/2,i[o]=n===o?t[o]-e[r]:t[Ke(o)],i}function Qe(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Je(e,n,t){return(void 0===t?e:e.slice(0,function(e,t){if(Array.prototype.findIndex)return e.findIndex(function(e){return e.name===t});var n=Qe(e,function(e){return e.name===t});return e.indexOf(n)}(e,t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&ke(t)&&(n.offsets.popper=v(n.offsets.popper),n.offsets.reference=v(n.offsets.reference),n=t(n,e))}),n}function Ze(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function et(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],r=r?""+r+n:e;if(void 0!==document.body.style[r])return r}return null}function tt(e){e=e.ownerDocument;return e?e.defaultView:window}function nt(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function it(n,i){Object.keys(i).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&nt(i[e])&&(t="px"),n.style[e]=i[e]+t})}function rt(e,t,n){var i,r=Qe(e,function(e){return e.name===t}),e=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});return e||(i="`"+t+"`",console.warn("`"+n+"`"+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")),e}var b=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],at=b.slice(3);function ot(e,t){t=1<arguments.length&&void 0!==t&&t,e=at.indexOf(e),e=at.slice(e+1).concat(at.slice(0,e));return t?e.reverse():e}function st(e,s,l,t){var r=[0,0],i=-1!==["right","left"].indexOf(t),t=e.split(/(\+|\-)/).map(function(e){return e.trim()}),e=t.indexOf(Qe(t,function(e){return-1!==e.search(/,|\s/)})),n=(t[e]&&-1===t[e].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),/\s*,\s*|\s+/);return(-1!==e?[t.slice(0,e).concat([t[e].split(n)[0]]),[t[e].split(n)[1]].concat(t.slice(e+1))]:[t]).map(function(e,t){var o=(1===t?!i:i)?"height":"width",n=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,n=!0,e):n?(e[e.length-1]+=t,n=!1,e):e.concat(t)},[]).map(function(e){return t=o,n=s,i=l,r=(e=e).match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],r=r[2],a?0===r.indexOf("%")?v("%p"===r?n:i)[t]/100*a:"vh"===r||"vw"===r?("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a:a:e;var t,n,i,r,a})}).forEach(function(n,i){n.forEach(function(e,t){nt(e)&&(r[i]+=e*("-"===n[t-1]?-1:1))})}),r}var lt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,n,i,r=e.placement,a=r.split("-")[0],r=r.split("-")[1];return r&&(t=(n=e.offsets).reference,n=n.popper,i=(a=-1!==["bottom","top"].indexOf(a))?"width":"height",a={start:Be({},a=a?"left":"top",t[a]),end:Be({},a,t[a]+t[i]-n[i])},e.offsets.popper=y({},n,a[r])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var t=t.offset,n=e.placement,i=e.offsets,r=i.popper,i=i.reference,n=n.split("-")[0],t=nt(+t)?[+t,0]:st(t,r,i,n);return"left"===n?(r.top+=t[0],r.left-=t[1]):"right"===n?(r.top+=t[0],r.left+=t[1]):"top"===n?(r.left+=t[0],r.top-=t[1]):"bottom"===n&&(r.left+=t[0],r.top+=t[1]),e.popper=r,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,i){var t=i.boundariesElement||Re(e.instance.popper),n=(e.instance.reference===t&&(t=Re(t)),et("transform")),r=e.instance.popper.style,a=r.top,o=r.left,s=r[n],l=(r.top="",r.left="",r[n]="",Ve(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed)),t=(r.top=a,r.left=o,r[n]=s,i.boundaries=l,i.priority),u=e.offsets.popper,c={primary:function(e){var t=u[e];return u[e]<l[e]&&!i.escapeWithReference&&(t=Math.max(u[e],l[e])),Be({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=u[t];return u[e]>l[e]&&!i.escapeWithReference&&(n=Math.min(u[t],l[e]-("right"===e?u.width:u.height))),Be({},t,n)}};return t.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=y({},u,c[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,t=t.reference,i=e.placement.split("-")[0],r=Math.floor,i=-1!==["top","bottom"].indexOf(i),a=i?"right":"bottom",o=i?"left":"top",i=i?"width":"height";return n[a]<r(t[o])&&(e.offsets.popper[o]=r(t[o])-n[i]),n[o]>r(t[a])&&(e.offsets.popper[o]=r(t[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!rt(e.instance.modifiers,"arrow","keepTogether"))return e;t=t.element;if("string"==typeof t){if(!(t=e.instance.popper.querySelector(t)))return e}else if(!e.instance.popper.contains(t))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],i=e.offsets,r=i.popper,i=i.reference,n=-1!==["left","right"].indexOf(n),a=n?"height":"width",o=n?"Top":"Left",s=o.toLowerCase(),l=n?"left":"top",n=n?"bottom":"right",u=$e(t)[a],n=(i[n]-u<r[s]&&(e.offsets.popper[s]-=r[s]-(i[n]-u)),i[s]+u>r[n]&&(e.offsets.popper[s]+=i[s]+u-r[n]),e.offsets.popper=v(e.offsets.popper),i[s]+i[a]/2-u/2),i=De(e.instance.popper),c=parseFloat(i["margin"+o],10),i=parseFloat(i["border"+o+"Width"],10),o=n-e.offsets.popper[s]-c-i,o=Math.max(Math.min(r[a]-u,o),0);return e.arrowElement=t,e.offsets.arrow=(Be(n={},s,Math.round(o)),Be(n,l,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(l,u){if(Ze(l.instance.modifiers,"inner"))return l;if(l.flipped&&l.placement===l.originalPlacement)return l;var c=Ve(l.instance.popper,l.instance.reference,u.padding,u.boundariesElement,l.positionFixed),d=l.placement.split("-")[0],h=Ke(d),f=l.placement.split("-")[1]||"",p=[];switch(u.behavior){case"flip":p=[d,h];break;case"clockwise":p=ot(d);break;case"counterclockwise":p=ot(d,!0);break;default:p=u.behavior}return p.forEach(function(e,t){if(d!==e||p.length===t+1)return l;d=l.placement.split("-")[0],h=Ke(d);var e=l.offsets.popper,n=l.offsets.reference,i=Math.floor,n="left"===d&&i(e.right)>i(n.left)||"right"===d&&i(e.left)<i(n.right)||"top"===d&&i(e.bottom)>i(n.top)||"bottom"===d&&i(e.top)<i(n.bottom),r=i(e.left)<i(c.left),a=i(e.right)>i(c.right),o=i(e.top)<i(c.top),e=i(e.bottom)>i(c.bottom),i="left"===d&&r||"right"===d&&a||"top"===d&&o||"bottom"===d&&e,s=-1!==["top","bottom"].indexOf(d),r=!!u.flipVariations&&(s&&"start"===f&&r||s&&"end"===f&&a||!s&&"start"===f&&o||!s&&"end"===f&&e);(n||i||r)&&(l.flipped=!0,(n||i)&&(d=p[t+1]),r&&(f="end"===f?"start":"start"===f?"end":f),l.placement=d+(f?"-"+f:""),l.offsets.popper=y({},l.offsets.popper,Xe(l.instance.popper,l.offsets.reference,l.placement)),l=Je(l.instance.modifiers,l,"flip"))}),l},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,i=i.reference,a=-1!==["left","right"].indexOf(n),o=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=i[n]-(o?r[a?"width":"height"]:0),e.placement=Ke(t),e.offsets.popper=v(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!rt(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Qe(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,a=Qe(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration,a=(void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!"),void 0!==a?a:t.gpuAcceleration),t=We(Re(e.instance.popper)),o={position:r.position},r={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},n="bottom"===n?"top":"bottom",i="right"===i?"left":"right",s=et("transform"),l="bottom"==n?-t.height+r.bottom:r.top,t="right"==i?-t.width+r.right:r.left,a=(a&&s?(o[s]="translate3d("+t+"px, "+l+"px, 0)",o[n]=0,o[i]=0,o.willChange="transform"):(r="right"==i?-1:1,o[n]=l*("bottom"==n?-1:1),o[i]=t*r,o.willChange=n+", "+i),{"x-placement":e.placement});return e.attributes=y({},a,e.attributes),e.styles=y({},o,e.styles),e.arrowStyles=y({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return it(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&it(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){r=ze(r,t,e,n.positionFixed),r=Ye(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",r),it(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ut=(m(ct,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=ze(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Ye(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Xe(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Je(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Ze(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[et("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){var e,t,n;this.state.eventsEnabled||(this.state=(e=this.reference,this.options,t=this.state,n=this.scheduleUpdate,t.updateBound=n,tt(e).addEventListener("resize",t.updateBound,{passive:!0}),function e(t,n,i,r){var a="BODY"===t.nodeName,t=a?t.ownerDocument.defaultView:t;t.addEventListener(n,i,{passive:!0}),a||e(xe(t.parentNode),n,i,r),r.push(t)}(n=xe(e),"scroll",t.updateBound,t.scrollParents),t.scrollElement=n,t.eventsEnabled=!0,t))}.call(this)}},{key:"disableEventListeners",value:function(){return function(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,tt(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}.call(this)}}]),ct);function ct(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this;if(!(r instanceof ct))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=Ce(this.update.bind(this)),this.options=y({},ct.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(y({},ct.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=y({},ct.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return y({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&ke(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}ut.Utils=("undefined"!=typeof window?window:global).PopperUtils,ut.placements=b,ut.Defaults=lt;T="."+(ht="bs.dropdown"),m=".data-api",ft=(_=t).fn[dt="dropdown"],pt=new RegExp("38|40|27"),S={HIDE:"hide"+T,HIDDEN:"hidden"+T,SHOW:"show"+T,SHOWN:"shown"+T,CLICK:"click"+T,CLICK_DATA_API:"click"+T+m,KEYDOWN_DATA_API:"keydown"+T+m,KEYUP_DATA_API:"keyup"+T+m},gt="show",mt="dropdown-menu-right",yt='[data-toggle="dropdown"]',vt=".dropdown-menu",bt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},_t={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},(b=M.prototype).toggle=function(){if(!this._element.disabled&&!_(this._element).hasClass("disabled")){var e=M._getParentFromElement(this._element),t=_(this._menu).hasClass(gt);if(M._clearMenus(),!t){var t={relatedTarget:this._element},n=_.Event(S.SHOW,t);if(_(e).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar){if(void 0===ut)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");n=this._element;"parent"===this._config.reference?n=e:f.isElement(this._config.reference)&&(n=this._config.reference,void 0!==this._config.reference.jquery&&(n=this._config.reference[0])),"scrollParent"!==this._config.boundary&&_(e).addClass("position-static"),this._popper=new ut(n,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===_(e).closest(".navbar-nav").length&&_(document.body).children().on("mouseover",null,_.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),_(this._menu).toggleClass(gt),_(e).toggleClass(gt).trigger(_.Event(S.SHOWN,t))}}}},b.dispose=function(){_.removeData(this._element,ht),_(this._element).off(T),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},b.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},b._addEventListeners=function(){var t=this;_(this._element).on(S.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},b._getConfig=function(e){return e=a({},this.constructor.Default,_(this._element).data(),e),f.typeCheckConfig(dt,e,this.constructor.DefaultType),e},b._getMenuElement=function(){var e;return this._menu||(e=M._getParentFromElement(this._element))&&(this._menu=e.querySelector(vt)),this._menu},b._getPlacement=function(){var e=_(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?(t="top-start",_(this._menu).hasClass(mt)&&(t="top-end")):e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":_(this._menu).hasClass(mt)&&(t="bottom-end"),t},b._detectNavbar=function(){return 0<_(this._element).closest(".navbar").length},b._getPopperConfig=function(){var t=this,e={},e=("function"==typeof this._config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}});return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e},M._jQueryInterface=function(t){return this.each(function(){var e=_(this).data(ht);if(e||(e=new M(this,"object"==typeof t?t:null),_(this).data(ht,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},M._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(yt)),n=0,i=t.length;n<i;n++){var r,a=M._getParentFromElement(t[n]),o=_(t[n]).data(ht),s={relatedTarget:t[n]};e&&"click"===e.type&&(s.clickEvent=e),o&&(o=o._menu,!_(a).hasClass(gt)||e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&_.contains(a,e.target)||(r=_.Event(S.HIDE,s),_(a).trigger(r),r.isDefaultPrevented()||("ontouchstart"in document.documentElement&&_(document.body).children().off("mouseover",null,_.noop),t[n].setAttribute("aria-expanded","false"),_(o).removeClass(gt),_(a).removeClass(gt).trigger(_.Event(S.HIDDEN,s)))))}},M._getParentFromElement=function(e){var t,n=f.getSelectorFromElement(e);return(t=n?document.querySelector(n):t)||e.parentNode},M._dataApiKeydownHandler=function(e){var t,n,i;(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||_(e.target).closest(vt).length):!pt.test(e.which))||(e.preventDefault(),e.stopPropagation(),this.disabled||_(this).hasClass("disabled"))||(t=M._getParentFromElement(this),((i=_(t).hasClass(gt))||27===e.which&&32===e.which)&&(!i||27!==e.which&&32!==e.which)?0!==(i=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"))).length&&(n=i.indexOf(e.target),38===e.which&&0<n&&n--,40===e.which&&n<i.length-1&&n++,i[n=n<0?0:n].focus()):(27===e.which&&(i=t.querySelector(yt),_(i).trigger("focus")),_(this).trigger("click")))},n(M,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return bt}},{key:"DefaultType",get:function(){return _t}}]),w=M,_(document).on(S.KEYDOWN_DATA_API,yt,w._dataApiKeydownHandler).on(S.KEYDOWN_DATA_API,vt,w._dataApiKeydownHandler).on(S.CLICK_DATA_API+" "+S.KEYUP_DATA_API,w._clearMenus).on(S.CLICK_DATA_API,yt,function(e){e.preventDefault(),e.stopPropagation(),w._jQueryInterface.call(_(this),"toggle")}).on(S.CLICK_DATA_API,".dropdown form",function(e){e.stopPropagation()}),_.fn[dt]=w._jQueryInterface,_.fn[dt].Constructor=w,_.fn[dt].noConflict=function(){return _.fn[dt]=ft,w._jQueryInterface};var _,dt,ht,T,ft,pt,S,gt,mt,yt,vt,bt,_t,w,E,Tt,St,C,wt,Et,Ct,k,kt,Dt,At,xt,Lt,Ot,D,It,Rt,A,Pt,Mt,Nt,Ut,Ft,jt,Bt,Ht,Wt,Gt,qt,Vt,x,Yt,zt,L,$t,Kt,Xt,Qt,Jt,Zt,en,O,tn,nn,rn,an,on,sn,ln,un,cn,dn,hn,fn,I,pn,gn,mn,yn,vn,bn,_n,lt=w,b=(C="."+(St="bs.modal"),wt=(E=t).fn[Tt="modal"],Et={backdrop:!0,keyboard:!0,focus:!0,show:!0},Ct={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},k={HIDE:"hide"+C,HIDDEN:"hidden"+C,SHOW:"show"+C,SHOWN:"shown"+C,FOCUSIN:"focusin"+C,RESIZE:"resize"+C,CLICK_DISMISS:"click.dismiss"+C,KEYDOWN_DISMISS:"keydown.dismiss"+C,MOUSEUP_DISMISS:"mouseup.dismiss"+C,MOUSEDOWN_DISMISS:"mousedown.dismiss"+C,CLICK_DATA_API:"click"+C+".data-api"},kt="modal-open",Dt="fade",At="show",xt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Lt=".sticky-top",(m=kn.prototype).toggle=function(e){return this._isShown?this.hide():this.show(e)},m.show=function(e){var t,n=this;this._isTransitioning||this._isShown||(E(this._element).hasClass(Dt)&&(this._isTransitioning=!0),t=E.Event(k.SHOW,{relatedTarget:e}),E(this._element).trigger(t),this._isShown||t.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),E(document.body).addClass(kt),this._setEscapeEvent(),this._setResizeEvent(),E(this._element).on(k.CLICK_DISMISS,'[data-dismiss="modal"]',function(e){return n.hide(e)}),E(this._dialog).on(k.MOUSEDOWN_DISMISS,function(){E(n._element).one(k.MOUSEUP_DISMISS,function(e){E(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)})))},m.hide=function(e){var t=this;e&&e.preventDefault(),!this._isTransitioning&&this._isShown&&(e=E.Event(k.HIDE),E(this._element).trigger(e),this._isShown&&!e.isDefaultPrevented()&&(this._isShown=!1,(e=E(this._element).hasClass(Dt))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),E(document).off(k.FOCUSIN),E(this._element).removeClass(At),E(this._element).off(k.CLICK_DISMISS),E(this._dialog).off(k.MOUSEDOWN_DISMISS),e?(e=f.getTransitionDurationFromElement(this._element),E(this._element).one(f.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(e)):this._hideModal()))},m.dispose=function(){E.removeData(this._element,St),E(window,document,this._element,this._backdrop).off(C),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},m.handleUpdate=function(){this._adjustDialog()},m._getConfig=function(e){return e=a({},Et,e),f.typeCheckConfig(Tt,e,Ct),e},m._showElement=function(e){function t(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,E(n._element).trigger(r)}var n=this,i=E(this._element).hasClass(Dt),r=(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&f.reflow(this._element),E(this._element).addClass(At),this._config.focus&&this._enforceFocus(),E.Event(k.SHOWN,{relatedTarget:e}));i?(e=f.getTransitionDurationFromElement(this._element),E(this._dialog).one(f.TRANSITION_END,t).emulateTransitionEnd(e)):t()},m._enforceFocus=function(){var t=this;E(document).off(k.FOCUSIN).on(k.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===E(t._element).has(e.target).length&&t._element.focus()})},m._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?E(this._element).on(k.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||E(this._element).off(k.KEYDOWN_DISMISS)},m._setResizeEvent=function(){var t=this;this._isShown?E(window).on(k.RESIZE,function(e){return t.handleUpdate(e)}):E(window).off(k.RESIZE)},m._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){E(document.body).removeClass(kt),e._resetAdjustments(),e._resetScrollbar(),E(e._element).trigger(k.HIDDEN)})},m._removeBackdrop=function(){this._backdrop&&(E(this._backdrop).remove(),this._backdrop=null)},m._showBackdrop=function(e){var t,n=this,i=E(this._element).hasClass(Dt)?Dt:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),E(this._backdrop).appendTo(document.body),E(this._element).on(k.CLICK_DISMISS,function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&f.reflow(this._backdrop),E(this._backdrop).addClass(At),e&&(i?(i=f.getTransitionDurationFromElement(this._backdrop),E(this._backdrop).one(f.TRANSITION_END,e).emulateTransitionEnd(i)):e())):!this._isShown&&this._backdrop?(E(this._backdrop).removeClass(At),i=function(){n._removeBackdrop(),e&&e()},E(this._element).hasClass(Dt)?(t=f.getTransitionDurationFromElement(this._backdrop),E(this._backdrop).one(f.TRANSITION_END,i).emulateTransitionEnd(t)):i()):e&&e()},m._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},m._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},m._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},m._setScrollbar=function(){var e,t,r=this;this._isBodyOverflowing&&(e=[].slice.call(document.querySelectorAll(xt)),t=[].slice.call(document.querySelectorAll(Lt)),E(e).each(function(e,t){var n=t.style.paddingRight,i=E(t).css("padding-right");E(t).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")}),E(t).each(function(e,t){var n=t.style.marginRight,i=E(t).css("margin-right");E(t).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")}),e=document.body.style.paddingRight,t=E(document.body).css("padding-right"),E(document.body).data("padding-right",e).css("padding-right",parseFloat(t)+this._scrollbarWidth+"px"))},m._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(xt)),e=(E(e).each(function(e,t){var n=E(t).data("padding-right");E(t).removeData("padding-right"),t.style.paddingRight=n||""}),[].slice.call(document.querySelectorAll(Lt))),e=(E(e).each(function(e,t){var n=E(t).data("margin-right");void 0!==n&&E(t).css("margin-right",n).removeData("margin-right")}),E(document.body).data("padding-right"));E(document.body).removeData("padding-right"),document.body.style.paddingRight=e||""},m._getScrollbarWidth=function(){var e=document.createElement("div"),t=(e.className="modal-scrollbar-measure",document.body.appendChild(e),e.getBoundingClientRect().width-e.clientWidth);return document.body.removeChild(e),t},kn._jQueryInterface=function(n,i){return this.each(function(){var e=E(this).data(St),t=a({},Et,E(this).data(),"object"==typeof n&&n?n:{});if(e||(e=new kn(this,t),E(this).data(St,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](i)}else t.show&&e.show(i)})},n(kn,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Et}}]),Ot=kn,E(document).on(k.CLICK_DATA_API,'[data-toggle="modal"]',function(e){var t,n=this,i=f.getSelectorFromElement(this),i=(i&&(t=document.querySelector(i)),E(t).data(St)?"toggle":a({},E(t).data(),E(this).data())),r=("A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),E(t).one(k.SHOW,function(e){e.isDefaultPrevented()||r.one(k.HIDDEN,function(){E(n).is(":visible")&&n.focus()})}));Ot._jQueryInterface.call(E(t),i,this)}),E.fn[Tt]=Ot._jQueryInterface,E.fn[Tt].Constructor=Ot,E.fn[Tt].noConflict=function(){return E.fn[Tt]=wt,Ot._jQueryInterface},Ot),m=(A="."+(Rt="bs.tooltip"),Pt=(D=t).fn[It="tooltip"],Mt="bs-tooltip",Nt=new RegExp("(^|\\s)"+Mt+"\\S+","g"),jt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(Ft={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(Ut={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Ht={HIDE:"hide"+A,HIDDEN:"hidden"+A,SHOW:(Bt="show")+A,SHOWN:"shown"+A,INSERTED:"inserted"+A,CLICK:"click"+A,FOCUSIN:"focusin"+A,FOCUSOUT:"focusout"+A,MOUSEENTER:"mouseenter"+A,MOUSELEAVE:"mouseleave"+A},Wt="fade",Gt="show",qt="hover",(m=Cn.prototype).enable=function(){this._isEnabled=!0},m.disable=function(){this._isEnabled=!1},m.toggleEnabled=function(){this._isEnabled=!this._isEnabled},m.toggle=function(e){var t,n;this._isEnabled&&(e?(t=this.constructor.DATA_KEY,(n=D(e.currentTarget).data(t))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),D(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)):D(this.getTipElement()).hasClass(Gt)?this._leave(null,this):this._enter(null,this))},m.dispose=function(){clearTimeout(this._timeout),D.removeData(this.element,this.constructor.DATA_KEY),D(this.element).off(this.constructor.EVENT_KEY),D(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&D(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},m.show=function(){var t=this;if("none"===D(this.element).css("display"))throw new Error("Please use show on visible elements");var e,n,i=D.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(D(this.element).trigger(i),n=D.contains(this.element.ownerDocument.documentElement,this.element),!i.isDefaultPrevented()&&n&&(i=this.getTipElement(),n=f.getUID(this.constructor.NAME),i.setAttribute("id",n),this.element.setAttribute("aria-describedby",n),this.setContent(),this.config.animation&&D(i).addClass(Wt),n="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,n=this._getAttachment(n),this.addAttachmentClass(n),e=!1===this.config.container?document.body:D(document).find(this.config.container),D(i).data(this.constructor.DATA_KEY,this),D.contains(this.element.ownerDocument.documentElement,this.tip)||D(i).appendTo(e),D(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new ut(this.element,i,{placement:n,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),D(i).addClass(Gt),"ontouchstart"in document.documentElement&&D(document.body).children().on("mouseover",null,D.noop),e=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,D(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)},D(this.tip).hasClass(Wt)?(n=f.getTransitionDurationFromElement(this.tip),D(this.tip).one(f.TRANSITION_END,e).emulateTransitionEnd(n)):e()))},m.hide=function(e){function t(){n._hoverState!==Bt&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),D(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()}var n=this,i=this.getTipElement(),r=D.Event(this.constructor.Event.HIDE);D(this.element).trigger(r),r.isDefaultPrevented()||(D(i).removeClass(Gt),"ontouchstart"in document.documentElement&&D(document.body).children().off("mouseover",null,D.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger[qt]=!1,D(this.tip).hasClass(Wt)?(r=f.getTransitionDurationFromElement(i),D(i).one(f.TRANSITION_END,t).emulateTransitionEnd(r)):t(),this._hoverState="")},m.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},m.isWithContent=function(){return Boolean(this.getTitle())},m.addAttachmentClass=function(e){D(this.getTipElement()).addClass(Mt+"-"+e)},m.getTipElement=function(){return this.tip=this.tip||D(this.config.template)[0],this.tip},m.setContent=function(){var e=this.getTipElement();this.setElementContent(D(e.querySelectorAll(".tooltip-inner")),this.getTitle()),D(e).removeClass("fade show")},m.setElementContent=function(e,t){var n=this.config.html;"object"==typeof t&&(t.nodeType||t.jquery)?n?D(t).parent().is(e)||e.empty().append(t):e.text(D(t).text()):e[n?"html":"text"](t)},m.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},m._getAttachment=function(e){return Ft[e.toUpperCase()]},m._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(e){var t;"click"===e?D(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(e){return n.toggle(e)}):"manual"!==e&&(t=e===qt?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,e=e===qt?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT,D(n.element).on(t,n.config.selector,function(e){return n._enter(e)}).on(e,n.config.selector,function(e){return n._leave(e)})),D(n.element).closest(".modal").on("hide.bs.modal",function(){return n.hide()})}),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},m._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==e||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},m._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||D(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),D(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?"focus":qt]=!0),D(t.getTipElement()).hasClass(Gt)||t._hoverState===Bt?t._hoverState=Bt:(clearTimeout(t._timeout),t._hoverState=Bt,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===Bt&&t.show()},t.config.delay.show):t.show())},m._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||D(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),D(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?"focus":qt]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},m._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},m._getConfig=function(e){return"number"==typeof(e=a({},this.constructor.Default,D(this.element).data(),"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),f.typeCheckConfig(It,e,this.constructor.DefaultType),e},m._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},m._cleanTipClass=function(){var e=D(this.getTipElement()),t=e.attr("class").match(Nt);null!==t&&t.length&&e.removeClass(t.join(""))},m._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},m._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(D(e).removeClass(Wt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},Cn._jQueryInterface=function(n){return this.each(function(){var e=D(this).data(Rt),t="object"==typeof n&&n;if((e||!/dispose|hide/.test(n))&&(e||(e=new Cn(this,t),D(this).data(Rt,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},n(Cn,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return jt}},{key:"NAME",get:function(){return It}},{key:"DATA_KEY",get:function(){return Rt}},{key:"Event",get:function(){return Ht}},{key:"EVENT_KEY",get:function(){return A}},{key:"DefaultType",get:function(){return Ut}}]),D.fn[It]=(Vt=Cn)._jQueryInterface,D.fn[It].Constructor=Vt,D.fn[It].noConflict=function(){return D.fn[It]=Pt,Vt._jQueryInterface},Vt),Tn=(L="."+(zt="bs.popover"),$t=(x=t).fn[Yt="popover"],Kt="bs-popover",Xt=new RegExp("(^|\\s)"+Kt+"\\S+","g"),Qt=a({},m.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Jt=a({},m.DefaultType,{content:"(string|element|function)"}),Zt={HIDE:"hide"+L,HIDDEN:"hidden"+L,SHOW:"show"+L,SHOWN:"shown"+L,INSERTED:"inserted"+L,CLICK:"click"+L,FOCUSIN:"focusin"+L,FOCUSOUT:"focusout"+L,MOUSEENTER:"mouseenter"+L,MOUSELEAVE:"mouseleave"+L},Tn=_n=m,(R=En).prototype=Object.create(Tn.prototype),(R.prototype.constructor=R).__proto__=Tn,(R=En.prototype).isWithContent=function(){return this.getTitle()||this._getContent()},R.addAttachmentClass=function(e){x(this.getTipElement()).addClass(Kt+"-"+e)},R.getTipElement=function(){return this.tip=this.tip||x(this.config.template)[0],this.tip},R.setContent=function(){var e=x(this.getTipElement()),t=(this.setElementContent(e.find(".popover-header"),this.getTitle()),this._getContent());"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},R._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},R._cleanTipClass=function(){var e=x(this.getTipElement()),t=e.attr("class").match(Xt);null!==t&&0<t.length&&e.removeClass(t.join(""))},En._jQueryInterface=function(n){return this.each(function(){var e=x(this).data(zt),t="object"==typeof n?n:null;if((e||!/destroy|hide/.test(n))&&(e||(e=new En(this,t),x(this).data(zt,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},n(En,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Qt}},{key:"NAME",get:function(){return Yt}},{key:"DATA_KEY",get:function(){return zt}},{key:"Event",get:function(){return Zt}},{key:"EVENT_KEY",get:function(){return L}},{key:"DefaultType",get:function(){return Jt}}]),x.fn[Yt]=(en=En)._jQueryInterface,x.fn[Yt].Constructor=en,x.fn[Yt].noConflict=function(){return x.fn[Yt]=$t,en._jQueryInterface},en),R=(rn="."+(nn="bs.scrollspy"),an=(O=t).fn[tn="scrollspy"],on={offset:10,method:"auto",target:""},sn={offset:"number",method:"string",target:"(string|element)"},ln={ACTIVATE:"activate"+rn,SCROLL:"scroll"+rn,LOAD_DATA_API:"load"+rn+".data-api"},un="active",cn=".nav, .list-group",dn=".nav-link",hn=".list-group-item",(R=wn.prototype).refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?e:this._config.method,r="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var t,e=f.getSelectorFromElement(e);if(t=e?document.querySelector(e):t){var n=t.getBoundingClientRect();if(n.width||n.height)return[O(t)[i]().top+r,e]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},R.dispose=function(){O.removeData(this._element,nn),O(this._scrollElement).off(rn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},R._getConfig=function(e){var t;return"string"!=typeof(e=a({},on,"object"==typeof e&&e?e:{})).target&&((t=O(e.target).attr("id"))||(t=f.getUID(tn),O(e.target).attr("id",t)),e.target="#"+t),f.typeCheckConfig(tn,e,sn),e},R._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},R._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},R._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},R._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},R._activate=function(t){this._activeTarget=t,this._clear();var e=(e=this._selector.split(",")).map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),e=O([].slice.call(document.querySelectorAll(e.join(","))));e.hasClass("dropdown-item")?(e.closest(".dropdown").find(".dropdown-toggle").addClass(un),e.addClass(un)):(e.addClass(un),e.parents(cn).prev(dn+", "+hn).addClass(un),e.parents(cn).prev(".nav-item").children(dn).addClass(un)),O(this._scrollElement).trigger(ln.ACTIVATE,{relatedTarget:t})},R._clear=function(){var e=[].slice.call(document.querySelectorAll(this._selector));O(e).filter(".active").removeClass(un)},wn._jQueryInterface=function(t){return this.each(function(){var e=O(this).data(nn);if(e||(e=new wn(this,"object"==typeof t&&t),O(this).data(nn,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},n(wn,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return on}}]),fn=wn,O(window).on(ln.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var n=O(e[t]);fn._jQueryInterface.call(n,n.data())}}),O.fn[tn]=fn._jQueryInterface,O.fn[tn].Constructor=fn,O.fn[tn].noConflict=function(){return O.fn[tn]=an,fn._jQueryInterface},fn),P=(P="."+(pn="bs.tab"),gn=(I=t).fn.tab,mn={HIDE:"hide"+P,HIDDEN:"hidden"+P,SHOW:"show"+P,SHOWN:"shown"+P,CLICK_DATA_API:"click"+P+".data-api"},yn="active",vn="> li > .active",(P=Sn.prototype).show=function(){var e,t,n,i,r,a,o=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&I(this._element).hasClass(yn)||I(this._element).hasClass("disabled")||(t=I(this._element).closest(".nav, .list-group")[0],n=f.getSelectorFromElement(this._element),t&&(r="UL"===t.nodeName?vn:".active",i=(i=I.makeArray(I(t).find(r)))[i.length-1]),r=I.Event(mn.HIDE,{relatedTarget:this._element}),a=I.Event(mn.SHOW,{relatedTarget:i}),i&&I(i).trigger(r),I(this._element).trigger(a),a.isDefaultPrevented()||r.isDefaultPrevented()||(n&&(e=document.querySelector(n)),this._activate(this._element,t),a=function(){var e=I.Event(mn.HIDDEN,{relatedTarget:o._element}),t=I.Event(mn.SHOWN,{relatedTarget:i});I(i).trigger(e),I(o._element).trigger(t)},e?this._activate(e,e.parentNode,a):a()))},P.dispose=function(){I.removeData(this._element,pn),this._element=null},P._activate=function(e,t,n){function i(){return r._transitionComplete(e,a,n)}var r=this,a=("UL"===t.nodeName?I(t).find(vn):I(t).children(".active"))[0],t=n&&a&&I(a).hasClass("fade");a&&t?(t=f.getTransitionDurationFromElement(a),I(a).one(f.TRANSITION_END,i).emulateTransitionEnd(t)):i()},P._transitionComplete=function(e,t,n){var i;t&&(I(t).removeClass("show "+yn),(i=I(t.parentNode).find("> .dropdown-menu .active")[0])&&I(i).removeClass(yn),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)),I(e).addClass(yn),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),f.reflow(e),I(e).addClass("show"),e.parentNode&&I(e.parentNode).hasClass("dropdown-menu")&&((i=I(e).closest(".dropdown")[0])&&(t=[].slice.call(i.querySelectorAll(".dropdown-toggle")),I(t).addClass(yn)),e.setAttribute("aria-expanded",!0)),n&&n()},Sn._jQueryInterface=function(n){return this.each(function(){var e=I(this),t=e.data(pn);if(t||(t=new Sn(this),e.data(pn,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},n(Sn,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),bn=Sn,I(document).on(mn.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),bn._jQueryInterface.call(I(this),"show")}),I.fn.tab=bn._jQueryInterface,I.fn.tab.Constructor=bn,I.fn.tab.noConflict=function(){return I.fn.tab=gn,bn._jQueryInterface},bn);function Sn(e){this._element=e}function wn(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+dn+","+this._config.target+" "+hn+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,O(this._scrollElement).on(ln.SCROLL,function(e){return n._process(e)}),this.refresh(),this._process()}function En(){return _n.apply(this,arguments)||this}function Cn(e,t){if(void 0===ut)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}function kn(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}function M(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");if((t=t.fn.jquery.split(" ")[0].split("."))[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");e.Util=f,e.Alert=u,e.Button=me,e.Carousel=ye,e.Collapse=p,e.Dropdown=lt,e.Modal=b,e.Popover=Tn,e.Scrollspy=R,e.Tab=P,e.Tooltip=m,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var N;function f(){return N.apply(null,arguments)}function l(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function U(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function F(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function j(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function B(e,t){for(var n=[],i=0;i<e.length;++i)n.push(t(e[i],i));return n}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return At(e,t,n,i,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function H(e){if(null==e._isValid){var t=g(e),n=G.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function W(e){var t=u(NaN);return null!=e?s(g(t),e):g(t).userInvalidated=!0,t}var G=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1},q=f.momentProperties=[];function V(e,t){var n,i,r;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=g(t)),a(t._locale)||(e._locale=t._locale),0<q.length)for(n=0;n<q.length;n++)a(r=t[i=q[n]])||(e[i]=r);return e}var Y=!1;function z(e){V(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Y&&(Y=!0,f.updateOffset(this),Y=!1)}function o(e){return e instanceof z||null!=e&&null!=e._isAMomentObject}function c(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function d(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?c(e):t}function $(e,t,n){for(var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0,o=0;o<i;o++)(n&&e[o]!==t[o]||!n&&d(e[o])!==d(t[o]))&&a++;return a+r}function K(e){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(r,a){var o=!0;return s(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,r),o){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var i in e+="\n["+n+"] ",arguments[0])e+=i+": "+arguments[0][i]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}K(r+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var X={};function Q(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),X[e]||(K(t),X[e]=!0)}function h(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function J(e,t){var n,i=s({},e);for(n in t)p(t,n)&&(U(e[n])&&U(t[n])?(i[n]={},s(i[n],e[n]),s(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)p(e,n)&&!p(t,n)&&U(e[n])&&(i[n]=s({},i[n]));return i}function Z(e){null!=e&&this.set(e)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n},te={};function t(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function m(e){return"string"==typeof e?te[e]||te[e.toLowerCase()]:void 0}function ne(e){var t,n,i={};for(n in e)p(e,n)&&(t=m(n))&&(i[t]=e[n]);return i}var ie={};function n(e,t){ie[e]=t}function y(e,t,n){var i=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var re=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},se={};function i(e,t,n,i){var r="string"==typeof i?function(){return this[i]()}:i;e&&(se[e]=r),t&&(se[t[0]]=function(){return y(r.apply(this,arguments),t[1],t[2])}),n&&(se[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function le(e,t){return e.isValid()?(t=ue(t,e.localeData()),oe[t]=oe[t]||function(i){for(var e,r=i.match(re),t=0,a=r.length;t<a;t++)se[r[t]]?r[t]=se[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<a;n++)t+=h(r[n])?r[n].call(e,i):r[n];return t}}(t),oe[t](e)):e.localeData().invalidDate()}function ue(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(ae.lastIndex=0;0<=n&&ae.test(e);)e=e.replace(ae,i),ae.lastIndex=0,--n;return e}var r=/\d/,v=/\d\d/,ce=/\d{3}/,de=/\d{4}/,he=/[+-]?\d{6}/,b=/\d\d?/,fe=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,me=/\d{1,4}/,ye=/[+-]?\d{1,6}/,ve=/\d+/,be=/[+-]?\d+/,_e=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Se={};function T(e,n,i){Se[e]=h(n)?n:function(e,t){return e&&i?i:n}}function we(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ee={};function S(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),F(n)&&(i=function(e,t){t[n]=d(e)}),t=0;t<e.length;t++)Ee[e[t]]=i}function Ce(e,r){S(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}var w=0,E=1,C=2,k=3,D=4,A=5,ke=6,De=7,Ae=8;function xe(e){return Le(e)?366:365}function Le(e){return e%4==0&&e%100!=0||e%400==0}i("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),T("Y",be),T("YY",b,v),T("YYYY",me,de),T("YYYYY",ye,he),T("YYYYYY",ye,he),S(["YYYYY","YYYYYY"],w),S("YYYY",function(e,t){t[w]=2===e.length?f.parseTwoDigitYear(e):d(e)}),S("YY",function(e,t){t[w]=f.parseTwoDigitYear(e)}),S("Y",function(e,t){t[w]=parseInt(e,10)}),f.parseTwoDigitYear=function(e){return d(e)+(68<d(e)?1900:2e3)};var x,Oe=Ie("FullYear",!0);function Ie(t,n){return function(e){return null!=e?(Pe(this,t,e),f.updateOffset(this,n),this):Re(this,t)}}function Re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Le(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Me(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Me(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1==n?Le(e)?29:28:31-n%7%2}x=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),i("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),T("M",b),T("MM",b,v),T("MMM",function(e,t){return t.monthsShortRegex(e)}),T("MMMM",function(e,t){return t.monthsRegex(e)}),S(["M","MM"],function(e,t){t[E]=d(e)-1}),S(["MMM","MMMM"],function(e,t,n,i){i=n._locale.monthsParse(e,i,n._strict);null!=i?t[E]=i:g(n).invalidMonth=e});var Ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ue="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Fe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=d(t);else if(!F(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),Me(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Be(e){return null!=e?(je(this,e),f.updateOffset(this,!0),this):Re(this,"Month")}var He=_,We=_;function Ge(){function e(e,t){return t.length-e.length}for(var t,n=[],i=[],r=[],a=0;a<12;a++)t=u([2e3,a]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(n.sort(e),i.sort(e),r.sort(e),a=0;a<12;a++)n[a]=we(n[a]),i[a]=we(i[a]);for(a=0;a<24;a++)r[a]=we(r[a]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function qe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ve(e,t,n){n=7+t-n;return-(7+qe(e,0,n).getUTCDay()-t)%7+n-1}function Ye(e,t,n,i,r){var a,t=1+7*(t-1)+(7+n-i)%7+Ve(e,i,r),n=t<=0?xe(a=e-1)+t:t>xe(e)?(a=e+1,t-xe(e)):(a=e,t);return{year:a,dayOfYear:n}}function ze(e,t,n){var i,r,a=Ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-a-1)/7)+1;return a<1?i=a+$e(r=e.year()-1,t,n):a>$e(e.year(),t,n)?(i=a-$e(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function $e(e,t,n){var i=Ve(e,t,n),t=Ve(e+1,t,n);return(xe(e)-i+t)/7}i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),T("w",b),T("ww",b,v),T("W",b),T("WW",b,v),Ce(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=d(e)}),i("d",0,"do","day"),i("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),i("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),i("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),T("d",b),T("e",b),T("E",b),T("dd",function(e,t){return t.weekdaysMinRegex(e)}),T("ddd",function(e,t){return t.weekdaysShortRegex(e)}),T("dddd",function(e,t){return t.weekdaysRegex(e)}),Ce(["dd","ddd","dddd"],function(e,t,n,i){i=n._locale.weekdaysParse(e,i,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e}),Ce(["d","e","E"],function(e,t,n,i){t[i]=d(e)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Je=_,Ze=_,et=_;function tt(){function e(e,t){return t.length-e.length}for(var t,n,i,r=[],a=[],o=[],s=[],l=0;l<7;l++)i=u([2e3,1]).day(l),t=this.weekdaysMin(i,""),n=this.weekdaysShort(i,""),i=this.weekdays(i,""),r.push(t),a.push(n),o.push(i),s.push(t),s.push(n),s.push(i);for(r.sort(e),a.sort(e),o.sort(e),s.sort(e),l=0;l<7;l++)a[l]=we(a[l]),o[l]=we(o[l]),s[l]=we(s[l]);this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function nt(){return this.hours()%12||12}function it(e,t){i(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rt(e,t){return t._meridiemParse}i("H",["HH",2],0,"hour"),i("h",["hh",2],0,nt),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+nt.apply(this)+y(this.minutes(),2)}),i("hmmss",0,0,function(){return""+nt.apply(this)+y(this.minutes(),2)+y(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+y(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+y(this.minutes(),2)+y(this.seconds(),2)}),it("a",!0),it("A",!1),t("hour","h"),n("hour",13),T("a",rt),T("A",rt),T("H",b),T("h",b),T("k",b),T("HH",b,v),T("hh",b,v),T("kk",b,v),T("hmm",fe),T("hmmss",pe),T("Hmm",fe),T("Hmmss",pe),S(["H","HH"],k),S(["k","kk"],function(e,t,n){e=d(e);t[k]=24===e?0:e}),S(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),S(["h","hh"],function(e,t,n){t[k]=d(e),g(n).bigHour=!0}),S("hmm",function(e,t,n){var i=e.length-2;t[k]=d(e.substr(0,i)),t[D]=d(e.substr(i)),g(n).bigHour=!0}),S("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[k]=d(e.substr(0,i)),t[D]=d(e.substr(i,2)),t[A]=d(e.substr(r)),g(n).bigHour=!0}),S("Hmm",function(e,t,n){var i=e.length-2;t[k]=d(e.substr(0,i)),t[D]=d(e.substr(i))}),S("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[k]=d(e.substr(0,i)),t[D]=d(e.substr(i,2)),t[A]=d(e.substr(r))});var at,_=Ie("Hours",!0),ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ue,monthsShort:Fe,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Qe,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},L={},st={};function lt(e){return e&&e.toLowerCase().replace("_","-")}function ut(e){var t;if(!L[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=at._abbr,require("./locale/"+e),ct(t)}catch(e){}return L[e]}function ct(e,t){return e&&((t=a(t)?ht(e):dt(e,t))?at=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function dt(e,t){if(null===t)return delete L[e],null;var n,i=ot;if(t.abbr=e,null!=L[e])Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=L[e]._config;else if(null!=t.parentLocale)if(null!=L[t.parentLocale])i=L[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return st[t.parentLocale]||(st[t.parentLocale]=[]),st[t.parentLocale].push({name:e,config:t}),null;i=n._config}return L[e]=new Z(J(i,t)),st[e]&&st[e].forEach(function(e){dt(e.name,e.config)}),ct(e),L[e]}function ht(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return at;if(!l(e)){if(t=ut(e))return t;e=[e]}for(var n,i,r,a,o=e,s=0;s<o.length;){for(n=(a=lt(o[s]).split("-")).length,i=(i=lt(o[s+1]))?i.split("-"):null;0<n;){if(r=ut(a.slice(0,n).join("-")))return r;if(i&&i.length>=n&&$(a,i,!0)>=n-1)break;n--}s++}return at}function ft(e){var t=e._a;return t&&-2===g(e).overflow&&(t=t[E]<0||11<t[E]?E:t[C]<1||t[C]>Me(t[w],t[E])?C:t[k]<0||24<t[k]||24===t[k]&&(0!==t[D]||0!==t[A]||0!==t[ke])?k:t[D]<0||59<t[D]?D:t[A]<0||59<t[A]?A:t[ke]<0||999<t[ke]?ke:-1,g(e)._overflowDayOfYear&&(t<w||C<t)&&(t=C),g(e)._overflowWeeks&&-1===t&&(t=De),g(e)._overflowWeekday&&-1===t&&(t=Ae),g(e).overflow=t),e}function pt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t,n,i,r,a,o,s,l,u=[];if(!e._d){var c=e,d=new Date(f.now()),h=c._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];for(e._w&&null==e._a[C]&&null==e._a[E]&&(null!=(d=(c=e)._w).GG||null!=d.W||null!=d.E?(r=1,a=4,s=pt(d.GG,c._a[w],ze(O(),1,4).year),l=pt(d.W,1),((n=pt(d.E,1))<1||7<n)&&(i=!0)):(r=c._locale._week.dow,a=c._locale._week.doy,o=ze(O(),r,a),s=pt(d.gg,c._a[w],o.year),l=pt(d.w,o.week),null!=d.d?((n=d.d)<0||6<n)&&(i=!0):null!=d.e?(n=d.e+r,(d.e<0||6<d.e)&&(i=!0)):n=r),l<1||l>$e(s,r,a)?g(c)._overflowWeeks=!0:null!=i?g(c)._overflowWeekday=!0:(o=Ye(s,l,n,r,a),c._a[w]=o.year,c._dayOfYear=o.dayOfYear)),null!=e._dayOfYear&&(d=pt(e._a[w],h[w]),(e._dayOfYear>xe(d)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),i=qe(d,0,e._dayOfYear),e._a[E]=i.getUTCMonth(),e._a[C]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=u[t]=h[t];for(;t<7;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[k]&&0===e._a[D]&&0===e._a[A]&&0===e._a[ke]&&(e._nextDay=!0,e._a[k]=0),e._d=(e._useUTC?qe:function(e,t,n,i,r,a,o){t=new Date(e,t,n,i,r,a,o);return e<100&&0<=e&&isFinite(t.getFullYear())&&t.setFullYear(e),t}).apply(null,u),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[k]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(g(e).weekdayMismatch=!0)}}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tt=/^\/?Date\((\-?\d+)/i;function St(e){var t,n,i,r,a,o,s=e._i,l=mt.exec(s)||yt.exec(s);if(l){for(g(e).iso=!0,t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(l[1])){r=bt[t][0],i=!1!==bt[t][2];break}if(null==r)return e._isValid=!1;if(l[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(l[3])){a=(l[2]||" ")+_t[t][0];break}if(null==a)return e._isValid=!1}if(!i&&null!=a)return e._isValid=!1;if(l[4]){if(!vt.exec(l[4]))return e._isValid=!1;o="Z"}e._f=r+(a||"")+(o||""),kt(e)}else e._isValid=!1}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var Et={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t,n,i,r,a,o,s=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());s?(t=s[4],n=s[3],i=s[2],r=s[5],a=s[6],o=s[7],t=[(t=parseInt(t,10))<=49?2e3+t:t<=999?1900+t:t,Fe.indexOf(n),parseInt(i,10),parseInt(r,10),parseInt(a,10)],o&&t.push(parseInt(o,10)),i=n=t,r=e,(a=s[1])&&Xe.indexOf(a)!==new Date(i[0],i[1],i[2]).getDay()?(g(r).weekdayMismatch=!0,r._isValid=!1):(e._a=n,e._tzm=function(e,t,n){if(e)return Et[e];if(t)return 0;e=parseInt(n,10),t=e%100;return(e-t)/100*60+t}(s[8],s[9],s[10]),e._d=qe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0)):e._isValid=!1}function kt(e){if(e._f!==f.ISO_8601)if(e._f!==f.RFC_2822){e._a=[],g(e).empty=!0;for(var t,n,i,r=""+e._i,a=r.length,o=0,s=ue(e._f,e._locale).match(re)||[],l=0;l<s.length;l++)t=s[l],(h=(r.match((h=e,p(Se,d=t)?Se[d](h._strict,h._locale):new RegExp(we(d.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))))||[])[0])&&(0<(d=r.substr(0,r.indexOf(h))).length&&g(e).unusedInput.push(d),r=r.slice(r.indexOf(h)+h.length),o+=h.length),se[t]?(h?g(e).empty=!1:g(e).unusedTokens.push(t),d=t,i=e,null!=(n=h)&&p(Ee,d)&&Ee[d](n,i._a,i,d)):e._strict&&!h&&g(e).unusedTokens.push(t);g(e).charsLeftOver=a-o,0<r.length&&g(e).unusedInput.push(r),e._a[k]<=12&&!0===g(e).bigHour&&0<e._a[k]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[k]=(a=e._locale,u=e._a[k],null==(c=e._meridiem)?u:null!=a.meridiemHour?a.meridiemHour(u,c):(null!=a.isPM&&((a=a.isPM(c))&&u<12&&(u+=12),a||12!==u||(u=0)),u)),gt(e),ft(e)}else Ct(e);else St(e);var u,c,d,h}function Dt(e){var t,n,i=e._i,r=e._f;return e._locale=e._locale||ht(e._l),null===i||void 0===r&&""===i?W({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),o(i)?new z(ft(i)):(j(i)?e._d=i:l(r)?function(e){var t,n,i,r,a;if(0===e._f.length)return g(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)a=0,t=V({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],kt(t),H(t)&&(a=(a+=g(t).charsLeftOver)+10*g(t).unusedTokens.length,g(t).score=a,(null==i||a<i)&&(i=a,n=t));s(e,n||t)}(e):r?kt(e):a(r=(i=e)._i)?i._d=new Date(f.now()):j(r)?i._d=new Date(r.valueOf()):"string"==typeof r?(t=i,null===(n=Tt.exec(t._i))?(St(t),!1===t._isValid&&(delete t._isValid,Ct(t),!1===t._isValid&&(delete t._isValid,f.createFromInputFallback(t)))):t._d=new Date(+n[1])):l(r)?(i._a=B(r.slice(0),function(e){return parseInt(e,10)}),gt(i)):U(r)?(t=i)._d||(n=ne(t._i),t._a=B([n.year,n.month,n.day||n.date,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),gt(t)):F(r)?i._d=new Date(r):f.createFromInputFallback(i),H(e)||(e._d=null),e))}function At(e,t,n,i,r){var a={};return!0!==n&&!1!==n||(i=n,n=void 0),(U(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return;return 1}(e)||l(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,(r=new z(ft(Dt(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function O(e,t,n,i){return At(e,t,n,i,!1)}f.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};fe=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=O.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:W()}),pe=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=O.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:W()});function xt(e,t){var n,i;if(!(t=1===t.length&&l(t[0])?t[0]:t).length)return O();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ot(e){var e=ne(e),t=e.year||0,n=e.quarter||0,i=e.month||0,r=e.week||0,a=e.day||0,o=e.hour||0,s=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===x.call(Lt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Lt.length;++i)if(e[Lt[i]]){if(n)return!1;parseFloat(e[Lt[i]])!==d(e[Lt[i]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*s+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*n+12*t,this._data={},this._locale=ht(),this._bubble()}function It(e){return e instanceof Ot}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pt(e,n){i(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+y(~~(e/60),2)+n+y(~~e%60,2)})}Pt("Z",":"),Pt("ZZ",""),T("Z",Te),T("ZZ",Te),S(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(Te,e)});var Mt=/([\+\-]|\d\d)/gi;function Nt(e,t){t=(t||"").match(e);if(null===t)return null;e=((t[t.length-1]||[])+"").match(Mt)||["-",0,0],t=60*e[1]+d(e[2]);return 0===t?0:"+"===e[0]?t:-t}function Ut(e,t){var n;return t._isUTC?(t=t.clone(),n=(o(e)||j(e)?e:O(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),f.updateOffset(t,!1),t):O(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}f.updateOffset=function(){};var Bt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function I(e,t){var n,i,r=e,a=null;return It(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:F(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=Bt.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:d(a[C])*n,h:d(a[k])*n,m:d(a[D])*n,s:d(a[A])*n,ms:d(Rt(1e3*a[ke]))*n}):(a=Ht.exec(e))?(n="-"===a[1]?-1:(a[1],1),r={y:Wt(a[2],n),M:Wt(a[3],n),w:Wt(a[4],n),d:Wt(a[5],n),h:Wt(a[6],n),m:Wt(a[7],n),s:Wt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(t=O(r.from),a=O(r.to),n=t.isValid()&&a.isValid()?(a=Ut(a,t),t.isBefore(a)?i=Gt(t,a):((i=Gt(a,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0},(r={}).ms=n.milliseconds,r.M=n.months),a=new Ot(r),It(e)&&p(e,"_locale")&&(a._locale=e._locale),a}function Wt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(Q(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Vt(this,I(e="string"==typeof e?+e:e,t),i),this}}function Vt(e,t,n,i){var r=t._milliseconds,a=Rt(t._days),t=Rt(t._months);e.isValid()&&(i=null==i||i,t&&je(e,Re(e,"Month")+t*n),a&&Pe(e,"Date",Re(e,"Date")+a*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&f.updateOffset(e,a||t))}I.fn=Ot.prototype,I.invalid=function(){return I(NaN)};Ue=qt(1,"add"),Ke=qt(-1,"subtract");function Yt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i)))||0}function zt(e){return void 0===e?this._locale._abbr:(null!=(e=ht(e))&&(this._locale=e),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Qe=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function $t(){return this._locale}function Kt(e,t){i(0,[e,e.length],0,t)}function Xt(e,t,n,i,r){var a;return null==e?ze(this,i,r).year:((a=$e(e,i,r))<t&&(t=a),function(e,t,n,i,r){e=Ye(e,t,n,i,r),t=qe(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t,n,i,r))}i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Kt("gggg","weekYear"),Kt("ggggg","weekYear"),Kt("GGGG","isoWeekYear"),Kt("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),T("G",be),T("g",be),T("GG",b,v),T("gg",b,v),T("GGGG",me,de),T("gggg",me,de),T("GGGGG",ye,he),T("ggggg",ye,he),Ce(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=d(e)}),Ce(["gg","GG"],function(e,t,n,i){t[i]=f.parseTwoDigitYear(e)}),i("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),T("Q",r),S("Q",function(e,t){t[E]=3*(d(e)-1)}),i("D",["DD",2],"Do","date"),t("date","D"),n("date",9),T("D",b),T("DD",b,v),T("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),S(["D","DD"],C),S("Do",function(e,t){t[C]=d(e.match(b)[0])});me=Ie("Date",!0),i("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),T("DDD",ge),T("DDDD",ce),S(["DDD","DDDD"],function(e,t,n){n._dayOfYear=d(e)}),i("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),T("m",b),T("mm",b,v),S(["m","mm"],D),de=Ie("Minutes",!1);i("s",["ss",2],0,"second"),t("second","s"),n("second",15),T("s",b),T("ss",b,v),S(["s","ss"],A);var Qt,ye=Ie("Seconds",!1);for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),T("S",ge,r),T("SS",ge,v),T("SSS",ge,ce),Qt="SSSS";Qt.length<=9;Qt+="S")T(Qt,ve);function Jt(e,t){t[ke]=d(1e3*("0."+e))}for(Qt="S";Qt.length<=9;Qt+="S")S(Qt,Jt);he=Ie("Milliseconds",!1),i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName"),r=z.prototype;function Zt(e){return e}r.add=Ue,r.calendar=function(e,t){var e=e||O(),n=Ut(e,this).startOf("day"),n=f.calendarFormat(this,n)||"sameElse",t=t&&(h(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,O(e)))},r.clone=function(){return new z(this)},r.diff=function(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=Ut(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=m(t)){case"year":a=Yt(this,i)/12;break;case"month":a=Yt(this,i);break;case"quarter":a=Yt(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:c(a)},r.endOf=function(e){return void 0===(e=m(e))||"millisecond"===e?this:this.startOf(e="date"===e?"day":e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},r.format=function(e){e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat);e=le(this,e);return this.localeData().postformat(e)},r.from=function(e,t){return this.isValid()&&(o(e)&&e.isValid()||O(e).isValid())?I({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.fromNow=function(e){return this.from(O(),e)},r.to=function(e,t){return this.isValid()&&(o(e)&&e.isValid()||O(e).isValid())?I({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.toNow=function(e){return this.to(O(),e)},r.get=function(e){return h(this[e=m(e)])?this[e]():this},r.invalidAt=function(){return g(this).overflow},r.isAfter=function(e,t){e=o(e)?e:O(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=m(a(t)?"millisecond":t))?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},r.isBefore=function(e,t){e=o(e)?e:O(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=m(a(t)?"millisecond":t))?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},r.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},r.isSame=function(e,t){var e=o(e)?e:O(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=m(t||"millisecond"))?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},r.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},r.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},r.isValid=function(){return H(this)},r.lang=Qe,r.locale=zt,r.localeData=$t,r.max=pe,r.min=fe,r.parsingFlags=function(){return s({},g(this))},r.set=function(n,e){if("object"==typeof n)for(var t=function(){var e,t=[];for(e in n)t.push({unit:e,priority:ie[e]});return t.sort(function(e,t){return e.priority-t.priority}),t}(n=ne(n)),i=0;i<t.length;i++)this[t[i].unit](n[t[i].unit]);else if(h(this[n=m(n)]))return this[n](e);return this},r.startOf=function(e){switch(e=m(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},r.subtract=Ke,r.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},r.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},r.toDate=function(){return new Date(this.valueOf())},r.toISOString=function(e){if(!this.isValid())return null;var e=!0!==e,t=e?this.clone().utc():this;return t.year()<0||9999<t.year()?le(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):h(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",le(t,"Z")):le(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},r.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",e=(this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z"),"["+e+'("]'),n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(e+n+"-MM-DD[T]HH:mm:ss.SSS"+(t+'[")]'))},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},r.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},r.year=Oe,r.isLeapYear=function(){return Le(this.year())},r.weekYear=function(e){return Xt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},r.isoWeekYear=function(e){return Xt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},r.quarter=r.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},r.month=Be,r.daysInMonth=function(){return Me(this.year(),this.month())},r.week=r.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},r.isoWeek=r.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},r.weeksInYear=function(){var e=this.localeData()._week;return $e(this.year(),e.dow,e.doy)},r.isoWeeksInYear=function(){return $e(this.year(),1,4)},r.date=me,r.day=r.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},r.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},r.isoWeekday=function(e){return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN;var t,n},r.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},r.hour=r.hours=_,r.minute=r.minutes=de,r.second=r.seconds=ye,r.millisecond=r.milliseconds=he,r.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:Ft(this);if("string"==typeof e){if(null===(e=Nt(Te,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Ft(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Vt(this,I(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},r.utc=function(e){return this.utcOffset(0,e)},r.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},r.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Nt(_e,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},r.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?O(e).utcOffset():0,(this.utcOffset()-e)%60==0)},r.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},r.isLocal=function(){return!!this.isValid()&&!this._isUTC},r.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},r.isUtc=jt,r.isUTC=jt,r.zoneAbbr=function(){return this._isUTC?"UTC":""},r.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},r.dates=e("dates accessor is deprecated. Use date instead.",me),r.months=e("months accessor is deprecated. Use month instead",Be),r.years=e("years accessor is deprecated. Use year instead",Oe),r.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),r.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return V(t,this),(t=Dt(t))._a?(e=(t._isUTC?u:O)(t._a),this._isDSTShifted=this.isValid()&&0<$(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});v=Z.prototype;function en(e,t,n,i){var r=ht(),i=u().set(i,t);return r[n](i,e)}function tn(e,t,n){if(F(e)&&(t=e,e=void 0),e=e||"",null!=t)return en(e,t,n,"month");for(var i=[],r=0;r<12;r++)i[r]=en(e,r,n,"month");return i}function nn(e,t,n,i){"boolean"==typeof e?F(t)&&(n=t,t=void 0):(t=e,e=!1,F(n=t)&&(n=t,t=void 0)),t=t||"";var r=ht(),a=e?r._week.dow:0;if(null!=n)return en(t,(n+a)%7,i,"day");for(var o=[],s=0;s<7;s++)o[s]=en(t,(s+a)%7,i,"day");return o}v.calendar=function(e,t,n){e=this._calendar[e]||this._calendar.sameElse;return h(e)?e.call(t,n):e},v.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},v.invalidDate=function(){return this._invalidDate},v.ordinal=function(e){return this._ordinal.replace("%d",e)},v.preparse=Zt,v.postformat=Zt,v.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return h(r)?r(e,t,n,i):r.replace(/%d/i,e)},v.pastFuture=function(e,t){e=this._relativeTime[0<e?"future":"past"];return h(e)?e(t):e.replace(/%s/i,t)},v.set=function(e){var t,n;for(n in e)h(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},v.months=function(e,t){return e?(l(this._months)?this._months:this._months[(this._months.isFormat||Ne).test(t)?"format":"standalone"])[e.month()]:l(this._months)?this._months:this._months.standalone},v.monthsShort=function(e,t){return e?(l(this._monthsShort)?this._monthsShort:this._monthsShort[Ne.test(t)?"format":"standalone"])[e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},v.monthsParse=function(e,t,n){var i,r;if(this._monthsParseExact)return function(e,t,n){var i,r,a,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=x.call(this._shortMonthsParse,e))?r:null:-1!==(r=x.call(this._longMonthsParse,e))?r:null:"MMM"===t?-1!==(r=x.call(this._shortMonthsParse,e))||-1!==(r=x.call(this._longMonthsParse,e))?r:null:-1!==(r=x.call(this._longMonthsParse,e))||-1!==(r=x.call(this._shortMonthsParse,e))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},v.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ge.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=We),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},v.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ge.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=He),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},v.week=function(e){return ze(e,this._week.dow,this._week.doy).week},v.firstDayOfYear=function(){return this._week.doy},v.firstDayOfWeek=function(){return this._week.dow},v.weekdays=function(e,t){return e?(l(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"])[e.day()]:l(this._weekdays)?this._weekdays:this._weekdays.standalone},v.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},v.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},v.weekdaysParse=function(e,t,n){var i,r;if(this._weekdaysParseExact)return function(e,t,n){var i,r,a,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=x.call(this._weekdaysParse,e))?r:null:"ddd"===t?-1!==(r=x.call(this._shortWeekdaysParse,e))?r:null:-1!==(r=x.call(this._minWeekdaysParse,e))?r:null:"dddd"===t?-1!==(r=x.call(this._weekdaysParse,e))||-1!==(r=x.call(this._shortWeekdaysParse,e))||-1!==(r=x.call(this._minWeekdaysParse,e))?r:null:"ddd"===t?-1!==(r=x.call(this._shortWeekdaysParse,e))||-1!==(r=x.call(this._weekdaysParse,e))||-1!==(r=x.call(this._minWeekdaysParse,e))?r:null:-1!==(r=x.call(this._minWeekdaysParse,e))||-1!==(r=x.call(this._weekdaysParse,e))||-1!==(r=x.call(this._shortWeekdaysParse,e))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},v.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},v.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},v.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=et),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},v.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},v.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ct("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===d(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=e("moment.lang is deprecated. Use moment.locale instead.",ct),f.langData=e("moment.langData is deprecated. Use moment.localeData instead.",ht);var R=Math.abs;function rn(e,t,n,i){t=I(t,n);return e._milliseconds+=i*t._milliseconds,e._days+=i*t._days,e._months+=i*t._months,e._bubble()}function an(e){return e<0?Math.floor(e):Math.ceil(e)}function on(e){return 4800*e/146097}function sn(e){return 146097*e/4800}function ln(e){return function(){return this.as(e)}}ge=ln("ms"),ce=ln("s"),Ue=ln("m"),pe=ln("h"),fe=ln("d"),Ke=ln("w"),_=ln("M"),de=ln("y");function un(e){return function(){return this.isValid()?this._data[e]:NaN}}var ye=un("milliseconds"),he=un("seconds"),me=un("minutes"),Oe=un("hours"),v=un("days"),cn=un("months"),dn=un("years"),hn=Math.round,P={ss:44,s:45,m:45,h:22,d:26,M:11},fn=Math.abs;function pn(e){return(0<e)-(e<0)||+e}function gn(){if(!this.isValid())return this.localeData().invalidDate();var e,t=fn(this._milliseconds)/1e3,n=fn(this._days),i=fn(this._months),r=c((e=c(t/60))/60),a=(t%=60,e%=60,c(i/12)),i=i%=12,t=t?t.toFixed(3).replace(/\.?0+$/,""):"",o=this.asSeconds();if(!o)return"P0D";var s=pn(this._months)!==pn(o)?"-":"",l=pn(this._days)!==pn(o)?"-":"",u=pn(this._milliseconds)!==pn(o)?"-":"";return(o<0?"-":"")+"P"+(a?s+a+"Y":"")+(i?s+i+"M":"")+(n?l+n+"D":"")+(r||e||t?"T":"")+(r?u+r+"H":"")+(e?u+e+"M":"")+(t?u+t+"S":"")}var M=Ot.prototype;return M.isValid=function(){return this._isValid},M.abs=function(){var e=this._data;return this._milliseconds=R(this._milliseconds),this._days=R(this._days),this._months=R(this._months),e.milliseconds=R(e.milliseconds),e.seconds=R(e.seconds),e.minutes=R(e.minutes),e.hours=R(e.hours),e.months=R(e.months),e.years=R(e.years),this},M.add=function(e,t){return rn(this,e,t,1)},M.subtract=function(e,t){return rn(this,e,t,-1)},M.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=m(e))||"year"===e)return t=this._days+i/864e5,n=this._months+on(t),"month"===e?n:n/12;switch(t=this._days+Math.round(sn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},M.asMilliseconds=ge,M.asSeconds=ce,M.asMinutes=Ue,M.asHours=pe,M.asDays=fe,M.asWeeks=Ke,M.asMonths=_,M.asYears=de,M.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*d(this._months/12):NaN},M._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*an(sn(n)+t),n=t=0),i.milliseconds=e%1e3,e=c(e/1e3),i.seconds=e%60,e=c(e/60),i.minutes=e%60,e=c(e/60),i.hours=e%24,n+=e=c(on(t+=c(e/24))),t-=an(sn(e)),e=c(n/12),n%=12,i.days=t,i.months=n,i.years=e,this},M.clone=function(){return I(this)},M.get=function(e){return e=m(e),this.isValid()?this[e+"s"]():NaN},M.milliseconds=ye,M.seconds=he,M.minutes=me,M.hours=Oe,M.days=v,M.weeks=function(){return c(this.days()/7)},M.months=cn,M.years=dn,M.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,i,r,a,o,s,l=this.localeData(),u=(t=!e,n=l,o=I(this).abs(),s=hn(o.as("s")),u=hn(o.as("m")),i=hn(o.as("h")),r=hn(o.as("d")),a=hn(o.as("M")),o=hn(o.as("y")),(s=(s<=P.ss?["s",s]:s<P.s&&["ss",s])||u<=1&&["m"]||u<P.m&&["mm",u]||i<=1&&["h"]||i<P.h&&["hh",i]||r<=1&&["d"]||r<P.d&&["dd",r]||a<=1&&["M"]||a<P.M&&["MM",a]||o<=1&&["y"]||["yy",o])[2]=t,s[3]=0<+this,s[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,s));return e&&(u=l.pastFuture(+this,u)),l.postformat(u)},M.toISOString=gn,M.toString=gn,M.toJSON=gn,M.locale=zt,M.localeData=$t,M.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gn),M.lang=Qe,i("X",0,0,"unix"),i("x",0,0,"valueOf"),T("x",be),T("X",/[+-]?\d+(\.\d{1,3})?/),S("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),S("x",function(e,t,n){n._d=new Date(d(e))}),f.version="2.22.1",N=O,f.fn=r,f.min=function(){return xt("isBefore",[].slice.call(arguments,0))},f.max=function(){return xt("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=u,f.unix=function(e){return O(1e3*e)},f.months=function(e,t){return tn(e,t,"months")},f.isDate=j,f.locale=ct,f.invalid=W,f.duration=I,f.isMoment=o,f.weekdays=function(e,t,n){return nn(e,t,n,"weekdays")},f.parseZone=function(){return O.apply(null,arguments).parseZone()},f.localeData=ht,f.isDuration=It,f.monthsShort=function(e,t){return tn(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return nn(e,t,n,"weekdaysMin")},f.defineLocale=dt,f.updateLocale=function(e,t){var n,i;return null!=t?(i=ot,(n=new Z(t=J(i=null!=(n=ut(e))?n._config:i,t))).parentLocale=L[e],L[e]=n,ct(e)):null!=L[e]&&(null!=L[e].parentLocale?L[e]=L[e].parentLocale:null!=L[e]&&delete L[e]),L[e]},f.locales=function(){return ee(L)},f.weekdaysShort=function(e,t,n){return nn(e,t,n,"weekdaysShort")},f.normalizeUnits=m,f.relativeTimeRounding=function(e){return void 0===e?hn:"function"==typeof e&&(hn=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==P[e]&&(void 0===t?P[e]:(P[e]=t,"s"===e&&(P.ss=t-1),!0))},f.calendarFormat=function(e,t){e=e.diff(t,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},f.prototype=r,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},f}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function M(e,t){return e(t={exports:{}},t.exports),t.exports}function N(e,t){var n,i=F.levels[j],r=new RegExp("^("+i+")$");"log"!==e&&t.unshift(e.toUpperCase()+":"),B&&B.push([].concat(t)),t.unshift("VIDEOJS:"),h.console&&(n=(n=h.console[e])||"debug"!==e?n:h.console.info||h.console.log)&&i&&r.test(e)&&n[Array.isArray(t)?"apply":"call"](h.console,t)}var h="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},U={},t=Object.freeze({default:U}),e=void 0!==e?e:"undefined"!=typeof window?window:{},n="undefined"!=typeof document?document:(n=e["__GLOBAL_DOCUMENT_CACHE@4"])||(e["__GLOBAL_DOCUMENT_CACHE@4"]=t&&U),c=n,F=void 0,j="info",B=[],d=((F=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];N("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:j},F.level=function(e){if("string"==typeof e){if(!F.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');j=e}return j},F.history=function(){return B?[].concat(B):[]},F.history.clear=function(){B&&(B.length=0)},F.history.disable=function(){null!==B&&(B.length=0,B=null)},F.history.enable=function(){null===B&&(B=[])},F.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return N("error",t)},F.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return N("warn",t)},F.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return N("debug",t)},F);function H(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function W(e,t){return e.raw=t,e}function G(e){return Y(e)?Object.keys(e):[]}var St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q=Object.prototype.toString;function V(t,n){G(t).forEach(function(e){return n(t[e],e)})}function p(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(t)):(t.forEach(function(e){e&&V(e,function(e,t){n[t]=e})}),n)}function Y(e){return!!e&&"object"===(void 0===e?"undefined":St(e))}function z(e){return Y(e)&&"[object Object]"===q.call(e)&&e.constructor===Object}function $(e,t){return e&&t&&"function"==typeof h.getComputedStyle&&(e=h.getComputedStyle(e))?e[t]:""}var K=W(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function X(e){return"string"==typeof e&&/\S/.test(e)}function Q(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function J(){return c===h.document}function Z(e){return Y(e)&&1===e.nodeType}function ee(){try{return h.parent!==h.self}catch(e){return!0}}function te(n){return function(e,t){if(!X(e))return c[n](null);t=Z(t=X(t)?c.querySelector(t):t)?t:c;return t[n]&&t[n](e)}}function ne(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],r=c.createElement(e);return Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(d.warn(H(K,e,t)),r.setAttribute(e,t)):"textContent"===e?ie(r,t):r[e]=t}),Object.getOwnPropertyNames(t).forEach(function(e){r.setAttribute(e,t[e])}),i&&Se(r,i),r}function ie(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function re(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function ae(e,t){return Q(t),e.classList?e.classList.contains(t):new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}function oe(e,t){return e.classList?e.classList.add(t):ae(e,t)||(e.className=(e.className+" "+t).trim()),e}function se(e,t){return e.classList?e.classList.remove(t):(Q(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function le(e,t,n){var i=ae(e,t);if((n="boolean"!=typeof(n="function"==typeof n?n(e,t):n)?!i:n)!==i)return(n?oe:se)(e,t),e}function ue(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})}function ce(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var i=e.attributes,r=i.length-1;0<=r;r--){var a=i[r].name,o=i[r].value;"boolean"!=typeof e[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),t[a]=o}return t}function de(e,t){return e.getAttribute(t)}function he(e,t,n){e.setAttribute(t,n)}function fe(e,t){e.removeAttribute(t)}function pe(){c.body.focus(),c.onselectstart=function(){return!1}}function ge(){c.onselectstart=function(){return!0}}function me(e){var t,n;if(e&&e.getBoundingClientRect&&e.parentNode)return t=e.getBoundingClientRect(),n={},["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat($(e,"height"))),n.width||(n.width=parseFloat($(e,"width"))),n}function ye(e){var t=void 0;if(!(t=e.getBoundingClientRect&&e.parentNode?e.getBoundingClientRect():t))return{left:0,top:0};var e=c.documentElement,n=c.body,i=e.clientLeft||n.clientLeft||0,r=h.pageXOffset||n.scrollLeft,r=t.left+r-i,i=e.clientTop||n.clientTop||0,e=h.pageYOffset||n.scrollTop,n=t.top+e-i;return{left:Math.round(r),top:Math.round(n)}}function ve(e,t){var n={},i=ye(e),r=e.offsetWidth,e=e.offsetHeight,a=i.top,i=i.left,o=t.pageY,s=t.pageX;return t.changedTouches&&(s=t.changedTouches[0].pageX,o=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-o+e)/e)),n.x=Math.max(0,Math.min(1,(s-i)/r)),n}function be(e){return Y(e)&&3===e.nodeType}function _e(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Te(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return Z(e="function"==typeof e?e():e)||be(e)?e:"string"==typeof e&&/\S/.test(e)?c.createTextNode(e):void 0}).filter(function(e){return e})}function Se(t,e){return Te(e).forEach(function(e){return t.appendChild(e)}),t}function we(e,t){return Se(_e(e),t)}function Ee(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||0===e.button&&1===e.buttons)}var Ce=te("querySelector"),ke=te("querySelectorAll"),De=Object.freeze({isReal:J,isEl:Z,isInFrame:ee,createEl:ne,textContent:ie,prependTo:re,hasClass:ae,addClass:oe,removeClass:se,toggleClass:le,setAttributes:ue,getAttributes:ce,getAttribute:de,setAttribute:he,removeAttribute:fe,blockTextSelection:pe,unblockTextSelection:ge,getBoundingClientRect:me,findPosition:ye,getPointerPosition:ve,isTextNode:be,emptyEl:_e,normalizeContent:Te,appendContent:Se,insertContent:we,isSingleLeftClick:Ee,$:Ce,$$:ke}),Ae=1;var xe={},Le="vdata"+(new Date).getTime();function Oe(e){var t=(t=e[Le])||(e[Le]=Ae++);return xe[t]||(xe[t]={}),xe[t]}function Ie(e){e=e[Le];return e&&Object.getOwnPropertyNames(xe[e]).length}function Re(t){var e=t[Le];if(e){delete xe[e];try{delete t[Le]}catch(e){t.removeAttribute?t.removeAttribute(Le):t[Le]=null}}}function Pe(e,t){var n=Oe(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Re(e)}function Me(t,n,e,i){e.forEach(function(e){t(n,e,i)})}function Ne(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i,r,a,o=e||h.event;for(i in e={},o)"layerX"===i||"layerY"===i||"keyLocation"===i||"webkitMovementX"===i||"webkitMovementY"===i||"returnValue"===i&&o.preventDefault||(e[i]=o[i]);e.target||(e.target=e.srcElement||c),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){o.preventDefault&&o.preventDefault(),e.returnValue=!1,o.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),e.cancelBubble=!0,o.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX&&(r=c.documentElement,a=c.body,e.pageX=e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var Ue=!1;try{var Fe=Object.defineProperty({},"passive",{get:function(){Ue=!0}});h.addEventListener("test",null,Fe),h.removeEventListener("test",null,Fe)}catch(e){}var je=["touchstart","touchmove"];function Be(o,e,t){if(Array.isArray(e))return Me(Be,o,e,t);var s=Oe(o);s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=Ae++),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e,t){if(!s.disabled){e=Ne(e);var n=s.handlers[e.type];if(n)for(var i=n.slice(0),r=0,a=i.length;r<a&&!e.isImmediatePropagationStopped();r++)try{i[r].call(o,e,t)}catch(e){d.error(e)}}}),1===s.handlers[e].length&&(o.addEventListener?(t=!1,Ue&&-1<je.indexOf(e)&&(t={passive:!0}),o.addEventListener(e,s.dispatcher,t)):o.attachEvent&&o.attachEvent("on"+e,s.dispatcher))}function He(e,t,n){if(Ie(e)){var i=Oe(e);if(i.handlers){if(Array.isArray(t))return Me(He,e,t,n);function r(e,t){i.handlers[t]=[],Pe(e,t)}if(void 0===t)for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(e,a);else{var o=i.handlers[t];if(o)if(n){if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);Pe(e,t)}else r(e,t)}}}}function We(e,t,n){var i=Ie(e)?Oe(e):{},r=e.parentNode||e.ownerDocument;return"string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Ne(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles?We.call(null,r,t,n):r||t.defaultPrevented||(i=Oe(t.target),t.target[t.type]&&(i.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),i.disabled=!1)),!t.defaultPrevented}function Ge(e,t,n){if(Array.isArray(t))return Me(Ge,e,t,n);function i(){He(e,t,i),n.apply(this,arguments)}i.guid=n.guid=n.guid||Ae++,Be(e,t,i)}function qe(){if(J()&&!1!==ze.options.autoSetup){var e=Array.prototype.slice.call(c.getElementsByTagName("video")),t=Array.prototype.slice.call(c.getElementsByTagName("audio")),n=Array.prototype.slice.call(c.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&0<i.length)for(var r=0,a=i.length;r<a;r++){var o=i[r];if(!o||!o.getAttribute){$e(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&ze(o)}else Ye||$e(1)}}var Ve=Object.freeze({fixEvent:Ne,on:Be,off:He,trigger:We,one:Ge}),Ye=!1,ze=void 0;function $e(e,t){t&&(ze=t),h.setTimeout(qe,e)}J()&&"complete"===c.readyState?Ye=!0:Ge(h,"load",function(){Ye=!0});function Ke(e){var t=c.createElement("style");return t.className=e,t}function Xe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}function Qe(t,n){var i=Date.now();return function(){var e=Date.now();n<=e-i&&(t.apply(void 0,arguments),i=e)}}function Je(i,r,a){function e(){var e=this,t=arguments,n=function(){n=s=null,a||i.apply(e,t)};!s&&a&&i.apply(e,t),o.clearTimeout(s),s=o.setTimeout(n,r)}var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h,s=void 0;return e.cancel=function(){o.clearTimeout(s),s=null},e}function Ze(){}function et(e){if(!e.nodeName&&!ot(e))throw new Error("Invalid target; must be a DOM node or evented object.")}function tt(e){if(!st(e))throw new Error("Invalid event type; must be a non-empty string or array.")}function nt(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")}function it(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,i=void 0,r=void 0,a=void 0,a=n?(i=e.eventBusEl_,3<=t.length&&t.shift(),r=t[0],t[1]):(i=t[0],r=t[1],t[2]);return et(i),tt(r),nt(a),{isTargetingSelf:n,target:i,type:r,listener:a=l(e,a)}}function rt(e,t,n,i){et(e),e.nodeName?Ve[t](e,n,i):e[t](n,i)}var l=function(e,t,n){t.guid||(t.guid=Ae++);function i(){return t.apply(e,arguments)}return i.guid=n?n+"_"+t.guid:t.guid,i},at=(Ze.prototype.allowedEvents_={},Ze.prototype.addEventListener=Ze.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Be(this,e,t),this.addEventListener=n},Ze.prototype.removeEventListener=Ze.prototype.off=function(e,t){He(this,e,t)},Ze.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ge(this,e,t),this.addEventListener=n},Ze.prototype.dispatchEvent=Ze.prototype.trigger=function(e){var t=e.type||e;e=Ne(e="string"==typeof e?{type:t}:e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),We(this,e)},void 0),ot=(Ze.prototype.queueTrigger=function(e){var t=this,n=(at=at||new Map,e.type||e),i=at.get(this),r=(i||(i=new Map,at.set(this,i)),i.get(n)),r=(i.delete(n),h.clearTimeout(r),h.setTimeout(function(){0===i.size&&(i=null,at.delete(t)),t.trigger(e)},0));i.set(n,r)},function(t){return t instanceof Ze||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})}),st=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},lt={on:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,a=it(this,n),o=a.isTargetingSelf,s=a.target,l=a.type,u=a.listener;rt(s,"on",l,u),o||((r=function(){return e.off(s,l,u)}).guid=u.guid,(a=function(){return e.off("dispose",r)}).guid=u.guid,rt(this,"on","dispose",r),rt(s,"on","dispose",a))},one:function(){for(var r=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=it(this,t),a=i.isTargetingSelf,o=i.target,s=i.type,l=i.listener;a?rt(o,"one",s,l):((i=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];r.off(o,s,e),l.apply(null,n)}).guid=l.guid,rt(o,"one",s,i))},off:function(e,t,n){!e||st(e)?He(this.eventBusEl_,e,t):(t=t,et(e=e),tt(t),nt(n),n=l(this,n),this.off("dispose",n),e.nodeName?(He(e,t,n),He(e,"dispose",n)):ot(e)&&(e.off(t,n),e.off("dispose",n)))},trigger:function(e,t){return We(this.eventBusEl_,e,t)}};function ut(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=ne("span",{className:"vjs-event-bus"});p(e,lt),e.on("dispose",function(){e.off(),h.setTimeout(function(){e.eventBusEl_=null},0)})}var ct={state:{},setState:function(e){var n=this,i=("function"==typeof e&&(e=e()),void 0);return V(e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&ot(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function dt(e,t){p(e,ct),e.state=p({},e.state,t),"function"==typeof e.handleStateChanged&&ot(e)&&e.on("statechanged",e.handleStateChanged)}function g(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function m(){for(var n={},e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(e){e&&V(e,function(e,t){z(e)?(z(n[t])||(n[t]={}),n[t]=m(n[t],e)):n[t]=e})}),n}s.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Re(this.el_),this.el_=null),this.player_=null},s.prototype.player=function(){return this.player_},s.prototype.options=function(e){return d.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=m(this.options_,e)),this.options_},s.prototype.el=function(){return this.el_},s.prototype.createEl=function(e,t,n){return ne(e,t,n)},s.prototype.localize=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[i],i=i&&i.split("-")[0],r=r&&r[i],i=t;return a&&a[e]?i=a[e]:r&&r[e]&&(i=r[e]),i=n?i.replace(/\{(\d+)\}/g,function(e,t){t=n[t-1];return void 0===t?e:t}):i},s.prototype.contentEl=function(){return this.contentEl_||this.el_},s.prototype.id=function(){return this.id_},s.prototype.name=function(){return this.name_},s.prototype.children=function(){return this.children_},s.prototype.getChildById=function(e){return this.childIndex_[e]},s.prototype.getChild=function(e){if(e)return e=g(e),this.childNameIndex_[e]},s.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,r=void 0;if("string"==typeof e){var r=g(e),a=t.componentClass||r,o=(t.name=r,s.getComponent(a));if(!o)throw new Error("Component "+a+" does not exist");if("function"!=typeof o)return null;i=new o(this.player_||this,t)}else i=e;return this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(r=r||i.name&&g(i.name()))&&(this.childNameIndex_[r]=i),"function"==typeof i.el&&i.el()&&(a=this.contentEl().children[n]||null,this.contentEl().insertBefore(i.el(),a)),i},s.prototype.removeChild=function(e){if((e="string"==typeof e?this.getChild(e):e)&&this.children_){for(var t,n=!1,i=this.children_.length-1;0<=i;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}n&&(this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null,(t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el()))}},s.prototype.initChildren=function(){var n,t,e,i=this,r=this.options_.children;r&&(n=this.options_,e=void 0,t=s.getComponent("Tech"),(e=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t=void 0,n=void 0,n="string"==typeof e?r[t=e]||i.options_[t]||{}:(t=e.name,e);return{name:t,opts:n}}).filter(function(e){e=s.getComponent(e.opts.componentClass||g(e.name));return e&&!t.isTech(e)}).forEach(function(e){var t=e.name,e=e.opts;!1!==(e=void 0!==n[t]?n[t]:e)&&((e=!0===e?{}:e).playerOptions=i.options_.playerOptions,(e=i.addChild(t,e))&&(i[t]=e))}))},s.prototype.buildCSSClass=function(){return""},s.prototype.ready=function(e){if(e)return this.isReady_?void(1<arguments.length&&void 0!==arguments[1]&&arguments[1]?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},s.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},s.prototype.$=function(e,t){return Ce(e,t||this.contentEl())},s.prototype.$$=function(e,t){return ke(e,t||this.contentEl())},s.prototype.hasClass=function(e){return ae(this.el_,e)},s.prototype.addClass=function(e){oe(this.el_,e)},s.prototype.removeClass=function(e){se(this.el_,e)},s.prototype.toggleClass=function(e,t){le(this.el_,e,t)},s.prototype.show=function(){this.removeClass("vjs-hidden")},s.prototype.hide=function(){this.addClass("vjs-hidden")},s.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},s.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},s.prototype.getAttribute=function(e){return de(this.el_,e)},s.prototype.setAttribute=function(e,t){he(this.el_,e,t)},s.prototype.removeAttribute=function(e){fe(this.el_,e)},s.prototype.width=function(e,t){return this.dimension("width",e,t)},s.prototype.height=function(e,t){return this.dimension("height",e,t)},s.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},s.prototype.dimension=function(e,t,n){if(void 0!==t)return-1!==(""+(t=null!==t&&t==t?t:0)).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;t=this.el_.style[e],n=t.indexOf("px");return-1!==n?parseInt(t.slice(0,n),10):parseInt(this.el_["offset"+g(e)],10)},s.prototype.currentDimension=function(e){var t,n=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");return"function"==typeof h.getComputedStyle&&(n=(t=h.getComputedStyle(this.el_)).getPropertyValue(e)||t[e]),0===(n=parseFloat(n))&&(t="offset"+g(e),n=this.el_[t]),n},s.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},s.prototype.currentWidth=function(){return this.currentDimension("width")},s.prototype.currentHeight=function(){return this.currentDimension("height")},s.prototype.focus=function(){this.el_.focus()},s.prototype.blur=function(){this.el_.blur()},s.prototype.emitTapEvents=function(){function e(){i=!1}var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){var t;1<e.touches.length?i=!1:n&&(t=e.touches[0].pageX-n.pageX,e=e.touches[0].pageY-n.pageY,10<Math.sqrt(t*t+e*e)&&(i=!1))});this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(n=null)===i&&(new Date).getTime()-t<200&&(e.preventDefault(),this.trigger("tap"))})},s.prototype.enableTouchActivity=function(){var t,n,e;this.player()&&this.player().reportUserActivity&&(t=l(this.player(),this.player().reportUserActivity),n=void 0,this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)}),e=function(e){t(),this.clearInterval(n)},this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e))},s.prototype.setTimeout=function(e,t){var n,i,r=this;return e=l(this,e),n=h.setTimeout(function(){r.off("dispose",i),e()},t),(i=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",i),n},s.prototype.clearTimeout=function(e){h.clearTimeout(e);function t(){}return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},s.prototype.setInterval=function(e,t){function n(){return i.clearInterval(r)}var i=this,r=(e=l(this,e),h.setInterval(e,t));return n.guid="vjs-interval-"+r,this.on("dispose",n),r},s.prototype.clearInterval=function(e){h.clearInterval(e);function t(){}return t.guid="vjs-interval-"+e,this.off("dispose",t),e},s.prototype.requestAnimationFrame=function(e){var t,n,i=this;return this.supportsRaf_?(e=l(this,e),t=h.requestAnimationFrame(function(){i.off("dispose",n),e()}),(n=function(){return i.cancelAnimationFrame(t)}).guid="vjs-raf-"+t,this.on("dispose",n),t):this.setTimeout(e,1e3/60)},s.prototype.cancelAnimationFrame=function(e){var t;return this.supportsRaf_?(h.cancelAnimationFrame(e),(t=function(){}).guid="vjs-raf-"+e,this.off("dispose",t),e):this.clearTimeout(e)},s.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=s.getComponent("Tech"),n=n&&n.isTech(t),i=s===t||s.prototype.isPrototypeOf(t.prototype);if(n||!i)throw i=void 0,i=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+i+".");e=g(e),s.components_||(s.components_={});n=s.getComponent("Player");if("Player"===e&&n&&n.players){var r=n.players,i=Object.keys(r);if(r&&0<i.length&&i.map(function(e){return r[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return s.components_[e]=t},s.getComponent=function(e){if(e)return e=g(e),s.components_&&s.components_[e]?s.components_[e]:void 0};var y=s;function s(e,t,n){u(this,s),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=m({},this.options_),t=this.options_=m(this.options_,t),this.id_=t.id||t.el&&t.el.id,this.id_||(e=e&&e.id&&e.id()||"no_player",this.id_=e+"_component_"+Ae++),this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&ut(this,{eventBusKey:this.el_?"el_":null}),dt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}y.prototype.supportsRaf_="function"==typeof h.requestAnimationFrame&&"function"==typeof h.cancelAnimationFrame,y.registerComponent("Component",y);var ht=h.navigator&&h.navigator.userAgent||"",e=/AppleWebKit\/([\d.]+)/i.exec(ht),t=e?parseFloat(e.pop()):null,U=/iPad/i.test(ht),ft=/iPhone/i.test(ht)&&!U,n=/iPod/i.test(ht),pt=ft||U||n,e=(Fe=ht.match(/OS (\d+)_/i))&&Fe[1]?Fe[1]:null,gt=/Android/i.test(ht),mt=function(){var e=ht.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),yt=gt&&mt<5&&t<537,vt=/Firefox/i.test(ht),t=/Edge/i.test(ht),bt=!t&&(/Chrome/i.test(ht)||/CriOS/i.test(ht)),_t=(r=ht.match(/(Chrome|CriOS)\/(\d+)/))&&r[2]?parseFloat(r[2]):null,Tt=r=!(r=(r=/MSIE\s(\d+)\.\d/.exec(ht))&&parseFloat(r[1]))&&/Trident\/7.0/i.test(ht)&&/rv:11.0/.test(ht)?11:r,r=/Safari/i.test(ht)&&!bt&&!gt&&!t,wt=(r||pt)&&!bt,Et=J()&&("ontouchstart"in h||h.navigator.maxTouchPoints||h.DocumentTouch&&h.document instanceof h.DocumentTouch),U=Object.freeze({IS_IPAD:U,IS_IPHONE:ft,IS_IPOD:n,IS_IOS:pt,IOS_VERSION:e,IS_ANDROID:gt,ANDROID_VERSION:mt,IS_NATIVE_ANDROID:yt,IS_FIREFOX:vt,IS_EDGE:t,IS_CHROME:bt,CHROME_VERSION:_t,IE_VERSION:Tt,IS_SAFARI:r,IS_ANY_SAFARI:wt,TOUCH_ENABLED:Et});function Ct(e,t,n,i){var r=i,a=n.length-1;if("number"!=typeof r||r<0||a<r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+r+") is non-numeric or out of bounds (0-"+a+").");return n[i][t]}function kt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Ct.bind(null,"start",0,e),end:Ct.bind(null,"end",1,e)}}function Dt(e,t){return Array.isArray(e)?kt(e):void 0===e||void 0===t?kt():kt([[e,t]])}function At(e,t){var n,i=0,r=void 0;if(!t)return 0;e&&e.length||(e=Dt(0,0));for(var a=0;a<e.length;a++)n=e.start(a),i+=(r=t<(r=e.end(a))?t:r)-n;return i/t}for(var xt={},Lt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ot=Lt[0],It=void 0,Rt=0;Rt<Lt.length;Rt++)if(Lt[Rt][1]in c){It=Lt[Rt];break}if(It)for(var Pt=0;Pt<It.length;Pt++)xt[Ot[Pt]]=It[Pt];function Mt(e){if(e instanceof Mt)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Y(e)&&("number"==typeof e.code&&(this.code=e.code),p(this,e)),this.message||(this.message=Mt.defaultMessages[this.code]||"")}Mt.prototype.code=0,Mt.prototype.message="",Mt.prototype.status=null,Mt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Mt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Nt=0;Nt<Mt.errorTypes.length;Nt++)Mt[Mt.errorTypes[Nt]]=Nt,Mt.prototype[Mt.errorTypes[Nt]]=Nt;var Ut=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]};function Ft(e){return null!=e&&"function"==typeof e.then}function jt(e){Ft(e)&&e.then(null,function(e){})}function Bt(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,n){return i[t]&&(e[t]=i[t]),e},{cues:i.cues&&Array.prototype.map.call(i.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var Ht,Wt=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Bt(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Bt))},Gt=function(e,n){return e.forEach(function(e){var t=n.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),n.textTracks()},qt="vjs-modal-dialog",Vt=(i(a,Ht=y),a.prototype.createEl=function(){return Ht.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},a.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,Ht.prototype.dispose.call(this)},a.prototype.buildCSSClass=function(){return qt+" vjs-hidden "+Ht.prototype.buildCSSClass.call(this)},a.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},a.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},a.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},a.prototype.open=function(){var e;this.opened_||(e=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",l(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},a.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},a.prototype.close=function(){var e;this.opened_&&(e=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",l(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},a.prototype.closeable=function(e){var t,n;return"boolean"==typeof e&&(e=this.closeable_=!!e,t=this.getChild("closeButton"),e&&!t&&(n=this.contentEl_,this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(t,"close",this.close)),!e&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())),this.closeable_},a.prototype.fill=function(){this.fillWith(this.content())},a.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling,e=(this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),we(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t),this.getChild("closeButton"));e&&n.appendChild(e.el_)},a.prototype.empty=function(){this.trigger("beforemodalempty"),_e(this.contentEl()),this.trigger("modalempty")},a.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},a.prototype.conditionalFocus_=function(){var e=c.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus(),this.on(c,"keydown",this.handleKeyDown))},a.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(c,"keydown",this.handleKeyDown)},a.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,r=0;r<t.length;r++)if(n===t[r]){i=r;break}c.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}},a.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof h.HTMLAnchorElement||e instanceof h.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof h.HTMLInputElement||e instanceof h.HTMLSelectElement||e instanceof h.HTMLTextAreaElement||e instanceof h.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof h.HTMLIFrameElement||e instanceof h.HTMLObjectElement||e instanceof h.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},a);function a(e,t){u(this,a);e=f(this,Ht.call(this,e,t));return e.opened_=e.hasBeenOpened_=e.hasBeenFilled_=!1,e.closeable(!e.options_.uncloseable),e.content(e.options_.content),e.contentEl_=ne("div",{className:qt+"-content"},{role:"document"}),e.descEl_=ne("p",{className:qt+"-description vjs-control-text",id:e.el().getAttribute("aria-describedby")}),ie(e.descEl_,e.description()),e.el_.appendChild(e.descEl_),e.el_.appendChild(e.contentEl_),e}Vt.prototype.options_={pauseOnOpen:!0,temporary:!0},y.registerComponent("ModalDialog",Vt);i(Kt,Yt=Ze),Kt.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},Kt.prototype.removeTrack=function(e){for(var t=void 0,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},Kt.prototype.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t};var Yt,zt,$t=Kt;function Kt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=(u(this,Kt),f(this,Yt.call(this)));t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});for(var n=0;n<e.length;n++)t.addTrack(e[n]);return t}for(zt in $t.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},$t.prototype.allowedEvents_)$t.prototype["on"+zt]=null;function Xt(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)}i(Jt,Qt=$t),Jt.prototype.addTrack=function(e){var t=this;e.enabled&&Xt(this,e),Qt.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,Xt(t,e),t.changing_=!1,t.trigger("change"))})};var Qt,n=Jt;function Jt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];u(this,Jt);for(var t=e.length-1;0<=t;t--)if(e[t].enabled){Xt(e,e[t]);break}var n=f(this,Qt.call(this,e));return n.changing_=!1,n}function Zt(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)}i(tn,en=$t),tn.prototype.addTrack=function(e){var t=this;e.selected&&Zt(this,e),en.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,Zt(t,e),t.changing_=!1,t.trigger("change"))})};var en,e=tn;function tn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];u(this,tn);for(var t=e.length-1;0<=t;t--)if(e[t].selected){Zt(e,e[t]);break}var n=f(this,en.call(this,e));return n.changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}i(rn,nn=$t),rn.prototype.addTrack=function(e){nn.prototype.addTrack.call(this,e),e.addEventListener("modechange",l(this,function(){this.queueTrigger("change")}));-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",l(this,function(){this.trigger("selectedlanguagechange")}))};var nn,t=rn;function rn(){return u(this,rn),f(this,nn.apply(this,arguments))}an.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},an.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},an.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}};r=an;function an(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];u(this,an),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}sn.prototype.setCues_=function(e){function t(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}var n=this.length||0,i=0,r=e.length;this.cues_=e,this.length_=e.length;if(n<r)for(i=n;i<r;i++)t.call(this,i)},sn.prototype.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t};var on=sn;function sn(e){u(this,sn),sn.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var ln,un={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},cn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},dn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},hn={disabled:"disabled",hidden:"hidden",showing:"showing"},o=(i(fn,ln=Ze),fn);function fn(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(u(this,fn),f(this,ln.call(this))),i={id:t.id||"vjs_track_"+Ae++,kind:t.kind||"",label:t.label||"",language:t.language||""};for(e in i)!function(e){Object.defineProperty(n,e,{get:function(){return i[e]},set:function(){}})}(e);return n}function pn(e){for(var t=["protocol","hostname","port","pathname","search","hash","host"],n=c.createElement("a"),i=(n.href=e,""===n.host&&"file:"!==n.protocol),r=void 0,a=(i&&((r=c.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),c.body.appendChild(r)),{}),o=0;o<t.length;o++)a[t[o]]=n[t[o]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=h.location.protocol),i&&c.body.removeChild(r),a}function gn(e){var t;return e.match(/^https?:\/\//)||((t=c.createElement("div")).innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href),e}function mn(e){var t=_n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}var yn=function(e){if("string"==typeof e){e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(e)return e.pop().toLowerCase()}return""},vn=function(e){var t=h.location,e=pn(e);return(":"===e.protocol?t:e).protocol+e.host!==t.protocol+t.host},bn=Object.freeze({parseUrl:pn,getAbsoluteURL:gn,getFileExtension:yn,isCrossOrigin:vn}),_n=Object.prototype.toString;function Tn(e,t,n){if(!Sn(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),("[object Array]"===wn.call(e)?function(e,t,n){for(var i=0,r=e.length;i<r;i++)En.call(e,i)&&t.call(n,e[i],i,e)}:"string"==typeof e?function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e.charAt(i),i,e)}:function(e,t,n){for(var i in e)En.call(e,i)&&t.call(n,e[i],i,e)})(e,t,n)}var v=Object.freeze({default:mn,__moduleExports:mn}),b=M(function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),_=b.left,T=b.right,_=Object.freeze({default:b,__moduleExports:b,left:_,right:T}),Sn=v&&mn,wn=Object.prototype.toString,En=Object.prototype.hasOwnProperty;function Cn(e){if(!e)return{};var i={};return An(Dn(e).split("\n"),function(e){var t=e.indexOf(":"),n=Dn(e.slice(0,t)).toLowerCase(),e=Dn(e.slice(t+1));void 0===i[n]?i[n]=e:(t=i[n],"[object Array]"===Object.prototype.toString.call(t)?i[n].push(e):i[n]=[i[n],e])}),i}function kn(){for(var e={},t=0;t<arguments.length;t++){var n,i=arguments[t];for(n in i)xn.call(i,n)&&(e[n]=i[n])}return e}var T=Object.freeze({default:Tn,__moduleExports:Tn}),Dn=_&&b||_,An=T&&Tn,v=Object.freeze({default:Cn,__moduleExports:Cn}),xn=Object.prototype.hasOwnProperty;for(var b=Object.freeze({default:kn,__moduleExports:kn}),Ln=v&&Cn,On=b&&kn,In=Un,Rn=(Un.XMLHttpRequest=h.XMLHttpRequest||function(){},Un.XDomainRequest="withCredentials"in new Un.XMLHttpRequest?Un.XMLHttpRequest:h.XDomainRequest,["get","put","post","patch","head","delete"]),Pn=function(i){Un["delete"===i?"del":i]=function(e,t,n){return(t=Nn(e,t,n)).method=i.toUpperCase(),Fn(t)}},Mn=0;Mn<Rn.length;Mn++)Pn(Rn[Mn]);function Nn(e,t,n){var i=e;return Sn(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=On(t,{uri:e}),i.callback=n,i}function Un(e,t,n){return Fn(t=Nn(e,t,n))}function Fn(i){if(void 0===i.callback)throw new Error("callback argument missing");var r=!1,a=function(e,t,n){r||(r=!0,i.callback(e,t,n))};function o(){var e=void 0,e=u.response||u.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(u);if(g)try{e=JSON.parse(e)}catch(e){}return e}function t(e){return clearTimeout(l),(e=e instanceof Error?e:new Error(""+(e||"Unknown XMLHttpRequest Error"))).statusCode=0,a(e,m)}function e(){var e,t,n;if(!s)return clearTimeout(l),e=i.useXDR&&void 0===u.status?200:1223===u.status?204:u.status,t=m,n=null,0!==e?(t={body:o(),statusCode:e,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(t.headers=Ln(u.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),a(n,t,t.body)}var n,s,l,u=i.xhr||null,c=(u=u||new(i.cors||i.useXDR?Un.XDomainRequest:Un.XMLHttpRequest)).url=i.uri||i.url,d=u.method=i.method||"GET",h=i.body||i.data,f=u.headers=i.headers||{},p=!!i.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in i&&!1!==i.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===i.json?h:i.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(e,0)},u.onload=e,u.onerror=t,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=t,u.open(d,c,!p,i.username,i.password),p||(u.withCredentials=!!i.withCredentials),!p&&0<i.timeout&&(l=setTimeout(function(){var e;s||(s=!0,u.abort("timeout"),(e=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",t(e))},i.timeout)),u.setRequestHeader)for(n in f)f.hasOwnProperty(n)&&u.setRequestHeader(n,f[n]);else if(i.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(u.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(u),u.send(h||null),u}var jn,Bn=function(e,t){var n=new h.WebVTT.Parser(h,h.vttjs,h.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<i.length&&(h.console&&h.console.groupCollapsed&&h.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return d.error(e)}),h.console&&h.console.groupEnd&&h.console.groupEnd()),n.flush()},Hn=(i(Wn,jn=o),Wn.prototype.addCue=function(e){var t=e;if(h.vttjs&&!(e instanceof h.vttjs.VTTCue)){for(var n in t=new h.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},Wn.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},Wn);function Wn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(u(this,Wn),!e.tech)throw new Error("A tech was not provided.");var e=m(e,{kind:dn[e.kind]||"subtitles",language:e.language||e.srclang||""}),n=hn[e.mode]||"disabled",t=e.default,i=("metadata"!==e.kind&&"chapters"!==e.kind||(n="hidden"),f(this,jn.call(this,e))),r=(i.tech_=e.tech,i.cues_=[],i.activeCues_=[],new on(i.cues_)),o=new on(i.activeCues_),s=!1,a=l(i,function(){this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1)});return"disabled"!==n&&i.tech_.ready(function(){i.tech_.on("timeupdate",a)},!0),Object.defineProperties(i,{default:{get:function(){return t},set:function(){}},mode:{get:function(){return n},set:function(e){var t=this;hn[e]&&("showing"===(n=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",a)},!0),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?r:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(s=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set:function(){}}}),e.src?(i.src=e.src,function(e,r){var t={uri:e},e=vn(e);e&&(t.cors=e),In(t,l(this,function(e,t,n){if(e)return d.error(e,t);var i;r.loaded_=!0,"function"!=typeof h.WebVTT?r.tech_&&(r.tech_.on("vttjsloaded",i=function(){return Bn(n,r)}),r.tech_.on("vttjserror",function(){d.error("vttjs failed to load, stopping trying to process "+r.src),r.tech_.off("vttjsloaded",i)})):Bn(n,r)}))}(e.src,i)):i.loaded_=!0,i}Hn.prototype.allowedEvents_={cuechange:"cuechange"};i(qn,Gn=o);var Gn,_=qn;function qn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(u(this,qn),m(e,{kind:cn[e.kind]||""})),t=f(this,Gn.call(this,e)),n=!1;return Object.defineProperty(t,"enabled",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),e.enabled&&(t.enabled=e.enabled),t.loaded_=!0,t}i(Yn,Vn=o);var Vn,T=Yn;function Yn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(u(this,Yn),m(e,{kind:un[e.kind]||""})),t=f(this,Vn.call(this,e)),n=!1;return Object.defineProperty(t,"selected",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),e.selected&&(t.selected=e.selected),t}i($n,zn=Ze);var zn,v=$n;function $n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(u(this,$n),f(this,zn.call(this))),n=void 0,i=new Hn(e);return t.kind=i.kind,t.src=i.src,t.srclang=i.language,t.label=i.label,t.default=i.default,Object.defineProperties(t,{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=0,i.addEventListener("loadeddata",function(){n=2,t.trigger({type:"load",target:t})}),t}v.prototype.allowedEvents_={load:"load"},v.NONE=0,v.LOADING=1,v.LOADED=2,v.ERROR=3;var Kn={audio:{ListClass:n,TrackClass:_,capitalName:"Audio"},video:{ListClass:e,TrackClass:T,capitalName:"Video"},text:{ListClass:t,TrackClass:Hn,capitalName:"Text"}},Xn=(Object.keys(Kn).forEach(function(e){Kn[e].getterName=e+"Tracks",Kn[e].privateName=e+"Tracks_"}),{remoteText:{ListClass:t,TrackClass:Hn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:r,TrackClass:v,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),Qn=m(Kn,Xn),Jn=(Xn.names=Object.keys(Xn),Kn.names=Object.keys(Kn),Qn.names=[].concat(Xn.names).concat(Kn.names),Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Zn.prototype=e,new Zn});function Zn(){}function ei(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function ti(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}e=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function ni(){this.values=Jn(null)}function ii(e,t,n,i){var r,a,o=i?e.split(i):[e];for(r in o)"string"==typeof o[r]&&(2===(a=o[r].split(n)).length&&t(a[0],a[1]))}((ei.prototype=Jn(Error.prototype)).constructor=ei).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ni.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var ri={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â","&rlm;":"â","&nbsp;":"Â "},ai={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},oi={v:"title",lang:"lang"},si={rt:"ruby"};function li(r,t){function n(e){return ri[e]}for(var e,i,a,o,s,l=r.document.createElement("div"),u=l,c=[];null!==(e=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]*>?)?/);return e=e[1]||e[2],t=t.substr(e.length),e}());)"<"===e[0]?"/"===e[1]?c.length&&c[c.length-1]===e.substr(2).replace(">","")&&(c.pop(),u=u.parentNode):(o=ti(e.substr(1,e.length-2)))?(i=r.document.createProcessingInstruction("timestamp",o),u.appendChild(i)):(a=e.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(i=function(e,t){var n=ai[e];if(!n)return null;var i=r.document.createElement(n);return i.localName=n,(n=oi[e])&&t&&(i[n]=t.trim()),i}(a[1],a[3]))&&(o=u,si[(s=i).localName]&&si[s.localName]!==o.localName||(a[2]&&(i.className=a[2].substr(1).replace("."," ")),c.push(a[1]),u.appendChild(i),u=i)):u.appendChild(r.document.createTextNode(function(e){for(;a=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(a[0],n);return e}(e)));return l}var ui=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ci(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function a(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}for(a(t,e);n=function e(t){if(!t||!t.length)return null;var n,i=t.pop(),r=i.textContent||i.innerText;return r?(n=r.match(/^.*(\n|\r)/))?n[t.length=0]:r:"ruby"===i.tagName?e(t):i.childNodes?(a(t,i),e(t)):void 0}(t);)for(var i=0;i<n.length;i++)if(function(e){for(var t=0;t<ui.length;t++){var n=ui[t];if(e>=n[0]&&e<=n[1])return 1}}(n.charCodeAt(i)))return"rtl";return"ltr"}function di(){}function hi(e,t,n){di.call(this),this.cue=t,this.cueDiv=li(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"},r=(this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:ci(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv),0);switch(t.positionAlign){case"start":r=t.position;break;case"middle":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function fi(e){var t,n,i,r;e.div&&(t=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop,r=(r=e.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects(),e=e.div.getBoundingClientRect(),r=r?Math.max(r[0]&&r[0].height||0,e.height/r.length):0),this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||t,this.bottom=e.bottom||i+(e.height||t),this.width=e.width||n,this.lineHeight=void 0!==r?r:e.lineHeight}function pi(e,t,s,l){var n,i=new fi(t),r=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(r),o=[];if(r.snapToLines){switch(r.vertical){case"":o=["+y","-y"],n="height";break;case"rl":o=["+x","-x"],n="width";break;case"lr":o=["-x","+x"],n="width"}var u=i.lineHeight,c=u*Math.round(a),d=s[n]+u,h=o[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),a<0&&(c+=""===r.vertical?s.height:s.width,o=o.reverse()),i.move(h,c)}else{var f=i.lineHeight/s.height*100;switch(r.lineAlign){case"middle":a-=f/2;break;case"end":a-=f}switch(r.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],i=new fi(t)}d=function(e,t){for(var n,i=new fi(e),r=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(s,t[a])||e.within(s)&&e.overlapsAny(l);)e.move(t[a]);if(e.within(s))return e;var o=e.intersectPercentage(s);o<r&&(n=new fi(e),r=o),e=new fi(i)}return n||i}(i,o);t.move(d.toCSSCompatValues(s))}function gi(){}di.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},di.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(hi.prototype=Jn(di.prototype)).constructor=hi,fi.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},fi.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},fi.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},fi.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},fi.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},fi.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},fi.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},fi.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},gi.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},gi.convertCueToDOMTree=function(e,t){return e&&t?li(e,t):null};gi.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1}(t))for(var r,a,o=[],s=fi.getSimpleBoxPosition(i),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"},u=0;u<t.length;u++)a=t[u],r=new hi(e,a,l),i.appendChild(r.div),pi(0,r,s,o),a.displayState=r.div,o.push(fi.getSimpleBoxPosition(r));else for(var c=0;c<t.length;c++)i.appendChild(t[c].displayState)},(gi.Parser=function(e,t,n){n||(n=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof ei))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var i=this;function t(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}function n(e){e.match(/X-TIMESTAMP-MAP/)?ii(e,function(e,t){var n;"X-TIMESTAMP-MAP"===e&&(e=t,n=new ni,ii(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",ti(t))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")}))},/=/):ii(e,function(e,t){var r;"Region"===e&&(e=t,r=new ni,ii(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new ni;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")&&((e=new(i.vttjs.VTTRegion||i.window.VTTRegion)).width=r.get("width",100),e.lines=r.get("lines",3),e.regionAnchorX=r.get("regionanchorX",0),e.regionAnchorY=r.get("regionanchorY",100),e.viewportAnchorX=r.get("viewportanchorX",0),e.viewportAnchorY=r.get("viewportanchorY",100),e.scroll=r.get("scroll",""),i.onregion&&i.onregion(e),i.regionList.push({id:r.get("id"),region:e})))},/:/)}e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var r,a=(r=t()).match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new ei(ei.Errors.BadSignature);i.state="HEADER"}for(var o=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(o?o=!1:r=t(),i.state){case"HEADER":/:/.test(r)?n(r):r||(i.state="ID");continue;case"NOTE":r||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){i.state="NOTE";break}if(!r)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===r.indexOf("--\x3e")){i.cue.id=r;continue}case"CUE":try{!function(t,e,a){var n,o,i=t;function r(){var e=ti(t);if(null===e)throw new ei(ei.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=r(),s(),"--\x3e"!==t.substr(0,3))throw new ei(ei.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),s(),e.endTime=r(),s(),n=t,e=e,o=new ni,ii(n,function(e,t){switch(e){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===t){o.set(e,a[n].region);break}break;case"vertical":o.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),r=i[0];o.integer(e,r),o.percent(e,r)&&o.set("snapToLines",!1),o.alt(e,r,["auto"]),2===i.length&&o.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),o.percent(e,i[0]),2===i.length&&o.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":o.percent(e,t);break;case"align":o.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),e.region=o.get("region",null),e.vertical=o.get("vertical",""),e.line=o.get("line","auto"),e.lineAlign=o.get("lineAlign","start"),e.snapToLines=o.get("snapToLines",!0),e.size=o.get("size",100),e.align=o.get("align","middle"),e.position=o.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=o.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(r,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(o=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=r;continue;case"BADCUE":r||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new ei(ei.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var b=gi,o=Object.freeze({default:b,__moduleExports:b}),mi={"":1,lr:1,rl:1},yi={start:1,middle:1,end:1,left:1,right:1};function vi(e){return"string"==typeof e&&(!!yi[e.toLowerCase()]&&e.toLowerCase())}function bi(e,t,n){this.hasBeenReset=!1;var i="",r=!1,a=e,o=t,s=n,l=null,u="",c=!0,d="auto",h="start",f=50,p="middle",g=50,m="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(e){i=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");a=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");o=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(e){s=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(e){e="string"==typeof(e=e)&&(!!mi[e.toLowerCase()]&&e.toLowerCase());if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){e=vi(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");h=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");f=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(e){e=vi(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(e){e=vi(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}}}),this.displayState=void 0}bi.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var n=Object.freeze({default:bi,__moduleExports:bi}),_i={"":!0,up:!0};function Ti(e){return"number"==typeof e&&0<=e&&e<=100}function Si(){var t=100,n=3,i=0,r=100,a=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Ti(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!Ti(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!Ti(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!Ti(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!Ti(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){e="string"==typeof(e=e)&&(!!_i[e.toLowerCase()]&&e.toLowerCase());if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");s=e}}})}var e=Object.freeze({default:Si,__moduleExports:Si}),wi=o&&b,Ei=n&&bi,Ci=e&&Si,ki=M(function(e){var e=e.exports={WebVTT:wi,VTTCue:Ei,VTTRegion:Ci},t=(h.vttjs=e,h.WebVTT=e.WebVTT,e.VTTCue),n=e.VTTRegion,i=h.VTTCue,r=h.VTTRegion;e.shim=function(){h.VTTCue=t,h.VTTRegion=n},e.restore=function(){h.VTTCue=i,h.VTTRegion=r},h.VTTCue||e.shim()});ki.WebVTT,ki.VTTCue,ki.VTTRegion;i(w,Di=y),w.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},w.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},w.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},w.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(l(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},w.prototype.onDurationChange=function(e){this.duration_=this.duration()},w.prototype.buffered=function(){return Dt(0,0)},w.prototype.bufferedPercent=function(){return At(this.buffered(),this.duration_)},w.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},w.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},w.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},w.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},w.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},w.prototype.dispose=function(){this.clearTracks(Kn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),Di.prototype.dispose.call(this)},w.prototype.clearTracks=function(e){var r=this;(e=[].concat(e)).forEach(function(e){for(var t=r[e+"Tracks"]()||[],n=t.length;n--;){var i=t[n];"text"===e&&r.removeRemoteTextTrack(i),t.removeTrack(i)}})},w.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},w.prototype.reset=function(){},w.prototype.error=function(e){return void 0!==e&&(this.error_=new Mt(e),this.trigger("error")),this.error_},w.prototype.played=function(){return this.hasStarted_?Dt(0,0):Dt()},w.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},w.prototype.initTrackListeners=function(){var r=this;Kn.names.forEach(function(e){function t(){r.trigger(e+"trackchange")}var n=Kn[e],i=r[n.getterName]();i.addEventListener("removetrack",t),i.addEventListener("addtrack",t),r.on("dispose",function(){i.removeEventListener("removetrack",t),i.removeEventListener("addtrack",t)})})},w.prototype.addWebVttScript_=function(){var e,t=this;h.WebVTT||(c.body.contains(this.el())?!this.options_["vtt.js"]&&z(ki)&&0<Object.keys(ki).length?this.trigger("vttjsloaded"):((e=c.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),h.WebVTT=!0,this.el().parentNode.appendChild(e)):this.ready(this.addWebVttScript_))},w.prototype.emulateTextTracks=function(){function t(e){return r.addTrack(e.track)}function n(e){return r.removeTrack(e.track)}function i(){o();for(var e=0;e<r.length;e++){var t=r[e];t.removeEventListener("cuechange",o),"showing"===t.mode&&t.addEventListener("cuechange",o)}}var e=this,r=this.textTracks(),a=this.remoteTextTracks(),o=(a.on("addtrack",t),a.on("removetrack",n),this.addWebVttScript_(),function(){return e.trigger("texttrackchange")});i(),r.addEventListener("change",i),r.addEventListener("addtrack",i),r.addEventListener("removetrack",i),this.on("dispose",function(){a.off("addtrack",t),a.off("removetrack",n),r.removeEventListener("change",i),r.removeEventListener("addtrack",i),r.removeEventListener("removetrack",i);for(var e=0;e<r.length;e++)r[e].removeEventListener("cuechange",o)})},w.prototype.addTextTrack=function(e,t,n){if(e)return function(e,t,n,i,r){var a=4<arguments.length&&void 0!==r?r:{},o=e.textTracks(),a=(a.kind=t,n&&(a.label=n),i&&(a.language=i),a.tech=e,new Qn.text.TrackClass(a));return o.addTrack(a),a}(this,e,t,n);throw new Error("TextTrack kind is required but was not provided")},w.prototype.createRemoteTextTrack=function(e){e=m(e,{tech:this});return new Xn.remoteTextEl.TrackClass(e)},w.prototype.addRemoteTextTrack=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(d.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==n&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(i.track)}),i},w.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},w.prototype.getVideoPlaybackQuality=function(){return{}},w.prototype.setPoster=function(){},w.prototype.playsinline=function(){},w.prototype.setPlaysinline=function(){},w.prototype.overrideNativeAudioTracks=function(){},w.prototype.overrideNativeVideoTracks=function(){},w.prototype.canPlayType=function(){return""},w.canPlayType=function(){return""},w.canPlaySource=function(e,t){return w.canPlayType(e.type)},w.isTech=function(e){return e.prototype instanceof w||e instanceof w||e===w},w.registerTech=function(e,t){if(w.techs_||(w.techs_={}),!w.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!w.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(w.canPlaySource)return e=g(e),w.techs_[e]=t,"Tech"!==e&&w.defaultTechOrder_.push(e),t;throw new Error("Techs must have a static canPlaySource method on them")},w.getTech=function(e){if(e)return e=g(e),w.techs_&&w.techs_[e]?w.techs_[e]:h&&h.videojs&&h.videojs[e]?(d.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),h.videojs[e]):void 0};var Di,S=w;function w(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=(u(this,w),t.reportTouchActivity=!1,f(this,Di.call(this,null,t,e)));return n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Qn.names.forEach(function(e){e=Qn[e];t&&t[e.getterName]&&(n[e.privateName]=t[e.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Qn.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}Qn.names.forEach(function(e){var t=Qn[e];S.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),S.prototype.featuresVolumeControl=!0,S.prototype.featuresMuteControl=!0,S.prototype.featuresFullscreenResize=!1,S.prototype.featuresPlaybackRate=!1,S.prototype.featuresProgressEvents=!1,S.prototype.featuresSourceset=!1,S.prototype.featuresTimeupdateEvents=!1,S.prototype.featuresNativeTextTracks=!1,S.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){var n=(n=r.sourceHandlers)||(r.sourceHandlers=[]);void 0===t&&(t=n.length),n.splice(t,0,e)},r.canPlayType=function(e){for(var t,n=r.sourceHandlers||[],i=0;i<n.length;i++)if(t=n[i].canPlayType(e))return t;return""},r.selectSourceHandler=function(e,t){for(var n=r.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(e,t))return n[i];return null},r.canPlaySource=function(e,t){var n=r.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var t=r.selectSourceHandler(e,this.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:d.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},y.registerComponent("Tech",S),S.registerTech("Tech",S),S.defaultTechOrder_=[];var Ai={},xi={},Li={};function Oi(e,t,n){e.setTimeout(function(){return function n(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];var r=arguments[2];var a=arguments[3];var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];var s=5<arguments.length&&void 0!==arguments[5]&&arguments[5];var t=e[0],l=e.slice(1);if("string"==typeof t)n(i,Ai[t],r,a,o,s);else if(t){var u=Ui(a,t);if(!u.setSource)return o.push(u),n(i,l,r,a,o,s);u.setSource(p({},i),function(e,t){if(e)return n(i,l,r,a,o,s);o.push(u),n(t,i.type===t.type?l:Ai[t.type],r,a,o,s)})}else l.length?n(i,l,r,a,o,s):s?r(i,o):n(i,Ai["*"],r,a,o,!0)}(t,Ai[t.type],n,e)},1)}function Ii(e,t,n,i){for(var r=3<arguments.length&&void 0!==i?i:null,a="call"+g(n),a=e.reduce(Ni(a),r),r=a===Li,a=r?null:t[n](a),o=e,s=n,l=a,u=r,c=o.length-1;0<=c;c--){var d=o[c];d[s]&&d[s](u,l)}return a}var Ri={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Pi={setCurrentTime:1},Mi={play:1,pause:1};function Ni(n){return function(e,t){return e===Li?Li:t[n]?t[n](e):e}}function Ui(e,t){var n=xi[e.id()],i=null;if(null==n)return i=t(e),xi[e.id()]=[[t,i]],i;for(var r=0;r<n.length;r++){var a=n[r],o=a[0],a=a[1];o===t&&(i=a)}return null===i&&(i=t(e),n.push([t,i])),i}function Fi(e){var t;return e=Array.isArray(e)?(t=[],e.forEach(function(e){e=Fi(e),Array.isArray(e)?t=t.concat(e):Y(e)&&t.push(e)}),t):"string"==typeof e&&e.trim()?[Hi({src:e})]:Y(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Hi(e)]:[]}var ji={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Bi=function(){var e=yn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return ji[e.toLowerCase()]||""};function Hi(e){var t=Bi(e.src);return!e.type&&t&&(e.type=t),e}i(Gi,Wi=y);var Wi,t=Gi;function Gi(e,t,n){u(this,Gi);var i=m({createEl:!1},t),i=f(this,Wi.call(this,e,i,n));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var r=0,a=t.playerOptions.techOrder;r<a.length;r++){var o=g(a[r]),s=S.getTech(o);if((s=o?s:y.getComponent(o))&&s.isSupported()){e.loadTech_(o);break}}return i}y.registerComponent("MediaLoader",t);i(Vi,qi=y),Vi.prototype.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=p({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),e=("button"===e&&d.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=p({role:"button"},n),this.tabIndex_=t.tabIndex,qi.prototype.createEl.call(this,e,t,n));return this.createControlTextEl(e),e},Vi.prototype.dispose=function(){this.controlTextEl_=null,qi.prototype.dispose.call(this)},Vi.prototype.createControlTextEl=function(e){return this.controlTextEl_=ne("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},Vi.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,ie(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},Vi.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+qi.prototype.buildCSSClass.call(this)},Vi.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},Vi.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},Vi.prototype.handleClick=function(e){},Vi.prototype.handleFocus=function(e){Be(c,"keydown",l(this,this.handleKeyPress))},Vi.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):qi.prototype.handleKeyPress&&qi.prototype.handleKeyPress.call(this,e)},Vi.prototype.handleBlur=function(e){He(c,"keydown",l(this,this.handleKeyPress))};var qi,r=Vi;function Vi(e,t){u(this,Vi);e=f(this,qi.call(this,e,t));return e.emitTapEvents(),e.enable(),e}y.registerComponent("ClickableComponent",r);i(zi,Yi=r),zi.prototype.dispose=function(){this.player().off("posterchange",this.update),Yi.prototype.dispose.call(this)},zi.prototype.createEl=function(){return ne("div",{className:"vjs-poster",tabIndex:-1})},zi.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},zi.prototype.setSrc=function(e){e=e?'url("'+e+'")':"";this.el_.style.backgroundImage=e},zi.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?jt(this.player_.play()):this.player_.pause())};var Yi,v=zi;function zi(e,t){u(this,zi);t=f(this,Yi.call(this,e,t));return t.update(),e.on("posterchange",l(t,t.update)),t}y.registerComponent("PosterImage",v);var $i={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ki(e,t){var n=void 0;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Xi(e,t,n){try{e.style[t]=n}catch(e){return}}i(Ji,Qi=y),Ji.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,r=void 0,a=void 0,o=0;o<t.length;o++){var s=t[o];n&&n.enabled&&n.language===s.language?a=s.kind!==n.kind&&a||s:n&&!n.enabled?r=i=a=null:s.default&&("descriptions"!==s.kind||i?s.kind in e&&!r&&(r=s):i=s)}a?a.mode="showing":r?r.mode="showing":i&&(i.mode="showing")},Ji.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},Ji.prototype.createEl=function(){return Qi.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},Ji.prototype.clearDisplay=function(){"function"==typeof h.WebVTT&&h.WebVTT.processCues(h,[],this.el_)},Ji.prototype.updateDisplay=function(){for(var e=this.player_.textTracks(),t=(this.clearDisplay(),null),n=null,i=e.length;i--;){var r=e[i];"showing"===r.mode&&("descriptions"===r.kind?t=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},Ji.prototype.updateForTrack=function(e){if("function"==typeof h.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(h.WebVTT.processCues(h,t,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),r=t.length;r--;){var a,o=t[r];o&&(o=o.displayState,i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&Xi(o.firstChild,"color",Ki(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Xi(o.firstChild,"backgroundColor",Ki(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Xi(o,"backgroundColor",Ki(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent&&(a=h.parseFloat(o.style.fontSize),o.style.fontSize=a*i.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"),i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=$i[i.fontFamily]))}}};var Qi,o=Ji;function Ji(n,e,t){u(this,Ji);e=f(this,Qi.call(this,n,e,t));return n.on("loadstart",l(e,e.toggleDisplay)),n.on("texttrackchange",l(e,e.updateDisplay)),n.on("loadstart",l(e,e.preselectTrack)),n.ready(l(e,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",l(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),e}y.registerComponent("TextTrackDisplay",o);i(er,Zi=y),er.prototype.createEl=function(){var e=this.player_.isAudio(),e=this.localize(e?"Audio Player":"Video Player"),e=ne("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[e])}),t=Zi.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(e),t};var Zi,b=er;function er(){return u(this,er),f(this,Zi.apply(this,arguments))}y.registerComponent("LoadingSpinner",b);i(ir,tr=r),ir.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=(e="button",t=p({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=p({type:"button"},n),y.prototype.createEl.call(this,e,t,n));return this.createControlTextEl(t),t},ir.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return d.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),y.prototype.addChild.call(this,e,t)},ir.prototype.enable=function(){tr.prototype.enable.call(this),this.el_.removeAttribute("disabled")},ir.prototype.disable=function(){tr.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},ir.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&tr.prototype.handleKeyPress.call(this,e)};var tr,nr=ir;function ir(){return u(this,ir),f(this,tr.apply(this,arguments))}y.registerComponent("Button",nr);i(ar,rr=nr),ar.prototype.buildCSSClass=function(){return"vjs-big-play-button"},ar.prototype.handleClick=function(e){var t,n=this.player_.play();this.mouseused_&&e.clientX&&e.clientY?jt(n):(e=this.player_.getChild("controlBar"),(t=e&&e.getChild("playToggle"))?(e=function(){return t.focus()},Ft(n)?n.then(e,function(){}):this.setTimeout(e,1)):this.player_.focus())},ar.prototype.handleKeyPress=function(e){this.mouseused_=!1,rr.prototype.handleKeyPress.call(this,e)},ar.prototype.handleMouseDown=function(e){this.mouseused_=!0};var rr,n=ar;function ar(e,t){u(this,ar);e=f(this,rr.call(this,e,t));return e.mouseused_=!1,e.on("mousedown",e.handleMouseDown),e}n.prototype.controlText_="Play Video",y.registerComponent("BigPlayButton",n);i(sr,or=nr),sr.prototype.buildCSSClass=function(){return"vjs-close-button "+or.prototype.buildCSSClass.call(this)},sr.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})};var or,e=sr;function sr(e,t){u(this,sr);e=f(this,or.call(this,e,t));return e.controlText(t&&t.controlText||e.localize("Close")),e}y.registerComponent("CloseButton",e);i(ur,lr=nr),ur.prototype.buildCSSClass=function(){return"vjs-play-control "+lr.prototype.buildCSSClass.call(this)},ur.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},ur.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},ur.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},ur.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},ur.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)};var lr,t=ur;function ur(e,t){u(this,ur);t=f(this,lr.call(this,e,t));return t.on(e,"play",t.handlePlay),t.on(e,"pause",t.handlePause),t.on(e,"ended",t.handleEnded),t}t.prototype.controlText_="Play",y.registerComponent("PlayToggle",t);function cr(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),a=Math.floor(t/60%60),t=Math.floor(t/3600);return(r=0<(r=!isNaN(e)&&e!==1/0?r:i=n="-")||0<t?r+":":"")+(i=((r||10<=a)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)}var dr=cr;function hr(e){return dr(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:e)}i(pr,fr=y),pr.prototype.createEl=function(e){var t=this.buildCSSClass(),n=fr.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"Â </span>"});return this.contentEl_=ne("span",{className:t+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},pr.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,fr.prototype.dispose.call(this)},pr.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=c.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},pr.prototype.formatTime_=function(e){return hr(e)},pr.prototype.updateFormattedTime_=function(e){e=this.formatTime_(e);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},pr.prototype.updateContent=function(e){};var fr,v=pr;function pr(e,t){u(this,pr);t=f(this,fr.call(this,e,t));return t.throttledUpdateContent=Qe(l(t,t.updateContent),25),t.on(e,"timeupdate",t.throttledUpdateContent),t}v.prototype.labelText_="Time",v.prototype.controlText_="Time",y.registerComponent("TimeDisplay",v);i(mr,gr=v),mr.prototype.buildCSSClass=function(){return"vjs-current-time"},mr.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},mr.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())};var gr,o=mr;function mr(e,t){u(this,mr);t=f(this,gr.call(this,e,t));return t.on(e,"ended",t.handleEnded),t}o.prototype.labelText_="Current Time",o.prototype.controlText_="Current Time",y.registerComponent("CurrentTimeDisplay",o);i(vr,yr=v),vr.prototype.buildCSSClass=function(){return"vjs-duration"},vr.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))};var yr,b=vr;function vr(e,t){u(this,vr);t=f(this,yr.call(this,e,t));return t.on(e,"durationchange",t.updateContent),t.on(e,"loadedmetadata",t.throttledUpdateContent),t}b.prototype.labelText_="Duration",b.prototype.controlText_="Duration",y.registerComponent("DurationDisplay",b);i(_r,br=y),_r.prototype.createEl=function(){return br.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};var br,n=_r;function _r(){return u(this,_r),f(this,br.apply(this,arguments))}y.registerComponent("TimeDivider",n);i(Sr,Tr=v),Sr.prototype.buildCSSClass=function(){return"vjs-remaining-time"},Sr.prototype.formatTime_=function(e){return"-"+Tr.prototype.formatTime_.call(this,e)},Sr.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},Sr.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)};var Tr,e=Sr;function Sr(e,t){u(this,Sr);t=f(this,Tr.call(this,e,t));return t.on(e,"durationchange",t.throttledUpdateContent),t.on(e,"ended",t.handleEnded),t}e.prototype.labelText_="Remaining Time",e.prototype.controlText_="Remaining Time",y.registerComponent("RemainingTimeDisplay",e);i(Er,wr=y),Er.prototype.createEl=function(){var e=wr.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ne("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"Â </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},Er.prototype.dispose=function(){this.contentEl_=null,wr.prototype.dispose.call(this)},Er.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()};var wr,t=Er;function Er(e,t){u(this,Er);e=f(this,wr.call(this,e,t));return e.updateShowing(),e.on(e.player(),"durationchange",e.updateShowing),e}y.registerComponent("LiveDisplay",t);i(kr,Cr=y),kr.prototype.enabled=function(){return this.enabled_},kr.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},kr.prototype.disable=function(){var e;this.enabled()&&(e=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},kr.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=p({tabIndex:0},t),n=p({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),Cr.prototype.createEl.call(this,e,t,n)},kr.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument,n="vjs-selectionbar-arrow-RS"===e.srcElement.className;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||bt||e.preventDefault(),pe(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp),n||(this.on(t,"mousemove",this.handleMouseMove),this.on(t,"touchmove",this.handleMouseMove),this.handleMouseMove(e))},kr.prototype.handleMouseMove=function(e){},kr.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;ge(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},kr.prototype.update=function(){if(this.el_){var e,t=this.getPercent(),n=this.bar;if(n)return e=(100*(t="number"!=typeof t||t!=t||t<0||t===1/0?0:t)).toFixed(2)+"%",n=n.el().style,this.vertical()?n.height=e:n.width=e,t}},kr.prototype.calculateDistance=function(e){e=ve(this.el_,e);return this.vertical()?e.y:e.x},kr.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},kr.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},kr.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},kr.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},kr.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")};var Cr,o=kr;function kr(e,t){u(this,kr);e=f(this,Cr.call(this,e,t));return e.bar=e.getChild(e.options_.barName),e.vertical(!!e.options_.vertical),e.enable(),e}y.registerComponent("Slider",o);i(Ar,Dr=y),Ar.prototype.createEl=function(){return Dr.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},Ar.prototype.dispose=function(){this.partEls_=null,Dr.prototype.dispose.call(this)},Ar.prototype.update=function(e){function t(e,t){return 100*(1<=(e=e/t||0)?1:e)+"%"}var n=this.player_.buffered(),i=this.player_.duration(),r=this.player_.bufferedEnd(),a=this.partEls_;this.el_.style.width=t(r,i);for(var o=0;o<n.length;o++){var s=n.start(o),l=n.end(o),u=a[o];u||(u=this.el_.appendChild(ne()),a[o]=u),u.style.left=t(s,r),u.style.width=t(l-s,r)}for(var c=a.length;c>n.length;c--)this.el_.removeChild(a[c-1]);a.length=n.length};var Dr,b=Ar;function Ar(e,t){u(this,Ar);t=f(this,Dr.call(this,e,t));return t.partEls_=[],t.on(e,"progress",t.update),t}y.registerComponent("LoadProgressBar",b);i(Lr,xr=y),Lr.prototype.createEl=function(){return xr.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},Lr.prototype.update=function(e,t,n){var i,r=me(this.el_),a=me(this.player_.el()),t=e.width*t;a&&r&&(i=e.left-a.left+t,t=e.width-t+(a.right-e.right),i<(a=r.width/2)?a+=a-i:t<a&&(a=t),a<0?a=0:a>r.width&&(a=r.width),this.el_.style.right="-"+a+"px",ie(this.el_,n))};var xr,n=Lr;function Lr(){return u(this,Lr),f(this,xr.apply(this,arguments))}y.registerComponent("TimeTooltip",n);i(Ir,Or=y),Ir.prototype.createEl=function(){return Or.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},Ir.prototype.update=function(n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=hr(r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),r.player_.duration()),t=r.getChild("timeTooltip");t&&t.update(n,i,e)})};var Or,v=Ir;function Ir(){return u(this,Ir),f(this,Or.apply(this,arguments))}v.prototype.options_={children:[]},pt||gt||v.prototype.options_.children.push("timeTooltip"),y.registerComponent("PlayProgressBar",v);i(Pr,Rr=y),Pr.prototype.createEl=function(){return Rr.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},Pr.prototype.update=function(t,n){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=i.player_.duration(),e=hr(n*e,e);i.el_.style.left=t.width*n+"px",i.getChild("timeTooltip").update(t,n,e)})};var Rr,e=Pr;function Pr(e,t){u(this,Pr);e=f(this,Rr.call(this,e,t));return e.update=Qe(l(e,e.update),25),e}e.prototype.options_={children:["timeTooltip"]},y.registerComponent("MouseTimeDisplay",e);i(Nr,Mr=o),Nr.prototype.setEventHandlers_=function(){var e=this;this.update=Qe(l(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},Nr.prototype.createEl=function(){return Mr.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},Nr.prototype.update_=function(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[hr(e,n),hr(n,n)],"{1} of {2}")),this.bar.update(me(this.el_),t)},Nr.prototype.update=function(e){var t=Mr.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t},Nr.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},Nr.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},Nr.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return 1<=e?1:e||0},Nr.prototype.handleMouseDown=function(e){Ee(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),Mr.prototype.handleMouseDown.call(this,e))},Nr.prototype.handleMouseMove=function(e){Ee(e)&&((e=this.calculateDistance(e)*this.player_.duration())===this.player_.duration()&&(e-=.1),this.player_.currentTime(e))},Nr.prototype.enable=function(){Mr.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},Nr.prototype.disable=function(){Mr.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},Nr.prototype.handleMouseUp=function(e){Mr.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&jt(this.player_.play())},Nr.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},Nr.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},Nr.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},Nr.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):Mr.prototype.handleKeyPress&&Mr.prototype.handleKeyPress.call(this,e)};var Mr,t=Nr;function Nr(e,t){u(this,Nr);e=f(this,Mr.call(this,e,t));return e.setEventHandlers_(),e}t.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},pt||gt||t.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),t.prototype.playerEvent="timeupdate",y.registerComponent("SeekBar",t);i(Fr,Ur=y),Fr.prototype.createEl=function(){return Ur.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},Fr.prototype.handleMouseMove=function(e){var t,n,i=this.getChild("seekBar");i&&(t=i.getChild("mouseTimeDisplay"),n=me(i=i.el()),1<(i=ve(i,e).x)?i=1:i<0&&(i=0),t&&t.update(n,i))},Fr.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},Fr.prototype.enabled=function(){return this.enabled_},Fr.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},Fr.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},Fr.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},Fr.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)};var Ur,b=Fr;function Fr(e,t){u(this,Fr);e=f(this,Ur.call(this,e,t));return e.handleMouseMove=Qe(l(e,e.handleMouseMove),25),e.throttledHandleMouseSeek=Qe(l(e,e.handleMouseSeek),25),e.enable(),e}b.prototype.options_={children:["seekBar"]},y.registerComponent("ProgressControl",b);i(Br,jr=nr),Br.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+jr.prototype.buildCSSClass.call(this)},Br.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},Br.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()};var jr,n=Br;function Br(e,t){u(this,Br);t=f(this,jr.call(this,e,t));return t.on(e,"fullscreenchange",t.handleFullscreenChange),!1===c[xt.fullscreenEnabled]&&t.disable(),t}n.prototype.controlText_="Fullscreen",y.registerComponent("FullscreenToggle",n);i(Wr,Hr=y),Wr.prototype.createEl=function(){return Hr.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};var Hr,v=Wr;function Wr(){return u(this,Wr),f(this,Hr.apply(this,arguments))}y.registerComponent("VolumeLevel",v);i(qr,Gr=o),qr.prototype.createEl=function(){return Gr.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},qr.prototype.handleMouseDown=function(e){Ee(e)&&Gr.prototype.handleMouseDown.call(this,e)},qr.prototype.handleMouseMove=function(e){Ee(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},qr.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},qr.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},qr.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},qr.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},qr.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},qr.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},qr.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})};var Gr,e=qr;function qr(e,t){u(this,qr);var n=f(this,Gr.call(this,e,t));return n.on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}e.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},e.prototype.playerEvent="volumechange",y.registerComponent("VolumeBar",e);i(Yr,Vr=y),Yr.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),Vr.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},Yr.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},Yr.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},Yr.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)};var Vr,t=Yr;function Yr(e){var t,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=(u(this,Yr),i.vertical=i.vertical||!1,void 0!==i.volumeBar&&!z(i.volumeBar)||(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),f(this,Vr.call(this,e,i)));return t=r,(n=e).tech_&&!n.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}),r.throttledHandleMouseMove=Qe(l(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}t.prototype.options_={children:["volumeBar"]},y.registerComponent("VolumeControl",t);i($r,zr=nr),$r.prototype.buildCSSClass=function(){return"vjs-mute-control "+zr.prototype.buildCSSClass.call(this)},$r.prototype.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();0===t?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},$r.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},$r.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;pt&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)se(this.el_,"vjs-vol-"+n);oe(this.el_,"vjs-vol-"+t)},$r.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)};var zr,b=$r;function $r(e,t){u(this,$r);var n,i,t=f(this,zr.call(this,e,t));return n=t,(i=e).tech_&&!i.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(i,"loadstart",function(){i.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")}),t.on(e,["loadstart","volumechange"],t.update),t}b.prototype.controlText_="Mute",y.registerComponent("MuteToggle",b);i(Xr,Kr=y),Xr.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},Xr.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},Xr.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},Xr.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),Kr.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})};var Kr,n=Xr;function Xr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(u(this,Xr),void 0!==t.inline?t.inline=t.inline:t.inline=!0,void 0!==t.volumeControl&&!z(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),f(this,Kr.call(this,e,t)));return t.on(e,["loadstart"],t.volumePanelState_),t.on(t.volumeControl,["slideractive"],t.sliderActive_),t.on(t.volumeControl,["sliderinactive"],t.sliderInactive_),t}n.prototype.options_={children:["muteToggle","volumeControl"]},y.registerComponent("VolumePanel",n);i(Zr,Qr=y),Zr.prototype.addItem=function(t){this.addChild(t),t.on("click",l(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},Zr.prototype.createEl=function(){var e=this.options_.contentElType||"ul",e=(this.contentEl_=ne(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),Qr.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}));return e.appendChild(this.contentEl_),Be(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},Zr.prototype.dispose=function(){this.contentEl_=null,Qr.prototype.dispose.call(this)},Zr.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},Zr.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},Zr.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},Zr.prototype.focus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())};var Qr,Jr=Zr;function Zr(e,t){u(this,Zr);e=f(this,Qr.call(this,e,t));return t&&(e.menuButton_=t.menuButton),e.focusedChild_=-1,e.on("keydown",e.handleKeyPress),e}y.registerComponent("Menu",Jr);i(E,ea=y),E.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},E.prototype.createMenu=function(){var e,t=new Jr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(e=ne("li",{className:"vjs-menu-title",innerHTML:g(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,t.children_.unshift(e),re(e,t.contentEl())),this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},E.prototype.createItems=function(){},E.prototype.createEl=function(){return ea.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},E.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button",t=(!0===this.options_.inline?e+="-inline":e+="-popup",nr.prototype.buildCSSClass());return"vjs-menu-button "+e+" "+t+" "+ea.prototype.buildCSSClass.call(this)},E.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ea.prototype.buildCSSClass.call(this)},E.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},E.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",l(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},E.prototype.focus=function(){this.menuButton_.focus()},E.prototype.blur=function(){this.menuButton_.blur()},E.prototype.handleFocus=function(){Be(c,"keydown",l(this,this.handleKeyPress))},E.prototype.handleBlur=function(){He(c,"keydown",l(this,this.handleKeyPress))},E.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},E.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},E.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),pt&&ee()||this.menu.focus())},E.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},E.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},E.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()};var ea,v=E;function E(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(u(this,E),f(this,ea.call(this,e,t))),t=(n.menuButton_=new nr(e,t),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true"),nr.prototype.buildCSSClass());return n.menuButton_.el_.className=n.buildCSSClass()+" "+t,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}y.registerComponent("MenuButton",v);i(na,ta=v);var ta,o=na;function na(e,t){u(this,na);var n=t.tracks,e=f(this,ta.call(this,e,t));if(e.items.length<=1&&e.hide(),!n)return f(e);var i=l(e,e.update);return n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),e.player_.on("ready",i),e.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}),e}y.registerComponent("TrackButton",o);i(ra,ia=r),ra.prototype.createEl=function(e,t,n){return this.nonIconControl=!0,ia.prototype.createEl.call(this,"li",p({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),n)},ra.prototype.handleClick=function(e){this.selected(!0)},ra.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))};var ia,e=ra;function ra(e,t){u(this,ra);e=f(this,ia.call(this,e,t));return e.selectable=t.selectable,e.isSelected_=t.selected||!1,e.multiSelectable=t.multiSelectable,e.selected(e.isSelected_),e.selectable?e.multiSelectable?e.el_.setAttribute("role","menuitemcheckbox"):e.el_.setAttribute("role","menuitemradio"):e.el_.setAttribute("role","menuitem"),e}y.registerComponent("MenuItem",e);i(sa,aa=e),sa.prototype.handleClick=function(e){var t=this.track.kind,n=this.track.kinds,i=this.player_.textTracks(),n=n||[t];if(aa.prototype.handleClick.call(this,e),i)for(var r=0;r<i.length;r++){var a=i[r];a===this.track&&-1<n.indexOf(a.kind)?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},sa.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},sa.prototype.handleSelectedLanguageChange=function(e){var t;"showing"!==this.track.mode||(t=this.player_.cache_.selectedLanguage)&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind})},sa.prototype.dispose=function(){this.track=null,aa.prototype.dispose.call(this)};var aa,oa=sa;function sa(e,t){u(this,sa);function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.handleTracksChange.apply(s,t)}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.handleSelectedLanguageChange.apply(s,t)}var r,a=t.track,o=e.textTracks(),s=(t.label=a.label||a.language||"Unknown",t.selected="showing"===a.mode,f(this,aa.call(this,e,t)));s.track=a;return e.on(["loadstart","texttrackchange"],n),o.addEventListener("change",n),o.addEventListener("selectedlanguagechange",i),s.on("dispose",function(){e.off(["loadstart","texttrackchange"],n),o.removeEventListener("change",n),o.removeEventListener("selectedlanguagechange",i)}),void 0===o.onchange&&(r=void 0,s.on(["tap","click"],function(){if("object"!==St(h.Event))try{r=new h.Event("change")}catch(e){}r||(r=c.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(r)})),s.handleTracksChange(),s}y.registerComponent("TextTrackMenuItem",oa);i(ca,la=oa),ca.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var a=t[i];if(-1<this.options_.kinds.indexOf(a.kind)&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},ca.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var a=t[i];if(-1<["captions","descriptions","subtitles"].indexOf(a.kind)&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})};var la,ua=ca;function ca(e,t){return u(this,ca),t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,f(this,la.call(this,e,t))}y.registerComponent("OffTextTrackMenuItem",ua);i(ha,da=o),ha.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:oa,n=void 0,i=(this.label_&&(n=this.label_+" off"),e.push(new ua(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1,this.player_.textTracks());Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var a,o=i[r];-1<this.kinds_.indexOf(o.kind)&&((a=new t(this.player_,{track:o,selectable:!0,multiSelectable:!1})).addClass("vjs-"+o.kind+"-menu-item"),e.push(a))}return e};var da,t=ha;function ha(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,ha),t.tracks=e.textTracks(),f(this,da.call(this,e,t))}y.registerComponent("TextTrackButton",t);i(ga,fa=e),ga.prototype.handleClick=function(e){fa.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},ga.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)};var fa,pa=ga;function ga(e,t){u(this,ga);var n=t.track,i=t.cue,r=e.currentTime(),r=(t.selectable=!0,t.multiSelectable=!1,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,f(this,fa.call(this,e,t)));return r.track=n,r.cue=i,n.addEventListener("cuechange",l(r,r.update)),r}y.registerComponent("ChaptersTrackMenuItem",pa);i(ya,ma=t),ya.prototype.buildCSSClass=function(){return"vjs-chapters-button "+ma.prototype.buildCSSClass.call(this)},ya.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+ma.prototype.buildWrapperCSSClass.call(this)},ya.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),ma.prototype.update.call(this)},ya.prototype.setTrack=function(e){var t;this.track_!==e&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.removeEventListener("load",this.updateHandler_),this.track_=null),this.track_=e,this.track_&&(this.track_.mode="hidden",(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.addEventListener("load",this.updateHandler_)))},ya.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},ya.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(g(this.kind_))},ya.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),ma.prototype.createMenu.call(this)},ya.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],r=new pa(this.player_,{track:this.track_,cue:r});e.push(r)}return e};var ma,b=ya;function ya(e,t,n){return u(this,ya),f(this,ma.call(this,e,t,n))}b.prototype.kind_="chapters",b.prototype.controlText_="Chapters",y.registerComponent("ChaptersButton",b);i(ba,va=t),ba.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var a=t[i];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},ba.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+va.prototype.buildCSSClass.call(this)},ba.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+va.prototype.buildWrapperCSSClass.call(this)};var va,n=ba;function ba(e,t,n){u(this,ba);var t=f(this,va.call(this,e,t,n)),i=e.textTracks(),r=l(t,t.handleTracksChange);return i.addEventListener("change",r),t.on("dispose",function(){i.removeEventListener("change",r)}),t}n.prototype.kind_="descriptions",n.prototype.controlText_="Descriptions",y.registerComponent("DescriptionsButton",n);i(Ta,_a=t),Ta.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+_a.prototype.buildCSSClass.call(this)},Ta.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+_a.prototype.buildWrapperCSSClass.call(this)};var _a,r=Ta;function Ta(e,t,n){return u(this,Ta),f(this,_a.call(this,e,t,n))}r.prototype.kind_="subtitles",r.prototype.controlText_="Subtitles",y.registerComponent("SubtitlesButton",r);i(Ea,Sa=oa),Ea.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()};var Sa,wa=Ea;function Ea(e,t){u(this,Ea),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem";e=f(this,Sa.call(this,e,t));return e.addClass("vjs-texttrack-settings"),e.controlText(", opens "+t.kind+" settings dialog"),e}y.registerComponent("CaptionSettingsMenuItem",wa);i(ka,Ca=t),ka.prototype.buildCSSClass=function(){return"vjs-captions-button "+Ca.prototype.buildCSSClass.call(this)},ka.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+Ca.prototype.buildWrapperCSSClass.call(this)},ka.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new wa(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),Ca.prototype.createItems.call(this,e)};var Ca,b=ka;function ka(e,t,n){return u(this,ka),f(this,Ca.call(this,e,t,n))}b.prototype.kind_="captions",b.prototype.controlText_="Captions",y.registerComponent("CaptionsButton",b);i(xa,Da=oa),xa.prototype.createEl=function(e,t,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),Da.prototype.createEl.call(this,e,p({innerHTML:i+="</span>"},t),n)};var Da,Aa=xa;function xa(){return u(this,xa),f(this,Da.apply(this,arguments))}y.registerComponent("SubsCapsMenuItem",Aa);i(Oa,La=t),Oa.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+La.prototype.buildCSSClass.call(this)},Oa.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+La.prototype.buildWrapperCSSClass.call(this)},Oa.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new wa(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=La.prototype.createItems.call(this,e,Aa)};var La,n=Oa;function Oa(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(u(this,Oa),f(this,La.call(this,e,t)));return t.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(t.player_.language_)&&(t.label_="captions"),t.menuButton_.controlText(g(t.label_)),t}n.prototype.kinds_=["captions","subtitles"],n.prototype.controlText_="Subtitles",y.registerComponent("SubsCapsButton",n);i(Pa,Ia=e),Pa.prototype.createEl=function(e,t,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),Ia.prototype.createEl.call(this,e,p({innerHTML:i+="</span>"},t),n)},Pa.prototype.handleClick=function(e){var t=this.player_.audioTracks();Ia.prototype.handleClick.call(this,e);for(var n=0;n<t.length;n++){var i=t[n];i.enabled=i===this.track}},Pa.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)};var Ia,Ra=Pa;function Pa(e,t){u(this,Pa);function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.handleTracksChange.apply(a,t)}var i=t.track,r=e.audioTracks(),a=(t.label=i.label||i.language||"Unknown",t.selected=i.enabled,f(this,Ia.call(this,e,t)));a.track=i,a.addClass("vjs-"+i.kind+"-menu-item");return r.addEventListener("change",n),a.on("dispose",function(){r.removeEventListener("change",n)}),a}y.registerComponent("AudioTrackMenuItem",Ra);i(Na,Ma=o),Na.prototype.buildCSSClass=function(){return"vjs-audio-button "+Ma.prototype.buildCSSClass.call(this)},Na.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+Ma.prototype.buildWrapperCSSClass.call(this)},Na.prototype.createItems=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=(this.hideThreshold_=1,this.player_.audioTracks()),n=0;n<t.length;n++){var i=t[n];e.push(new Ra(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e};var Ma,r=Na;function Na(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,Na),t.tracks=e.audioTracks(),f(this,Ma.call(this,e,t))}r.prototype.controlText_="Audio Track",y.registerComponent("AudioTrackButton",r);i(ja,Ua=e),ja.prototype.handleClick=function(e){Ua.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},ja.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)};var Ua,Fa=ja;function ja(e,t){u(this,ja);var n=t.rate,i=parseFloat(n,10),t=(t.label=n,t.selected=1===i,t.selectable=!0,t.multiSelectable=!1,f(this,Ua.call(this,e,t)));return t.label=n,t.rate=i,t.on(e,"ratechange",t.update),t}Fa.prototype.contentElType="button",y.registerComponent("PlaybackRateMenuItem",Fa);i(Ha,Ba=v),Ha.prototype.createEl=function(){var e=Ba.prototype.createEl.call(this);return this.labelEl_=ne("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},Ha.prototype.dispose=function(){this.labelEl_=null,Ba.prototype.dispose.call(this)},Ha.prototype.buildCSSClass=function(){return"vjs-playback-rate "+Ba.prototype.buildCSSClass.call(this)},Ha.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Ba.prototype.buildWrapperCSSClass.call(this)},Ha.prototype.createMenu=function(){var e=new Jr(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new Fa(this.player(),{rate:t[n]+"x"}));return e},Ha.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},Ha.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>t){i=n[r];break}this.player().playbackRate(i)},Ha.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},Ha.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},Ha.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},Ha.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")};var Ba,b=Ha;function Ha(e,t){u(this,Ha);t=f(this,Ba.call(this,e,t));return t.updateVisibility(),t.updateLabel(),t.on(e,"loadstart",t.updateVisibility),t.on(e,"ratechange",t.updateLabel),t}b.prototype.controlText_="Playback Rate",y.registerComponent("PlaybackRateMenuButton",b);i(Ga,Wa=y),Ga.prototype.buildCSSClass=function(){return"vjs-spacer "+Wa.prototype.buildCSSClass.call(this)},Ga.prototype.createEl=function(){return Wa.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};var Wa,t=Ga;function Ga(){return u(this,Ga),f(this,Wa.apply(this,arguments))}y.registerComponent("Spacer",t);i(Va,qa=t),Va.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+qa.prototype.buildCSSClass.call(this)},Va.prototype.createEl=function(){var e=qa.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="Â ",e};var qa,n=Va;function Va(){return u(this,Va),f(this,qa.apply(this,arguments))}y.registerComponent("CustomControlSpacer",n);i(za,Ya=y),za.prototype.createEl=function(){return Ya.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})};var Ya,o=za;function za(){return u(this,za),f(this,Ya.apply(this,arguments))}o.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},y.registerComponent("ControlBar",o);i(Ka,$a=Vt),Ka.prototype.buildCSSClass=function(){return"vjs-error-display "+$a.prototype.buildCSSClass.call(this)},Ka.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""};var $a,r=Ka;function Ka(e,t){u(this,Ka);t=f(this,$a.call(this,e,t));return t.on(e,"error",t.open),t}r.prototype.options_=m(Vt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),y.registerComponent("ErrorDisplay",r);var Xa="vjs-text-track-settings",e=["#000","Black"],v=["#00F","Blue"],b=["#0FF","Cyan"],t=["#0F0","Green"],n=["#F0F","Magenta"],o=["#F00","Red"],r=["#FFF","White"],Qa=["#FF0","Yellow"],Ja=["1","Opaque"],Za=["0.5","Semi-Transparent"],eo=["0","Transparent"],to={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[e,r,o,t,v,Qa,n,b]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ja,Za,eo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[r,e,o,t,v,Qa,n,b]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ja,Za]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[eo,Za,Ja]}};function no(e,t){if((e=t?t(e):e)&&"none"!==e)return e}to.windowColor.options=to.backgroundColor.options;i(C,io=Vt),C.prototype.dispose=function(){this.endDialog=null,io.prototype.dispose.call(this)},C.prototype.createElSelect_=function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",r=to[e],a=r.id.replace("%s",this.id_),o=[t,a].join(" ").trim();return["<"+i+' id="'+a+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+o+'">'].concat(r.options.map(function(e){var t=a+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+o+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},C.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},C.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},C.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},C.prototype.createElColors_=function(){return ne("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},C.prototype.createElFont_=function(){return ne("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},C.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return ne("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},C.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},C.prototype.label=function(){return this.localize("Caption Settings Dialog")},C.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},C.prototype.buildCSSClass=function(){return io.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},C.prototype.getValues=function(){var r=this;return function(n,i,e){var t=2<arguments.length&&void 0!==e?e:0;return G(n).reduce(function(e,t){return i(e,n[t],t)},t)}(to,function(e,t,n){i=r.$(t.selector),t=t.parser;var i=no(i.options[i.options.selectedIndex].value,t);return void 0!==i&&(e[n]=i),e},{})},C.prototype.setValues=function(o){var s=this;V(to,function(e,t){var n=s.$(e.selector),i=o[t],r=e.parser;if(i)for(var a=0;a<n.options.length;a++)if(no(n.options[a].value,r)===i){n.selectedIndex=a;break}})},C.prototype.setDefaults=function(){var n=this;V(to,function(e){var t=e.hasOwnProperty("default")?e.default:0;n.$(e.selector).selectedIndex=t})},C.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(h.localStorage.getItem(Xa))}catch(e){d.warn(e)}e&&this.setValues(e)},C.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?h.localStorage.setItem(Xa,JSON.stringify(e)):h.localStorage.removeItem(Xa)}catch(e){d.warn(e)}}},C.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},C.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(c,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,e=e&&e.captionsButton;t?t.focus():e&&e.focus()};var io,r=C;function C(e,t){u(this,C),t.temporary=!1;var n=f(this,io.call(this,e,t));return n.updateDisplay=l(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=ne("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===t.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),V(to,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}y.registerComponent("TextTrackSettings",r);i(ao,ro=y),ao.prototype.createEl=function(){return ro.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},ao.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},ao.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&He(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null};var ro,e=ao;function ao(e,t){u(this,ao);var n=t.ResizeObserver||h.ResizeObserver,i=m({createEl:!(n=null===t.ResizeObserver?!1:n),reportTouchActivity:!1},t),r=f(this,ro.call(this,e,i));return r.ResizeObserver=t.ResizeObserver||h.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=Je(function(){r.resizeHandler()},100,!1,r),n?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(e.el())):(r.loadListener_=function(){r.el_&&r.el_.contentWindow&&Be(r.el_.contentWindow,"resize",r.debouncedHandler_)},r.one("load",r.loadListener_)),r}y.registerComponent("ResizeManager",e);function oo(a){var t,e,n,o=a.el();o.resetSourceWatch_||(t={},e=fo(a),n=function(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.apply(o,t);return uo(a),i}},["append","appendChild","insertAdjacentHTML"].forEach(function(e){o[e]&&(t[e]=o[e],o[e]=n(t[e]))}),Object.defineProperty(o,"innerHTML",m(e,{set:n(e.set)})),o.resetSourceWatch_=function(){o.resetSourceWatch_=null,Object.keys(t).forEach(function(e){o[e]=t[e]}),Object.defineProperty(o,"innerHTML",e)},a.one("sourceset",o.resetSourceWatch_))}function so(n){var i,t,r,a;n.featuresSourceset&&!(i=n.el()).resetSourceset_&&(t=ho([n.el(),h.HTMLMediaElement.prototype,po],"src"),r=i.setAttribute,a=i.load,Object.defineProperty(i,"src",m(t,{set:function(e){e=t.set.call(i,e);return n.triggerSourceset(i.src),e}})),i.setAttribute=function(e,t){t=r.call(i,e,t);return/src/i.test(e)&&n.triggerSourceset(i.src),t},i.load=function(){var e=a.call(i);return uo(n)||(n.triggerSourceset(""),oo(n)),e},i.currentSrc?n.triggerSourceset(i.currentSrc):uo(n)||oo(n),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=a,i.setAttribute=r,Object.defineProperty(i,"src",t),i.resetSourceWatch_&&i.resetSourceWatch_()})}var lo,uo=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],t="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var a=n[r].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(t=i[0]),e.triggerSourceset(t),!0)},co=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){for(var t=c.createElement(this.nodeName.toLowerCase()),n=(t.innerHTML=e,c.createDocumentFragment());t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",h.Element.prototype.appendChild.call(this,n),this.innerHTML}}),ho=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},fo=function(e){return ho([e.el(),h.HTMLMediaElement.prototype,h.Element.prototype,co],"innerHTML")},po=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?gn(h.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return h.Element.prototype.setAttribute.call(this,"src",e),e}}),go=W(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),k=(i(D,lo=S),D.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),D.disposeMediaElement(this.el_),this.options_=null,lo.prototype.dispose.call(this)},D.prototype.setupSourcesetHandling_=function(){so(this)},D.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){r=[];for(var e=0;e<i.length;e++){var t=i[e];"metadata"===t.kind&&r.push({track:t,storedMode:t.mode})}}function n(){for(var e=0;e<r.length;e++){var t=r[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}i.removeEventListener("change",n)}var i=this.textTracks(),r=void 0;e(),i.addEventListener("change",e),this.on("dispose",function(){return i.removeEventListener("change",e)});this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",e),i.removeEventListener("change",n),i.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",e),i.addEventListener("change",e),i.removeEventListener("change",n)})},D.prototype.overrideNative_=function(e,t){var n,i=this;t===this["featuresNative"+e+"Tracks"]&&(this[(n=e.toLowerCase())+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(e){i.el()[n+"Tracks"].removeEventListener(e,i[n+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n))},D.prototype.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},D.prototype.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},D.prototype.proxyNativeTracksForType_=function(e){var i,t,r=this,e=Kn[e],a=this.el()[e.getterName],o=this[e.getterName]();this["featuresNative"+e.capitalName+"Tracks"]&&a&&a.addEventListener&&(t=function(){for(var e=[],t=0;t<o.length;t++){for(var n=!1,i=0;i<a.length;i++)if(a[i]===o[t]){n=!0;break}n||e.push(o[t])}for(;e.length;)o.removeTrack(e.shift())},this[e.getterName+"Listeners_"]=i={change:function(e){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function(e){o.addTrack(e.track)},removetrack:function(e){o.removeTrack(e.track)}},Object.keys(i).forEach(function(t){var n=i[t];a.addEventListener(t,n),r.on("dispose",function(e){return a.removeEventListener(t,n)})}),this.on("loadstart",t),this.on("dispose",function(e){return r.off("loadstart",t)}))},D.prototype.proxyNativeTracks_=function(){var t=this;Kn.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},D.prototype.createEl=function(){for(var e,t=this.options_.tag,n=(t&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(t?(e=t.cloneNode(!0),t.parentNode&&t.parentNode.insertBefore(e,t),D.disposeMediaElement(t),t=e):(t=c.createElement("video"),e=m({},this.options_.tag&&ce(this.options_.tag)),Et&&!0===this.options_.nativeControlsForTouch||delete e.controls,ue(t,p(e,{id:this.options_.techId,class:"vjs-tech"}))),t.playerId=this.options_.playerId),void 0!==this.options_.preload&&he(t,"preload",this.options_.preload),["loop","muted","playsinline","autoplay"]),i=0;i<n.length;i++){var r=n[i],a=this.options_[r];void 0!==a&&(a?he(t,r,r):fe(t,r),t[r]=a)}return t},D.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){var t,n,i;if(0===e.readyState)return t=!1,this.on("loadstart",n=function(){t=!0}),this.on("loadedmetadata",i=function(){t||this.trigger("loadstart")}),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")});var r=["loadstart"];r.push("loadedmetadata"),2<=e.readyState&&r.push("loadeddata"),3<=e.readyState&&r.push("canplay"),4<=e.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},D.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){d(e,"Video is not ready. (Video.js)")}},D.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&gt&&bt&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},D.prototype.width=function(){return this.el_.offsetWidth},D.prototype.height=function(){return this.el_.offsetHeight},D.prototype.proxyWebkitFullscreen_=function(){var e,t,n=this;"webkitDisplayingFullscreen"in this.el_&&(e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},this.on("webkitbeginfullscreen",t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))}),this.on("dispose",function(){n.off("webkitbeginfullscreen",t),n.off("webkitendfullscreen",e)}))},D.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=h.navigator&&h.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},D.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},D.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},D.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},D.prototype.reset=function(){D.resetMediaElement(this.el_)},D.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},D.prototype.setControls=function(e){this.el_.controls=!!e},D.prototype.addTextTrack=function(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):lo.prototype.addTextTrack.call(this,e,t,n)},D.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return lo.prototype.createRemoteTextTrack.call(this,e);var t=c.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},D.prototype.addRemoteTextTrack=function(e,t){e=lo.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},D.prototype.removeRemoteTextTrack=function(e){if(lo.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},D.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),h.performance&&"function"==typeof h.performance.now?e.creationTime=h.performance.now():h.performance&&h.performance.timing&&"number"==typeof h.performance.timing.navigationStart&&(e.creationTime=h.Date.now()-h.performance.timing.navigationStart),e},D);function D(e,t){u(this,D);var n=f(this,lo.call(this,e,t)),t=e.source,i=!1;if(t&&(n.el_.currentSrc!==t.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(t):n.handleLateInit_(n.el_),e.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var r=n.el_.childNodes,a=r.length,o=[];a--;){var s=r[a];"track"===s.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(s),n.remoteTextTracks().addTrack(s.track),n.textTracks().addTrack(s.track),i||n.el_.hasAttribute("crossorigin")||!vn(s.src)||(i=!0)):o.push(s))}for(var l=0;l<o.length;l++)n.el_.removeChild(o[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&i&&d.warn(H(go)),n.restoreMetadataTracksInIOSNativePlayer_(),(Et||ft||yt)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}J()&&(k.TEST_VID=c.createElement("video"),(o=c.createElement("track")).kind="captions",o.srclang="en",o.label="English",k.TEST_VID.appendChild(o)),k.isSupported=function(){try{k.TEST_VID.volume=.5}catch(e){return!1}return!(!k.TEST_VID||!k.TEST_VID.canPlayType)},k.canPlayType=function(e){return k.TEST_VID.canPlayType(e)},k.canPlaySource=function(e,t){return k.canPlayType(e.type)},k.canControlVolume=function(){try{var e=k.TEST_VID.volume;return k.TEST_VID.volume=e/2+.1,e!==k.TEST_VID.volume}catch(e){return!1}},k.canMuteVolume=function(){try{var e=k.TEST_VID.muted;return k.TEST_VID.muted=!e,k.TEST_VID.muted?he(k.TEST_VID,"muted","muted"):fe(k.TEST_VID,"muted"),e!==k.TEST_VID.muted}catch(e){return!1}},k.canControlPlaybackRate=function(){if(gt&&bt&&_t<58)return!1;try{var e=k.TEST_VID.playbackRate;return k.TEST_VID.playbackRate=e/2+.1,e!==k.TEST_VID.playbackRate}catch(e){return!1}},k.canOverrideAttributes=function(){try{function e(){}Object.defineProperty(c.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(c.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(c.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(c.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},k.supportsNativeTextTracks=function(){return wt||pt&&bt},k.supportsNativeVideoTracks=function(){return!(!k.TEST_VID||!k.TEST_VID.videoTracks)},k.supportsNativeAudioTracks=function(){return!(!k.TEST_VID||!k.TEST_VID.audioTracks)},k.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],k.prototype.featuresVolumeControl=k.canControlVolume(),k.prototype.featuresMuteControl=k.canMuteVolume(),k.prototype.featuresPlaybackRate=k.canControlPlaybackRate(),k.prototype.featuresSourceset=k.canOverrideAttributes(),k.prototype.movingMediaElementInDOM=!pt,k.prototype.featuresFullscreenResize=!0,k.prototype.featuresProgressEvents=!0,k.prototype.featuresTimeupdateEvents=!0,k.prototype.featuresNativeTextTracks=k.supportsNativeTextTracks(),k.prototype.featuresNativeVideoTracks=k.supportsNativeVideoTracks(),k.prototype.featuresNativeAudioTracks=k.supportsNativeAudioTracks();var mo,yo=k.TEST_VID&&k.TEST_VID.constructor.prototype.canPlayType,vo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,bo=(k.patchCanPlayType=function(){4<=mt&&!vt&&!bt&&(k.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&vo.test(e)?"maybe":yo.call(this,e)})},k.unpatchCanPlayType=function(){var e=k.TEST_VID.constructor.prototype.canPlayType;return k.TEST_VID.constructor.prototype.canPlayType=yo,e},k.patchCanPlayType(),k.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(e){}}},k.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(e){}}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){k.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){k.prototype["set"+g(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){k.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){k.prototype["set"+g(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){k.prototype[e]=function(){return this.el_[e]()}}),S.withSourceHandlers(k),k.nativeSourceHandler={},k.nativeSourceHandler.canPlayType=function(e){try{return k.TEST_VID.canPlayType(e)}catch(e){return""}},k.nativeSourceHandler.canHandleSource=function(e,t){return e.type?k.nativeSourceHandler.canPlayType(e.type):e.src?(e=yn(e.src),k.nativeSourceHandler.canPlayType("video/"+e)):""},k.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},k.nativeSourceHandler.dispose=function(){},k.registerSourceHandler(k.nativeSourceHandler),S.registerTech("Html5",k),W(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "])),_o=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],To={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},So=(i(A,mo=y),A.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),A.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),xi[this.id()]=null,mo.prototype.dispose.call(this)},A.prototype.createEl=function(){var e,t,n=this.tag,i=void 0,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase(),o=(r?i=this.el_=n.parentNode:a||(i=this.el_=mo.prototype.createEl.call(this,"div")),ce(n));if(a){for(i=this.el_=n,n=this.tag=c.createElement("video");i.children.length;)n.appendChild(i.firstChild);ae(i,"video-js")||oe(i,"video-js"),i.appendChild(n),r=this.playerElIngest_=i,Object.keys(i).forEach(function(e){n[e]=i[e]})}n.setAttribute("tabindex","-1"),o.tabindex="-1",Tt&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(e){a&&"class"===e||i.setAttribute(e,o[e]),a&&n.setAttribute(e,o[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",(n.player=i.player=this).addClass("vjs-paused"),!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=Ke("vjs-styles-dimensions"),e=Ce(".vjs-styles-defaults"),(t=Ce("head")).insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=n.getElementsByTagName("a"),l=0;l<s.length;l++){var u=s.item(l);oe(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(i,n),re(n,i),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=i},A.prototype.width=function(e){return this.dimension("width",e)},A.prototype.height=function(e){return this.dimension("height",e)},A.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?d.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},A.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},A.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},A.prototype.updateStyleEl_=function(){if(!0===h.VIDEOJS_NO_DYNAMIC_STYLE)return e="number"==typeof this.width_?this.width_:this.options_.width,n="number"==typeof this.height_?this.height_:this.options_.height,void((t=this.tech_&&this.tech_.el())&&(0<=e&&(t.width=e),0<=n&&(t.height=n)));var e=void 0,t=void 0,n=void 0,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=i[1]/i[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(n),Xe(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")},A.prototype.loadTech_=function(e,t){var n=this,i=(this.tech_&&this.unloadTech_(),g(e)),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(S.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset},r=(Qn.names.forEach(function(e){e=Qn[e];a[e.getterName]=n[e.privateName]}),p(a,this.options_[i]),p(a,this.options_[r]),p(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(a.startTime=this.cache_.currentTime),S.getTech(e));if(!r)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new r(a),this.tech_.ready(l(this,this.handleTechReady_),!0),Gt(this.textTracksJson_||[],this.tech_),_o.forEach(function(e){n.on(n.tech_,e,n["handleTech"+g(e)+"_"])}),Object.keys(To).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+To[t]+"_"].bind(n),event:e}):n["handleTech"+To[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||re(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},A.prototype.unloadTech_=function(){var t=this;Qn.names.forEach(function(e){e=Qn[e];t[e.privateName]=t[e.getterName]()}),this.textTracksJson_=Wt(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},A.prototype.tech=function(e){return void 0===e&&d.warn(H(bo)),this.tech_},A.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},A.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},A.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},A.prototype.handleTechLoadStart_=function(){A.prototype.is_first_play=!0,this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},A.prototype.manualAutoplay_=function(t){var n=this;if(this.tech_&&"string"==typeof t){function e(){var t=n.muted(),e=(n.muted(!0),n.play());if(e&&e.then&&e.catch)return e.catch(function(e){n.muted(t)})}var i=void 0;if("any"===t?(i=this.play())&&i.then&&i.catch&&i.catch(e):i="muted"===t?e():this.play(),i&&i.then&&i.catch)return i.then(function(){n.trigger({type:"autoplay-success",autoplay:t})}).catch(function(e){n.trigger({type:"autoplay-failure",autoplay:t})})}},A.prototype.updateSourceCaches_=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=e,n="";if("string"!=typeof t&&(t=e.src,n=e.type),!/^blob:/.test(t)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var i=e.$$("source"),r=0;r<i.length;r++){var a=i[r];if(a.type&&a.src&&a.src===t)return a.type}return Bi(t)}(this,t)),this.cache_.source=m({},e,{src:t,type:n});for(var e=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),i=[],r=this.$$("source"),a=[],o=0;o<r.length;o++){var s=ce(r[o]);i.push(s),s.src&&s.src===t&&a.push(s.src)}a.length&&!e.length?this.cache_.sources=i:e.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}},A.prototype.handleTechSourceset_=function(e){var n=this;this.changingSrc_||(this.updateSourceCaches_(e.src),e.src||this.tech_.one(["sourceset","loadstart"],function e(t){"sourceset"!==t.type&&n.updateSourceCaches_(n.techGet_("currentSrc")),n.tech_.off(["sourceset","loadstart"],e)})),this.trigger({src:e.src,type:"sourceset"})},A.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},A.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},A.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},A.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},A.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},A.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},A.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},A.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},A.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},A.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(d.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},A.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},A.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},A.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration")),void 0===this.rangeslider||void 0===this.rangeslider.bar||void 0===this.rangeslider.bar.rs||0!=this.rangeslider.start&&1!=A.prototype.is_first_play||(this.rangeslider._reset(),this.rangeslider._setValuesLocked(0,this.techGet_("duration"),!0),A.prototype.is_first_play=!1)},A.prototype.handleTechClick_=function(e){Ee(e)&&this.controls_&&(this.paused()?jt(this.play()):this.pause())},A.prototype.handleTechDoubleClick_=function(t){this.controls_&&!Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})&&(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())},A.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},A.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},A.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},A.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},A.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},A.prototype.handleStageClick_=function(){this.reportUserActivity()},A.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},A.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},A.prototype.handleTechTextData_=function(){var e=1<arguments.length?arguments[1]:null;this.trigger("textdata",e)},A.prototype.getCache=function(){return this.cache_},A.prototype.techCall_=function(t,n){this.ready(function(){if(t in Pi)return e=this.middleware_,this.tech_[t](e.reduce(Ni(t),n));if(t in Mi)return Ii(this.middleware_,this.tech_,t,n);var e;try{this.tech_&&this.tech_[t](n)}catch(e){throw d(e),e}},!0)},A.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Ri)return e=this.middleware_,n=this.tech_,e.reduceRight(Ni(t),n[t]());if(t in Mi)return Ii(this.middleware_,this.tech_,t);var e,n;try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw d("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw d("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw d(e),e}}},A.prototype.play=function(){var t=this,e=this.options_.Promise||h.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},A.prototype.play_=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:jt;this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_?this.changingSrc_||!this.src()&&!this.currentSrc()?(this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)):t(this.techGet_("play")):this.playWaitingForReady_||(this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())}))},A.prototype.pause=function(){this.techCall_("pause")},A.prototype.paused=function(){return!1!==this.techGet_("paused")},A.prototype.played=function(){return this.techGet_("played")||Dt(0,0)},A.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},A.prototype.currentTime=function(e){if(void 0===e)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;this.techCall_("setCurrentTime",e=e<0?0:e)},A.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=(e=parseFloat(e))<0?1/0:e)!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},A.prototype.remainingTime=function(){return this.duration()-this.currentTime()},A.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},A.prototype.buffered=function(){var e;return e=(e=this.techGet_("buffered"))&&e.length?e:Dt(0,0)},A.prototype.bufferedPercent=function(){return At(this.buffered(),this.duration())},A.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),e=e.end(e.length-1);return e=t<e?t:e},A.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},A.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},A.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},A.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},A.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},A.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},A.prototype.requestFullscreen=function(){var n=xt;this.isFullscreen(!0),n.requestFullscreen?(Be(c,n.fullscreenchange,l(this,function e(t){this.isFullscreen(c[n.fullscreenElement]),!1===this.isFullscreen()&&He(c,n.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},A.prototype.exitFullscreen=function(){var e=xt;this.isFullscreen(!1),e.requestFullscreen?c[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},A.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c.documentElement.style.overflow,Be(c,"keydown",l(this,this.fullWindowOnEscKey)),c.documentElement.style.overflow="hidden",oe(c.body,"vjs-full-window"),this.trigger("enterFullWindow")},A.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},A.prototype.exitFullWindow=function(){this.isFullWindow=!1,He(c,"keydown",this.fullWindowOnEscKey),c.documentElement.style.overflow=this.docOrigOverflow,se(c.body,"vjs-full-window"),this.trigger("exitFullWindow")},A.prototype.canPlayType=function(e){for(var t=0,n=this.options_.techOrder;t<n.length;t++){var i=n[t],r=S.getTech(i);if(r=r||y.getComponent(i)){if(r.isSupported()&&(r=r.canPlayType(e)))return r}else d.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},A.prototype.selectSource=function(e){function t(e,n,i){var r=void 0;return e.some(function(t){return n.some(function(e){if(r=i(t,e))return!0})}),r}function n(e,t){var n=e[0];if(e[1].canPlaySource(t,r.options_[n.toLowerCase()]))return{source:t,tech:n}}var i,r=this,a=this.options_.techOrder.map(function(e){return[e,S.getTech(e)]}).filter(function(e){var t=e[0],e=e[1];return e?e.isSupported():(d.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?t(e,a,(i=n,function(e,t){return i(t,e)})):t(a,e,n))||!1},A.prototype.src=function(e){var i=this;if(void 0===e)return this.cache_.src||"";var r=Fi(e);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),Oi(this,r[0],function(e,t){var n;if(i.middleware_=t,i.cache_.sources=r,i.updateSourceCaches_(e),i.src_(e))return 1<r.length?i.src(r.slice(1)):(i.changingSrc_=!1,i.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void i.triggerReady());n=i.tech_,t.forEach(function(e){return e.setTech&&e.setTech(n)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},A.prototype.src_=function(e){var t,n,i=this,r=this.selectSource([e]);return!r||(t=r.tech,n=this.techName_,g(t)!==g(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){i.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1)},A.prototype.load=function(){this.techCall_("load")},A.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},A.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},A.prototype.currentSource=function(){return this.cache_.source||{}},A.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},A.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},A.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},A.prototype.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t=void 0;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},A.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},A.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},A.prototype.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},A.prototype.handleTechPosterChange_=function(){var e;(!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster&&(e=this.tech_.poster()||"")!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))},A.prototype.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},A.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},A.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Mt(e),this.addClass("vjs-error"),d.error("(CODE:"+this.error_.code+" "+Mt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},A.prototype.reportUserActivity=function(e){this.userActivity_=!0},A.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},A.prototype.listenForUserActivity_=function(){var t=void 0,n=void 0,i=void 0,r=l(this,this.reportUserActivity),a=(this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===n&&e.screenY===i||(n=e.screenX,i=e.screenY,r())}),this.on("mouseup",function(e){r(),this.clearInterval(t)}),this.on("keydown",r),this.on("keyup",r),void 0);this.setInterval(function(){var e;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a),(e=this.options_.inactivityTimeout)<=0||(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e)))},250)},A.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},A.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},A.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},A.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},A.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},A.prototype.removeRemoteTextTrack=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track;if(this.tech_)return this.tech_.removeRemoteTextTrack(void 0===e?arguments[0]:e)},A.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},A.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},A.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},A.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},A.prototype.languages=function(){return m(A.prototype.options_.languages,this.languages_)},A.prototype.toJSON=function(){var e=m(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=m(i)).player=void 0,e.tracks[n]=i}return e},A.prototype.createModal=function(e,t){var n=this,i=((t=t||{}).content=e||"",new Vt(this,t));return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},A.getTagSettings=function(e){var t,n={sources:[],tracks:[]},i=ce(e),r=i["data-setup"];if(ae(e,"vjs-fluid")&&(i.fluid=!0),null!==r&&(t=(r=Ut(r||"{}"))[0],r=r[1],t&&d.error(t),p(i,r)),p(n,i),e.hasChildNodes())for(var a=e.childNodes,o=0,s=a.length;o<s;o++){var l=a[o],u=l.nodeName.toLowerCase();"source"===u?n.sources.push(ce(l)):"track"===u&&n.tracks.push(ce(l))}return n},A.prototype.flexNotSupported_=function(){var e=c.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},A);function A(e,t,n){if(u(this,A),e.id=e.id||t.id||"vjs_video_"+Ae++,(t=p(A.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var i=e.closest("[lang]");i&&i.getAttribute&&(t.language=i.getAttribute("lang"))}else for(var r=e;r&&1===r.nodeType;){if(ce(r).hasOwnProperty("lang")){t.language=r.getAttribute("lang");break}r=r.parentNode}var a,i=f(this,mo.call(this,null,t,n));if(i.isPosterFromTech_=!1,i.queuedCallbacks_=[],i.isReady_=!1,i.hasStarted_=!1,i.userActive_=!1,!i.options_||!i.options_.techOrder||!i.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");i.tag=e,i.tagAttributes=e&&ce(e),i.language(i.options_.language),t.languages?(a={},Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),i.languages_=a):i.languages_=A.prototype.options_.languages,i.cache_={},i.poster_=t.poster||"",i.controls_=!!t.controls,i.cache_.lastVolume=1,e.controls=!1,e.removeAttribute("controls"),e.hasAttribute("autoplay")?i.options_.autoplay=!0:i.autoplay(i.options_.autoplay),i.scrubbing_=!1,i.el_=i.createEl(),i.cache_.lastPlaybackRate=i.defaultPlaybackRate(),ut(i,{eventBusKey:"el_"});var o,n=m(i.options_),n=(t.plugins&&(o=t.plugins,Object.keys(o).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](o[e])},i)),i.options_.playerOptions=n,i.middleware_=[],i.initChildren(),i.isAudio("audio"===e.nodeName.toLowerCase()),i.controls()?i.addClass("vjs-controls-enabled"):i.addClass("vjs-controls-disabled"),i.el_.setAttribute("role","region"),i.isAudio()?i.el_.setAttribute("aria-label",i.localize("Audio Player")):i.el_.setAttribute("aria-label",i.localize("Video Player")),i.isAudio()&&i.addClass("vjs-audio"),i.flexNotSupported_()&&i.addClass("vjs-no-flex"),pt||i.addClass("vjs-workinghover"),A.players[i.id_]=i,"7.2.3".split(".")[0]);return i.addClass("vjs-v"+n),i.userActive(!0),i.reportUserActivity(),i.one("play",i.listenForUserActivity_),i.on("fullscreenchange",i.handleFullscreenChange_),i.on("stageclick",i.handleStageClick_),i.changingSrc_=!1,i.playWaitingForReady_=!1,i.playOnLoadstart_=null,i}Qn.names.forEach(function(e){var t=Qn[e];So.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),So.players={};function wo(e){return Oo.hasOwnProperty(e)}function Eo(e){return wo(e)?Oo[e]:void 0}function Co(e,t){e[Lo]=e[Lo]||{},e[Lo][t]=!0}function ko(e,t,n){n=(n?"before":"")+"pluginsetup",e.trigger(n,t),e.trigger(n+":"+t.name,t)}function Do(t,n){function i(){ko(this,{name:t,plugin:n,instance:null},!0);var e=n.apply(this,arguments);return Co(this,t),ko(this,{name:t,plugin:n,instance:e}),e}return Object.keys(n).forEach(function(e){i[e]=n[e]}),i}function Ao(r,a){return a.prototype.name=r,function(){ko(this,{name:r,plugin:a,instance:null},!0);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new(Function.prototype.bind.apply(a,[null].concat([this].concat(t))));return this[r]=function(){return i},ko(this,i.getEventHash()),i}}var t=h.navigator,xo=(So.prototype.options_={techOrder:S.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:t&&(t.languages&&t.languages[0]||t.userLanguage||t.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){So.prototype[e]=function(){return this.techGet_(e)}}),_o.forEach(function(e){So.prototype["handleTech"+g(e)+"_"]=function(){return this.trigger(e)}}),y.registerComponent("Player",So),"plugin"),Lo="activePlugins_",Oo={},Io=(Ro.prototype.version=function(){return this.constructor.VERSION},Ro.prototype.getEventHash=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},Ro.prototype.trigger=function(e){return We(this.eventBusEl_,e,this.getEventHash(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))},Ro.prototype.handleStateChanged=function(e){},Ro.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Lo][e]=!1,this.player=this.state=null,t[e]=Ao(e,Oo[e])},Ro.isBasic=function(e){e="string"==typeof e?Eo(e):e;return"function"==typeof e&&!Ro.prototype.isPrototypeOf(e.prototype)},Ro.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":St(e))+".");if(wo(e))d.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(So.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":St(t))+".");return Oo[e]=t,e!==xo&&(Ro.isBasic(t)?So.prototype[e]=Do(e,t):So.prototype[e]=Ao(e,t)),t},Ro.deregisterPlugin=function(e){if(e===xo)throw new Error("Cannot de-register base plugin.");wo(e)&&(delete Oo[e],delete So.prototype[e])},Ro.getPlugins=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Oo),n=void 0;return e.forEach(function(e){var t=Eo(e);t&&((n=n||{})[e]=t)}),n},Ro.getPluginVersion=function(e){e=Eo(e);return e&&e.VERSION||""},Ro);function Ro(e){if(u(this,Ro),this.constructor===Ro)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,ut(this),delete this.trigger,dt(this,this.constructor.defaultState),Co(e,this.name),this.dispose=l(this,this.dispose),e.on("dispose",this.dispose)}Io.getPlugin=Eo,Io.BASE_PLUGIN_NAME=xo,Io.registerPlugin(xo,Io),So.prototype.usingPlugin=function(e){return!!this[Lo]&&!0===this[Lo][e]},So.prototype.hasPlugin=function(e){return!!wo(e)};function Po(e){return 0===e.indexOf("#")?e.slice(1):e}function x(e,t,n){if(r=x.getPlayer(e))return t&&d.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof e?Ce("#"+Po(e)):e;if(!Z(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");c.body.contains(i)||d.warn("The element supplied is not included in the DOM"),t=t||{},x.hooks("beforesetup").forEach(function(e){e=e(i,m(t));!Y(e)||Array.isArray(e)?d.error("please return an object in beforesetup hooks"):t=m(t,e)});var r=new(y.getComponent("Player"))(i,t,n);return x.hooks("setup").forEach(function(e){return e(r)}),r}x.hooks_={},x.hooks=function(e,t){return x.hooks_[e]=x.hooks_[e]||[],t&&(x.hooks_[e]=x.hooks_[e].concat(t)),x.hooks_[e]},x.hook=function(e,t){x.hooks(e,t)},x.hookOnce=function(n,e){x.hooks(n,[].concat(e).map(function(t){return function e(){return x.removeHook(n,e),t.apply(void 0,arguments)}}))},x.removeHook=function(e,t){t=x.hooks(e).indexOf(t);return!(t<=-1)&&(x.hooks_[e]=x.hooks_[e].slice(),x.hooks_[e].splice(t,1),!0)},!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&J()&&!(v=Ce(".vjs-styles-defaults"))&&(v=Ke("vjs-styles-defaults"),(Qa=Ce("head"))&&Qa.insertBefore(v,Qa.firstChild),Xe(v,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")),$e(1,x),x.VERSION="7.2.3",x.options=So.prototype.options_,x.getPlayers=function(){return So.players},x.getPlayer=function(e){var t=So.players,n=void 0;if("string"==typeof e){var i=Po(e),r=t[i];if(r)return r;n=Ce("#"+i)}else n=e;if(Z(n)){r=n,i=r.player,e=r.playerId;if(i||t[e])return i||t[e]}},x.getAllPlayers=function(){return Object.keys(So.players).map(function(e){return So.players[e]}).filter(Boolean)},x.players=So.players,x.getComponent=y.getComponent,x.registerComponent=function(e,t){S.isTech(t)&&d.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),y.registerComponent.call(y,e,t)},x.getTech=S.getTech,x.registerTech=S.registerTech,x.use=function(e,t){Ai[e]=Ai[e]||[],Ai[e].push(t)},Object.defineProperty(x,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(x.middleware,"TERMINATOR",{value:Li,writeable:!1,enumerable:!0}),x.browser=U,x.TOUCH_ENABLED=Et,x.extend=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=function(){e.apply(this,arguments)},r={},n=("object"===(void 0===n?"undefined":St(n))?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),r=n):"function"==typeof n&&(i=n),i),a=e;if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+(void 0===a?"undefined":St(a)));for(t in n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.super_=a),r)r.hasOwnProperty(t)&&(i.prototype[t]=r[t]);return i},x.mergeOptions=m,x.bind=l,x.registerPlugin=Io.registerPlugin,x.deregisterPlugin=Io.deregisterPlugin,x.plugin=function(e,t){return d.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Io.registerPlugin(e,t)},x.getPlugins=Io.getPlugins,x.getPlugin=Io.getPlugin,x.getPluginVersion=Io.getPluginVersion,x.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),x.options.languages=m(x.options.languages,((n={})[e]=t,n)),x.options.languages[e]},x.log=d,x.createTimeRange=x.createTimeRanges=Dt,x.formatTime=hr,x.setFormatTime=function(e){dr=e},x.resetFormatTime=function(){dr=cr},x.parseUrl=pn,x.isCrossOrigin=vn,x.EventTarget=Ze,x.on=Be,x.one=Ge,x.off=He,x.trigger=We,x.xhr=In,x.TextTrack=Hn,x.AudioTrack=_,x.VideoTrack=T,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){x[e]=function(){return d.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),De[e].apply(null,arguments)}}),x.computedStyle=$,x.dom=De,x.url=bn;function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":St(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Uo(e,t){if(e)return!t||"object"!==(void 0===t?"undefined":St(t))&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var Fo=M(function(e,t){var n,a,i,r,o;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,a=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(i)return i.path=o.normalizePath(i.path),o.buildURLFromParts(i);throw new Error("Error trying to parse base URL.")}i=o.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=o.normalizePath(i.path),o.buildURLFromParts(i)):t;t=o.parseURL(e);if(!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(e=a.exec(t.path),t.netLoc=e[1],t.path=e[2]),t.netLoc&&!t.path&&(t.path="/");var r,e={scheme:t.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};return i.netLoc||(e.netLoc=t.netLoc,"/"!==i.path[0]&&(i.path?(r=(r=t.path).substring(0,r.lastIndexOf("/")+1)+i.path,e.path=o.normalizePath(r)):(e.path=t.path,i.params||(e.params=t.params,i.query||(e.query=t.query))))),null===e.path&&(e.path=n.alwaysNormalize?o.normalizePath(i.path):i.path),o.buildURLFromParts(e)},parseURL:function(e){e=n.exec(e);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o}),jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n=(Bo.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},Bo.prototype.off=function(e,t){if(!this.listeners[e])return!1;t=this.listeners[e].indexOf(t);return this.listeners[e].splice(t,1),-1<t},Bo.prototype.trigger=function(e){var t,n=this.listeners[e],i=void 0,r=void 0;if(n)if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else for(t=Array.prototype.slice.call(arguments,1),r=n.length,i=0;i<r;++i)n[i].apply(this,t)},Bo.prototype.dispose=function(){this.listeners={}},Bo.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},Bo);function Bo(){Mo(this,Bo),this.listeners={}}No(Go,Ho=n),Go.prototype.push=function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)};var Ho,Wo=Go;function Go(){Mo(this,Go);var e=Uo(this,Ho.call(this));return e.buffer="",e}function qo(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=t.length,r=void 0;i--;)""!==t[i]&&((r=/([^=]*)=(.*)/.exec(t[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n}No(zo,Vo=n),zo.prototype.push=function(e){var t=void 0,n=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"!==e[0])this.trigger("data",{type:"uri",uri:e});else{for(var i,r,a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,e))return;if(0!==e.indexOf("#EXT"))this.trigger("data",{type:"comment",text:e.slice(1)});else if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e))return n={type:"tag",tagType:"map"},t[1]&&((i=qo(t[1])).URI&&(n.uri=i.URI),i.BYTERANGE&&(r=(i=i.BYTERANGE.split("@"))[0],i=i[1],n.byterange={},r&&(n.byterange.length=parseInt(r,10)),i&&(n.byterange.offset=parseInt(i,10)))),void this.trigger("data",n);if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return n={type:"tag",tagType:"stream-inf"},t[1]&&(n.attributes=qo(t[1]),n.attributes.RESOLUTION&&(r={},(i=n.attributes.RESOLUTION.split("x"))[0]&&(r.width=parseInt(i[0],10)),i[1]&&(r.height=parseInt(i[1],10)),n.attributes.RESOLUTION=r),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=qo(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(t=/^#EXT-X-DISCONTINUITY/.exec(e)))return(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n)):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(n={type:"tag",tagType:"key"},t[1]&&(n.attributes=qo(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):(t=/^#EXT-X-START:?(.*)$/.exec(e))?(n={type:"tag",tagType:"start"},t[1]&&(n.attributes=qo(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n)):(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:e.slice(4)});this.trigger("data",{type:"tag",tagType:"discontinuity"})}}}},zo.prototype.addParser=function(e){var t=this,n=e.expression,i=e.customType,r=e.dataParser,a=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push(function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:i,segment:a}),!0})};var Vo,Yo=zo;function zo(){Mo(this,zo);var e=Uo(this,Vo.call(this));return e.customParsers=[],e}No(Xo,$o=n),Xo.prototype.push=function(e){this.lineStream.push(e)},Xo.prototype.end=function(){this.lineStream.push("\n")},Xo.prototype.addParser=function(e){this.parseStream.addParser(e)};var $o,Ko=Xo;function Xo(){Mo(this,Xo);var e=Uo(this,$o.call(this)),r=(e.lineStream=new Wo,e.parseStream=new Yo,e.lineStream.pipe(e.parseStream),e),a=[],o={},s=void 0,l=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var n=void 0,i=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((o.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((o.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(o.duration=t.duration),0===t.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){t.attributes?"NONE"===t.attributes.METHOD?l=null:t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(l.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){s={},t.uri&&(s.uri=t.uri),t.byterange&&(s.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes?(o.attributes||(o.attributes={}),jo(o.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var e;this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME?((e=this.manifest.mediaGroups[t.attributes.TYPE])[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},n=e[t.attributes["GROUP-ID"]],(i={default:/yes/i.test(t.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(i.language=t.attributes.LANGUAGE),t.attributes.URI&&(i.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(i.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(i.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(i.forced=/yes/i.test(t.attributes.FORCED)),n[t.attributes.NAME]=i):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),o.dateTimeString=t.dateTimeString,o.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){!t.attributes||isNaN(t.attributes["TIME-OFFSET"])?this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"}):this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}},"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":function(){o.cueIn=t.data}}[t.tagType]||function(){}).call(r)},uri:function(){o.uri=t.uri,a.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),l&&(o.key=l),o.timeline=c,s&&(o.map=s),o={}},comment:function(){},custom:function(){t.segment?(o.custom=o.custom||{},o.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)}),e}function Qo(e){return!!e&&"object"===(void 0===e?"undefined":fs(e))}function Jo(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(t,n){return Object.keys(n).forEach(function(e){Array.isArray(t[e])&&Array.isArray(n[e])?t[e]=t[e].concat(n[e]):Qo(t[e])&&Qo(n[e])?t[e]=Jo(t[e],n[e]):t[e]=n[e]}),t},{})}function Zo(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=Fo.buildAbsoluteURL(h.location.href,e)),Fo.buildAbsoluteURL(e,t))}function es(e){var t=e.baseUrl,n=void 0===(n=e.source)?"":n,e=void 0===(e=e.range)?"":e,t={uri:n,resolvedUri:Zo((void 0===t?"":t)||"",n)};return e&&(n=e.split("-"),e=parseInt(n[0],10),n=parseInt(n[1],10),t.byterange={length:n-e,offset:e}),t}function ts(e,t){for(var n,i,r,a,o,s,l,u=e.type,c=void 0===u?"static":u,d=void 0===(u=e.minimumUpdatePeriod)?0:u,h=void 0===(u=e.media)?"":u,f=e.sourceDuration,p=void 0===(u=e.timescale)?1:u,g=void 0===(u=e.startNumber)?1:u,m=e.periodIndex,y=[],v=-1,b=0;b<t.length;b++)for(var _,T=(w=t[b]).d,S=w.r||0,w=w.t||0,w=(v<0&&(v=w),w&&v<w&&(v=w),void 0),E=(w=S<0?(_=b+1)===t.length?"dynamic"===c&&0<d&&0<h.indexOf("$Number$")?(i=v,l=s=o=a=r=void 0,r=(n=e).NOW,a=n.clientOffset,o=n.availabilityStartTime,s=n.timescale,l=n.start,n=n.minimumUpdatePeriod,Math.ceil((((r+a)/1e3+(void 0===n?0:n)-(o+(void 0===l?0:l)))*(void 0===s?1:s)-i)/T)):(f*p-v)/T:(t[_].t-v)/T:S+1,g+y.length+w),C=g+y.length;C<E;)y.push({number:C,duration:T/p,time:v,timeline:m}),v+=T,C++;return y}function ns(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function is(e){var o,t=void 0===(t=e.type)?"static":t,n=e.duration,i=void 0===(i=e.timescale)?1:i,r=e.sourceDuration,a=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}((a=gs[t](e)).start,a.end).map((o=e,function(e,t){var n=o.duration,i=o.timescale,r=o.periodIndex,a=o.startNumber;return{number:(void 0===a?1:a)+e,duration:n/(void 0===i?1:i),timeline:r,time:t*n}}));return"static"===t&&(a[e=a.length-1].duration=r-n/i*e),a}function rs(e,t){return e.replace(ms,(r=t,function(e,t,n,i){if("$$"===e)return"$";if(void 0===r[t])return e;e=""+r[t];return"RepresentationID"===t||(i=n?parseInt(i,10):1)<=e.length?e:new Array(i-e.length+1).join("0")+e}));var r}function as(n,e){var i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},t=void 0===(t=n.initialization)?{sourceURL:"",range:""}:t,r=es({baseUrl:n.baseUrl,source:rs(t.sourceURL,i),range:t.range});return t=e,((e=n).duration||t?e.duration?is(e):ts(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]).map(function(e){i.Number=e.number,i.Time=e.time;var t=rs(n.media||"",i);return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:Zo(n.baseUrl||"",t),map:r,number:e.number}})}function os(i,e){var t=i.duration,n=void 0===(n=i.segmentUrls)?[]:n;if(!t&&!e||t&&e)throw new Error(ys.SEGMENT_TIME_UNSPECIFIED);var r=n.map(function(e){return e=e,n=(t=i).baseUrl,t=t.initialization,t=es({baseUrl:n,source:(t=void 0===t?{}:t).sourceURL,range:t.range}),(n=es({baseUrl:n,source:e.media,range:e.mediaRange})).map=t,n;var t,n}),n=void 0;return t&&(n=is(i)),(n=e?ts(i,e):n).map(function(e,t){if(r[t])return(t=r[t]).timeline=e.timeline,t.duration=e.duration,t.number=e.number,t}).filter(function(e){return e})}function ss(e){var t=e.baseUrl,n=void 0===(n=e.initialization)?{}:n,i=e.sourceDuration,r=void 0===(r=e.timescale)?1:r,a=void 0===(a=e.indexRange)?"":a,o=e.duration;if(t)return n=es({baseUrl:t,source:n.sourceURL,range:n.range}),(t=es({baseUrl:t,source:t,range:a})).map=n,o?(a=is(e)).length&&(t.duration=a[0].duration,t.timeline=a[0].timeline):i&&(t.duration=i/r,t.timeline=0),t.number=0,[t];throw new Error(ys.NO_BASE_URL)}function ls(e){return e.textContent.trim()}function us(e){if(!(e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e)))return 0;var t=(e=e.slice(1))[0],n=e[1],i=e[2],r=e[3],a=e[4],e=e[5];return 31536e3*parseFloat(t||0)+2592e3*parseFloat(n||0)+86400*parseFloat(i||0)+3600*parseFloat(r||0)+60*parseFloat(a||0)+parseFloat(e||0)}var cs=function(e){return e.reduce(function(e,t){var n=t.attributes.role&&t.attributes.role.value||"main",i=t.attributes.lang||"",r="main";return e[r=i?t.attributes.lang+" ("+n+")":r]&&e[r].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(e[r]={language:i,autoselect:!0,default:"main"===n,playlists:[(i=(r=t).attributes,r=r.segments,n={attributes:((n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1},i.contentProtection&&(n.contentProtection=i.contentProtection),n)],uri:""}),e},{})},ds=function(e){return e.reduce(function(e,t){var n,i=t.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:[(t=(i=t).attributes,void 0===(i=i.segments)&&(i=[{uri:t.baseUrl,timeline:t.periodIndex,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),{attributes:((n={NAME:t.id,BANDWIDTH:t.bandwidth})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:t.baseUrl||"",targetDuration:t.duration,segments:i,mediaSequence:i.length?i[0].number:1})],uri:""}),e},{})},hs=function(e){var t=e.attributes,e=e.segments,n={attributes:((n={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:e,mediaSequence:e.length?e[0].number:1};return t.contentProtection&&(n.contentProtection=t.contentProtection),n},fs="function"==typeof Symbol&&"symbol"===St(Symbol.iterator)?function(e){return void 0===e?"undefined":St(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":St(e)},ps=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},gs={static:function(e){var t=e.duration,n=e.timescale,e=e.sourceDuration;return{start:0,end:Math.ceil(e/(t/(void 0===n?1:n)))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,r=e.timescale,r=void 0===r?1:r,a=e.duration,o=e.start,s=e.minimumUpdatePeriod,e=e.timeShiftBufferDepth,e=void 0===e?1/0:e,t=(t+n)/1e3,n=i+(void 0===o?0:o),i=Math.ceil((t+(void 0===s?0:s)-n)*r/a),o=Math.floor((t-n-e)*r/a),s=Math.floor((t-n)*r/a);return{start:Math.max(0,o),end:Math.min(i,s)}}},ms=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ys={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},vs=function(e){var t=e.attributes,e=e.segmentInfo,n=void 0,i=void 0;if(e.template?(i=as,n=Jo(t,e.template)):e.base?(i=ss,n=Jo(t,e.base)):e.list&&(i=os,n=Jo(t,e.list)),!i)return{attributes:t};t=i(n,e.timeline);return n.duration?(e=(i=n).duration,i=i.timescale,n.duration=e/(void 0===i?1:i)):t.length?n.duration=t.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):n.duration=0,{attributes:n,segments:t}},bs=function(e,t){return ns(e.childNodes).filter(function(e){return e.tagName===t})},_s={mediaPresentationDuration:us,availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=e)&&(e+="Z"),Date.parse(e)/1e3},minimumUpdatePeriod:us,timeShiftBufferDepth:us,start:us,width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?us(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Ts=function(e){return e&&e.attributes?ns(e.attributes).reduce(function(e,t){var n=_s[t.name]||_s.DEFAULT;return e[t.name]=n(t.value),e},{}):{}};function Ss(e){var t=bs(e,"SegmentTemplate")[0],n=bs(e,"SegmentList")[0],i=n&&bs(n,"SegmentURL").map(function(e){return Jo({tag:"SegmentURL"},Ts(e))}),e=bs(e,"SegmentBase")[0],r=(r=n||t)&&bs(r,"SegmentTimeline")[0],a=(a=n||e||t)&&bs(a,"Initialization")[0],o=((t=t&&Ts(t))&&a?t.initialization=a&&Ts(a):t&&t.initialization&&(t.initialization={sourceURL:t.initialization}),{template:t,timeline:r&&bs(r,"S").map(function(e){return Ts(e)}),list:n&&Jo(Ts(n),{segmentUrls:i,initialization:Ts(a)}),base:e&&Jo(Ts(e),{initialization:Ts(a)})});return Object.keys(o).forEach(function(e){o[e]||delete o[e]}),o}function ws(e){return e.reduce(function(e,t){var n=Ts(t),i=ul[n.schemeIdUri];return i&&(e[i]={attributes:n},(n=bs(t,"cenc:pssh")[0])&&(n=(t=ls(n))&&function(e){for(var t=h.atob(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),e[i].pssh=n)),e},{})}function Es(s,l,u){return function(e){var r,a,o,t=Ts(e),n=cl(l,bs(e,"BaseURL")),i=bs(e,"Role")[0],i={role:Ts(i)},t=Jo(s,t,i),i=ws(bs(e,"ContentProtection")),i=(Object.keys(i).length&&(t=Jo(t,{contentProtection:i})),Ss(e)),e=bs(e,"Representation"),i=Jo(u,i);return ps(e.map((r=t,a=n,o=i,function(e){var t=bs(e,"BaseURL"),t=cl(a,t),n=Jo(r,Ts(e)),i=Ss(e);return t.map(function(e){return{segmentInfo:Jo(o,i),attributes:Jo(n,{baseUrl:e})}})})))}}function Cs(e){if(""===e)throw new Error(ys.DASH_EMPTY_MANIFEST);if(!(e=(e=(new h.DOMParser).parseFromString(e,"application/xml"))&&"MPD"===e.documentElement.tagName?e.documentElement:null)||0<e.getElementsByTagName("parsererror").length)throw new Error(ys.DASH_INVALID_XML);return e}function ks(e,t){if(!(e=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.manifestUri,n=void 0===n?"":n,i=t.NOW,i=void 0===i?Date.now():i,t=t.clientOffset,t=void 0===t?0:t,r=bs(e,"Period");if(1!==r.length)throw new Error(ys.INVALID_NUMBER_OF_PERIOD);var a=Ts(e),n=cl([n],bs(e,"BaseURL"));return a.sourceDuration=a.mediaPresentationDuration||0,a.NOW=i,a.clientOffset=t,ps(r.map(dl(a,n)))}(Cs(e),t).map(vs)).length)return{};var n=(t=e[0].attributes).sourceDuration,t=void 0===(t=t.minimumUpdatePeriod)?0:t,i=e.filter(function(e){e=e.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}).map(hs),r=e.filter(function(e){e=e.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}),e=e.filter(function(e){e=e.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType}),a={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((a={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},a.SUBTITLES={},a),uri:"",duration:n,playlists:i,minimumUpdatePeriod:1e3*t};return r.length&&(a.mediaGroups.AUDIO.audio=cs(r)),e.length&&(a.mediaGroups.SUBTITLES.subs=ds(e)),a}function Ds(e){if(e=Cs(e),!(e=bs(e,"UTCTiming")[0]))return null;var t=Ts(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;default:throw new Error(ys.UNSUPPORTED_UTC_TIMING_SCHEME)}return t}var L,As,xs,Ls,Os,Is,Rs,Ps,Ms,Ns,Us,Fs,js,Bs,Hs,Ws,Gs,qs,Vs,Ys,O,zs,$s,Ks,Xs,Qs,Js,Zs,el,tl,nl,il,rl,al,ol,sl,ll,ul={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},cl=function(e,n){return n.length?ps(e.map(function(t){return n.map(function(e){return Zo(t,ls(e))})})):e},dl=function(r,a){return function(e,t){var n=cl(a,bs(e,"BaseURL")),i=Ts(e),i=Jo(r,i,{periodIndex:t}),t=bs(e,"AdaptationSet"),e=Ss(e);return ps(t.map(Es(i,n,e)))}},b={toUnsigned:function(e){return e>>>0}},eo=Object.freeze({default:b,__moduleExports:b,toUnsigned:b.toUnsigned}),hl=(eo&&b).toUnsigned,fl=function(e,t){var n,i,r,a=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=hl(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=pl(e.subarray(n+4,n+8)),i=1<i?n+i:e.byteLength,r===t[0]&&(1===t.length?a.push(e.subarray(n+8,i)):(r=fl(e.subarray(n+8,i),t.slice(1))).length&&(a=a.concat(r))),n=i;return a},pl=function(e){var t="";return(t+=String.fromCharCode(e[0]))+String.fromCharCode(e[1])+String.fromCharCode(e[2])+String.fromCharCode(e[3])},gl={findBox:fl,parseType:pl,timescale:function(e){return fl(e,["moov","trak"]).reduce(function(e,t){var n,i,r=fl(t,["tkhd"])[0];return r?(n=r[0],r=hl(r[i=0===n?12:20]<<24|r[1+i]<<16|r[2+i]<<8|r[3+i]),(t=fl(t,["mdia","mdhd"])[0])?(n=t[0],e[r]=hl(t[i=0===n?12:20]<<24|t[1+i]<<16|t[2+i]<<8|t[3+i]),e):null):null},{})},startTime:function(i,e){e=fl(e,["moof","traf"]),e=[].concat.apply([],e.map(function(n){return fl(n,["tfhd"]).map(function(e){var e=hl(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),e=i[e]||9e4,t=fl(n,["tfdt"]).map(function(e){var t=e[0],n=hl(e[4]<<24|e[5]<<16|e[6]<<8|e[7]);return n=1===t?(n*=Math.pow(2,32))+hl(e[8]<<24|e[9]<<16|e[10]<<8|e[11]):n})[0];return(t||1/0)/e})})),e=Math.min.apply(null,e);return isFinite(e)?e:0},videoTrackIds:function(e){var e=fl(e,["moov","trak"]),i=[];return e.forEach(function(e){var t=fl(e,["mdia","hdlr"]),n=fl(e,["tkhd"]);t.forEach(function(e,t){var e=pl(e.subarray(8,12)),t=n[t];"vide"===e&&(t=0===(e=new DataView(t.buffer,t.byteOffset,t.byteLength)).getUint8(0)?e.getUint32(12):e.getUint32(20),i.push(t))})}),i}},ml=Math.pow(2,32)-1;if(O={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var yl in O)O.hasOwnProperty(yl)&&(O[yl]=[yl.charCodeAt(0),yl.charCodeAt(1),yl.charCodeAt(2),yl.charCodeAt(3)]);zs=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ks=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),$s=new Uint8Array([0,0,0,1]),Za=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ja=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Xs={video:Za,audio:Ja},Zs=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Js=new Uint8Array([0,0,0,0,0,0,0,0]),el=new Uint8Array([0,0,0,0,0,0,0,0]),tl=el,nl=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),il=el,Qs=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}L=function(e){for(var t,n=[],i=0,r=1;r<arguments.length;r++)n.push(arguments[r]);for(r=n.length;r--;)i+=n[r].byteLength;for(t=new Uint8Array(i+8),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(0,t.byteLength),t.set(e,4),r=0,i=8;r<n.length;r++)t.set(n[r],i),i+=n[r].byteLength;return t},As=function(){return L(O.dinf,L(O.dref,Zs))},xs=function(e){return L(O.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},Bs=function(e){return L(O.hdlr,Xs[e])},js=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),L(O.mdhd,t)},Fs=function(e){return L(O.mdia,js(e),Bs(e.type),Is(e))},Os=function(e){return L(O.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},Is=function(e){return L(O.minf,"video"===e.type?L(O.vmhd,Qs):L(O.smhd,Js),As(),Ws(e))},Ps=function(e){for(var t=e.length,n=[];t--;)n[t]=Vs(e[t]);return L.apply(null,[O.mvex].concat(n))},Ms=function(e){e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return L(O.mvhd,e)},Hs=function(e){for(var t,n=e.samples||[],i=new Uint8Array(4+n.length),r=0;r<n.length;r++)t=n[r].flags,i[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return L(O.sdtp,i)},Ws=function(e){return L(O.stbl,Gs(e),L(O.stts,il),L(O.stsc,tl),L(O.stsz,nl),L(O.stco,el))},Gs=function(e){return L(O.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===e.type?rl:al)(e))},rl=function(e){for(var t=e.sps||[],n=e.pps||[],i=[],r=[],a=0;a<t.length;a++)i.push((65280&t[a].byteLength)>>>8),i.push(255&t[a].byteLength),i=i.concat(Array.prototype.slice.call(t[a]));for(a=0;a<n.length;a++)r.push((65280&n[a].byteLength)>>>8),r.push(255&n[a].byteLength),r=r.concat(Array.prototype.slice.call(n[a]));return L(O.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),L(O.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([t.length]).concat(i).concat([n.length]).concat(r))),L(O.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},al=function(e){return L(O.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),xs(e))},Us=function(e){e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return L(O.tkhd,e)},qs=function(e){var t,n=L(O.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(e.baseMediaDecodeTime/(1+ml)),r=Math.floor(e.baseMediaDecodeTime%(1+ml)),i=L(O.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r]));return"audio"===e.type?(t=Ys(e,92),L(O.traf,n,i,t)):(r=Hs(e),t=Ys(e,r.length+92),L(O.traf,n,i,t,r))},Ns=function(e){return e.duration=e.duration||4294967295,L(O.trak,Us(e),Fs(e))},Vs=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),L(O.trex,t)},ol=function(e,t){var n=0,i=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},sl=function(e,t){var n,i,r,a=e.samples||[];for(t+=20+16*a.length,n=ol(a,t),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size,i.flags.isLeading<<2|i.flags.dependsOn,i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,61440&i.flags.degradationPriority,15&i.flags.degradationPriority,(4278190080&i.compositionTimeOffset)>>>24,(16711680&i.compositionTimeOffset)>>>16,(65280&i.compositionTimeOffset)>>>8,255&i.compositionTimeOffset]);return L(O.trun,new Uint8Array(n))},ll=function(e,t){var n,i,r,a=e.samples||[];for(t+=20+8*a.length,n=ol(a,t),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size]);return L(O.trun,new Uint8Array(n))},Ys=function(e,t){return("audio"===e.type?ll:sl)(e,t)};function vl(){this.init=function(){var a={};this.on=function(e,t){a[e]||(a[e]=[]),a[e]=a[e].concat(t)},this.off=function(e,t){return!!a[e]&&(t=a[e].indexOf(t),a[e]=a[e].slice(),a[e].splice(t,1),-1<t)},this.trigger=function(e){var t,n,i,r=a[e];if(r)if(2===arguments.length)for(n=r.length,t=0;t<n;++t)r[t].call(this,arguments[1]);else{for(i=[],t=arguments.length,t=1;t<arguments.length;++t)i.push(arguments[t]);for(n=r.length,t=0;t<n;++t)r[t].apply(this,i)}},this.dispose=function(){a={}}}}r={ftyp:Ls=function(){return L(O.ftyp,zs,$s,zs,Ks)},mdat:function(e){return L(O.mdat,e)},moof:function(e,t){for(var n=[],i=t.length;i--;)n[i]=qs(t[i]);return L.apply(null,[O.moof,Os(e)].concat(n))},moov:Rs=function(e){for(var t=e.length,n=[];t--;)n[t]=Ns(e[t]);return L.apply(null,[O.moov,Ms(4294967295)].concat(n).concat(Ps(e)))},initSegment:function(e){var t=Ls(),e=Rs(e),n=new Uint8Array(t.byteLength+e.byteLength);return n.set(t),n.set(e,t.byteLength),n}},e=Object.freeze({default:r,__moduleExports:r,ftyp:r.ftyp,mdat:r.mdat,moof:r.moof,moov:r.moov,initSegment:r.initSegment});vl.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},vl.prototype.push=function(e){this.trigger("data",e)},vl.prototype.flush=function(e){this.trigger("done",e)};function bl(){bl.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new I(0,0),new I(0,1),new I(1,0),new I(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)}function _l(e){return null===e?"":(e=xl[e]||e,String.fromCharCode(e))}function Tl(){for(var e=[],t=Ll+1;t--;)e.push("");return e}function Sl(e,t){var n=1;for(t<e&&(n=-1);Math.abs(t-e)>Rl;)e+=n*Il;return e}function wl(e){var t,n;wl.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=Sl(e.dts,n),e.pts=Sl(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){t=n=void 0}}function El(e,t,n){for(var i="",r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}function Cl(e,t,n){return decodeURIComponent(El(e,t,n))}function kl(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var o=Object.freeze({default:vl,__moduleExports:vl}),Dl=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},t={groupNalsIntoFrames:function(e){for(var t,n=[],i=[],r=n.byteLength=0;r<e.length;r++)"access_unit_delimiter_rbsp"===(t=e[r]).nalUnitType?(n.length&&(n.duration=t.dts-n.dts,i.push(n)),(n=[t]).byteLength=t.data.byteLength,n.pts=t.pts,n.dts=t.dts):("slice_layer_without_partitioning_rbsp_idr"===t.nalUnitType&&(n.keyFrame=!0),n.duration=t.dts-n.dts,n.byteLength+=t.data.byteLength,n.push(t));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.push(n),i},groupFramesIntoGops:function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){for(var n,i,r,a,o,s=t||0,l=[],u=0;u<e.length;u++)for(i=e[u],n=0;n<i.length;n++)r=i[n],r=r,a=s,o=void 0,(o=Dl()).dataOffset=a,o.compositionTimeOffset=r.pts-r.dts,o.duration=r.duration,o.size=4*r.length,o.size+=r.byteLength,r.keyFrame&&(o.flags.dependsOn=2,o.flags.isNonSyncSample=0),s+=(a=o).size,l.push(a);return l},concatenateNalData:function(e){for(var t,n,i,r,a,o=0,s=e.byteLength,l=e.nalCount,u=new Uint8Array(s+4*l),c=new DataView(u.buffer),d=0;d<e.length;d++)for(i=e[d],t=0;t<i.length;t++)for(r=i[t],n=0;n<r.length;n++)a=r[n],c.setUint32(o,a.data.byteLength),u.set(a.data,o+=4),o+=a.data.byteLength;return u}},Qa=Object.freeze({default:t,__moduleExports:t,groupNalsIntoFrames:t.groupNalsIntoFrames,groupFramesIntoGops:t.groupFramesIntoGops,extendFirstKeyFrame:t.extendFirstKeyFrame,generateSampleTable:t.generateSampleTable,concatenateNalData:t.concatenateNalData}),v={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=n,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},U=Object.freeze({default:v,__moduleExports:v,clearDtsInfo:v.clearDtsInfo,calculateTrackBaseMediaDecodeTime:v.calculateTrackBaseMediaDecodeTime,collectDtsInfo:v.collectDtsInfo}),_={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,r=i=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,i,r,a,o=[];if(!(64&t[0]))return o;for(i=31&t[0],n=0;n<i;n++)a={type:3&t[2+(r=3*n)],pts:e},4&t[2+r]&&(a.ccData=t[3+r]<<8|t[4+r],o.push(a));return o},discardEmulationPreventionBytes:function(e){for(var t=e.byteLength,n=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;for(var r=t-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=e[o];return a},USER_DATA_REGISTERED_ITU_T_T35:4},T=Object.freeze({default:_,__moduleExports:_,parseSei:_.parseSei,parseUserData:_.parseUserData,parseCaptionPackets:_.parseCaptionPackets,discardEmulationPreventionBytes:_.discardEmulationPreventionBytes,USER_DATA_REGISTERED_ITU_T_T35:_.USER_DATA_REGISTERED_ITU_T_T35}),bn=o&&vl,Al=T&&_,xl=((bl.prototype=new bn).push=function(e){var t,n;if("sei_rbsp"===e.nalUnitType&&(n=Al.parseSei(e.escapedRBSP)).payloadType===Al.USER_DATA_REGISTERED_ITU_T_T35&&(t=Al.parseUserData(n)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Al.parseCaptionPackets(e.pts,t),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},bl.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},bl.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},bl.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},bl.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},bl.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},{42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496}),Ll=14,Ol=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],I=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,a=32639&e.ccData;a===this.lastControlCode_?this.lastControlCode_=null:(4096==(61440&a)?this.lastControlCode_=a:a!==this.PADDING_&&(this.lastControlCode_=null),t=a>>>8,n=255&a,a!==this.PADDING_&&(a===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":a===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts):a===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(e.pts)):a===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(e.pts)):a===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(e.pts)):a===this.CARRIAGE_RETURN_?(this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts):a===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):a===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(e.pts),this.displayed_=Tl()):a===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=Tl():a===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Tl()),this.mode_="paintOn",this.startPts_=e.pts):this.isSpecialCharacter(t,n)?(i=_l((t=(3&t)<<8)|n),this[this.mode_](e.pts,i),this.column_++):this.isExtCharacter(t,n)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=_l((t=(3&t)<<8)|n),this[this.mode_](e.pts,i),this.column_++):this.isMidRowCode(t,n)?(this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"])):this.isOffsetControlCode(t,n)?this.column_+=3&n:this.isPAC(t,n)?(r=Ol.indexOf(7968&a),"rollUp"===this.mode_&&this.setRollUp(e.pts,r),r!==this.row_&&(this.clearFormatting(e.pts),this.row_=r),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&a)&&(this.column_=4*((14&a)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])):this.isNormalChar(t)&&(0===n&&(n=null),i=_l(t),i+=_l(n),this[this.mode_](e.pts,i),this.column_+=i.length)))}},eo=(I.prototype=new bn,I.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},I.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Tl(),this.nonDisplayed_=Tl(),this.lastControlCode_=null,this.column_=0,this.row_=Ll,this.rollUpRows_=2,this.formatting_=[]},I.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},I.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},I.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},I.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},I.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},I.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},I.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},I.prototype.isNormalChar=function(e){return 32<=e&&e<=127},I.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=Ll,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Tl(),this.displayed_=Tl()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},I.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);t=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,t)},I.prototype.clearFormatting=function(e){var t;this.formatting_.length&&(t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},""),this.formatting_=[],this[this.mode_](e,t))},I.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=n+=t},I.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t},I.prototype.shiftRowsUp_=function(){for(var e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<Ll+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},I.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t},{CaptionStream:bl,Cea608Stream:I}),b=Object.freeze({default:eo,__moduleExports:eo,CaptionStream:eo.CaptionStream,Cea608Stream:eo.Cea608Stream}),Za={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ja=Object.freeze({default:Za,__moduleExports:Za,H264_STREAM_TYPE:Za.H264_STREAM_TYPE,ADTS_STREAM_TYPE:Za.ADTS_STREAM_TYPE,METADATA_STREAM_TYPE:Za.METADATA_STREAM_TYPE}),Il=8589934592,Rl=4294967296,o=(wl.prototype=new bn,{TimestampRolloverStream:wl,handleRollover:Sl}),T=Object.freeze({default:o,__moduleExports:o,TimestampRolloverStream:o.TimestampRolloverStream,handleRollover:o.handleRollover}),Pl=Ja&&Za,Ml={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Cl(e.data,1,t),e.value=Cl(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Cl(e.data,1,t),e.url=Cl(e.data,t+1,e.data.length);break}},PRIV:function(e){for(var t,n=0;n<e.data.length;n++)if(0===e.data[n]){e.owner=(t=e.data,unescape(El(t,0,n)));break}e.privateData=e.data.subarray(n+1),e.data=e.privateData}},Nl=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},u=0,c=[],d=0;if(Nl.prototype.init.call(this),this.dispatchType=Pl.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,r,a,o,s;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(d=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(e),d+=e.data.byteLength,1===c.length&&(u=kl(e.data.subarray(6,10)),u+=10),!(d<u)){for(t={data:new Uint8Array(u),frames:[],pts:c[0].pts,dts:c[0].dts},r=0;r<u;)t.data.set(c[0].data.subarray(0,u-r),r),r+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();n=10,64&t.data[5]&&(n=(n+=4)+kl(t.data.subarray(10,14)),u-=kl(t.data.subarray(16,20)));do{if((i=kl(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}while((s={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)}).key=s.id,Ml[s.id]&&(Ml[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner&&(o=(1&(a=s.data)[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2,o=(o*=4)+(3&a[7]),s.timeStamp=o,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s))),t.frames.push(s),(n=n+10+i)<u);this.trigger("data",t)}}};Nl.prototype=new bn;var Ul,Fl,jl,_=Object.freeze({default:Nl,__moduleExports:Nl}),Ja=b&&eo,Za=T&&o,b=_&&Nl,eo=Za.TimestampRolloverStream,Bl=function(){var r=new Uint8Array(188),a=0;Bl.prototype.init.call(this),this.push=function(e){var t,n=0,i=188;for(a?((t=new Uint8Array(e.byteLength+a)).set(r.subarray(0,a)),t.set(e,a),a=0):t=e;i<t.byteLength;)71===t[n]&&71===t[i]?(this.trigger("data",t.subarray(n,i)),n+=188,i+=188):(n++,i++);n<t.byteLength&&(r.set(t.subarray(n),0),a=t.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}},Hl=(Bl.prototype=new bn,(Ul=function(){var i,r,a,o;Ul.prototype.init.call(this),(o=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(e,t){var n=0;t.payloadUnitStartIndicator&&(n+=e[n]+1),("pat"===t.type?r:a)(e.subarray(n),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],o.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=o.pmtPid},a=function(e,t){var n,i;if(1&e[5]){for(o.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var r=e[i],a=(31&e[i+1])<<8|e[i+2];r===Pl.H264_STREAM_TYPE&&null===o.programMapTable.video?o.programMapTable.video=a:r===Pl.ADTS_STREAM_TYPE&&null===o.programMapTable.audio?o.programMapTable.audio=a:r===Pl.METADATA_STREAM_TYPE&&(o.programMapTable["timed-metadata"][a]=r),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=o.programMapTable}},this.push=function(e){var t={},n=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(n+=e[n]+1),0===t.pid)t.type="pat",i(e.subarray(n),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",i(e.subarray(n),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,t]):this.processPes_(e,n,t)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Pl.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Pl.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new bn,Ul.STREAM_TYPES={h264:27,adts:15},(Fl=function(){function i(e,t,n){var i,r=new Uint8Array(e.size),a={type:t},o=0,s=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,o=0;o<e.data.length;o++)i=e.data[o],r.set(i.data,s),s+=i.data.byteLength;u(r,a),t="video"===t||a.packetLength<=e.size,(n||t)&&(e.size=0,e.data.length=0),t&&l.trigger("data",a)}}var l=this,r={data:[],size:0},a={data:[],size:0},o={data:[],size:0},u=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])};Fl.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var e,t;switch(n.streamType){case Pl.H264_STREAM_TYPE:case Pl.H264_STREAM_TYPE:e=r,t="video";break;case Pl.ADTS_STREAM_TYPE:e=a,t="audio";break;case Pl.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(e,t,!0),e.data.push(n),e.size+=n.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},t=n.programMapTable;null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(o,"timed-metadata"),this.trigger("done")}}).prototype=new bn,{PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Bl,TransportParseStream:Ul,ElementaryStream:Fl,TimestampRolloverStream:eo,CaptionStream:Ja.CaptionStream,Cea608Stream:Ja.Cea608Stream,MetadataStream:b});for(jl in Pl)Pl.hasOwnProperty(jl)&&(Hl[jl]=Pl[jl]);function R(e){for(var t=[];e--;)t.push(0);return t}function Wl(e){return new Date(1e3*e-20828448e5)}function Gl(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}function ql(){var t,o,s,l,u,e=!1;this.isInitialized=function(){return e},this.init=function(){t=new ju,e=!0,t.on("data",function(e){e.startTime=e.startPts/l,e.endTime=e.endPts/l,u.captions.push(e),u.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===(void 0===t?"undefined":St(t))&&0===Object.keys(t).length)&&(s!==e[0]||l!==t[s])},this.parse=function(e,t,n){var i,r;if(!this.isInitialized())return null;if(!t||!n)return null;if(this.isNewInit(t,n))s=t[0],l=n[s];else if(!s||!l)return o.push(e),null;for(;0<o.length;){var a=o.shift();this.parse(a,t,n)}return e=e,r=l,null!==(e=(i=s)?{seiNals:Bu(e,i)[i],timescale:r}:null)&&e.seiNals?(this.pushNals(e.seiNals),this.flushStream(),u):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){u.captions=[],u.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){o=[],l=s=null,u?this.clearParsedCaptions():u={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}function Vl(e){var t=31&e[1];return t<<8|e[2]}function Yl(e){return!!(64&e[1])}function zl(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function $l(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}function Kl(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var Xl,Ql,Jl,Zl,eu,tu,T=Hl,o=Object.freeze({default:T,__moduleExports:T}),nu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],iu=function(){var l;iu.prototype.init.call(this),this.push=function(e){var t,n,i,r,a,o=0,s=0;if("audio"===e.type)for(l?(i=l,(l=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),l.set(e.data,i.byteLength)):l=e.data;o+5<l.length;)if(255!==l[o]||240!=(246&l[o+1]))o++;else{if(t=2*(1&~l[o+1]),n=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,a=9e4*(r=1024*(1+(3&l[o+6])))/nu[(60&l[o+2])>>>2],l.byteLength<(n=o+n))return;if(this.trigger("data",{pts:e.pts+s*a,dts:e.dts+s*a,sampleCount:r,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:nu[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+t,n)}),l.byteLength===n)return void(l=void 0);s++,l=l.subarray(n)}},this.flush=function(){this.trigger("done")}},_=(iu.prototype=new bn,iu),eo=Object.freeze({default:_,__moduleExports:_}),b=function(i){var r=i.byteLength,a=0,o=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+o},this.loadWord=function(){var e=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");t.set(i.subarray(e,e+n)),a=new DataView(t.buffer).getUint32(0),o=8*n,r-=n},this.skipBits=function(e){var t;e<o||(e=(e-=o)-8*(t=Math.floor(e/8)),r-=t,this.loadWord()),a<<=e,o-=e},this.readBits=function(e){var t=Math.min(o,e),n=a>>>32-t;return 0<(o-=t)?a<<=t:0<r&&this.loadWord(),0<(t=e-t)?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){for(var e=0;e<o;++e)if(0!=(a&2147483648>>>e))return a<<=e,o-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},ru=Object.freeze({default:b,__moduleExports:b}),au=ru&&b,ou=function(){var n,i,r=0;ou.prototype.init.call(this),this.push=function(e){var t;for(i=i?((t=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),t.set(e.data,i.byteLength),t):e.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}},ru=(ou.prototype=new bn,Ql={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Xl=function(){var n,i,r,a,o,s,m,t=new ou;Xl.prototype.init.call(this),(n=this).push=function(e){"video"===e.type&&(i=e.trackId,r=e.pts,a=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:i,pts:r,dts:a,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=o(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=o(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",t)}),t.on("done",function(){n.trigger("done")}),this.flush=function(){t.flush()},m=function(e,t){for(var n=8,i=8,r=0;r<e;r++)n=0===(i=0!==i?(n+t.readExpGolomb()+256)%256:i)?n:i},o=function(e){for(var t=e.byteLength,n=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;for(var r=t-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=e[o];return a},s=function(e){var t,n,i,r,a,o,s,l=0,u=0,c=0,d=0,h=1,f=new au(e),e=f.readUnsignedByte(),p=f.readUnsignedByte(),g=f.readUnsignedByte();if(f.skipUnsignedExpGolomb(),Ql[e]&&(3===(n=f.readUnsignedExpGolomb())&&f.skipBits(1),f.skipUnsignedExpGolomb(),f.skipUnsignedExpGolomb(),f.skipBits(1),f.readBoolean()))for(a=3!==n?8:12,s=0;s<a;s++)f.readBoolean()&&m(s<6?16:64,f);if(f.skipUnsignedExpGolomb(),0===(n=f.readUnsignedExpGolomb()))f.readUnsignedExpGolomb();else if(1===n)for(f.skipBits(1),f.skipExpGolomb(),f.skipExpGolomb(),t=f.readUnsignedExpGolomb(),s=0;s<t;s++)f.skipExpGolomb();if(f.skipUnsignedExpGolomb(),f.skipBits(1),n=f.readUnsignedExpGolomb(),i=f.readUnsignedExpGolomb(),0===(r=f.readBits(1))&&f.skipBits(1),f.skipBits(1),f.readBoolean()&&(l=f.readUnsignedExpGolomb(),u=f.readUnsignedExpGolomb(),c=f.readUnsignedExpGolomb(),d=f.readUnsignedExpGolomb()),f.readBoolean()&&f.readBoolean()){switch(f.readUnsignedByte()){case 1:o=[1,1];break;case 2:o=[12,11];break;case 3:o=[10,11];break;case 4:o=[16,11];break;case 5:o=[40,33];break;case 6:o=[24,11];break;case 7:o=[20,11];break;case 8:o=[32,11];break;case 9:o=[80,33];break;case 10:o=[18,11];break;case 11:o=[15,11];break;case 12:o=[64,33];break;case 13:o=[160,99];break;case 14:o=[4,3];break;case 15:o=[3,2];break;case 16:o=[2,1];break;case 255:o=[f.readUnsignedByte()<<8|f.readUnsignedByte(),f.readUnsignedByte()<<8|f.readUnsignedByte()]}o&&(h=o[0]/o[1])}return{profileIdc:e,levelIdc:g,profileCompatibility:p,width:Math.ceil((16*(n+1)-2*l-2*u)*h),height:(2-r)*(i+1)*16-2*c-2*d}}}).prototype=new bn,{H264Stream:Xl,NalByteStream:ou}),b=Object.freeze({default:ru,__moduleExports:ru,H264Stream:ru.H264Stream,NalByteStream:ru.NalByteStream}),su=function(){var a=new Uint8Array,o=0;su.prototype.init.call(this),this.setTimestamp=function(e){o=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+n:10+n},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},this.push=function(e){var t,n,i=0,r=0;for(a.length?(n=a.length,(a=new Uint8Array(e.byteLength+n)).set(a.subarray(0,n)),a.set(e,n)):a=e;3<=a.length-r;)if(a[r]==="I".charCodeAt(0)&&a[r+1]==="D".charCodeAt(0)&&a[r+2]==="3".charCodeAt(0)){if(a.length-r<10)break;if((i=this.parseId3TagSize(a,r))>a.length)break;t={type:"timed-metadata",data:a.subarray(r,r+i)},this.trigger("data",t),r+=i}else if(!0&a[r]&&240==(240&a[r+1])){if(a.length-r<7)break;if((i=this.parseAdtsSize(a,r))>a.length)break;t={type:"audio",data:a.subarray(r,r+i),pts:o,dts:o},this.trigger("data",t),r+=i}else r++;n=a.length-r,a=0<n?a.subarray(r):new Uint8Array}},lu=(su.prototype=new bn,su),uu=Object.freeze({default:lu,__moduleExports:lu}),cu=[33,16,5,32,164,27],du=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],cu={96e3:[cu,[227,64],R(154),[56]],88200:[cu,[231],R(170),[56]],64e3:[cu,[248,192],R(240),[56]],48e3:[cu,[255,192],R(268),[55,148,128],R(54),[112]],44100:[cu,[255,192],R(268),[55,163,128],R(84),[112]],32e3:[cu,[255,192],R(268),[55,234],R(226),[112]],24e3:[cu,[255,192],R(268),[55,255,128],R(268),[111,112],R(126),[224]],16e3:[cu,[255,192],R(268),[55,255,128],R(268),[111,255],R(269),[223,108],R(195),[1,192]],12e3:[du,R(268),[3,127,248],R(268),[6,255,240],R(268),[13,255,224],R(268),[27,253,128],R(259),[56]],11025:[du,R(268),[3,127,248],R(268),[6,255,240],R(268),[13,255,224],R(268),[27,255,192],R(268),[55,175,128],R(108),[112]],8e3:[du,R(268),[3,121,16],R(47),[7]]},du=(Jl=cu,Object.keys(Jl).reduce(function(e,t){return e[t]=new Uint8Array(Jl[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),cu=Object.freeze({default:du,__moduleExports:du}),hu=function(e){return 9e4*e},fu=function(e,t){return e*t},pu=function(e){return e/9e4},gu=function(e,t){return e/t},mu={secondsToVideoTs:hu,secondsToAudioTs:fu,videoTsToSeconds:pu,audioTsToSeconds:gu,audioTsToVideoTs:function(e,t){return hu(gu(e,t))},videoTsToAudioTs:function(e,t){return fu(pu(e),t)}},yu=Object.freeze({default:mu,__moduleExports:mu,secondsToVideoTs:mu.secondsToVideoTs,secondsToAudioTs:mu.secondsToAudioTs,videoTsToSeconds:mu.videoTsToSeconds,audioTsToSeconds:mu.audioTsToSeconds,audioTsToVideoTs:mu.audioTsToVideoTs,videoTsToAudioTs:mu.videoTsToAudioTs}),vu=e&&r,bu=Qa&&t,_u=U&&v,Tu=o&&T||o,Su=eo&&_,wu=uu&&lu,Eu=cu&&du||cu,Cu=yu&&mu,ku=(b&&ru).H264Stream,Du=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Au=["width","height","profileIdc","levelIdc","profileCompatibility"],xu=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},Lu=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ou=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].data.byteLength;return t},Iu=function(i,r){var a=[],o=0,t=0,l=0,u=1/0;r=r||{},Iu.prototype.init.call(this),this.push=function(t){_u.collectDtsInfo(i,t),i&&Du.forEach(function(e){i[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-i.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){u=e},this.setAudioAppendStart=function(e){l=e},this.flush=function(){var e,t,n;0!==a.length&&(t=this.trimAdtsFramesByEarliestDts_(a),i.baseMediaDecodeTime=_u.calculateTrackBaseMediaDecodeTime(i,r.keepOriginalTimestamps),this.prefixWithSilence_(i,t),i.samples=this.generateSampleTable_(t),t=vu.mdat(this.concatenateFrameData_(t)),a=[],e=vu.moof(o,[i]),n=new Uint8Array(e.byteLength+t.byteLength),o++,n.set(e),n.set(t,e.byteLength),_u.clearDtsInfo(i),this.trigger("data",{track:i,boxes:n})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,i,r,a,o=0,s=0;if(t.length&&(i=Cu.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),n=Math.ceil(9e4/(e.samplerate/1024)),l&&u&&(i=i-Math.max(l,u),s=(o=Math.floor(i/n))*n),!(o<1||45e3<s))){for(r=(r=Eu[e.samplerate])||t[0].data,a=0;a<o;a++)t.splice(a,0,{data:r});e.baseMediaDecodeTime-=Math.floor(Cu.videoTsToAudioTs(s,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return i.minSegmentDts>=t?e:(i.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(i.minSegmentDts=Math.min(i.minSegmentDts,e.dts),i.minSegmentPts=i.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){for(var t,n=[],i=0;i<e.length;i++)t=e[i],n.push({size:t.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(e){for(var t,n=0,i=new Uint8Array(Ou(e)),r=0;r<e.length;r++)t=e[r],i.set(t.data,n),n+=t.data.byteLength;return i}},e=(Iu.prototype=new bn,(Zl=function(o,i){var t,n,r=0,a=[],u=[];i=i||{},Zl.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(e){_u.collectDtsInfo(o,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,o.sps=[e.data],Au.forEach(function(e){o[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,o.pps=[e.data]),a.push(e)},this.flush=function(){for(var e,t;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=bu.groupNalsIntoFrames(a),(e=bu.groupFramesIntoGops(e))[0][0].keyFrame||((n=this.getGopForFusion_(a[0],o))?(e.unshift(n),e.byteLength+=n.byteLength,e.nalCount+=n.nalCount,e.pts=n.pts,e.dts=n.dts,e.duration+=n.duration):e=bu.extendFirstKeyFrame(e)),u.length){var n=i.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e);if(!n)return this.gopCache_.unshift({gop:e.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");_u.clearDtsInfo(o),e=n}_u.collectDtsInfo(o,e),o.samples=bu.generateSampleTable(e),n=vu.mdat(bu.concatenateNalData(e)),o.baseMediaDecodeTime=_u.calculateTrackBaseMediaDecodeTime(o,i.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:e.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),e=vu.moof(r,[o]),t=new Uint8Array(e.byteLength+n.byteLength),r++,t.set(e),t.set(n,e.byteLength),this.trigger("data",{track:o,boxes:t}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){_u.clearDtsInfo(o),n=t=void 0},this.getGopForFusion_=function(e){for(var t,n,i,r=1/0,a=0;a<this.gopCache_.length;a++)n=(i=this.gopCache_[a]).gop,o.pps&&Lu(o.pps[0],i.pps[0])&&o.sps&&Lu(o.sps[0],i.sps[0])&&(n.dts<o.timelineStartInfo.dts||-1e4<=(n=e.dts-n.dts-n.duration)&&n<=45e3&&(!t||n<r)&&(t=i,r=n));return t?t.gop:null},this.alignGopsAtStart_=function(e){for(var t,n,i,r,a=e.byteLength,o=e.nalCount,s=e.duration,l=t=0;l<u.length&&t<e.length&&(n=u[l],i=e[t],n.pts!==i.pts);)i.pts>n.pts?l++:(t++,a-=i.byteLength,o-=i.nalCount,s-=i.duration);return 0===t?e:t===e.length?null:((r=e.slice(t)).byteLength=a,r.duration=s,r.nalCount=o,r.pts=r[0].pts,r.dts=r[0].dts,r)},this.alignGopsAtEnd_=function(e){for(var t,n,i=u.length-1,r=e.length-1,a=null,o=!1;0<=i&&0<=r;){if(t=u[i],n=e[r],t.pts===n.pts){o=!0;break}t.pts>n.pts?i--:(i===u.length-1&&(a=r),r--)}if(!o&&null===a)return null;if(0===(s=o?r:a))return e;var s=e.slice(s),l=s.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return s.byteLength=l.byteLength,s.duration=l.duration,s.nalCount=l.nalCount,s.pts=s[0].pts,s.dts=s[0].dts,s},this.alignGopsWith=function(e){u=e}}).prototype=new bn,((tu=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,tu.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new bn).flush=function(e){var t,n,i,r=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Au.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Du.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,e=vu.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(e.byteLength),a.initSegment.set(e),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],r),r+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=t.startPts-o,t.startTime/=9e4,t.endTime=t.endPts-o,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts-o,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(eu=function(i){var r,a,o=this,n=!0;eu.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new Tu.MetadataStream,t.aacStream=new wu,t.audioTimestampRolloverStream=new Tu.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new Tu.TimestampRolloverStream("timed-metadata"),t.adtsStream=new Su,t.coalesceStream=new tu(i,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new Iu(a,i),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new Tu.MetadataStream,n.packetStream=new Tu.TransportPacketStream,n.parseStream=new Tu.TransportParseStream,n.elementaryStream=new Tu.ElementaryStream,n.videoTimestampRolloverStream=new Tu.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new Tu.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new Tu.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Su,n.h264Stream=new ku,n.captionStream=new Tu.CaptionStream,n.coalesceStream=new tu(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?a||"audio"!==e.tracks[t].type||((a=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Zl(r,i),n.videoSegmentStream.on("timelineStartInfo",function(e){a&&(a.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new Iu(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,_u.clearDtsInfo(a),a.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,_u.clearDtsInfo(r),t.captionStream.reset(),r.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){var t;n&&((t=xu(e))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1),this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new bn,{Transmuxer:eu,VideoSegmentStream:Zl,AudioSegmentStream:Iu,AUDIO_PROPERTIES:Du,VIDEO_PROPERTIES:Au}),r=Object.freeze({default:e,__moduleExports:e,Transmuxer:e.Transmuxer,VideoSegmentStream:e.VideoSegmentStream,AudioSegmentStream:e.AudioSegmentStream,AUDIO_PROPERTIES:e.AUDIO_PROPERTIES,VIDEO_PROPERTIES:e.VIDEO_PROPERTIES}),Ru=gl.parseType,Pu={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:Mu(e.subarray(78,e.byteLength))}},avcC:function(e){for(var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},a=31&e[5],o=6,s=0;s<a;s++)n=i.getUint16(o),o+=2,r.sps.push(new Uint8Array(e.subarray(o,o+n))),o+=n;for(t=e[o],o++,s=0;s<t;s++)n=i.getUint16(o),o+=2,r.pps.push(new Uint8Array(e.subarray(o,o+n))),o+=n;return r},btrt:function(e){e=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:Ru(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(Ru(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:Mu(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:Mu(e.subarray(8))}},hdlr:function(e){for(var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:Ru(e.subarray(8,12)),name:""},n=8,n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){for(var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[],r=0;r+4<e.length;r+=t)if(t=n.getUint32(r),r+=4,t<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[r]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[r]&31)}return i}(e)}},mdhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,e={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===e.version?(e.creationTime=Wl(t.getUint32(n+=4)),e.modificationTime=Wl(t.getUint32(n+=8)),e.timescale=t.getUint32(n+=4),e.duration=t.getUint32(n+=8)):(e.creationTime=Wl(t.getUint32(n)),e.modificationTime=Wl(t.getUint32(n+=4)),e.timescale=t.getUint32(n+=4),e.duration=t.getUint32(n+=4)),t=t.getUint16(n+=4),e.language+=String.fromCharCode(96+(t>>10)),e.language+=String.fromCharCode(96+((992&t)>>5)),e.language+=String.fromCharCode(96+(31&t)),e},mdia:function(e){return{boxes:Mu(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:Mu(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),t={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<e.byteLength&&(t.streamDescriptor=Mu(e.subarray(28))[0]),t},moof:function(e){return{boxes:Mu(e)}},moov:function(e){return{boxes:Mu(e)}},mvex:function(e){return{boxes:Mu(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(i.creationTime=Wl(t.getUint32(n+=4)),i.modificationTime=Wl(t.getUint32(n+=8)),i.timescale=t.getUint32(n+=4),i.duration=t.getUint32(n+=8)):(i.creationTime=Wl(t.getUint32(n)),i.modificationTime=Wl(t.getUint32(n+=4)),i.timescale=t.getUint32(n+=4),i.duration=t.getUint32(n+=4)),i.rate=t.getUint16(n+=4)+t.getUint16(n+2)/16,i.volume=t.getUint8(n+=4)+t.getUint8(n+1)/8,n=(n+=2)+2+8,i.matrix=new Uint32Array(e.subarray(n,n+36)),i.nextTrackId=t.getUint32(n=n+36+24),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){for(var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=4;n<e.byteLength;n++)t.samples.push({dependsOn:(48&e[n])>>4,isDependedOn:(12&e[n])>>2,hasRedundancy:3&e[n]});return t},sidx:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},i=t.getUint16(22),r=24;i;r+=12,i--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:Mu(e)}},stco:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=t.getUint32(4),r=8;i;r+=4,i--)n.chunkOffsets.push(t.getUint32(r));return n},stsc:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=t.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]},r=8;n;r+=12,n--)i.sampleToChunks.push({firstChunk:t.getUint32(r),samplesPerChunk:t.getUint32(r+4),sampleDescriptionIndex:t.getUint32(r+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:Mu(e.subarray(8))}},stsz:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:t.getUint32(4),entries:[]},i=12;i<e.byteLength;i+=4)n.entries.push(t.getUint32(i));return n},stts:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=t.getUint32(4),r=8;i;r+=8,i--)n.timeToSamples.push({sampleCount:t.getUint32(r),sampleDelta:t.getUint32(r+4)});return n},styp:function(e){return Pu.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),e={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},n=1&e.flags[2],i=2&e.flags[2],r=8&e.flags[2],a=16&e.flags[2],o=32&e.flags[2],s=65536&e.flags[0],l=131072&e.flags[0],u=8;return n&&(u+=4,e.baseDataOffset=t.getUint32(12),u+=4),i&&(e.sampleDescriptionIndex=t.getUint32(u),u+=4),r&&(e.defaultSampleDuration=t.getUint32(u),u+=4),a&&(e.defaultSampleSize=t.getUint32(u),u+=4),o&&(e.defaultSampleFlags=t.getUint32(u)),s&&(e.durationIsEmpty=!0),!n&&l&&(e.baseDataOffsetIsMoof=!0),e},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(i.creationTime=Wl(t.getUint32(n+=4)),i.modificationTime=Wl(t.getUint32(n+=8)),i.trackId=t.getUint32(n+=4),i.duration=t.getUint32(n=n+4+8)):(i.creationTime=Wl(t.getUint32(n)),i.modificationTime=Wl(t.getUint32(n+=4)),i.trackId=t.getUint32(n+=4),i.duration=t.getUint32(n=n+4+4)),i.layer=t.getUint16(n=n+4+8),i.alternateGroup=t.getUint16(n+=2),i.volume=t.getUint8(n+=2)+t.getUint8(n+1)/8,n=n+2+2,i.matrix=new Uint32Array(e.subarray(n,n+36)),i.width=t.getUint16(n+=36)+t.getUint16(n+2)/16,i.height=t.getUint16(n+=4)+t.getUint16(n+2)/16,i},traf:function(e){return{boxes:Mu(e)}},trak:function(e){return{boxes:Mu(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),a&&c&&(t={flags:Gl(e.subarray(d,d+4))},d+=4,o&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),u&&(t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},o&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),l&&(t.flags=Gl(e.subarray(d,d+4)),d+=4),u&&(t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},Mu=function(e){for(var t,n,i,r,a,o=0,s=[],l=new ArrayBuffer(e.length),u=new Uint8Array(l),c=0;c<e.length;++c)u[c]=e[c];for(t=new DataView(l);o<e.byteLength;)n=t.getUint32(o),i=Ru(e.subarray(o+4,o+8)),r=1<n?o+n:e.byteLength,(a=(Pu[i]||function(e){return{data:e}})(e.subarray(o+8,r))).size=n,a.type=i,s.push(a),o=r;return s},Nu=function(e,t){var r;return t=t||0,r=new Array(2*t+1).join(" "),e.map(function(i,e){return r+i.type+"\n"+Object.keys(i).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(e){var t,n=r+"  "+e+": ",e=i[e];return e instanceof Uint8Array||e instanceof Uint32Array?(t=Array.prototype.slice.call(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g))?1===t.length?n+"<"+t.join("").slice(1)+">":n+"<\n"+t.map(function(e){return r+"  "+e}).join("\n")+"\n"+r+"  >":n+"<>":n+JSON.stringify(e,null,2).split("\n").map(function(e,t){return 0===t?e:r+"  "+e}).join("\n")}).join("\n")+(i.boxes?"\n"+Nu(i.boxes,t+1):"")}).join("\n")},Qa={inspect:Mu,textify:Nu,parseTfdt:Pu.tfdt,parseHdlr:Pu.hdlr,parseTfhd:Pu.tfhd,parseTrun:Pu.trun},t=Object.freeze({default:Qa,__moduleExports:Qa,inspect:Qa.inspect,textify:Qa.textify,parseTfdt:Qa.parseTfdt,parseHdlr:Qa.parseHdlr,parseTfhd:Qa.parseTfhd,parseTrun:Qa.parseTrun}),Uu=t&&Qa,Fu=Al.discardEmulationPreventionBytes,ju=Ja.CaptionStream,Bu=function(e,c){var n=gl.findBox(e,["moof","traf"]),e=gl.findBox(e,["mdat"]),d={},i=[];return e.forEach(function(e,t){t=n[t];i.push({mdat:e,traf:t})}),i.forEach(function(e){var t,n,i,r,a,o=e.mdat,e=e.traf,s=gl.findBox(e,["tfhd"]),s=Uu.parseTfhd(s[0]),l=s.trackId,u=gl.findBox(e,["tfdt"]),u=0<u.length?Uu.parseTfdt(u[0]).baseMediaDecodeTime:0,e=gl.findBox(e,["trun"]);c===l&&0<e.length&&(t=u,n=s.defaultSampleDuration||0,i=s.defaultSampleSize||0,r=s.trackId,a=[],e.forEach(function(e){e=Uu.parseTrun(e).samples;e.forEach(function(e){void 0===e.duration&&(e.duration=n),void 0===e.size&&(e.size=i),e.trackId=r,e.dts=t,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=t+e.compositionTimeOffset,t+=e.duration}),a=a.concat(e)}),u=function(e,t,n){for(var i,r=new DataView(e.buffer,e.byteOffset,e.byteLength),a=[],o=0;o+4<e.length;o+=u){var s,l,u=r.getUint32(o);o+=4,u<=0||6==(31&e[o])&&(l=e.subarray(o+1,o+1+u),s=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null}(o,t),l={nalUnitType:"sei_rbsp",size:u,data:l,escapedRBSP:Fu(l),trackId:n},s?(l.pts=s.pts,l.dts=s.dts,i=s):(l.pts=i.pts,l.dts=i.dts),a.push(l))}return a}(o,a,l),d[l]||(d[l]=[]),d[l]=d[l].concat(u))}),d},U=Object.freeze({default:ql,__moduleExports:ql}),v=r&&e,Hu={generator:vu,probe:gl,Transmuxer:v.Transmuxer,AudioSegmentStream:v.AudioSegmentStream,VideoSegmentStream:v.VideoSegmentStream,CaptionParser:U&&ql}.CaptionParser,T={parseType:function(e,t){e=Vl(e);return 0===e?"pat":e===t?"pmt":t?"pes":null},parsePat:function(e){var t=Yl(e),n=4+zl(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=Yl(e),i=4+zl(e);if(n&&(i+=e[i]+1),1&e[i+5]){for(var r=3+((15&e[i+1])<<8|e[i+2])-4,a=12+((15&e[i+10])<<8|e[i+11]);a<r;){var o=i+a;t[(31&e[o+1])<<8|e[o+2]]=e[o],a+=5+((15&e[o+3])<<8|e[o+4])}return t}},parsePayloadUnitStartIndicator:Yl,parsePesType:function(e,t){switch(t[Vl(e)]){case Pl.H264_STREAM_TYPE:return"video";case Pl.ADTS_STREAM_TYPE:return"audio";case Pl.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Yl(e))return null;var t=4+zl(e);if(t>=e.byteLength)return null;var n=null,i=e[t+7];return 192&i&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+zl(e),n=e.subarray(t),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===$l(31&n[r+3])&&(a=!0);1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===$l(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,a=n&&3<n.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===$l(31&n[r+3])?!0:a}},o=Object.freeze({default:T,__moduleExports:T,parseType:T.parseType,parsePat:T.parsePat,parsePmt:T.parsePmt,parsePayloadUnitStartIndicator:T.parsePayloadUnitStartIndicator,parsePesType:T.parsePesType,parsePesTime:T.parsePesTime,videoPacketContainsKeyFrame:T.videoPacketContainsKeyFrame}),Wu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Gu=function(e,t,n){for(var i="",r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},eo={parseId3TagSize:function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+n:10+n},parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return Wu[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n=10;64&e[5]&&(n=(n+=4)+Kl(e.subarray(10,14)));do{if((t=Kl(e.subarray(n+4,n+8)))<1)return null;if("PRIV"===String.fromCharCode(e[n],e[n+1],e[n+2],e[n+3]))for(var i,r,a=e.subarray(n+10,n+t+10),o=0;o<a.byteLength;o++)if(0===a[o]){if("com.apple.streaming.transportStreamTimestamp"===unescape(Gu(a,0,o)))return r=(1&(i=a.subarray(o+1))[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2,(r*=4)+(3&i[7]);break}}while((n=n+10+t)<e.byteLength);return null}},_=Object.freeze({default:eo,__moduleExports:eo,parseId3TagSize:eo.parseId3TagSize,parseAdtsSize:eo.parseAdtsSize,parseType:eo.parseType,parseSampleRate:eo.parseSampleRate,parseAacTimestamp:eo.parseAacTimestamp}),uu=_&&eo,qu=Za.handleRollover,P={},Vu=(P.ts=o&&T,P.aac=uu,9e4),Yu=function(e,t){for(var n,i=0,r=188;r<e.byteLength;)if(71===e[i]&&71===e[r]){switch(n=e.subarray(i,r),P.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=P.ts.parsePat(n));break;case"pmt":t.table||(t.table=P.ts.parsePmt(n))}if(t.pid&&t.table)return;i+=188,r+=188}else i++,r++},zu=function(e,t,n){for(var i,r,a,o,s=0,l=188,u=!1;l<e.byteLength;)if(71===e[s]&&71===e[l]){if(i=e.subarray(s,l),"pes"===P.ts.parseType(i,t.pid)&&(r=P.ts.parsePesType(i,t.table),a=P.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=P.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),u=!0)),u)break;s+=188,l+=188}else s++,l++;for(s=(l=e.byteLength)-188,u=!1;0<=s;)if(71===e[s]&&71===e[l]){if(i=e.subarray(s,l),"pes"===P.ts.parseType(i,t.pid)&&(r=P.ts.parsePesType(i,t.table),a=P.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=P.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),u=!0)),u)break;s-=188,l-=188}else s--,l--},$u=function(e,t,n){for(var i,r,a,o,s,l,u,c=0,d=188,h=!1,f={data:[],size:0};d<e.byteLength;)if(71===e[c]&&71===e[d]){if(i=e.subarray(c,d),"pes"===P.ts.parseType(i,t.pid))if(r=P.ts.parsePesType(i,t.table),a=P.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!h&&(o=P.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),h=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(s=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),s.set(u,l),l+=u.byteLength;P.ts.videoPacketContainsKeyFrame(s)&&(n.firstKeyFrame=P.ts.parsePesTime(s),n.firstKeyFrame.type="video"),f.size=0}f.data.push(i),f.size+=i.byteLength}if(h&&n.firstKeyFrame)break;c+=188,d+=188}else c++,d++;for(c=(d=e.byteLength)-188,h=!1;0<=c;)if(71===e[c]&&71===e[d]){if(i=e.subarray(c,d),"pes"===P.ts.parseType(i,t.pid)&&(r=P.ts.parsePesType(i,t.table),a=P.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(o=P.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),h=!0)),h)break;c-=188,d-=188}else c--,d--},lu=function(e,t){var n,i,r=((r=e)[0]==="I".charCodeAt(0)&&r[1]==="D".charCodeAt(0)&&r[2]==="3".charCodeAt(0)?function(e){for(var t,n=!1,i=0,r=null,a=null,o=0,s=0;3<=e.length-s;){switch(P.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((o=P.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===a&&(t=e.subarray(s,s+o),a=P.aac.parseAacTimestamp(t)),s+=o;break;case"audio":if(e.length-s<7){n=!0;break}if((o=P.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===r&&(t=e.subarray(s,s+o),r=P.aac.parseSampleRate(t)),i++,s+=o;break;default:s++}if(n)return null}if(null===r||null===a)return null;var l=Vu/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*l,pts:a+1024*i*l}]}}:function(e){var t,n={pid:null,table:null},i={};for(t in Yu(e,n),n.table)if(n.table.hasOwnProperty(t))switch(n.table[t]){case Pl.H264_STREAM_TYPE:i.video=[],$u(e,n,i),0===i.video.length&&delete i.video;break;case Pl.ADTS_STREAM_TYPE:i.audio=[],zu(e,n,i),0===i.audio.length&&delete i.audio}return i})(e);return r&&(r.audio||r.video)?(e=t,(t=r).audio&&t.audio.length&&(void 0===(n=e)&&(n=t.audio[0].dts),t.audio.forEach(function(e){e.dts=qu(e.dts,n),e.pts=qu(e.pts,n),e.dtsTime=e.dts/Vu,e.ptsTime=e.pts/Vu})),t.video&&t.video.length&&(void 0===(i=e)&&(i=t.video[0].dts),t.video.forEach(function(e){e.dts=qu(e.dts,i),e.pts=qu(e.pts,i),e.dtsTime=e.dts/Vu,e.ptsTime=e.pts/Vu}),t.firstKeyFrame&&((e=t.firstKeyFrame).dts=qu(e.dts,i),e.pts=qu(e.pts,i),e.dtsTime=e.dts/Vu,e.ptsTime=e.dts/Vu)),r):null};function Ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}du=function(e,t,n){return t&&Xu(e.prototype,t),n&&Xu(e,n),e};function Xu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qu=null,Ju=(Zu.prototype.decrypt=function(e,t,n,i,r,a){for(var o,s,l=this._key[1],u=e^l[0],c=i^l[1],d=n^l[2],h=t^l[3],f=void 0,p=l.length/4-2,g=void 0,m=4,e=this._tables[1],y=e[0],v=e[1],b=e[2],_=e[3],T=e[4],g=0;g<p;g++)f=y[u>>>24]^v[c>>16&255]^b[d>>8&255]^_[255&h]^l[m],o=y[c>>>24]^v[d>>16&255]^b[h>>8&255]^_[255&u]^l[m+1],s=y[d>>>24]^v[h>>16&255]^b[u>>8&255]^_[255&c]^l[m+2],h=y[h>>>24]^v[u>>16&255]^b[c>>8&255]^_[255&d]^l[m+3],m+=4,u=f,c=o,d=s;for(g=0;g<4;g++)r[(3&-g)+a]=T[u>>>24]<<24^T[c>>16&255]<<16^T[d>>8&255]<<8^T[255&h]^l[m++],f=u,u=c,c=d,d=h,h=f},Zu);function Zu(e){Ku(this,Zu),Qu=Qu||function(){for(var e,t,n,i=[[[],[],[],[],[]],[[],[],[],[],[]]],r=i[0],a=i[1],o=r[4],s=a[4],l=void 0,u=void 0,c=void 0,d=[],h=[],f=void 0,p=void 0,l=0;l<256;l++)h[(d[l]=l<<1^283*(l>>7))^l]=l;for(u=c=0;!o[u];u^=e||1,c=h[c]||1)for(p=16843009*d[t=d[e=d[s[o[u]=n=(n=c^c<<1^c<<2^c<<3^c<<4)>>8^255&n^99]=u]]]^65537*t^257*e^16843008*u,f=257*d[n]^16843008*n,l=0;l<4;l++)r[l][u]=f=f<<24^f>>>8,a[l][n]=p=p<<24^p>>>8;for(l=0;l<5;l++)r[l]=r[l].slice(0),a[l]=a[l].slice(0);return i}(),this._tables=[[Qu[0][0].slice(),Qu[0][1].slice(),Qu[0][2].slice(),Qu[0][3].slice(),Qu[0][4].slice()],[Qu[1][0].slice(),Qu[1][1].slice(),Qu[1][2].slice(),Qu[1][3].slice(),Qu[1][4].slice()]];var t=void 0,n=void 0,i=void 0,r=void 0,a=void 0,o=this._tables[0][4],s=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=e.slice(0),this._key=[r,a=[]],t=l;t<4*l+28;t++)i=r[t-1],(t%l==0||8===l&&t%l==4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],t%l==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],a[n]=t<=4||n<4?i:s[0][o[i>>>24]]^s[1][o[i>>16&255]]^s[2][o[i>>8&255]]^s[3][o[255&i]]}tc.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},tc.prototype.off=function(e,t){if(!this.listeners[e])return!1;t=this.listeners[e].indexOf(t);return this.listeners[e].splice(t,1),-1<t},tc.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,r)},tc.prototype.dispose=function(){this.listeners={}},tc.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})};var ec=tc;function tc(){Ku(this,tc),this.listeners={}}function nc(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function ic(e,t,n){for(var i,r,a,o,s=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),l=new Ju(Array.prototype.slice.call(t)),t=new Uint8Array(e.byteLength),u=new Int32Array(t.buffer),c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,c=n[0],d=n[1],h=n[2],f=n[3],p=0;p<s.length;p+=4)i=nc(s[p]),r=nc(s[p+1]),a=nc(s[p+2]),o=nc(s[p+3]),l.decrypt(i,r,a,o,u,p),u[p]=nc(u[p]^c),u[p+1]=nc(u[p+1]^d),u[p+2]=nc(u[p+2]^h),u[p+3]=nc(u[p+3]^f),c=i,d=r,h=a,f=o;return t}var rc=function(t){var e=i,n=t;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":St(n)));function i(){Ku(this,i);var e=function(e,t){if(e)return!t||"object"!==(void 0===t?"undefined":St(t))&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,ec));return e.jobs=[],e.delay=1,e.timeout_=null,e}return e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(ec),cu=(ac.prototype.decryptChunk_=function(t,n,i,r){return function(){var e=ic(t,n,i);r.set(e,t.byteOffset)}},du(ac,null,[{key:"STEP",get:function(){return 32e3}}]),ac);function ac(e,t,n,i){Ku(this,ac);var r=ac.STEP,a=new Int32Array(e.buffer),o=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new rc,this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),t,n,o)),s=r;s<a.length;s+=r)n=new Uint32Array([nc(a[s-4]),nc(a[s-3]),nc(a[s-2]),nc(a[s-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),t,n,o));this.asyncStream_.push(function(){i(null,o.subarray(0,o.byteLength-o[o.byteLength-1]))})}var oc=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=Fo.buildAbsoluteURL(h.location.href,e)),Fo.buildAbsoluteURL(e,t))},sc=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},yu=function(e,t,n){return t&&lc(e.prototype,t),n&&lc(e,n),e};function lc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function uc(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0!==i){if("value"in i)return i.value;i=i.get;return void 0!==i?i.call(n):void 0}if(null!==(i=Object.getPrototypeOf(e)))return uc(i,t,n)}function cc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":St(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function dc(e,t){if(e)return!t||"object"!==(void 0===t?"undefined":St(t))&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function hc(r,a){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in r.mediaGroups[e])for(var n in r.mediaGroups[e][t]){var i=r.mediaGroups[e][t][n];a(i,e,t,n)}})}function fc(e,t){var n=vc(e,{});if(!(e=n.playlists[t.uri]))return null;if(e.segments&&t.segments&&e.segments.length===t.segments.length&&e.mediaSequence===t.mediaSequence)return null;var i=vc(e,t);e.segments&&(i.segments=function(e,t,n){for(var i=t.slice(),r=(n=n||0,Math.min(e.length,t.length+n)),a=n;a<r;a++)i[a-n]=vc(e[a],i[a-n]);return i}(e.segments,t.segments,t.mediaSequence-e.mediaSequence)),i.segments.forEach(function(e){var t;e=e,t=i.resolvedUri,e.resolvedUri||(e.resolvedUri=oc(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=oc(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=oc(t,e.map.uri))});for(var r=0;r<n.playlists.length;r++)n.playlists[r].uri===t.uri&&(n.playlists[r]=i);return n.playlists[t.uri]=i,n}function pc(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];(e.playlists[n.uri]=n).resolvedUri=oc(e.uri,n.uri),n.id=t,n.attributes||(n.attributes={},bc.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}}function gc(t){hc(t,function(e){e.uri&&(e.resolvedUri=oc(t.uri,e.uri))})}function mc(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)}var yc=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,i=[],r=!0,t=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(i.push(o.value),!n||i.length!==n);r=!0);}catch(e){t=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(t)throw a}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},vc=x.mergeOptions,mu=x.EventTarget,bc=x.log,_c=(cc(Tc,mu),yu(Tc,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this,i=(this.request=null,this.state="HAVE_METADATA",new Ko),e=(i.push(e.responseText),i.end(),i.manifest.uri=t,i.manifest.attributes=i.manifest.attributes||{},fc(this.master,i.manifest));this.targetDuration=i.manifest.targetDuration,e?(this.master=e,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(h.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=h.setTimeout(function(){n.trigger("mediaupdatetimeout")},mc(this.media(),!!e))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),h.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())}},{key:"media",value:function(n){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}var e=!this.media_||n.uri!==this.media_.uri;if(this.master.playlists[n.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e){if(this.state="SWITCHING_MEDIA",this.request){if(oc(this.master.uri,n.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:oc(this.master.uri,n.uri),withCredentials:this.withCredentials},function(e,t){if(i.request){if(e)return i.playlistRequestError(i.request,n.uri,r);i.haveMetadata(t,n.uri),"HAVE_MASTER"===r?i.trigger("loadedmetadata"):i.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),h.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this,n=(h.clearTimeout(this.mediaUpdateTimeout),this.media());if(e)return e=n?n.targetDuration/2*1e3:5e3,void(this.mediaUpdateTimeout=h.setTimeout(function(){return t.load()},e));this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"HLS playlist request error at URL: "+n.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");e=new Ko;return(e.push(t.responseText),e.end(),n.state="HAVE_MASTER",e.manifest.uri=n.srcUrl,e.manifest.playlists)?(n.master=e.manifest,pc(n.master),gc(n.master),n.trigger("loadedplaylist"),void(n.request||n.media(e.manifest.playlists[0]))):(n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:h.location.href,playlists:[{uri:n.srcUrl,id:0}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.master.playlists[0].resolvedUri=n.srcUrl,n.master.playlists[0].attributes=n.master.playlists[0].attributes||{},n.haveMetadata(t,n.srcUrl),n.trigger("loadedmetadata"))}})}}]),Tc);function Tc(e,t,n){sc(this,Tc);var i=dc(this,(Tc.__proto__||Object.getPrototypeOf(Tc)).call(this));if(i.srcUrl=e,i.hls_=t,i.withCredentials=n,i.srcUrl)return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:oc(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i;throw new Error("A non-empty playlist URL is required")}function Sc(e,t,n){var i,r=0;if(n<t&&(t=(i=[n,t])[0],n=i[1]),t<0){for(var a=t;a<Math.min(0,n);a++)r+=e.targetDuration;t=0}for(var o=t;o<n;o++)r+=e.segments[o].duration;return r}function wc(e,t,n){return e&&e.segments?e.endList?Kc(e):null===t?null:(t=t||0,n=n?Xc(e):e.segments.length,$c(e,e.mediaSequence+n,t)):null}function Ec(e){return e-Math.floor(e)==0}function Cc(e,t){if(Ec(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=t*r;if(Ec(a)||i===n)return(a+e)/r}}function kc(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function Dc(e){return e.excludeUntil&&e.excludeUntil===1/0}function Ac(e){var t=kc(e);return!e.disabled&&!t}function xc(e,t){return t.attributes&&t.attributes[e]}function Lc(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!Ac(e)&&(e.attributes.BANDWIDTH||0)<n}).length}function Oc(){return function e(t,i){t=td({timeout:45e3},t);var n=e.beforeRequest||x.Hls.xhr.beforeRequest,r=(!n||"function"!=typeof n||(n=n(t))&&(t=n),ed(t,function(e,t){var n=r.response;!e&&n&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=n.byteLength||n.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),t.headers&&(r.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(r.timedout=!0),e||r.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(r&&(n||r.responseText)))),i(e,r)})),a=r.abort;return r.abort=function(){return r.aborted=!0,a.apply(r,arguments)},r.uri=t.uri,r.requestTime=Date.now(),r}}function Ic(e,t){return e=e.toString(16),"00".substring(0,2-e.length)+e+(t%2?" ":"")}function Rc(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function Pc(n){var i={};return Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i}function Mc(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function Nc(e){for(var t=Array.prototype.slice.call(e),n="",i=0;i<t.length/16;i++)n+=t.slice(16*i,16*i+16).map(Ic).join("")+" "+t.slice(16*i,16*i+16).map(Rc).join("")+"\n";return n}function Uc(e,t){var n=[],i=void 0;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return x.createTimeRanges(n)}function Fc(e,n){return Uc(e,function(e,t){return e-1/30<=n&&n<=t+1/30})}function jc(e,t){return Uc(e,function(e){return t<=e-1/30})}function Bc(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")}function Hc(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Wc(e,t,n){var i,r=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime<=t&&i.endTime>=e&&n.removeCue(i)}function Gc(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}function qc(e,t,n){var r=h.WebKitDataCue||h.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n){var i=Gc(e.mediaSource_.duration);if(n.forEach(function(e){var i=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var t,n=new r(i,i,e.value||e.url||e.data||"");n.frame=e,n.value=e,t=n,Object.defineProperties(t.frame,{id:{get:function(){return x.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return x.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return x.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),this.metadataTrack_.addCue(n)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var a=e.metadataTrack_.cues,o=[],s=0;s<a.length;s++)a[s]&&o.push(a[s]);var l=o.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),u=Object.keys(l).sort(function(e,t){return Number(e)-Number(t)});u.forEach(function(e,t){var e=l[e],n=Number(u[t+1])||i;e.forEach(function(e){e.endTime=n})})}}}var Vc=x.createTimeRange,Yc=function(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},zc=function(e,t){for(var n,i=0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},$c=function(e,t,n){var i;return(t=void 0===t?e.mediaSequence+e.segments.length:t)<e.mediaSequence?0:(i=Yc(e,t)).precise?i.result:(e=zc(e,t)).precise?e.result:i.result+n},Kc=function(e,t,n){if(!e)return 0;if(void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return h.Infinity}return $c(e,t,n="number"!=typeof n?0:n)},Xc=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,i=n+2*e.targetDuration;t--&&!(i<=(n+=e.segments[t].duration)););return Math.max(0,t)},Qc=Cc.bind(null,1),Jc=Cc.bind(null,-1),Zc={duration:Kc,seekable:function(e,t){var n=t||0,e=wc(e,t,!0);return null===e?Vc():Vc(n,e)},safeLiveIndex:Xc,getMediaInfoForTime:function(e,t,n,i){var r=void 0,a=void 0,o=e.segments.length,s=t-i;if(s<0){if(0<n)for(r=n-1;0<=r;r--)if(a=e.segments[r],0<(s+=Jc(a.duration)))return{mediaIndex:r,startTime:i-Sc(e,n,r)};return{mediaIndex:0,startTime:t}}if(n<0){for(r=n;r<0;r++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(r=n;r<o;r++)if(a=e.segments[r],(s-=Qc(a.duration))<0)return{mediaIndex:r,startTime:i+Sc(e,n,r)};return{mediaIndex:o-1,startTime:t}},isEnabled:Ac,isDisabled:function(e){return e.disabled},isBlacklisted:kc,isIncompatible:Dc,playlistEnd:wc,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:xc,estimateSegmentRequestTime:function(e,t,n){return xc("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*(3<arguments.length&&void 0!==arguments[3]?arguments[3]:0))/t:NaN},isLowestEnabledRendition:Lc},ed=x.xhr,td=x.mergeOptions,b=Object.freeze({createTransferableMessage:Pc,initSegmentId:Mc,hexDump:Nc,tagDump:function(e){e=e.bytes;return Nc(e)},textRanges:function(e){for(var t,n,i="",r=void 0,r=0;r<e.length;r++)i+=(n=r,(t=e).start(n)+"-"+t.end(n)+" ");return i}}),ru="undefined"!=typeof window?window:{},nd="undefined"==typeof Symbol?"__target":Symbol(),id=ru.BlobBuilder||ru.WebKitBlobBuilder||ru.MozBlobBuilder||ru.MSBlobBuilder,rd=ru.URL||ru.webkitURL||rd&&rd.msURL,ad=ru.Worker;function od(a,o){return function(e){var t,n,i,r=this;return o?ad&&!e?(e=ld(o.toString().replace(/^function.+?{/,"").slice(0,-1)),this[nd]=new ad(e),n=this[nd],e=e,n&&e&&(i=n.terminate,n.objURL=e,n.terminate=function(){n.objURL&&rd.revokeObjectURL(n.objURL),i.call(n)}),this[nd]):(t={postMessage:function(e){r.onmessage&&setTimeout(function(){r.onmessage({data:e,target:t})})}},o.call(t),this.postMessage=function(e){setTimeout(function(){t.onmessage({data:e,target:r})})},void(this.isThisThread=!0)):new ad(a)}}if(ad){var sd,bn=ld("self.onmessage = function () {}"),t=new Uint8Array(1);try{(sd=new ad(bn)).postMessage(t,[t.buffer])}catch(e){ad=null}finally{rd.revokeObjectURL(bn),sd&&sd.terminate()}}function ld(t){try{return rd.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(e){var n=new id;return n.append(t),rd.createObjectURL(n.getBlob(type))}}function ud(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})}function cd(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'}function dd(e,t){var n=(n=t).segments&&n.segments.length&&n.segments[0].map?"mp4":"mp2t",i=function(e){e=e.attributes||{};return e.CODECS?yd(e.CODECS):md}(t),r=t.attributes||{},a=!0,o=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var s=e.mediaGroups.AUDIO[r.AUDIO];if(s)for(var l in a=!(o=!0),s)if(!s[l].uri&&!s[l].playlists){a=!0;break}}return o&&!i.audioProfile&&(a||(i.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n,i=e.mediaGroups.AUDIO[t];if(!i)return null;for(n in i){var r=i[n];if(r.default&&r.playlists)return yd(r.playlists[0].attributes.CODECS).audioProfile}return null}(e,r.AUDIO)),i.audioProfile||(x.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=md.audioProfile)),t={},i.videoCodec&&(t.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(t.audio="mp4a.40."+i.audioProfile),e=cd("audio",n,[t.audio]),r=cd("video",n,[t.video]),i=cd("video",n,[t.video,t.audio]),o?!a&&t.video?[r,e]:a||t.video?[i,e]:[e,e]:t.video?[i]:[e]}function hd(e){return/mp4a\.\d+.\d+/i.test(e)}function fd(e){return/avc1\.[\da-f]+/i.test(e)}function pd(e,t){var n,i=e.addSourceBuffer(t),r=Object.create(null);for(n in r.updating=!1,r.realBuffer_=i)!function(t){"function"==typeof i[t]?r[t]=function(){return i[t].apply(i,arguments)}:void 0===r[t]&&Object.defineProperty(r,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})}(n);return r}var gd=new od("./transmuxer-worker.worker.js",function(e,t){var Tt=this;!function(){var o,N,U,F,j,B,H,W,G,q,V,Y,z,$,K,X,Q,J,Z,a,s,e,ee,te,ne,ie,re,ae,t,oe,se,le,ue,ce,l,de,he,fe=Math.pow(2,32)-1;if(s={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var n in s)s.hasOwnProperty(n)&&(s[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);e=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),te=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ee=new Uint8Array([0,0,0,1]),m=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),De=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ne={video:m,audio:De},ae=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),re=new Uint8Array([0,0,0,0,0,0,0,0]),t=new Uint8Array([0,0,0,0,0,0,0,0]),oe=t,se=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),le=t,ie=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}o=function(e){for(var t,n=[],i=0,r=1;r<arguments.length;r++)n.push(arguments[r]);for(r=n.length;r--;)i+=n[r].byteLength;for(t=new Uint8Array(i+8),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(0,t.byteLength),t.set(e,4),r=0,i=8;r<n.length;r++)t.set(n[r],i),i+=n[r].byteLength;return t},N=function(){return o(s.dinf,o(s.dref,ae))},U=function(e){return o(s.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},$=function(e){return o(s.hdlr,ne[e])},z=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),o(s.mdhd,t)},Y=function(e){return o(s.mdia,z(e),$(e.type),B(e))},j=function(e){return o(s.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},B=function(e){return o(s.minf,"video"===e.type?o(s.vmhd,ie):o(s.smhd,re),N(),X(e))},W=function(e){for(var t=e.length,n=[];t--;)n[t]=Z(e[t]);return o.apply(null,[s.mvex].concat(n))},G=function(e){e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(s.mvhd,e)},K=function(e){for(var t,n=e.samples||[],i=new Uint8Array(4+n.length),r=0;r<n.length;r++)t=n[r].flags,i[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return o(s.sdtp,i)},X=function(e){return o(s.stbl,Q(e),o(s.stts,le),o(s.stsc,oe),o(s.stsz,se),o(s.stco,t))},Q=function(e){return o(s.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===e.type?ue:ce)(e))},ue=function(e){for(var t=e.sps||[],n=e.pps||[],i=[],r=[],a=0;a<t.length;a++)i.push((65280&t[a].byteLength)>>>8),i.push(255&t[a].byteLength),i=i.concat(Array.prototype.slice.call(t[a]));for(a=0;a<n.length;a++)r.push((65280&n[a].byteLength)>>>8),r.push(255&n[a].byteLength),r=r.concat(Array.prototype.slice.call(n[a]));return o(s.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(s.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([t.length]).concat(i).concat([n.length]).concat(r))),o(s.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},ce=function(e){return o(s.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),U(e))},V=function(e){e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return o(s.tkhd,e)},J=function(e){var t,n=o(s.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(e.baseMediaDecodeTime/(1+fe)),r=Math.floor(e.baseMediaDecodeTime%(1+fe)),i=o(s.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r]));return"audio"===e.type?(t=a(e,92),o(s.traf,n,i,t)):(r=K(e),t=a(e,r.length+92),o(s.traf,n,i,t,r))},q=function(e){return e.duration=e.duration||4294967295,o(s.trak,V(e),Y(e))},Z=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),o(s.trex,t)},l=function(e,t){var n=0,i=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},de=function(e,t){var n,i,r,a=e.samples||[];for(t+=20+16*a.length,n=l(a,t),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size,i.flags.isLeading<<2|i.flags.dependsOn,i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,61440&i.flags.degradationPriority,15&i.flags.degradationPriority,(4278190080&i.compositionTimeOffset)>>>24,(16711680&i.compositionTimeOffset)>>>16,(65280&i.compositionTimeOffset)>>>8,255&i.compositionTimeOffset]);return o(s.trun,new Uint8Array(n))},he=function(e,t){var n,i,r,a=e.samples||[];for(t+=20+8*a.length,n=l(a,t),r=0;r<a.length;r++)i=a[r],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size]);return o(s.trun,new Uint8Array(n))},a=function(e,t){return("audio"===e.type?he:de)(e,t)};function i(){this.init=function(){var a={};this.on=function(e,t){a[e]||(a[e]=[]),a[e]=a[e].concat(t)},this.off=function(e,t){return!!a[e]&&(t=a[e].indexOf(t),a[e]=a[e].slice(),a[e].splice(t,1),-1<t)},this.trigger=function(e){var t,n,i,r=a[e];if(r)if(2===arguments.length)for(n=r.length,t=0;t<n;++t)r[t].call(this,arguments[1]);else{for(i=[],t=arguments.length,t=1;t<arguments.length;++t)i.push(arguments[t]);for(n=r.length,t=0;t<n;++t)r[t].apply(this,i)}},this.dispose=function(){a={}}}}function r(){r.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new b(0,0),new b(0,1),new b(1,0),new b(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)}function u(e){return null===e?"":(e=xe[e]||e,String.fromCharCode(e))}function c(){for(var e=[],t=v+1;t--;)e.push("");return e}function pe(e,t){var n=1;for(t<e&&(n=-1);Math.abs(t-e)>Re;)e+=n*Ie;return e}function d(e){var t,n;d.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=pe(e.dts,n),e.pts=pe(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){t=n=void 0}}var h={ftyp:F=function(){return o(s.ftyp,e,ee,e,te)},mdat:function(e){return o(s.mdat,e)},moof:function(e,t){for(var n=[],i=t.length;i--;)n[i]=J(t[i]);return o.apply(null,[s.moof,j(e)].concat(n))},moov:H=function(e){for(var t=e.length,n=[];t--;)n[t]=q(e[t]);return o.apply(null,[s.moov,G(4294967295)].concat(n).concat(W(e)))},initSegment:function(e){var t=F(),e=H(e),n=new Uint8Array(t.byteLength+e.byteLength);return n.set(t),n.set(e,t.byteLength),n}},f=function(e){return e>>>0},p=function(e,t){var n,i,r,a=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=f(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=ge(e.subarray(n+4,n+8)),i=1<i?n+i:e.byteLength,r===t[0]&&(1===t.length?a.push(e.subarray(n+8,i)):(r=p(e.subarray(n+8,i),t.slice(1))).length&&(a=a.concat(r))),n=i;return a},ge=function(e){var t="";return(t+=String.fromCharCode(e[0]))+String.fromCharCode(e[1])+String.fromCharCode(e[2])+String.fromCharCode(e[3])},g={findBox:p,parseType:ge,timescale:function(e){return p(e,["moov","trak"]).reduce(function(e,t){var n,i,r=p(t,["tkhd"])[0];return r?(n=r[0],r=f(r[i=0===n?12:20]<<24|r[1+i]<<16|r[2+i]<<8|r[3+i]),(t=p(t,["mdia","mdhd"])[0])?(n=t[0],e[r]=f(t[i=0===n?12:20]<<24|t[1+i]<<16|t[2+i]<<8|t[3+i]),e):null):null},{})},startTime:function(i,e){e=p(e,["moof","traf"]),e=[].concat.apply([],e.map(function(n){return p(n,["tfhd"]).map(function(e){var e=f(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),e=i[e]||9e4,t=p(n,["tfdt"]).map(function(e){var t=e[0],n=f(e[4]<<24|e[5]<<16|e[6]<<8|e[7]);return n=1===t?(n*=Math.pow(2,32))+f(e[8]<<24|e[9]<<16|e[10]<<8|e[11]):n})[0];return(t||1/0)/e})})),e=Math.min.apply(null,e);return isFinite(e)?e:0},videoTrackIds:function(e){var e=p(e,["moov","trak"]),i=[];return e.forEach(function(e){var t=p(e,["mdia","hdlr"]),n=p(e,["tkhd"]);t.forEach(function(e,t){var e=ge(e.subarray(8,12)),t=n[t];"vide"===e&&(t=0===(e=new DataView(t.buffer,t.byteOffset,t.byteLength)).getUint8(0)?e.getUint32(12):e.getUint32(20),i.push(t))})}),i}},m=(i.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},i.prototype.push=function(e){this.trigger("data",e)},i.prototype.flush=function(e){this.trigger("done",e)},i),me=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ye=function(e){for(var t,n=[],i=[],r=n.byteLength=0;r<e.length;r++)"access_unit_delimiter_rbsp"===(t=e[r]).nalUnitType?(n.length&&(n.duration=t.dts-n.dts,i.push(n)),(n=[t]).byteLength=t.data.byteLength,n.pts=t.pts,n.dts=t.dts):("slice_layer_without_partitioning_rbsp_idr"===t.nalUnitType&&(n.keyFrame=!0),n.duration=t.dts-n.dts,n.byteLength+=t.data.byteLength,n.push(t));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.push(n),i},ve=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},be=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},_e=function(e,t){for(var n,i,r,a,o,s=t||0,l=[],u=0;u<e.length;u++)for(i=e[u],n=0;n<i.length;n++)r=i[n],r=r,a=s,o=void 0,(o=me()).dataOffset=a,o.compositionTimeOffset=r.pts-r.dts,o.duration=r.duration,o.size=4*r.length,o.size+=r.byteLength,r.keyFrame&&(o.flags.dependsOn=2,o.flags.isNonSyncSample=0),s+=(a=o).size,l.push(a);return l},Te=function(e){for(var t,n,i,r,a,o=0,s=e.byteLength,l=e.nalCount,u=new Uint8Array(s+4*l),c=new DataView(u.buffer),d=0;d<e.length;d++)for(i=e[d],t=0;t<i.length;t++)for(r=i[t],n=0;n<r.length;n++)a=r[n],c.setUint32(o,a.data.byteLength),u.set(a.data,o+=4),o+=a.data.byteLength;return u},y=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Se=function(e,t){var n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=n,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},we=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Ee=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,r=i=0}return n},Ce=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},ke=function(e,t){var n,i,r,a,o=[];if(!(64&t[0]))return o;for(i=31&t[0],n=0;n<i;n++)a={type:3&t[2+(r=3*n)],pts:e},4&t[2+r]&&(a.ccData=t[3+r]<<8|t[4+r],o.push(a));return o},De=function(e){for(var t=e.byteLength,n=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;for(var r=t-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=e[o];return a},Ae=4,xe=((r.prototype=new m).push=function(e){var t,n;if("sei_rbsp"===e.nalUnitType&&(n=Ee(e.escapedRBSP)).payloadType===Ae&&(t=Ce(n)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=ke(e.pts,t),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},r.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},r.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},r.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},r.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},r.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},{42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496}),v=14,Le=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],b=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,a=32639&e.ccData;a===this.lastControlCode_?this.lastControlCode_=null:(4096==(61440&a)?this.lastControlCode_=a:a!==this.PADDING_&&(this.lastControlCode_=null),t=a>>>8,n=255&a,a!==this.PADDING_&&(a===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":a===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts):a===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(e.pts)):a===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(e.pts)):a===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(e.pts)):a===this.CARRIAGE_RETURN_?(this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts):a===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):a===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(e.pts),this.displayed_=c()):a===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=c():a===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=e.pts):this.isSpecialCharacter(t,n)?(i=u((t=(3&t)<<8)|n),this[this.mode_](e.pts,i),this.column_++):this.isExtCharacter(t,n)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=u((t=(3&t)<<8)|n),this[this.mode_](e.pts,i),this.column_++):this.isMidRowCode(t,n)?(this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"])):this.isOffsetControlCode(t,n)?this.column_+=3&n:this.isPAC(t,n)?(r=Le.indexOf(7968&a),"rollUp"===this.mode_&&this.setRollUp(e.pts,r),r!==this.row_&&(this.clearFormatting(e.pts),this.row_=r),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&a)&&(this.column_=4*((14&a)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])):this.isNormalChar(t)&&(0===n&&(n=null),i=u(t),i+=u(n),this[this.mode_](e.pts,i),this.column_+=i.length)))}},Oe=(b.prototype=new m,b.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},b.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=v,this.rollUpRows_=2,this.formatting_=[]},b.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},b.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},b.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},b.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},b.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},b.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},b.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},b.prototype.isNormalChar=function(e){return 32<=e&&e<=127},b.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=v,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},b.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);t=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,t)},b.prototype.clearFormatting=function(e){var t;this.formatting_.length&&(t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},""),this.formatting_=[],this[this.mode_](e,t))},b.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=n+=t},b.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t},b.prototype.shiftRowsUp_=function(){for(var e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<v+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},b.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t},{CaptionStream:r,Cea608Stream:b}),_={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ie=8589934592,Re=4294967296;d.prototype=new m;function Pe(e,t,n){for(var i="",r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}function T(e,t,n){return decodeURIComponent(Pe(e,t,n))}function S(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var w,Me,E,Ne=d,Ue={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=T(e.data,1,t),e.value=T(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=T(e.data,1,t),e.url=T(e.data,t+1,e.data.length);break}},PRIV:function(e){for(var t,n=0;n<e.data.length;n++)if(0===e.data[n]){e.owner=(t=e.data,unescape(Pe(t,0,n)));break}e.privateData=e.data.subarray(n+1),e.data=e.privateData}},Fe=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},u=0,c=[],d=0;if(Fe.prototype.init.call(this),this.dispatchType=_.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,r,a,o,s;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(d=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(e),d+=e.data.byteLength,1===c.length&&(u=S(e.data.subarray(6,10)),u+=10),!(d<u)){for(t={data:new Uint8Array(u),frames:[],pts:c[0].pts,dts:c[0].dts},r=0;r<u;)t.data.set(c[0].data.subarray(0,u-r),r),r+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();n=10,64&t.data[5]&&(n=(n+=4)+S(t.data.subarray(10,14)),u-=S(t.data.subarray(16,20)));do{if((i=S(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}while((s={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)}).key=s.id,Ue[s.id]&&(Ue[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner&&(o=(1&(a=s.data)[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2,o=(o*=4)+(3&a[7]),s.timeStamp=o,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s))),t.frames.push(s),(n=n+10+i)<u);this.trigger("data",t)}}},C=(Fe.prototype=new m,Fe),je=function(){var r=new Uint8Array(188),a=0;je.prototype.init.call(this),this.push=function(e){var t,n=0,i=188;for(a?((t=new Uint8Array(e.byteLength+a)).set(r.subarray(0,a)),t.set(e,a),a=0):t=e;i<t.byteLength;)71===t[n]&&71===t[i]?(this.trigger("data",t.subarray(n,i)),n+=188,i+=188):(n++,i++);n<t.byteLength&&(r.set(t.subarray(n),0),a=t.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}},Be=(je.prototype=new m,(w=function(){var i,r,a,o;w.prototype.init.call(this),(o=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(e,t){var n=0;t.payloadUnitStartIndicator&&(n+=e[n]+1),("pat"===t.type?r:a)(e.subarray(n),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],o.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=o.pmtPid},a=function(e,t){var n,i;if(1&e[5]){for(o.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var r=e[i],a=(31&e[i+1])<<8|e[i+2];r===_.H264_STREAM_TYPE&&null===o.programMapTable.video?o.programMapTable.video=a:r===_.ADTS_STREAM_TYPE&&null===o.programMapTable.audio?o.programMapTable.audio=a:r===_.METADATA_STREAM_TYPE&&(o.programMapTable["timed-metadata"][a]=r),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=o.programMapTable}},this.push=function(e){var t={},n=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(n+=e[n]+1),0===t.pid)t.type="pat",i(e.subarray(n),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",i(e.subarray(n),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,t]):this.processPes_(e,n,t)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=_.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=_.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new m,w.STREAM_TYPES={h264:27,adts:15},(Me=function(){function i(e,t,n){var i,r=new Uint8Array(e.size),a={type:t},o=0,s=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,o=0;o<e.data.length;o++)i=e.data[o],r.set(i.data,s),s+=i.data.byteLength;u(r,a),t="video"===t||a.packetLength<=e.size,(n||t)&&(e.size=0,e.data.length=0),t&&l.trigger("data",a)}}var l=this,r={data:[],size:0},a={data:[],size:0},o={data:[],size:0},u=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])};Me.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var e,t;switch(n.streamType){case _.H264_STREAM_TYPE:case _.H264_STREAM_TYPE:e=r,t="video";break;case _.ADTS_STREAM_TYPE:e=a,t="audio";break;case _.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(e,t,!0),e.data.push(n),e.size+=n.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},t=n.programMapTable;null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(o,"timed-metadata"),this.trigger("done")}}).prototype=new m,{PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:je,TransportParseStream:w,ElementaryStream:Me,TimestampRolloverStream:Ne,CaptionStream:Oe.CaptionStream,Cea608Stream:Oe.Cea608Stream,MetadataStream:C});for(E in _)_.hasOwnProperty(E)&&(Be[E]=_[E]);var He,We,k=Be,Ge=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],qe=function(){var l;qe.prototype.init.call(this),this.push=function(e){var t,n,i,r,a,o=0,s=0;if("audio"===e.type)for(l?(i=l,(l=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),l.set(e.data,i.byteLength)):l=e.data;o+5<l.length;)if(255!==l[o]||240!=(246&l[o+1]))o++;else{if(t=2*(1&~l[o+1]),n=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,a=9e4*(r=1024*(1+(3&l[o+6])))/Ge[(60&l[o+2])>>>2],l.byteLength<(n=o+n))return;if(this.trigger("data",{pts:e.pts+s*a,dts:e.dts+s*a,sampleCount:r,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:Ge[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+t,n)}),l.byteLength===n)return void(l=void 0);s++,l=l.subarray(n)}},this.flush=function(){this.trigger("done")}},Ve=(qe.prototype=new m,qe),Ye=function(i){var r=i.byteLength,a=0,o=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+o},this.loadWord=function(){var e=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");t.set(i.subarray(e,e+n)),a=new DataView(t.buffer).getUint32(0),o=8*n,r-=n},this.skipBits=function(e){var t;e<o||(e=(e-=o)-8*(t=Math.floor(e/8)),r-=t,this.loadWord()),a<<=e,o-=e},this.readBits=function(e){var t=Math.min(o,e),n=a>>>32-t;return 0<(o-=t)?a<<=t:0<r&&this.loadWord(),0<(t=e-t)?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){for(var e=0;e<o;++e)if(0!=(a&2147483648>>>e))return a<<=e,o-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},ze=function(){var n,i,r=0;ze.prototype.init.call(this),this.push=function(e){var t;for(i=i?((t=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),t.set(e.data,i.byteLength),t):e.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}};ze.prototype=new m,We={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(He=function(){var n,i,r,a,o,s,m,t=new ze;He.prototype.init.call(this),(n=this).push=function(e){"video"===e.type&&(i=e.trackId,r=e.pts,a=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:i,pts:r,dts:a,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=o(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=o(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",t)}),t.on("done",function(){n.trigger("done")}),this.flush=function(){t.flush()},m=function(e,t){for(var n=8,i=8,r=0;r<e;r++)n=0===(i=0!==i?(n+t.readExpGolomb()+256)%256:i)?n:i},o=function(e){for(var t=e.byteLength,n=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;for(var r=t-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=e[o];return a},s=function(e){var t,n,i,r,a,o,s,l=0,u=0,c=0,d=0,h=1,f=new Ye(e),e=f.readUnsignedByte(),p=f.readUnsignedByte(),g=f.readUnsignedByte();if(f.skipUnsignedExpGolomb(),We[e]&&(3===(n=f.readUnsignedExpGolomb())&&f.skipBits(1),f.skipUnsignedExpGolomb(),f.skipUnsignedExpGolomb(),f.skipBits(1),f.readBoolean()))for(a=3!==n?8:12,s=0;s<a;s++)f.readBoolean()&&m(s<6?16:64,f);if(f.skipUnsignedExpGolomb(),0===(n=f.readUnsignedExpGolomb()))f.readUnsignedExpGolomb();else if(1===n)for(f.skipBits(1),f.skipExpGolomb(),f.skipExpGolomb(),t=f.readUnsignedExpGolomb(),s=0;s<t;s++)f.skipExpGolomb();if(f.skipUnsignedExpGolomb(),f.skipBits(1),n=f.readUnsignedExpGolomb(),i=f.readUnsignedExpGolomb(),0===(r=f.readBits(1))&&f.skipBits(1),f.skipBits(1),f.readBoolean()&&(l=f.readUnsignedExpGolomb(),u=f.readUnsignedExpGolomb(),c=f.readUnsignedExpGolomb(),d=f.readUnsignedExpGolomb()),f.readBoolean()&&f.readBoolean()){switch(f.readUnsignedByte()){case 1:o=[1,1];break;case 2:o=[12,11];break;case 3:o=[10,11];break;case 4:o=[16,11];break;case 5:o=[40,33];break;case 6:o=[24,11];break;case 7:o=[20,11];break;case 8:o=[32,11];break;case 9:o=[80,33];break;case 10:o=[18,11];break;case 11:o=[15,11];break;case 12:o=[64,33];break;case 13:o=[160,99];break;case 14:o=[4,3];break;case 15:o=[3,2];break;case 16:o=[2,1];break;case 255:o=[f.readUnsignedByte()<<8|f.readUnsignedByte(),f.readUnsignedByte()<<8|f.readUnsignedByte()]}o&&(h=o[0]/o[1])}return{profileIdc:e,levelIdc:g,profileCompatibility:p,width:Math.ceil((16*(n+1)-2*l-2*u)*h),height:(2-r)*(i+1)*16-2*c-2*d}}}).prototype=new m;function D(e){for(var t=[];e--;)t.push(0);return t}function A(e){return new Date(1e3*e-20828448e5)}function $e(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}var Ke,x,Xe,L,Ne=He,Qe=function(){var a=new Uint8Array,o=0;Qe.prototype.init.call(this),this.setTimestamp=function(e){o=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+n:10+n},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},this.push=function(e){var t,n,i=0,r=0;for(a.length?(n=a.length,(a=new Uint8Array(e.byteLength+n)).set(a.subarray(0,n)),a.set(e,n)):a=e;3<=a.length-r;)if(a[r]==="I".charCodeAt(0)&&a[r+1]==="D".charCodeAt(0)&&a[r+2]==="3".charCodeAt(0)){if(a.length-r<10)break;if((i=this.parseId3TagSize(a,r))>a.length)break;t={type:"timed-metadata",data:a.subarray(r,r+i)},this.trigger("data",t),r+=i}else if(!0&a[r]&&240==(240&a[r+1])){if(a.length-r<7)break;if((i=this.parseAdtsSize(a,r))>a.length)break;t={type:"audio",data:a.subarray(r,r+i),pts:o,dts:o},this.trigger("data",t),r+=i}else r++;n=a.length-r,a=0<n?a.subarray(r):new Uint8Array}},Je=(Qe.prototype=new m,Qe),C=[33,16,5,32,164,27],O=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],C={96e3:[C,[227,64],D(154),[56]],88200:[C,[231],D(170),[56]],64e3:[C,[248,192],D(240),[56]],48e3:[C,[255,192],D(268),[55,148,128],D(54),[112]],44100:[C,[255,192],D(268),[55,163,128],D(84),[112]],32e3:[C,[255,192],D(268),[55,234],D(226),[112]],24e3:[C,[255,192],D(268),[55,255,128],D(268),[111,112],D(126),[224]],16e3:[C,[255,192],D(268),[55,255,128],D(268),[111,255],D(269),[223,108],D(195),[1,192]],12e3:[O,D(268),[3,127,248],D(268),[6,255,240],D(268),[13,255,224],D(268),[27,253,128],D(259),[56]],11025:[O,D(268),[3,127,248],D(268),[6,255,240],D(268),[13,255,224],D(268),[27,255,192],D(268),[55,175,128],D(108),[112]],8e3:[O,D(268),[3,121,16],D(47),[7]]},Ze=(Ke=C,Object.keys(Ke).reduce(function(e,t){return e[t]=new Uint8Array(Ke[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),et=function(e){return 9e4*e},tt=function(e,t){return e*t},nt=function(e){return e/9e4},it=function(e,t){return e/t},rt=function(e,t){return et(it(e,t))},at=function(e,t){return tt(nt(e),t)},ot=Ne,st=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],lt=["width","height","profileIdc","levelIdc","profileCompatibility"],ut=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},ct=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},dt=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].data.byteLength;return t},I=function(i,r){var a=[],o=0,t=0,l=0,u=1/0;r=r||{},I.prototype.init.call(this),this.push=function(t){we(i,t),i&&st.forEach(function(e){i[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-i.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){u=e},this.setAudioAppendStart=function(e){l=e},this.flush=function(){var e,t,n;0!==a.length&&(t=this.trimAdtsFramesByEarliestDts_(a),i.baseMediaDecodeTime=Se(i,r.keepOriginalTimestamps),this.prefixWithSilence_(i,t),i.samples=this.generateSampleTable_(t),t=h.mdat(this.concatenateFrameData_(t)),a=[],e=h.moof(o,[i]),n=new Uint8Array(e.byteLength+t.byteLength),o++,n.set(e),n.set(t,e.byteLength),y(i),this.trigger("data",{track:i,boxes:n})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,i,r,a,o=0,s=0;if(t.length&&(i=rt(e.baseMediaDecodeTime,e.samplerate),n=Math.ceil(9e4/(e.samplerate/1024)),l&&u&&(i=i-Math.max(l,u),s=(o=Math.floor(i/n))*n),!(o<1||45e3<s))){for(r=(r=Ze[e.samplerate])||t[0].data,a=0;a<o;a++)t.splice(a,0,{data:r});e.baseMediaDecodeTime-=Math.floor(at(s,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return i.minSegmentDts>=t?e:(i.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(i.minSegmentDts=Math.min(i.minSegmentDts,e.dts),i.minSegmentPts=i.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){for(var t,n=[],i=0;i<e.length;i++)t=e[i],n.push({size:t.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(e){for(var t,n=0,i=new Uint8Array(dt(e)),r=0;r<e.length;r++)t=e[r],i.set(t.data,n),n+=t.data.byteLength;return i}},O=(I.prototype=new m,(x=function(o,i){var t,n,r=0,a=[],u=[];i=i||{},x.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(e){we(o,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,o.sps=[e.data],lt.forEach(function(e){o[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,o.pps=[e.data]),a.push(e)},this.flush=function(){for(var e,t;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=ye(a),(e=ve(e))[0][0].keyFrame||((n=this.getGopForFusion_(a[0],o))?(e.unshift(n),e.byteLength+=n.byteLength,e.nalCount+=n.nalCount,e.pts=n.pts,e.dts=n.dts,e.duration+=n.duration):e=be(e)),u.length){var n=i.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e);if(!n)return this.gopCache_.unshift({gop:e.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");y(o),e=n}we(o,e),o.samples=_e(e),n=h.mdat(Te(e)),o.baseMediaDecodeTime=Se(o,i.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:e.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),e=h.moof(r,[o]),t=new Uint8Array(e.byteLength+n.byteLength),r++,t.set(e),t.set(n,e.byteLength),this.trigger("data",{track:o,boxes:t}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){y(o),n=t=void 0},this.getGopForFusion_=function(e){for(var t,n,i,r=1/0,a=0;a<this.gopCache_.length;a++)n=(i=this.gopCache_[a]).gop,o.pps&&ct(o.pps[0],i.pps[0])&&o.sps&&ct(o.sps[0],i.sps[0])&&(n.dts<o.timelineStartInfo.dts||-1e4<=(n=e.dts-n.dts-n.duration)&&n<=45e3&&(!t||n<r)&&(t=i,r=n));return t?t.gop:null},this.alignGopsAtStart_=function(e){for(var t,n,i,r,a=e.byteLength,o=e.nalCount,s=e.duration,l=t=0;l<u.length&&t<e.length&&(n=u[l],i=e[t],n.pts!==i.pts);)i.pts>n.pts?l++:(t++,a-=i.byteLength,o-=i.nalCount,s-=i.duration);return 0===t?e:t===e.length?null:((r=e.slice(t)).byteLength=a,r.duration=s,r.nalCount=o,r.pts=r[0].pts,r.dts=r[0].dts,r)},this.alignGopsAtEnd_=function(e){for(var t,n,i=u.length-1,r=e.length-1,a=null,o=!1;0<=i&&0<=r;){if(t=u[i],n=e[r],t.pts===n.pts){o=!0;break}t.pts>n.pts?i--:(i===u.length-1&&(a=r),r--)}if(!o&&null===a)return null;if(0===(s=o?r:a))return e;var s=e.slice(s),l=s.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return s.byteLength=l.byteLength,s.duration=l.duration,s.nalCount=l.nalCount,s.pts=s[0].pts,s.dts=s[0].dts,s},this.alignGopsWith=function(e){u=e}}).prototype=new m,((L=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,L.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new m).flush=function(e){var t,n,i,r=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,lt.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,st.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,e=h.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(e.byteLength),a.initSegment.set(e),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],r),r+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=t.startPts-o,t.startTime/=9e4,t.endTime=t.endPts-o,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts-o,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Xe=function(i){var r,a,o=this,n=!0;Xe.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new k.MetadataStream,t.aacStream=new Je,t.audioTimestampRolloverStream=new k.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new k.TimestampRolloverStream("timed-metadata"),t.adtsStream=new Ve,t.coalesceStream=new L(i,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new I(a,i),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new k.MetadataStream,n.packetStream=new k.TransportPacketStream,n.parseStream=new k.TransportParseStream,n.elementaryStream=new k.ElementaryStream,n.videoTimestampRolloverStream=new k.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new k.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new k.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Ve,n.h264Stream=new ot,n.captionStream=new k.CaptionStream,n.coalesceStream=new L(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?a||"audio"!==e.tracks[t].type||((a=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new x(r,i),n.videoSegmentStream.on("timelineStartInfo",function(e){a&&(a.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new I(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,y(a),a.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,y(r),t.captionStream.reset(),r.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){var t;n&&((t=ut(e))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1),this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new m,{Transmuxer:Xe,VideoSegmentStream:x,AudioSegmentStream:I,AUDIO_PROPERTIES:st,VIDEO_PROPERTIES:lt}),R=g.parseType,P={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:M(e.subarray(78,e.byteLength))}},avcC:function(e){for(var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},a=31&e[5],o=6,s=0;s<a;s++)n=i.getUint16(o),o+=2,r.sps.push(new Uint8Array(e.subarray(o,o+n))),o+=n;for(t=e[o],o++,s=0;s<t;s++)n=i.getUint16(o),o+=2,r.pps.push(new Uint8Array(e.subarray(o,o+n))),o+=n;return r},btrt:function(e){e=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:R(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(R(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:M(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:M(e.subarray(8))}},hdlr:function(e){for(var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:R(e.subarray(8,12)),name:""},n=8,n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){for(var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[],r=0;r+4<e.length;r+=t)if(t=n.getUint32(r),r+=4,t<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[r]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[r]&31)}return i}(e)}},mdhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,e={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===e.version?(e.creationTime=A(t.getUint32(n+=4)),e.modificationTime=A(t.getUint32(n+=8)),e.timescale=t.getUint32(n+=4),e.duration=t.getUint32(n+=8)):(e.creationTime=A(t.getUint32(n)),e.modificationTime=A(t.getUint32(n+=4)),e.timescale=t.getUint32(n+=4),e.duration=t.getUint32(n+=4)),t=t.getUint16(n+=4),e.language+=String.fromCharCode(96+(t>>10)),e.language+=String.fromCharCode(96+((992&t)>>5)),e.language+=String.fromCharCode(96+(31&t)),e},mdia:function(e){return{boxes:M(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:M(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),t={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<e.byteLength&&(t.streamDescriptor=M(e.subarray(28))[0]),t},moof:function(e){return{boxes:M(e)}},moov:function(e){return{boxes:M(e)}},mvex:function(e){return{boxes:M(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(i.creationTime=A(t.getUint32(n+=4)),i.modificationTime=A(t.getUint32(n+=8)),i.timescale=t.getUint32(n+=4),i.duration=t.getUint32(n+=8)):(i.creationTime=A(t.getUint32(n)),i.modificationTime=A(t.getUint32(n+=4)),i.timescale=t.getUint32(n+=4),i.duration=t.getUint32(n+=4)),i.rate=t.getUint16(n+=4)+t.getUint16(n+2)/16,i.volume=t.getUint8(n+=4)+t.getUint8(n+1)/8,n=(n+=2)+2+8,i.matrix=new Uint32Array(e.subarray(n,n+36)),i.nextTrackId=t.getUint32(n=n+36+24),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){for(var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=4;n<e.byteLength;n++)t.samples.push({dependsOn:(48&e[n])>>4,isDependedOn:(12&e[n])>>2,hasRedundancy:3&e[n]});return t},sidx:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},i=t.getUint16(22),r=24;i;r+=12,i--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:M(e)}},stco:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=t.getUint32(4),r=8;i;r+=4,i--)n.chunkOffsets.push(t.getUint32(r));return n},stsc:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=t.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]},r=8;n;r+=12,n--)i.sampleToChunks.push({firstChunk:t.getUint32(r),samplesPerChunk:t.getUint32(r+4),sampleDescriptionIndex:t.getUint32(r+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:M(e.subarray(8))}},stsz:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:t.getUint32(4),entries:[]},i=12;i<e.byteLength;i+=4)n.entries.push(t.getUint32(i));return n},stts:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=t.getUint32(4),r=8;i;r+=8,i--)n.timeToSamples.push({sampleCount:t.getUint32(r),sampleDelta:t.getUint32(r+4)});return n},styp:function(e){return P.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),e={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},n=1&e.flags[2],i=2&e.flags[2],r=8&e.flags[2],a=16&e.flags[2],o=32&e.flags[2],s=65536&e.flags[0],l=131072&e.flags[0],u=8;return n&&(u+=4,e.baseDataOffset=t.getUint32(12),u+=4),i&&(e.sampleDescriptionIndex=t.getUint32(u),u+=4),r&&(e.defaultSampleDuration=t.getUint32(u),u+=4),a&&(e.defaultSampleSize=t.getUint32(u),u+=4),o&&(e.defaultSampleFlags=t.getUint32(u)),s&&(e.durationIsEmpty=!0),!n&&l&&(e.baseDataOffsetIsMoof=!0),e},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(i.creationTime=A(t.getUint32(n+=4)),i.modificationTime=A(t.getUint32(n+=8)),i.trackId=t.getUint32(n+=4),i.duration=t.getUint32(n=n+4+8)):(i.creationTime=A(t.getUint32(n)),i.modificationTime=A(t.getUint32(n+=4)),i.trackId=t.getUint32(n+=4),i.duration=t.getUint32(n=n+4+4)),i.layer=t.getUint16(n=n+4+8),i.alternateGroup=t.getUint16(n+=2),i.volume=t.getUint8(n+=2)+t.getUint8(n+1)/8,n=n+2+2,i.matrix=new Uint32Array(e.subarray(n,n+36)),i.width=t.getUint16(n+=36)+t.getUint16(n+2)/16,i.height=t.getUint16(n+=4)+t.getUint16(n+2)/16,i},traf:function(e){return{boxes:M(e)}},trak:function(e){return{boxes:M(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),a&&c&&(t={flags:$e(e.subarray(d,d+4))},d+=4,o&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),u&&(t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},o&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),l&&(t.flags=$e(e.subarray(d,d+4)),d+=4),u&&(t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},M=function(e){for(var t,n,i,r,a,o=0,s=[],l=new ArrayBuffer(e.length),u=new Uint8Array(l),c=0;c<e.length;++c)u[c]=e[c];for(t=new DataView(l);o<e.byteLength;)n=t.getUint32(o),i=R(e.subarray(o+4,o+8)),r=1<n?o+n:e.byteLength,(a=(P[i]||function(e){return{data:e}})(e.subarray(o+8,r))).size=n,a.type=i,s.push(a),o=r;return s},ht=function(e,t){var r;return t=t||0,r=new Array(2*t+1).join(" "),e.map(function(i,e){return r+i.type+"\n"+Object.keys(i).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(e){var t,n=r+"  "+e+": ",e=i[e];return e instanceof Uint8Array||e instanceof Uint32Array?(t=Array.prototype.slice.call(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g))?1===t.length?n+"<"+t.join("").slice(1)+">":n+"<\n"+t.map(function(e){return r+"  "+e}).join("\n")+"\n"+r+"  >":n+"<>":n+JSON.stringify(e,null,2).split("\n").map(function(e,t){return 0===t?e:r+"  "+e}).join("\n")}).join("\n")+(i.boxes?"\n"+ht(i.boxes,t+1):"")}).join("\n")},ft={inspect:M,textify:ht,parseTfdt:P.tfdt,parseHdlr:P.hdlr,parseTfhd:P.tfhd,parseTrun:P.trun},pt=De,gt=Oe.CaptionStream,mt=function(e,c){var n=g.findBox(e,["moof","traf"]),e=g.findBox(e,["mdat"]),d={},i=[];return e.forEach(function(e,t){t=n[t];i.push({mdat:e,traf:t})}),i.forEach(function(e){var t,n,i,r,a,o=e.mdat,e=e.traf,s=g.findBox(e,["tfhd"]),s=ft.parseTfhd(s[0]),l=s.trackId,u=g.findBox(e,["tfdt"]),u=0<u.length?ft.parseTfdt(u[0]).baseMediaDecodeTime:0,e=g.findBox(e,["trun"]);c===l&&0<e.length&&(t=u,n=s.defaultSampleDuration||0,i=s.defaultSampleSize||0,r=s.trackId,a=[],e.forEach(function(e){e=ft.parseTrun(e).samples;e.forEach(function(e){void 0===e.duration&&(e.duration=n),void 0===e.size&&(e.size=i),e.trackId=r,e.dts=t,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=t+e.compositionTimeOffset,t+=e.duration}),a=a.concat(e)}),u=function(e,t,n){for(var i,r=new DataView(e.buffer,e.byteOffset,e.byteLength),a=[],o=0;o+4<e.length;o+=u){var s,l,u=r.getUint32(o);o+=4,u<=0||6==(31&e[o])&&(l=e.subarray(o+1,o+1+u),s=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null}(o,t),l={nalUnitType:"sei_rbsp",size:u,data:l,escapedRBSP:pt(l),trackId:n},s?(l.pts=s.pts,l.dts=s.dts,i=s):(l.pts=i.pts,l.dts=i.dts),a.push(l))}return a}(o,a,l),d[l]||(d[l]=[]),d[l]=d[l].concat(u))}),d},yt={generator:h,probe:g,Transmuxer:O.Transmuxer,AudioSegmentStream:O.AudioSegmentStream,VideoSegmentStream:O.VideoSegmentStream,CaptionParser:function(){var t,o,s,l,u,e=!1;this.isInitialized=function(){return e},this.init=function(){t=new gt,e=!0,t.on("data",function(e){e.startTime=e.startPts/l,e.endTime=e.endPts/l,u.captions.push(e),u.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===(void 0===t?"undefined":St(t))&&0===Object.keys(t).length)&&(s!==e[0]||l!==t[s])},this.parse=function(e,t,n){var i,r;if(!this.isInitialized())return null;if(!t||!n)return null;if(this.isNewInit(t,n))s=t[0],l=n[s];else if(!s||!l)return o.push(e),null;for(;0<o.length;){var a=o.shift();this.parse(a,t,n)}return e=e,r=l,null!==(e=(i=s)?{seiNals:mt(e,i)[i],timescale:r}:null)&&e.seiNals?(this.pushNals(e.seiNals),this.flushStream(),u):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){u.captions=[],u.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){o=[],l=s=null,u?this.clearParsedCaptions():u={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}};function vt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(function(e,t,n){t&&vt(e.prototype,t),n&&vt(e,n)})(_t,[{key:"init",value:function(){var n,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new yt.Transmuxer(this.options),n=this.self,(e=this.transmuxer).on("data",function(e){var t=e.initSegment,t=(e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},e.data);e.data=t.buffer,n.postMessage({action:"data",segment:e,byteOffset:t.byteOffset,byteLength:t.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){n.postMessage({action:"caption",data:e})}),e.on("done",function(e){n.postMessage({action:"done"})}),e.on("gopInfo",function(e){n.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(e){e=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){e=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]);var bt=_t;function _t(e,t){if(!(this instanceof _t))throw new TypeError("Cannot call a class as a function");this.options=t||{},this.self=e,this.init()}(function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new bt(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new bt(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})(Tt)}()}),md={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},yd=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n={codecCount:0};return n.codecCount=t.split(",").length,n.codecCount=n.codecCount||2,(e=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t))&&(n.videoCodec=e[2],n.videoObjectTypeIndicator=e[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},vd=(Qa=x.EventTarget,cc(bd,Qa),yu(bd,[{key:"data_",value:function(e){var t,n=e.data.segment,i=(n.data=new Uint8Array(n.data,e.data.byteOffset,e.data.byteLength),n.initSegment=new Uint8Array(n.initSegment.data,n.initSegment.byteOffset,n.initSegment.byteLength),this),e=this.mediaSource_,r=n,a=e.player_;if(r.captions&&r.captions.length)for(var o in i.inbandTextTracks_||(i.inbandTextTracks_={}),r.captionStreams)i.inbandTextTracks_[o]||(a.tech_.trigger({type:"usage",name:"hls-608"}),t=a.textTracks().getTrackById(o),i.inbandTextTracks_[o]=t||a.addRemoteTextTrack({kind:"captions",id:o,label:o},!1).track);r.metadata&&r.metadata.length&&!i.metadataTrack_&&(i.metadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,i.metadataTrack_.inBandMetadataTrackDispatchType=r.metadata.dispatchType),this.pendingBuffers_.push(n)}},{key:"done_",value:function(e){"closed"===this.mediaSource_.readyState?this.pendingBuffers_.length=0:this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var i=this,r=["audio","video"];r.forEach(function(t){var e,n;i[t+"Codec_"]&&!i[t+"Buffer_"]&&(n=null,i.mediaSource_[t+"Buffer_"]?(n=i.mediaSource_[t+"Buffer_"]).updating=!1:(e=t+'/mp4;codecs="'+i[t+"Codec_"]+'"',n=pd(i.mediaSource_.nativeMediaSource_,e),i.mediaSource_[t+"Buffer_"]=n),i[t+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(e){n.addEventListener(e,function(){if("audio"!==t||!i.audioDisabled_)return"updateend"===e&&(i[t+"Buffer_"].updating=!1),r.every(function(e){return!("audio"!==e||!i.audioDisabled_)||(t===e||!i[e+"Buffer_"]||!i[e+"Buffer_"].updating)})?i.trigger(e):void 0})}))})}},{key:"appendBuffer",value:function(e){var t;this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length&&(t=this.audioBuffer_.buffered,this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})),this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(e,t,n){if(null==t||!e.length)return[];for(var i=Math.ceil(9e4*(t-n+3)),r=void 0,r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var i=t[0].pts,r=0;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,n,i){for(var r=Math.ceil(9e4*(t-i)),a=Math.ceil(9e4*(n-i)),t=e.slice(),o=e.length;o--&&!(e[o].pts<=a););if(-1===o)return t;for(var s=o+1;s--&&!(e[s].pts<=r););return s=Math.max(s,0),t.splice(s,o-s+1),t}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Wc(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Wc(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]},e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,i=t.data,r=t.initSegment;return e[n].segments.push(i),e[n].bytes+=i.byteLength,e[n].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),t=(this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),!1);this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),qc(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,i=void 0;if(e.bytes){i=new Uint8Array(e.bytes),e.segments.forEach(function(e){i.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(i)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),bd);function bd(e,t){sc(this,bd);var n=dc(this,(bd.__proto__||Object.getPrototypeOf(bd)).call(this,x.EventTarget)),e=(n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=e,n.codecs_=t,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=11<=x.browser.IE_VERSION,{remux:!1,alignGopsAtEnd:n.safeAppend_});return n.codecs_.forEach(function(e){hd(e)?n.audioCodec_=e:fd(e)&&(n.videoCodec_=e)}),n.transmuxer_=new gd,n.transmuxer_.postMessage({action:"init",options:e}),n.transmuxer_.onmessage=function(e){return"data"===e.data.action?n.data_(e):"done"===e.data.action?n.done_(e):"gopInfo"===e.data.action?n.appendGopInfo_(e):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){var e=this.videoBuffer_,t=this.audioBuffer_,n=this.audioDisabled_,i=null,r=null,a=0,o=[],s=[];if(!e&&!t)return x.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(n)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return x.createTimeRange();for(var l=e.buffered,u=t.buffered,c=l.length;c--;)o.push({time:l.start(c),type:"start"}),o.push({time:l.end(c),type:"end"});for(c=u.length;c--;)o.push({time:u.start(c),type:"start"}),o.push({time:u.end(c),type:"end"});for(o.sort(function(e,t){return e.time-t.time}),c=0;c<o.length;c++)"start"===o[c].type?2===++a&&(i=o[c].time):"end"===o[c].type&&1===--a&&(r=o[c].time),null!==i&&null!==r&&(s.push([i,r]),r=i=null);return x.createTimeRanges(s)}}),n}Ja=x.EventTarget,cc(Td,Ja),yu(Td,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var n,t,i=void 0,r=(n={type:"",parameters:{}},r=(r=e).trim().split(";"),n.type=r.shift().trim(),r.forEach(function(e){var t,e=e.trim().split("=");1<e.length&&(t=e[0].replace(/"/g,"").trim(),e=e[1].replace(/"/g,"").trim(),n.parameters[t]=e)}),n);return/^(video|audio)\/mp2t$/i.test(r.type)?(t=[],r.parameters&&r.parameters.codecs&&(t=r.parameters.codecs.split(","),t=(t=ud(t)).filter(function(e){return hd(e)||fd(e)})),0===t.length&&(t=["avc1.4d400d","mp4a.40.2"]),i=new vd(this,t),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),i.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)):i=this.nativeMediaSource_.addSourceBuffer(e),this.sourceBuffers.push(i),i}}]);var _d=Td;function Td(){sc(this,Td);var a=dc(this,(Td.__proto__||Object.getPrototypeOf(Td)).call(this)),e=void 0;for(e in a.nativeMediaSource_=new h.MediaSource,a.nativeMediaSource_)e in Td.prototype||"function"!=typeof a.nativeMediaSource_[e]||(a[e]=a.nativeMediaSource_[e].bind(a.nativeMediaSource_));return a.duration_=NaN,Object.defineProperty(a,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)!==1/0&&(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(a,"seekable",{get:function(){return this.duration_===1/0?x.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(a,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(a,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),a.sourceBuffers=[],a.activeSourceBuffers_=[],a.updateActiveSourceBuffers_=function(){var e;if(a.activeSourceBuffers_.length=0,1===a.sourceBuffers.length)return(e=a.sourceBuffers[0]).appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void a.activeSourceBuffers_.push(e);for(var n=!1,i=!0,t=0;t<a.player_.audioTracks().length;t++){var r=a.player_.audioTracks()[t];if(r.enabled&&"main"!==r.kind){i=!(n=!0);break}}a.sourceBuffers.forEach(function(e,t){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=t?i:!i,e.audioDisabled_))return;a.activeSourceBuffers_.push(e)})},a.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},a.onHlsReset_=function(){a.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},a.onHlsSegmentTimeMapping_=function(t){a.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},a),a.on("sourceopen",function(e){var t=c.querySelector('[src="'+a.url_+'"]');t&&(a.player_=x(t.parentNode),a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_))}),a.on("sourceended",function(e){for(var t=Gc(a.duration),n=0;n<a.sourceBuffers.length;n++){var i=a.sourceBuffers[n],i=i.metadataTrack_&&i.metadataTrack_.cues;i&&i.length&&(i[i.length-1].endTime=t)}}),a.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),a}function Sd(e,t){if(!(e=x.mediaSources[e]))throw new Error("Media Source not found (Video.js)");e.trigger({type:"sourceopen",swfId:t})}function wd(){return!!h.MediaSource&&!!h.MediaSource.isTypeSupported&&h.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function Ed(){if(this.MediaSource={open:Sd,supportsNativeMediaSources:wd},wd())return new _d;throw new Error("Cannot use create a virtual MediaSource for this video")}x.mediaSources={};function Cd(e,t){for(var a=kd(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),n=0;n<t.playlists.length;n++){var i=fc(a,t.playlists[n]);i&&(a=i)}return hc(t,function(e,t,n,i){var r;e.playlists&&e.playlists.length&&(r=e.playlists[0].uri,(e=fc(a,e.playlists[0]))&&((a=e).mediaGroups[t][n][i].playlists[0]=a.playlists[r]))}),a}Ed.open=Sd,Ed.supportsNativeMediaSources=wd;var r={createObjectURL:function(e){var t=void 0;return t=e instanceof _d?h.URL.createObjectURL(e.nativeMediaSource_):h.URL.createObjectURL(e),e.url_=t}},e=(x.MediaSource=Ed,x.URL=r,x.EventTarget),kd=x.mergeOptions,Dd=(cc(Ad,e),yu(Ad,[{key:"dispose",value:function(){this.stopRequest(),h.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())}},{key:"media",value:function(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var t=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var n=!this.media_||e.uri!==this.media_.uri;this.state="HAVE_METADATA",n&&(this.media_&&this.trigger("mediachanging"),this.media_=e,this.refreshMedia_(),"HAVE_MASTER"!==t&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var r=ks(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});r.uri=this.srcUrl;for(var e=0;e<r.playlists.length;e++){var t="placeholder-uri-"+e;r.playlists[e].uri=t,r.playlists[t]=r.playlists[e]}return hc(r,function(e,t,n,i){e.playlists&&e.playlists.length&&(e.playlists[0].uri=t="placeholder-uri-"+t+"-"+n+"-"+i,r.playlists[t]=e.playlists[0])}),pc(r),gc(r),r}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?n.masterLoaded_=Date.parse(t.responseHeaders.date):n.masterLoaded_=Date.now(),n.syncClientServerClock_(n.onClientServerClockSync_.bind(n))}})}},{key:"syncClientServerClock_",value:function(n){var i=this,r=Ds(this.masterXml_);return null===r?(this.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===r.method?(this.clientOffset_=r.value-Date.now(),n()):void(this.request=this.hls_.xhr({uri:oc(this.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(e,t){if(i.request){if(e)return i.clientOffset_=i.masterLoaded_-Date.now(),n();e=void 0,e="HEAD"===r.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):i.masterLoaded_:Date.parse(t.responseText);i.clientOffset_=e-Date.now(),n()}}))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),h.setTimeout(function(){e.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&h.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var n=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.masterXml_=t.responseText;e=n.parseMasterXml();n.master=Cd(n.master,e),h.setTimeout(function(){n.trigger("minimumUpdatePeriod")},n.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var e=this,t=void 0,n=void 0,n=this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(t=this.master,this.parseMasterXml()),t=Cd(t,n);t?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=t:this.master=t,this.media_=t.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=h.setTimeout(function(){e.trigger("mediaupdatetimeout")},mc(this.media(),!!t))),this.trigger("loadedplaylist")}}]),Ad);function Ad(e,t,n,i){sc(this,Ad);var r=dc(this,(Ad.__proto__||Object.getPrototypeOf(Ad)).call(this));if(r.hls_=t,r.withCredentials=n,e)return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_()}),"string"==typeof e?(r.srcUrl=e,r.state="HAVE_NOTHING",dc(r)):(r.masterPlaylistLoader_=i,r.state="HAVE_METADATA",r.started=!0,r.media(e),h.setTimeout(function(){r.trigger("loadedmetadata")},0),r);throw new Error("A non-empty playlist URL or playlist is required")}function xd(e){return x.log.debug?x.log.debug.bind(x,"VHS:",e+" >"):function(){}}function Ld(){}yu(Id,[{key:"createSourceBuffer_",value:function(e,t){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.logger_("buffered ["+Bc(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:x.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.remove(e,t)},2<arguments.length&&void 0!==arguments[2]?arguments[2]:Ld)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]);var Od=Id;function Id(e,t,n,i){sc(this,Id),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=n,this.mimeType_=t,this.logger_=xd("SourceUpdater["+n+"]["+t+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,t,i)):this.createSourceBuffer_(t,i)}function Rd(e){var t={};return e.byterange&&(t.Range=Hd(e.byterange)),t}function Pd(e,t,n,i,r,a,o){function s(e,t){if(e&&(Wd(l),d.push(e)),(h+=1)===l.length)return t.endOfAllRequests=Date.now(),0<d.length?(e=zd(d),c(e,t)):t.encryptedBytes?Yd(u,t,c):c(null,t)}var l,u,c,d,h,f,p,g,m,y,v,b,_,T,S,w=[],n=(l=w,u=n,c=o,d=[],h=0,r.key&&(n=x.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),f=r,p=s,o=e(n,function(e,t){var n=t.response,e=Vd(e,t);if(e)return p(e,f);if(16!==n.byteLength)return p({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:Bd.FAILURE,xhr:t},f);e=new DataView(n);return f.key.bytes=new Uint32Array([e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12)]),p(null,f)}),w.push(o)),r.map&&!r.map.bytes&&(n=x.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Rd(r.map)}),g=r,m=i,y=s,o=e(n,function(e,t){var n=t.response,e=Vd(e,t);return e?y(e,g):0===n.byteLength?y({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Bd.FAILURE,xhr:t},g):(g.map.bytes=new Uint8Array(t.response),m.isInitialized()||m.init(),g.map.timescales=gl.timescale(g.map.bytes),g.map.videoTrackIds=gl.videoTrackIds(g.map.bytes),y(null,g))}),w.push(o)),x.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Rd(r)}));return v=r,b=i,_=s,(o=e(n,function(e,t){var n=t.response,e=Vd(e,t);return e?_(e,v):0===n.byteLength?_({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Bd.FAILURE,xhr:t},v):(v.stats=Gd(t),v.key?v.encryptedBytes=new Uint8Array(t.response):v.bytes=new Uint8Array(t.response),v.map&&v.map.bytes&&(b.isInitialized()||b.init(),(e=b.parse(v.bytes,v.map.videoTrackIds,v.map.timescales))&&e.captions&&(v.captionStreams=e.captionStreams,v.fmp4Captions=e.captions)),_(null,v))})).addEventListener("progress",(T=r,S=a,function(e){return T.stats=x.mergeOptions(T.stats,qd(e)),!T.stats.firstBytesReceivedAt&&T.stats.bytesReceived&&(T.stats.firstBytesReceivedAt=Date.now()),S(e,T)})),w.push(o),function(){return Wd(w)}}function Md(e,t){return(e=e&&h.getComputedStyle(e))?e[t]:""}function Nd(e,t){var n=void 0,i=void 0;return(n=(n=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:n)||h.Number.MAX_VALUE)-(i=(i=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:i)||h.Number.MAX_VALUE)}function Ud(e,t,n){return!(!e||!t)&&(n=n===e.segments.length,e.endList&&"open"===t.readyState&&n)}function Fd(e){return"number"==typeof e&&isFinite(e)}var jd={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Bd={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Hd=function(e){var t=e.offset+e.length-1;return"bytes="+e.offset+"-"+t},Wd=function(e){e.forEach(function(e){e.abort()})},Gd=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},qd=function(e){var t=e.target,t={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},Vd=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Bd.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Bd.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Bd.FAILURE,xhr:t}:null},Yd=function(n,i,r){n.addEventListener("message",function e(t){if(t.data.source===i.requestId)return n.removeEventListener("message",e),t=t.data.decrypted,i.bytes=new Uint8Array(t.bytes,t.byteOffset,t.byteLength),r(null,i)}),n.postMessage(Pc({source:i.requestId,encrypted:i.encryptedBytes,key:i.key.bytes,iv:i.key.iv}),[i.encryptedBytes.buffer,i.key.bytes.buffer])},zd=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})},$d=function(e,i){var r=e.slice();e.sort(function(e,t){var n=i(e,t);return 0===n?r.indexOf(e)-r.indexOf(t):n})},Kd=(v=x.EventTarget,cc(Xd,v),yu(Xd,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"!==this.state?this.pendingSegment_&&(this.pendingSegment_=null):(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_())}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():x.createTimeRanges()}},{key:"initSegment",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Mc(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),i||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Od(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,i=this.pendingSegment_,t=(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),n?n.id:null);if(this.logger_("playlist update ["+t+" => "+e.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();n&&n.uri===e.uri?(t=e.mediaSequence-n.mediaSequence,this.logger_("live window shift ["+t+"]"),null!==this.mediaIndex&&(this.mediaIndex-=t),i&&(i.mediaIndex-=t,0<=i.mediaIndex&&(i.segment=e.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)):null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(h.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,n),Wc(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Wc(e,t,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&h.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=h.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&h.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=h.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){var e;this.sourceUpdater_.updating()||(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),(e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_))&&(Ud(this.playlist_,this.mediaSource_,e.mediaIndex)?this.endOfStream():e.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(e))))}},{key:"checkBuffer_",value:function(e,t,n,i,r,a){var o=0,s=void 0,e=(e.length&&(o=e.end(e.length-1)),Math.max(0,o-r));return!t.segments.length||e>=this.goalBufferLength_()||!i&&1<=e?null:null===a?(n=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,n,null,!0)):null!==n?(s=(i=t.segments[n])&&i.end?i.end:o,this.generateSegmentInfo_(t,n+1,s,!1)):(s=this.fetchAtBuffer_?(n=(e=Zc.getMediaInfoForTime(t,o,a.segmentIndex,a.time)).mediaIndex,e.startTime):(n=(i=Zc.getMediaInfoForTime(t,r,a.segmentIndex,a.time)).mediaIndex,i.startTime),this.generateSegmentInfo_(t,n,s,!1))}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,i){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:i,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,e=Zc.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),r=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(e<=r)return!1;t={master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:r,currentTimeline:this.currentTimeline_,syncController:this.syncController_},n=t.master,a=t.currentTime,o=t.bandwidth,s=t.duration,l=t.segmentDuration,u=t.timeUntilRebuffer,c=t.currentTimeline,d=t.syncController,n=(t=(n=(n=(t=n.playlists.filter(function(e){return!Zc.isIncompatible(e)})).filter(Zc.isEnabled)).length?n:t.filter(function(e){return!Zc.isDisabled(e)})).filter(Zc.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=d.getSyncPoint(e,s,c,a)?1:2;return{playlist:e,rebufferingImpact:Zc.estimateSegmentRequestTime(l,o,e)*t-u}})).filter(function(e){return e.rebufferingImpact<=0}),$d(n,function(e,t){return Nd(t.playlist,e.playlist)});var a,o,s,l,u,c,d,i=n.length?n[0]:($d(t,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),t[0]||null);if(i)return n=e-r-i.rebufferingImpact,t=r<=1/30?1:.5,!(!i.playlist||i.playlist.uri===this.playlist_.uri||n<t)&&(this.bandwidth=i.playlist.attributes.BANDWIDTH*jd.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Pd(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){r=this.seekable_(),t=this.currentTime_(),n=this.playlist_.targetDuration||10,i=void 0,i=r.length&&0<r.start(0)&&r.start(0)<t?r.start(0):t-30;var t,n,i,r=Math.min(i,t-n);0<r&&this.remove(0,r)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};return t.key&&(e=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),n.key={resolvedUri:t.key.resolvedUri,iv:e}),t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Bd.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Bd.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var r,a,o,t=this.pendingSegment_;if(t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions){var n,i,s=this.inbandTextTracks_,l=this.hls_.tech_;for(n in e.captionStreams)s[n]||(l.trigger({type:"usage",name:"hls-608"}),i=l.textTracks().getTrackById(n),s[n]=i||l.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track);t={inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0},a=t.inbandTextTracks,e=t.captionArray,o=t.timestampOffset,e&&(r=window.WebKitDataCue||window.VTTCue,e.forEach(function(e){var t=e.stream,n=e.startTime,i=e.endTime;a[t]&&a[t].addCue(new r(n+=o,i+=o,e.text))})),this.captionParser_.clearParsedCaptions()}this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,n=t.segment,i=this.syncController_.probeSegmentInfo(t),r=(void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo}),r=this.loaderType_,u=this.startingMedia_,i=i,"main"===r&&u&&i?i.containsAudio||i.containsVideo?u.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!u.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var a,o,s,l,u=this.syncController_.mappingForTimeline(t.timeline);null!==u&&this.trigger({type:"segmenttimemapping",mapping:u}),this.state="APPENDING",n.map&&(a=Mc(n.map),this.activeInitSegmentId_&&this.activeInitSegmentId_===a||(i=this.initSegment(n.map),this.sourceUpdater_.appendBuffer(i.bytes,function(){e.activeInitSegmentId_=a}))),t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_((u=(r=t).segment,i=u.start,u=u.end,n=t.playlist,o=n.mediaSequence,s=n.id,n=n.segments,l=t.mediaIndex,r=t.timeline,["appending ["+l+"] of ["+o+", "+(o+(void 0===n?[]:n).length)+"] from playlist ["+s+"]","["+i+" => "+u+"] in timeline ["+r+"]"].join(" "))),this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),Ud(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,e=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(e-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){var t,n,i;this.segmentMetadataTrack_&&(t=(n=e.segment).start,n=n.end,Fd(t)&&Fd(n)&&(Wc(t,n,this.segmentMetadataTrack_),i=h.WebKitDataCue||h.VTTCue,e={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:t,end:n},(i=new i(t,n,JSON.stringify(e))).value=e,this.segmentMetadataTrack_.addCue(i)))}}]),Xd);function Xd(e){sc(this,Xd);var t=dc(this,(Xd.__proto__||Object.getPrototypeOf(Xd)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(e.mediaSource)return t.bandwidth=e.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=e.hasPlayed,t.currentTime_=e.currentTime,t.seekable_=e.seekable,t.seeking_=e.seeking,t.duration_=e.duration,t.mediaSource_=e.mediaSource,t.hls_=e.hls,t.loaderType_=e.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=e.segmentMetadataTrack,t.goalBufferLength_=e.goalBufferLength,t.sourceType_=e.sourceType,t.inbandTextTracks_=e.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.captionParser_=new Hu,t.decrypter_=e.decrypter,t.syncController_=e.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=xd("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),t;throw new TypeError("No MediaSource specified")}function Qd(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}var Jd=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),Zd=(cc(eh,Kd),yu(eh,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return x.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,e=e[e.length-1].startTime;return x.createTimeRanges([[t,e]])}},{key:"initSegment",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Mc(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(t=Jd.byteLength+e.bytes.byteLength,(t=new Uint8Array(t)).set(e.bytes),t.set(Jd,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:t}),i||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){Wc(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this,t=(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_));if(t=this.skipEmptySegments_(t))return null===this.syncController_.timestampOffsetForTimeline(t.timeline)?(this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")):void this.loadSegment_(t)}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e,n=this.pendingSegment_,i=n.segment;if("function"!=typeof h.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_)return e=function(){t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",e),void this.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")});i.requested=!0;try{this.parseVTTCues_(n)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,n.cues.length&&this.remove(n.cues[0].endTime,n.cues[n.cues.length-1].endTime),n.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1,e=("function"==typeof h.TextDecoder?e=new h.TextDecoder("utf8"):(e=h.WebVTT.StringDecoder(),n=!0),new h.WebVTT.Parser(h,h.vttjs,e)),i=(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},e.oncue=t.cues.push.bind(t.cues),e.ontimestampmap=function(e){return t.timestampmap=e},e.onparsingerror=function(e){x.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map&&(i=t.segment.map.bytes,n&&(i=Qd(i)),e.parse(i)),t.bytes);n&&(i=Qd(i)),e.parse(i),e.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var i,r,a=e.segment;t&&(e.cues.length?(r=e.timestampmap,i=r.MPEGTS/9e4-r.LOCAL+t.mapping,e.cues.forEach(function(e){e.startTime+=i,e.endTime+=i}),n.syncInfo||(r=e.cues[0].startTime,t=e.cues[e.cues.length-1].startTime,n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(r,t-a.duration)})):a.empty=!0)}}]),eh);function eh(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(sc(this,eh),dc(this,(eh.__proto__||Object.getPrototypeOf(eh)).call(this,e,t)));return t.mediaSource_=null,t.subtitlesTrack_=null,t}var th=lu,nh=[{name:"VOD",run:function(e,t,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,n,i,r){if(!e.datetimeToDisplayTime)return null;var a=t.segments||[],o=null,s=null;r=r||0;for(var l=0;l<a.length;l++){var u=a[l];if(u.dateTimeObject){var u=u.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,c=Math.abs(r-u);if(null!==s&&s<c)break;s=c,o={time:u,segmentIndex:l}}}return o}},{name:"Segment",run:function(e,t,n,i,r){var a=t.segments||[],o=null,s=null;r=r||0;for(var l=0;l<a.length;l++){var u=a[l];if(u.timeline===i&&void 0!==u.start){var c=Math.abs(r-u.start);if(null!==s&&s<c)break;(!o||null===s||c<=s)&&(s=c,o={time:u.start,segmentIndex:l})}}return o}},{name:"Discontinuity",run:function(e,t,n,i,r){var a=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,u=e.discontinuities[u];if(u){var c=Math.abs(r-u.time);if(null!==o&&o<c)break;(!a||null===o||c<=o)&&(o=c,a={time:u.time,segmentIndex:l})}}return a}},{name:"Playlist",run:function(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],ih=(U=x.EventTarget,cc(rh,U),yu(rh,[{key:"getSyncPoint",value:function(e,t,n,i){e=this.runStrategies_(e,t,n,i);return e.length?this.selectSyncPoint_(e,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;t=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!t.length)return null;t=this.selectSyncPoint_(t,{key:"segmentIndex",value:0});return 0<t.segmentIndex&&(t.time*=-1),Math.abs(t.time+Sc(e,t.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,i){for(var r=[],a=0;a<nh.length;a++){var o=nh[a],s=o.run(this,e,t,n,i);s&&(s.strategy=o.name,r.push({strategy:o.name,syncPoint:s}))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,a=1;a<e.length;a++){var o=Math.abs(e[a].syncPoint[t.key]-t.value);o<i&&(i=o,n=e[a].syncPoint,r=e[a].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;0<=n;n--){var i=e.segments[n];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject&&(e=e.segments[0].dateTimeObject.getTime()/1e3,this.datetimeToDisplayTime=-e)}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,i=void 0;return(i=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,i)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),i}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=gl.timescale(t.map.bytes),n=gl.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var e=th(e.bytes,this.inspectCache_),t=void 0,n=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,t=e.video[0].dtsTime,n=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,t=e.audio[0].dtsTime,n=e.audio[1].dtsTime),{start:t,end:n,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,i=this.timelines[e.timeline];if(null!==e.timestampOffset)i={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=e.startOfSegment,n.end=t.end+i.mapping;else{if(!i)return!1;n.start=t.start+i.mapping,n.end=t.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r,a=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,s=a-e.mediaIndex,l=Math.abs(s);(!this.discontinuities[o]||this.discontinuities[o].accuracy>l)&&(r=void 0,r=s<0?n.start-Sc(t,e.mediaIndex,a):n.end+Sc(t,e.mediaIndex+1,a),this.discontinuities[o]={time:r,accuracy:l})}}}]),rh);function rh(){sc(this,rh);var e=dc(this,(rh.__proto__||Object.getPrototypeOf(rh)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=xd("SyncController"),e}function ah(t){function e(){i.AUDIO.onTrackChanged(),a.trigger({type:"usage",name:"hls-audio-change"})}["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){dh[e](e,t)});var n,i=t.mediaTypes,r=t.masterPlaylistLoader,a=t.tech,o=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){var r,a,o,s,l,u;i[e].activeGroup=(r=e,a=t,function(t){var e=a.masterPlaylistLoader,n=a.mediaTypes[r].groups,e=e.media();if(!e)return null;var i=null,i=(i=e.attributes[r]?n[e.attributes[r]]:i)||n.main;return void 0===t?i:null!==t&&i.filter(function(e){return e.id===t.id})[0]||null}),i[e].activeTrack=hh[e](e,t),i[e].onGroupChanged=(o=e,s=t,function(){var e=s.segmentLoaders,t=e[o],e=e.main,n=s.mediaTypes[o],i=n.activeTrack(),i=n.activeGroup(i),r=n.activePlaylistLoader;sh(t,n),i&&(i.playlistLoader?(t.resyncLoader(),lh(i.playlistLoader,n)):r&&e.resetEverything())}),i[e].onTrackChanged=(l=e,u=t,function(){var e=u.segmentLoaders,t=e[l],e=e.main,n=u.mediaTypes[l],i=n.activeTrack(),r=n.activeGroup(i),a=n.activePlaylistLoader;sh(t,n),r&&(r.playlistLoader?(a!==r.playlistLoader&&(t.track&&t.track(i),t.resetEverything()),lh(r.playlistLoader,n)):e.resetEverything())})});var s=((s=i.AUDIO.activeGroup()).filter(function(e){return e.default})[0]||s[0]).id;for(n in i.AUDIO.tracks[s].enabled=!0,i.AUDIO.onTrackChanged(),r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return i[e].onGroupChanged()})}),a.audioTracks().addEventListener("change",e),a.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),o.on("dispose",function(){a.audioTracks().removeEventListener("change",e),a.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),a.clearTracks("audio"),i.AUDIO.tracks)a.audioTracks().addTrack(i.AUDIO.tracks[n])}var oh=new od("./decrypter-worker.worker.js",function(e,t){var n,c,g,r,l,i,a=this;n=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e},c=null,h.prototype.decrypt=function(e,t,n,i,r,a){for(var o,s,l=this._key[1],u=e^l[0],c=i^l[1],d=n^l[2],h=t^l[3],f=void 0,p=l.length/4-2,g=void 0,m=4,e=this._tables[1],y=e[0],v=e[1],b=e[2],_=e[3],T=e[4],g=0;g<p;g++)f=y[u>>>24]^v[c>>16&255]^b[d>>8&255]^_[255&h]^l[m],o=y[c>>>24]^v[d>>16&255]^b[h>>8&255]^_[255&u]^l[m+1],s=y[d>>>24]^v[h>>16&255]^b[u>>8&255]^_[255&c]^l[m+2],h=y[h>>>24]^v[u>>16&255]^b[c>>8&255]^_[255&d]^l[m+3],m+=4,u=f,c=o,d=s;for(g=0;g<4;g++)r[(3&-g)+a]=T[u>>>24]<<24^T[c>>16&255]<<16^T[d>>8&255]<<8^T[255&h]^l[m++],f=u,u=c,c=d,d=h,h=f},g=h,s.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},s.prototype.off=function(e,t){if(!this.listeners[e])return!1;t=this.listeners[e].indexOf(t);return this.listeners[e].splice(t,1),-1<t},s.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,r)},s.prototype.dispose=function(){this.listeners={}},s.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},l=function(t){var e=i,n=t;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":St(n)));function i(){d(this,i);var e=function(e,t){if(e)return!t||"object"!==(void 0===t?"undefined":St(t))&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,r));return e.jobs=[],e.delay=1,e.timeout_=null,e}return e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(r=s),u.prototype.decryptChunk_=function(t,n,i,r){return function(){var e=function(e,t,n){for(var i,r,a,o,s=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),l=new g(Array.prototype.slice.call(t)),t=new Uint8Array(e.byteLength),u=new Int32Array(t.buffer),c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,c=n[0],d=n[1],h=n[2],f=n[3],p=0;p<s.length;p+=4)i=m(s[p]),r=m(s[p+1]),a=m(s[p+2]),o=m(s[p+3]),l.decrypt(i,r,a,o,u,p),u[p]=m(u[p]^c),u[p+1]=m(u[p+1]^d),u[p+2]=m(u[p+2]^h),u[p+3]=m(u[p+3]^f),c=i,d=r,h=a,f=o;return t}(t,n,i);r.set(e,t.byteOffset)}},n(u,null,[{key:"STEP",get:function(){return 32e3}}]),i=u,function(a){a.onmessage=function(e){var r=e.data,e=new Uint8Array(r.encrypted.bytes,r.encrypted.byteOffset,r.encrypted.byteLength),t=new Uint32Array(r.key.bytes,r.key.byteOffset,r.key.byteLength/4),n=new Uint32Array(r.iv.bytes,r.iv.byteOffset,r.iv.byteLength/4);new i(e,t,n,function(e,t){var n,i;a.postMessage((n={source:r.source,decrypted:t},i={},Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i),[t.buffer])})}}(a);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e){d(this,h),c=c||function(){for(var e,t,n,i=[[[],[],[],[],[]],[[],[],[],[],[]]],r=i[0],a=i[1],o=r[4],s=a[4],l=void 0,u=void 0,c=void 0,d=[],h=[],f=void 0,p=void 0,l=0;l<256;l++)h[(d[l]=l<<1^283*(l>>7))^l]=l;for(u=c=0;!o[u];u^=e||1,c=h[c]||1)for(p=16843009*d[t=d[e=d[s[o[u]=n=(n=c^c<<1^c<<2^c<<3^c<<4)>>8^255&n^99]=u]]]^65537*t^257*e^16843008*u,f=257*d[n]^16843008*n,l=0;l<4;l++)r[l][u]=f=f<<24^f>>>8,a[l][n]=p=p<<24^p>>>8;for(l=0;l<5;l++)r[l]=r[l].slice(0),a[l]=a[l].slice(0);return i}(),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var t=void 0,n=void 0,i=void 0,r=void 0,a=void 0,o=this._tables[0][4],s=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=e.slice(0),this._key=[r,a=[]],t=l;t<4*l+28;t++)i=r[t-1],(t%l==0||8===l&&t%l==4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],t%l==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],a[n]=t<=4||n<4?i:s[0][o[i>>>24]]^s[1][o[i>>16&255]]^s[2][o[i>>8&255]]^s[3][o[255&i]]}function s(){d(this,s),this.listeners={}}function m(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function u(e,t,n,i){d(this,u);var r=u.STEP,a=new Int32Array(e.buffer),o=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),t,n,o)),s=r;s<a.length;s+=r)n=new Uint32Array([m(a[s-4]),m(a[s-3]),m(a[s-2]),m(a[s-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),t,n,o));this.asyncStream_.push(function(){i(null,o.subarray(0,o.byteLength-o[o.byteLength-1]))})}}),sh=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},lh=function(e,t){(t.activePlaylistLoader=e).load()},uh={AUDIO:function(o,s){return function(){var e=s.segmentLoaders[o],t=s.mediaTypes[o],n=s.blacklistCurrentPlaylist,e=(sh(e,t),t.activeTrack()),i=t.activeGroup(),i=(i.filter(function(e){return e.default})[0]||i[0]).id,r=t.tracks[i];if(e===r)n({message:"Problem encountered loading the default audio track."});else{for(var a in x.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[a].enabled=t.tracks[a]===r;t.onTrackChanged()}}},SUBTITLES:function(n,i){return function(){var e=i.segmentLoaders[n],t=i.mediaTypes[n],e=(x.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),sh(e,t),t.activeTrack());e&&(e.mode="disabled"),t.onTrackChanged()}}},ch={AUDIO:function(e,t,n){var i,r,a;t&&(i=n.tech,r=n.requestOptions,a=n.segmentLoaders[e],t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),r),i.paused()||a.load()}),t.on("error",uh[e](e,n)))},SUBTITLES:function(e,t,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[e],o=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,r),a.track(o.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),r),i.paused()||a.load()}),t.on("error",uh[e](e,n))}},dh={AUDIO:function(e,t){var n,i=t.hls,r=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions.withCredentials,s=t.master,l=s.mediaGroups,u=s.playlists,s=t.mediaTypes[e],c=s.groups,d=s.tracks,h=t.masterPlaylistLoader;for(n in l[e]&&0!==Object.keys(l[e]).length||(l[e]={main:{default:{default:!0}}}),l[e]){c[n]||(c[n]=[]);var f,p=u.filter(function(t,n){return function(e){return e.attributes[t]===n}}(e,n));for(f in l[e][n]){var g,m=l[e][n][f],y=(p.filter(function(t){return function(e){return e.resolvedUri===t}}(m.resolvedUri)).length&&delete m.resolvedUri,void 0),y=m.resolvedUri?new _c(m.resolvedUri,i,o):m.playlists&&"dash"===r?new Dd(m.playlists[0],i,o,h):null,m=x.mergeOptions({id:f,playlistLoader:y},m);ch[e](e,m.playlistLoader,t),c[n].push(m),void 0===d[f]&&(g=new x.AudioTrack({id:f,kind:(y=void 0,y=(g=m).default?"main":"alternative",y=g.characteristics&&0<=g.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":y),enabled:!1,language:m.language,default:m.default,label:f}),d[f]=g)}}a.on("error",uh[e](e,t))},SUBTITLES:function(e,t){var n,i,r,a=t.tech,o=t.hls,s=t.sourceType,l=t.segmentLoaders[e],u=t.requestOptions.withCredentials,c=t.master.mediaGroups,d=t.mediaTypes[e],h=d.groups,f=d.tracks,p=t.masterPlaylistLoader;for(n in c[e])for(var g in h[n]||(h[n]=[]),c[e][n])c[e][n][g].forced||(i=c[e][n][g],r=void 0,"hls"===s?r=new _c(i.resolvedUri,o,u):"dash"===s&&(r=new Dd(i.playlists[0],o,u,p)),i=x.mergeOptions({id:g,playlistLoader:r},i),ch[e](e,i.playlistLoader,t),h[n].push(i),void 0===f[g]&&(r=a.addRemoteTextTrack({id:g,kind:"subtitles",enabled:!1,language:i.language,label:g},!1).track,f[g]=r));l.on("error",uh[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n,i=t.tech,r=t.master.mediaGroups,t=t.mediaTypes[e],a=t.groups,o=t.tracks;for(n in r[e])for(var s in a[n]||(a[n]=[]),r[e][n]){var l=r[e][n][s];l.instreamId.match(/CC\d/)&&(a[n].push(x.mergeOptions({id:s},l)),void 0===o[s]&&(l=i.addRemoteTextTrack({id:l.instreamId,kind:"captions",enabled:!1,language:l.language,label:s},!1).track,o[s]=l))}}},hh={AUDIO:function(n,i){return function(){var e,t=i.mediaTypes[n].tracks;for(e in t)if(t[e].enabled)return t[e];return null}},SUBTITLES:function(n,i){return function(){var e,t=i.mediaTypes[n].tracks;for(e in t)if("showing"===t[e].mode)return t[e];return null}}},fh=void 0,ph=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],gh=(_=x.EventTarget,cc(mh,_),yu(mh,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*i.masterPlaylistLoader_.targetDuration*1e3;Lc(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,e.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load()),ah({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,hls:i.hls_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),e);try{i.setupSourceBuffers_()}catch(e){return x.log.warn("Failed to create SourceBuffers",e),i.mediaSource.endOfStream("decode")}i.setupFirstPlay(),i.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e,t,n=i.masterPlaylistLoader_.media();if(!n)return i.excludeUnsupportedVariants_(),e=void 0,e=(e=i.enableLowInitialPlaylist?i.selectInitialPlaylist():e)||i.selectPlaylist(),i.initialMedia_=e,void i.masterPlaylistLoader_.media(i.initialMedia_);i.useCueTags_&&i.updateAdCues_(n),i.mainSegmentLoader_.playlist(n,i.requestOptions_),i.updateDuration(),i.tech_.paused()||(i.mainSegmentLoader_.load(),i.audioSegmentLoader_&&i.audioSegmentLoader_.load()),n.endList||(t=function(){var e=i.seekable();0!==e.length&&i.mediaSource.addSeekableRange_(e.start(0),e.end(0))},i.duration()!==1/0?i.tech_.one("durationchange",function e(){i.duration()===1/0?t():i.tech_.one("durationchange",e)}):t())}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*i.masterPlaylistLoader_.targetDuration*1e3;Lc(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=i.masterPlaylistLoader_.media();i.stuckAtPlaylistEnd_(e)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var n,i=e.mediaGroups||{},r=!0,e=Object.keys(i.AUDIO);for(n in i.AUDIO)for(var a in i.AUDIO[n])i.AUDIO[n][a].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),fh.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),fh.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.length&&1<Object.keys(i.AUDIO[e[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var r=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=r.selectPlaylist(),t=r.masterPlaylistLoader_.media(),n=r.tech_.buffered(),n=n.length?n.end(n.length-1)-r.tech_.currentTime():0,i=r.bufferLowWaterLine();(!t.endList||r.duration()<jd.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<t.attributes.BANDWIDTH||i<=n)&&r.masterPlaylistLoader_.media(e),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){r.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){r.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){r.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){var e;if(!this.setupFirstPlay())return this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load(),e=this.tech_.seekable(),this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(x.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(n.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return x.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}var e;this.tech_.autoplay()&&void 0!==(e=this.tech_.play())&&"function"==typeof e.then&&e.then(null,function(e){}),this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;(e=this.mediaTypes_.AUDIO.activePlaylistLoader?(this.mainSegmentLoader_.startingMedia_&&!this.mainSegmentLoader_.startingMedia_.containsVideo||e)&&this.audioSegmentLoader_.ended_:e)&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var e=fh.Playlist.playlistEnd(e,t),t=this.tech_.currentTime(),n=this.tech_.buffered();if(!n.length)return e-t<=.1;n=n.end(n.length-1);return n-t<=.1&&e-n<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0,n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration;if(!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(Ac).length;return i?(x.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),x.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=Fc(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:fh.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(e=fh.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(t=fh.Playlist.seekable(n,i)).length)return}!t||t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=x.createTimeRanges([[(t.start(0)>e.start(0)?t:e).start(0),(t.end(0)<e.end(0)?t:e).end(0)]]),this.logger_("seekable updated ["+Bc(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){function e(){t.mediaSource.duration=i,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)}var t=this,n=this.mediaSource.duration,i=fh.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered();n!==(i=0<r.length?Math.max(i,r.end(r.length-1)):i)&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){var i=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var t,n=i.mediaTypes_[e].groups;for(t in n)n[t].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=dd(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=1<e.length&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new x.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&h.MediaSource&&h.MediaSource.isTypeSupported&&!h.MediaSource.isTypeSupported('video/mp4; codecs="'+e.attributes.CODECS.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return ud([e])[0]})+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var n=2,i=null;e.attributes.CODECS&&(e=yd(e.attributes.CODECS),i=e.videoCodec,n=e.codecCount),this.master().playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};(t=e.attributes.CODECS?yd(e.attributes.CODECS):t).codecCount!==n&&(e.excludeUntil=1/0),t.videoCodec!==i&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t){if(e.segments)for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=void 0,r=0;r<e.segments.length;r++){var a,o,s,l=e.segments[r];if(i=i||function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null}(t,n+l.duration/2)){if("cueIn"in l){i.endTime=n,i.adEndTime=n,n+=l.duration,i=null;continue}if(n<i.endTime){n+=l.duration;continue}i.endTime+=l.duration}else"cueOut"in l&&((i=new h.VTTCue(n,n+l.duration,l.cueOut)).adStartTime=n,i.adEndTime=n+parseFloat(l.cueOut),t.addCue(i)),"cueOutCont"in l&&(s=o=void 0,a=l.cueOutCont.split("/").map(parseFloat),o=(a=yc(a,2))[0],s=a[1],(i=new h.VTTCue(n,n+l.duration,"")).adStartTime=n-o,i.adEndTime=i.adStartTime+s,t.addCue(i));n+=l.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=jd.GOAL_BUFFER_LENGTH,n=jd.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,jd.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=jd.BUFFER_LOW_WATER_LINE,n=jd.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,jd.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,i)}}]),mh);function mh(e){sc(this,mh);var t,n=dc(this,(mh.__proto__||Object.getPrototypeOf(mh)).call(this)),i=e.url,r=e.withCredentials,a=e.tech,o=e.bandwidth,s=e.externHls,l=e.useCueTags,u=e.blacklistDuration,c=e.enableLowInitialPlaylist,d=e.sourceType,h=e.seekTo;if(!i)throw new Error("A non-empty playlist URL is required");fh=s,n.withCredentials=r,n.tech_=a,n.hls_=a.hls,n.seekTo_=h,n.sourceType_=d,n.useCueTags_=l,n.blacklistDuration=u,n.enableLowInitialPlaylist=c,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:n.withCredentials,timeout:null},n.mediaTypes_=(t={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ld,activeTrack:Ld,onGroupChanged:Ld,onTrackChanged:Ld}}),t),n.mediaSource=new x.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=x.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new ih(e),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new oh,n.inbandTextTracks_={};s={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:o,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_=new("dash"===n.sourceType_?Dd:_c)(i,n.hls_,n.withCredentials),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Kd(x.mergeOptions(s,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new Kd(x.mergeOptions(s,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new Zd(x.mergeOptions(s,{loaderType:"vtt"}),e),n.setupSegmentLoaderListeners_(),ph.forEach(function(e){n[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(n,e)}),n.logger_=xd("MPC"),n.masterPlaylistLoader_.load(),n}function yh(e,t,n){sc(this,yh);var i,r=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);t.attributes.RESOLUTION&&(i=t.attributes.RESOLUTION,this.width=i.width,this.height=i.height),this.bandwidth=t.attributes.BANDWIDTH,this.id=n,this.enabled=vh(e.playlists,t.uri,r)}var vh=function(r,a,o){return function(e){var t=r.master.playlists[a],n=Dc(t),i=Ac(t);return void 0===e?i:(e?delete t.disabled:t.disabled=!0,e===i||n||(o(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)}},bh=["seeking","seeked","pause","playing","error"],_h=(yu(Th,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&h.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=h.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());var e,t;if(!this.tech_.paused()&&!this.tech_.seeking())return e=this.tech_.currentTime(),t=this.tech_.buffered(),this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1))?this.techWaiting_():void(5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e))}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),n=this.tech_.currentTime(),i=void 0;return e&&this.afterSeekableWindow_(t,n)&&(i=t.end(t.length-1)),void 0!==(i=e&&this.beforeSeekableWindow_(t,n)?t.start(0)+.1:i)&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Bc(t)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){var e,t;this.techWaiting_()||(e=this.tech_.currentTime(),t=this.tech_.buffered(),(t=Fc(t,e)).length&&e+3<=t.end(0)&&(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t))return e=e.end(e.length-1),this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+e),this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0;var e=this.tech_.buffered(),n=jc(e,t);return this.videoUnderflow_(n,e,t)?(this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):0<n.length&&(e=n.start(0)-t,this.logger_("Stopped at "+t+", setting timer for "+e+", seeking to "+n.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*e,t),!0)}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){e=this.gapFromVideoUnderflow_(t,n);if(e)return this.logger_("Encountered a gap in video from "+e.start+" to "+e.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),t=jc(t,n);this.cancelTimer_(),0!==t.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",t.start(0)),this.seekTo(t.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=function(e){if(e.length<2)return x.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return x.createTimeRanges(t)}(e),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(t-r<4&&2<t-r)return{start:r,end:a}}return null}}]),Th);function Th(e){function t(){return a.monitorCurrentTime_()}function n(){return a.techWaiting_()}function i(){return a.cancelTimer_()}function r(){return a.fixesBadSeeks_()}var a=this;sc(this,Th),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=xd("PlaybackWatcher"),this.logger_("initialize");this.tech_.on("seekablechanged",r),this.tech_.on("waiting",n),this.tech_.on(bh,i),this.tech_.on("canplay",t),this.dispose=function(){a.logger_("dispose"),a.tech_.off("seekablechanged",r),a.tech_.off("waiting",n),a.tech_.off(bh,i),a.tech_.off("canplay",t),a.checkCurrentTimeTimeout_&&h.clearTimeout(a.checkCurrentTimeTimeout_),a.cancelTimer_()}}function Sh(t,e){function n(e){null!=e&&(o=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",l),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())}function i(){if(Date.now()-a<1e3*s.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return a=Date.now(),s.getSource.call(t,n);x.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function r(){t.off("loadedmetadata",l),t.off("error",i),t.off("dispose",r)}var a=0,o=0,s=x.mergeOptions(Dh,e),l=(t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})}),function(){o&&t.currentTime(o)});t.on("error",i),t.on("dispose",r),t.reloadSourceOnError=function(e){r(),Sh(t,e)}}function wh(e){Sh(this,e)}function Eh(e){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)?"hls":/^application\/dash\+xml/i.test(e)?"dash":null}function Ch(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.uri){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})}function kh(e){var t;"dash"===e.options_.sourceType&&(t=x.players[e.tech_.options_.playerId]).eme&&(e=function(e,t,n){if(!e)return e;var i,r={};for(i in e)r[i]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[i]&&t.contentProtection[i].pssh&&(r[i].pssh=t.contentProtection[i].pssh),"string"==typeof e[i]&&(r[i].url=e[i]);return x.mergeOptions(e,r)}(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media()))&&(t.currentSource().keySystems=e)}var Dh={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Ah=(x.use("*",function(t){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.currentTime())}}}),{PlaylistLoader:_c,Playlist:Zc,Decrypter:cu,AsyncStream:rc,decrypt:ic,utils:b,STANDARD_PLAYLIST_SELECTOR:function(){return e=this.playlists.master,t=this.systemBandwidth,n=parseInt(Md(this.tech_.el(),"width"),10),i=parseInt(Md(this.tech_.el(),"height"),10),e=e.playlists.map(function(e){var t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||h.Number.MAX_VALUE,width:t,height:n,playlist:e}}),$d(e,function(e,t){return e.bandwidth-t.bandwidth}),r=(e=e.filter(function(e){return!Zc.isIncompatible(e.playlist)})).filter(function(e){return Zc.isEnabled(e.playlist)}),a=(r=r.length?r:e.filter(function(e){return!Zc.isDisabled(e.playlist)})).filter(function(e){return e.bandwidth*jd.BANDWIDTH_VARIANCE<t}),o=a[a.length-1],s=a.filter(function(e){return e.bandwidth===o.bandwidth})[0],a=a.filter(function(e){return e.width&&e.height}),$d(a,function(e,t){return e.width-t.width}),l=a.filter(function(e){return e.width===n&&e.height===i}),o=l[l.length-1],l=l.filter(function(e){return e.bandwidth===o.bandwidth})[0],d=c=u=void 0,l||(c=(u=a.filter(function(e){return e.width>n||e.height>i})).filter(function(e){return e.width===u[0].width&&e.height===u[0].height}),o=c[c.length-1],d=c.filter(function(e){return e.bandwidth===o.bandwidth})[0]),(a=d||l||s||r[0]||e[0])?a.playlist:null;var e,t,n,i,r,a,o,s,l,u,c,d},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Zc.isEnabled);return $d(e,Nd),e.filter(function(e){return yd(e.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Nd,comparePlaylistResolution:function(e,t){var n=void 0,i=void 0;return(n=(n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:n)||h.Number.MAX_VALUE)===(i=(i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:i)||h.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Oc()}),eo=(["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(Ah,t,{get:function(){return x.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),jd[t]},set:function(e){x.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?x.log.warn("value of Hls."+t+" must be greater than or equal to 0"):jd[t]=e}})}),Ah.canPlaySource=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},Ah.supportsNativeHls=function(){var t=c.createElement("video");if(!x.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),Ah.supportsNativeDash=!!x.getTech("Html5").isSupported()&&/maybe|probably/i.test(c.createElement("video").canPlayType("application/dash+xml")),Ah.supportsTypeNatively=function(e){return"hls"===e?Ah.supportsNativeHls:"dash"===e&&Ah.supportsNativeDash},Ah.isSupported=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},x.getComponent("Component")),xh=(cc(Lh,eo),yu(Lh,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e,t){var i=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Ah,this.options_.sourceType=Eh(t),this.options_.seekTo=function(e){i.tech_.setCurrentTime(e),i.setCurrentTime(e)},this.masterPlaylistController_=new gh(this.options_),this.playbackWatcher_=new _h(x.mergeOptions(this.options_,{seekable:function(){return i.seekable()}})),this.masterPlaylistController_.on("error",function(){x.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||Ah.STANDARD_PLAYLIST_SELECTOR).bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ah.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0,t=0<this.throughput?1/this.throughput:0;return Math.floor(1/(e+t))},set:function(){x.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Hc(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Hc(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){var n,e;e=(n=i).playlists,n.representations=function(){return e.master.playlists.filter(function(e){return!Dc(e)}).map(function(e,t){return new yh(n,e,e.uri)})},kh(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(x.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var n=this,e=x.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;t=n.qualityLevels_,(e=n).representations().forEach(function(e){t.addQualityLevel(e)}),Ch(t,e.playlists)}),this.playlists.on("mediachange",function(){Ch(n.qualityLevels_,n.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),uc(Lh.prototype.__proto__||Object.getPrototypeOf(Lh.prototype),"dispose",this).call(this)}}]),Lh);function Lh(e,t,n){sc(this,Lh);var i=dc(this,(Lh.__proto__||Object.getPrototypeOf(Lh)).call(this,t,n.hls));if(t.options_&&t.options_.playerId&&((n=x(t.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return x.log.warn("player.hls is deprecated. Use player.tech().hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),i}}),n.vhs=i,n.dash=i),i.tech_=t,i.source_=e,i.stats={},i.setOptions_(),i.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(c,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement;t&&t.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()}),i.on(i.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}var Oh={name:"videojs-http-streaming",VERSION:"1.2.5",canHandleSource:function(e){var t=x.mergeOptions(x.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return Oh.canPlayType(e.type,t)},handleSource:function(e,t){var n=x.mergeOptions(x.options,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return t.hls=new xh(e,t,n),t.hls.xhr=Oc(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=x.mergeOptions(x.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).hls.overrideNative,n=Eh(e);return n&&(!Ah.supportsTypeNatively(n)||t)?"maybe":""}};return void 0!==x.MediaSource&&void 0!==x.URL||(x.MediaSource=Ed,x.URL=r),Ed.supportsNativeMediaSources()&&x.getTech("Html5").registerSourceHandler(Oh,0),x.HlsHandler=xh,x.HlsSourceHandler=Oh,x.Hls=Ah,x.use||x.registerComponent("Hls",Ah),x.options.hls=x.options.hls||{},x.registerPlugin?x.registerPlugin("reloadSourceOnError",wh):x.plugin("reloadSourceOnError",wh),x}),function(){var e=window;(e=e&&e.videojs)&&(e.CDN_VERSION="7.2.3")}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).flatpickr=t()}(this,function(){"use strict";var le=function(){return(le=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ue=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],y={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var e=new Date(e.getTime()),t=(e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7),new Date(e.getFullYear(),0,4));return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ce={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){e%=100;if(3<e&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},de=function(e){return("0"+e).slice(-2)},he=function(e){return!0===e?1:0};function fe(n,i,r){var a;return void 0===r&&(r=!1),function(){var e=this,t=arguments;null!==a&&clearTimeout(a),a=window.setTimeout(function(){a=null,r||n.apply(e,t)},i),r&&!a&&n.apply(e,t)}}var pe=function(e){return e instanceof Array?e:[e]};function ge(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function me(e,t,n){e=window.document.createElement(e);return n=n||"",e.className=t=t||"",void 0!==n&&(e.textContent=n),e}function ye(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ve(e,t){var n=me("div","numInputWrapper"),i=me("input","numInput "+e),e=me("span","arrowUp"),r=me("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var a in t)i.setAttribute(a,t[a]);return n.appendChild(i),n.appendChild(e),n.appendChild(r),n}function e(){}var be=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:e,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*he(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){t=parseInt(t);return new Date(e.getFullYear(),0,2+7*(t-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:e,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:e,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},_e={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},o={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[o.w(e,t,n)]},F:function(e,t,n){return be(o.n(e,t,n)-1,!1,t)},G:function(e,t,n){return de(o.h(e,t,n))},H:function(e){return de(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[he(11<e.getHours())]},M:function(e,t){return be(e.getMonth(),!0,t)},S:function(e){return de(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return de(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return de(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return de(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},Te=function(e){var t=e.config,a=void 0===t?y:t,t=e.l10n,n=void 0===t?ce:t;return function(i,e,t){var r=t||n;return void 0!==a.formatDate?a.formatDate(i,e,r):e.split("").map(function(e,t,n){return o[e]&&"\\"!==n[t-1]?o[e](i,r,a):"\\"!==e?e:""}).join("")}},Se=function(e){var t=e.config,g=void 0===t?y:t,t=e.l10n,m=void 0===t?ce:t;return function(e,t,n,i){if(0===e||e){var r=i||m,i=e;if(e instanceof Date)o=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)o=new Date(e);else if("string"==typeof e){var a=t||(g||y).dateFormat,t=String(e).trim();if("today"===t)o=new Date,n=!0;else if(/Z$/.test(t)||/GMT$/.test(t))o=new Date(e);else if(g&&g.parseDate)o=g.parseDate(e,a);else{for(var o=g&&g.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),s=void 0,l=[],u=0,c=0,d="";u<a.length;u++){var h=a[u],f="\\"===h,p="\\"===a[u-1]||f;_e[h]&&!p?(d+=_e[h],(p=new RegExp(d).exec(e))&&(s=!0)&&l["Y"!==h?"push":"unshift"]({fn:v[h],val:p[++c]})):f||(d+="."),l.forEach(function(e){var t=e.fn,e=e.val;return o=t(o,e,r)||o})}o=s?o:void 0}}if(o instanceof Date&&!isNaN(o.getTime()))return!0===n&&o.setHours(0,0,0,0),o;g.errorHandler(new Error("Invalid date provided: "+i))}}};function we(e,t,n){return!1!==(n=void 0===n?!0:n)?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var Ee=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},Ce={DAY:864e5},ke=("function"!=typeof Object.assign&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=0,r=e;i<r.length;i++)!function(t){t&&Object.keys(t).forEach(function(e){return n[e]=t[e]})}(r[i]);return n}),300);function s(e,t){var g={config:le({},De.defaultConfig),l10n:ce};function N(e){return e.bind(g)}function U(){var t=g.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame(function(){var e;void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer&&(e=(g.days.offsetWidth+1)*t.showMonths,g.daysContainer.style.width=e+"px",g.calendarContainer.style.width=e+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display"))})}function l(e){0===g.selectedDates.length&&z(),void 0!==e&&"blur"!==e.type&&((e=e).preventDefault(),n="keydown"===e.type,i=e.target,void 0!==g.amPM&&e.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[he(g.amPM.textContent===g.l10n.amPM[0])]),r=parseFloat(i.getAttribute("min")),s=parseFloat(i.getAttribute("max")),a=parseFloat(i.getAttribute("step")),o=parseInt(i.value,10),n=o+a*(e.delta||(n?38===e.which?1:-1:0)),void 0!==i.value&&2===i.value.length&&(e=i===g.hourElement,t=i===g.minuteElement,n<r?(n=s+n+he(!e)+(he(e)&&he(!g.amPM)),t&&c(void 0,-1,g.hourElement)):s<n&&(n=i===g.hourElement?n-s-he(!g.amPM):r,t&&c(void 0,1,g.hourElement)),g.amPM&&e&&(1===a?n+o===23:Math.abs(n-o)>a)&&(g.amPM.textContent=g.l10n.amPM[he(g.amPM.textContent===g.l10n.amPM[0])]),i.value=de(n)));var t,n,i,r,a,o,s=g._input.value;u(),k(),g._input.value!==s&&g._debouncedChange()}function u(){var e,t,n,i,r;void 0!==g.hourElement&&void 0!==g.minuteElement&&(e=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(g.minuteElement.value,10)||0)%60,n=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0,void 0!==g.amPM&&(i=e,r=g.amPM.textContent,e=i%12+12*he(r===g.l10n.amPM[1])),i=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===we(g.latestSelectedDateObj,g.config.minDate,!0),(void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===we(g.latestSelectedDateObj,g.config.maxDate,!0))&&(r=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate,(t=(e=Math.min(e,r.getHours()))===r.getHours()?Math.min(t,r.getMinutes()):t)===r.getMinutes()&&(n=Math.min(n,r.getSeconds()))),i&&(r=void 0!==g.config.minTime?g.config.minTime:g.config.minDate,(t=(e=Math.max(e,r.getHours()))===r.getHours()?Math.max(t,r.getMinutes()):t)===r.getMinutes()&&(n=Math.max(n,r.getSeconds()))),a(e,t,n))}function i(e){e=e||g.latestSelectedDateObj;e&&a(e.getHours(),e.getMinutes(),e.getSeconds())}function F(){var e,t,n=g.config.defaultHour,i=g.config.defaultMinute,r=g.config.defaultSeconds;void 0!==g.config.minDate&&(e=g.config.minDate.getHours(),t=g.config.minDate.getMinutes(),(n=Math.max(n,e))===e&&(i=Math.max(t,i)),n===e&&i===t&&(r=g.config.minDate.getSeconds())),void 0!==g.config.maxDate&&(e=g.config.maxDate.getHours(),t=g.config.maxDate.getMinutes(),(n=Math.min(n,e))===e&&(i=Math.min(t,i)),n===e&&i===t&&(r=g.config.maxDate.getSeconds())),a(n,i,r)}function a(e,t,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(e%24,t,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=de(g.config.time_24hr?e:(12+e)%12+12*he(e%12==0)),g.minuteElement.value=de(t),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[he(12<=e)]),void 0!==g.secondElement&&(g.secondElement.value=de(n)))}function j(e){var t=parseInt(e.target.value)+(e.delta||0);(1<t/1e3||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&b(t)}function o(t,n,i,r){return n instanceof Array?n.forEach(function(e){return o(t,e,i,r)}):t instanceof Array?t.forEach(function(e){return o(e,n,i,r)}):(t.addEventListener(n,i,r),void g._handlers.push({element:t,event:n,handler:i,options:r}))}function n(t){return function(e){1===e.which&&t(e)}}function r(){E("onChange")}function B(e){var t=void 0!==e?g.parseDate(e):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now);try{void 0!==t&&(g.currentYear=t.getFullYear(),g.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,g.config.errorHandler(e)}g.redraw()}function H(e){~e.target.className.indexOf("arrow")&&c(e,e.target.classList.contains("arrowUp")?1:-1)}function c(e,t,n){e=e&&e.target,n=n||e&&e.parentNode&&e.parentNode.firstChild,e=ne("increment");e.delta=t,n&&n.dispatchEvent(e)}function h(e,t,n,i){var r=_(t,!0),a=me("span","flatpickr-day "+e,t.getDate().toString());return a.dateObj=t,a.$i=i,a.setAttribute("aria-label",g.formatDate(t,g.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===we(t,g.now)&&((g.todayDateElem=a).classList.add("today"),a.setAttribute("aria-current","date")),r?(a.tabIndex=-1,ie(t)&&(a.classList.add("selected"),g.selectedDateElem=a,"range"===g.config.mode&&(ge(a,"startRange",g.selectedDates[0]&&0===we(t,g.selectedDates[0],!0)),ge(a,"endRange",g.selectedDates[1]&&0===we(t,g.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("disabled"),"range"===g.config.mode&&(i=t,!("range"!==g.config.mode||g.selectedDates.length<2)&&0<=we(i,g.selectedDates[0])&&we(i,g.selectedDates[1])<=0)&&!ie(t)&&a.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(t)+"</span>"),E("onDayCreate",a),a}function p(e){e.focus(),"range"===g.config.mode&&S(e)}function m(e){for(var t=0<e?0:g.config.showMonths-1,n=0<e?g.config.showMonths:-1,i=t;i!=n;i+=e)for(var r=g.daysContainer.children[i],a=0<e?0:r.children.length-1,o=0<e?r.children.length:-1,s=a;s!=o;s+=e){var l=r.children[s];if(-1===l.className.indexOf("hidden")&&_(l.dateObj))return l}}function y(e,t){var n=T(document.activeElement||document.body),e=void 0!==e?e:n?document.activeElement:void 0!==g.selectedDateElem&&T(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&T(g.todayDateElem)?g.todayDateElem:m(0<t?1:-1);if(void 0===e)g._input.focus();else if(n){for(var i=e,r=t,a=-1===i.className.indexOf("Month")?i.dateObj.getMonth():g.currentMonth,o=0<r?g.config.showMonths:-1,s=0<r?1:-1,l=a-g.currentMonth;l!=o;l+=s)for(var u=g.daysContainer.children[l],c=a-g.currentMonth===l?i.$i+r:r<0?u.children.length-1:0,d=u.children.length,h=c;0<=h&&h<d&&h!=(0<r?d:-1);h+=s){var f=u.children[h];if(-1===f.className.indexOf("hidden")&&_(f.dateObj)&&Math.abs(i.$i-h)>=Math.abs(r))return void p(f)}g.changeMonth(s),y(m(s),0)}else p(e)}function s(){if(void 0!==g.daysContainer){ye(g.daysContainer),g.weekNumbers&&ye(g.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<g.config.showMonths;t++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),e.appendChild(function(e,t){for(var n=(new Date(e,t,1).getDay()-g.l10n.firstDayOfWeek+7)%7,i=g.utils.getDaysInMonth((t-1+12)%12),r=g.utils.getDaysInMonth(t),a=window.document.createDocumentFragment(),o=1<g.config.showMonths,s=o?"prevMonthDay hidden":"prevMonthDay",l=o?"nextMonthDay hidden":"nextMonthDay",u=i+1-n,c=0;u<=i;u++,c++)a.appendChild(h(s,new Date(e,t-1,u),u,c));for(u=1;u<=r;u++,c++)a.appendChild(h("",new Date(e,t,u),u,c));for(var d=r+1;d<=42-n&&(1===g.config.showMonths||c%7!=0);d++,c++)a.appendChild(h(l,new Date(e,t+1,d%r),d,c));return(o=me("div","dayContainer")).appendChild(a),o}(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(e),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&S()}}function W(){ye(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var e,t,n,i,r,a=g.config.showMonths;a--;){r=i=o=n=t=e=void 0,e=me("div","flatpickr-month"),t=window.document.createDocumentFragment(),n=me("span","cur-month"),o=ve("cur-year",{tabindex:"-1"}),(i=o.getElementsByTagName("input")[0]).setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&i.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(i.setAttribute("max",g.config.maxDate.getFullYear().toString()),i.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear()),(r=me("div","flatpickr-current-month")).appendChild(n),r.appendChild(o),t.appendChild(r),e.appendChild(t);var o={container:e,yearElement:i,monthElement:n};g.yearElements.push(o.yearElement),g.monthElements.push(o.monthElement),g.monthNav.appendChild(o.container)}g.monthNav.appendChild(g.nextMonthNav)}function G(){g.weekdayContainer?ye(g.weekdayContainer):g.weekdayContainer=me("div","flatpickr-weekdays");for(var e=g.config.showMonths;e--;){var t=me("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(t)}return q(),g.weekdayContainer}function q(){var e=g.l10n.firstDayOfWeek,t=g.l10n.weekdays.shorthand.slice();0<e&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}function d(e,t){t=(t=void 0===t?!0:t)?e:e-g.currentMonth;t<0&&!0===g._hidePrevMonthArrow||0<t&&!0===g._hideNextMonthArrow||(g.currentMonth+=t,(g.currentMonth<0||11<g.currentMonth)&&(g.currentYear+=11<g.currentMonth?1:-1,g.currentMonth=(g.currentMonth+12)%12,E("onYearChange")),s(),E("onMonthChange"),C())}function f(e){return!(!g.config.appendTo||!g.config.appendTo.contains(e))||g.calendarContainer.contains(e)}function v(e){var t,n,i;g.isOpen&&!g.config.inline&&(i=f(t="function"==typeof(i=e).composedPath?i.composedPath()[0]:i.target),n=t===g.input||t===g.altInput||g.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(g.input)||~e.path.indexOf(g.altInput)),n="blur"===e.type?n&&e.relatedTarget&&!f(e.relatedTarget):!n&&!i&&!f(e.relatedTarget),i=!g.config.ignoredFocusElements.some(function(e){return e.contains(t)}),n&&i&&(g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw())))}function b(e){var t;!e||g.config.minDate&&e<g.config.minDate.getFullYear()||g.config.maxDate&&e>g.config.maxDate.getFullYear()||(t=g.currentYear!==e,g.currentYear=e||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),t&&(g.redraw(),E("onYearChange")))}function _(e,t){var n=g.parseDate(e,void 0,t=void 0===t?!0:t);if(g.config.minDate&&n&&we(n,g.config.minDate,void 0!==t?t:!g.minDateHasTime)<0||g.config.maxDate&&n&&0<we(n,g.config.maxDate,void 0!==t?t:!g.maxDateHasTime))return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var i,r=0<g.config.enable.length,a=r?g.config.enable:g.config.disable,o=0,s=void 0;o<a.length;o++){if("function"==typeof(s=a[o])&&s(n))return r;if(s instanceof Date&&void 0!==n&&s.getTime()===n.getTime())return r;if("string"==typeof s&&void 0!==n)return(i=g.parseDate(s,void 0,!0))&&i.getTime()===n.getTime()?r:!r;if("object"==typeof s&&void 0!==n&&s.from&&s.to&&n.getTime()>=s.from.getTime()&&n.getTime()<=s.to.getTime())return r}return!r}function T(e){return void 0!==g.daysContainer&&-1===e.className.indexOf("hidden")&&g.daysContainer.contains(e)}function V(e){var t=e.target===g._input,n=g.config.allowInput,i=g.isOpen&&(!n||!t),r=g.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return g.setDate(g._input.value,!0,e.target===g.altInput?g.config.altFormat:g.config.dateFormat),e.target.blur();g.open()}else if(f(e.target)||i||r){var a,o=!!g.timeContainer&&g.timeContainer.contains(e.target);switch(e.keyCode){case 13:o?(l(),Q()):J(e);break;case 27:e.preventDefault(),Q();break;case 8:case 46:t&&!g.config.allowInput&&(e.preventDefault(),g.clear());break;case 37:case 39:o?g.hourElement&&g.hourElement.focus():(e.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&T(document.activeElement))&&(s=39===e.keyCode?1:-1,e.ctrlKey?(e.stopPropagation(),d(s),y(m(1),0)):y(void 0,s)));break;case 38:case 40:e.preventDefault();var s=40===e.keyCode?1:-1;g.daysContainer&&void 0!==e.target.$i||e.target===g.input?e.ctrlKey?(e.stopPropagation(),b(g.currentYear-s),y(m(1),0)):o||y(void 0,7*s):g.config.enableTime&&(!o&&g.hourElement&&g.hourElement.focus(),l(e),g._debouncedChange());break;case 9:!o||-1!==(a=(s=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].filter(function(e){return e})).indexOf(e.target))&&(void 0!==(s=s[a+(e.shiftKey?-1:1)])?(e.preventDefault(),s.focus()):e.shiftKey&&(e.preventDefault(),g._input.focus()))}}if(void 0!==g.amPM&&e.target===g.amPM)switch(e.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],u(),k();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],u(),k()}E("onKeyDown",e)}function S(i){if(1===g.selectedDates.length&&(!i||i.classList.contains("flatpickr-day")&&!i.classList.contains("disabled"))){for(var r=(i||g.days.firstElementChild).dateObj.getTime(),a=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),e=Math.min(r,g.selectedDates[0].getTime()),t=Math.max(r,g.selectedDates[0].getTime()),n=g.daysContainer.lastChild.lastChild.dateObj.getTime(),o=!1,s=0,l=0,u=e;u<n;u+=Ce.DAY)_(new Date(u),!0)||(o=o||e<u&&u<t,u<a&&(!s||s<u)?s=u:a<u&&(!l||u<l)&&(l=u));for(var c=0;c<g.config.showMonths;c++)for(var d=g.daysContainer.children[c],h=g.daysContainer.children[c-1],f=0,p=d.children.length;f<p;f++)!function(e){var t=d.children[e],e=t.dateObj.getTime(),n=0<s&&e<s||0<l&&l<e;n?(t.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){t.classList.remove(e)})):o&&!n||(["startRange","inRange","endRange","notAllowed"].forEach(function(e){t.classList.remove(e)}),void 0!==i&&(i.classList.add(r<g.selectedDates[0].getTime()?"startRange":"endRange"),!d.contains(i)&&0<c&&h&&h.lastChild.dateObj.getTime()>=e||(a<r&&e===a?t.classList.add("startRange"):r<a&&e===a&&t.classList.add("endRange"),s<=e&&(0===l||e<=l)&&Ee(e,a,r)&&t.classList.add("inRange"))))}(f)}}function Y(){!g.isOpen||g.config.static||g.config.inline||w()}function z(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!1),F(),k()}function $(n){return function(e){var e=g.config["_"+n+"Date"]=g.parseDate(e,g.config.dateFormat),t=g.config["_"+("min"===n?"max":"min")+"Date"];void 0!==e&&(g["min"===n?"minDateHasTime":"maxDateHasTime"]=0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()),g.selectedDates&&(g.selectedDates=g.selectedDates.filter(function(e){return _(e)}),g.selectedDates.length||"min"!==n||i(e),k()),g.daysContainer&&(X(),void 0!==e?g.currentYearElement[n]=e.getFullYear().toString():g.currentYearElement.removeAttribute(n),g.currentYearElement.disabled=!!t&&void 0!==e&&t.getFullYear()===e.getFullYear())}}function K(){"object"!=typeof g.config.locale&&void 0===De.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=le({},De.l10ns.default,"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?De.l10ns[g.config.locale]:void 0),_e.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",g.formatDate=Te(g),g.parseDate=Se({config:g.config,l10n:g.l10n})}function w(e){var t,n,i,r,a,o;void 0!==g.calendarContainer&&(E("onPreCalendarPosition"),e=e||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),o=g.calendarContainer.offsetWidth,a=(r=g.config.position.split(" "))[0],r=1<r.length?r[1]:null,t=e.getBoundingClientRect(),i=window.innerHeight-t.bottom,a="above"===a||"below"!==a&&i<n&&t.top>n,i=window.pageYOffset+t.top+(a?-n-2:e.offsetHeight+2),ge(g.calendarContainer,"arrowTop",!a),ge(g.calendarContainer,"arrowBottom",a),g.config.inline||(n=window.pageXOffset+t.left-(null!=r&&"center"===r?(o-t.width)/2:0),e=window.document.body.offsetWidth-t.right,a=n+o>window.document.body.offsetWidth,r=e+o>window.document.body.offsetWidth,ge(g.calendarContainer,"rightMost",a),g.config.static||(g.calendarContainer.style.top=i+"px",a?r?void 0!==(i=document.styleSheets[0])&&(a=window.document.body.offsetWidth,r=Math.max(0,a/2-o/2),a=i.cssRules.length,o="{left:"+t.left+"px;right:auto;}",ge(g.calendarContainer,"rightMost",!1),ge(g.calendarContainer,"centerMost",!0),i.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+o,a),g.calendarContainer.style.left=r+"px",g.calendarContainer.style.right="auto"):(g.calendarContainer.style.left="auto",g.calendarContainer.style.right=e+"px"):(g.calendarContainer.style.left=n+"px",g.calendarContainer.style.right="auto"))))}function X(){g.config.noCalendar||g.isMobile||(C(),s())}function Q(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function J(e){e.preventDefault(),e.stopPropagation();var t,n,i,e=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")});void 0!==e&&(e=e,t=((n=g.latestSelectedDateObj=new Date(e.dateObj.getTime())).getMonth()<g.currentMonth||n.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode,g.selectedDateElem=e,"single"===g.config.mode?g.selectedDates=[n]:"multiple"===g.config.mode?(i=ie(n))?g.selectedDates.splice(parseInt(i),1):g.selectedDates.push(n):"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=n,g.selectedDates.push(n),0!==we(n,g.selectedDates[0],!0)&&g.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})),u(),t&&(i=g.currentYear!==n.getFullYear(),g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth(),i&&E("onYearChange"),E("onMonthChange")),C(),s(),k(),g.config.enableTime&&setTimeout(function(){return g.showTimeInput=!0},50),t||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():p(e),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect&&(n="single"===g.config.mode&&!g.config.enableTime,i="range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime,(n||i)&&Q()),r())}g.parseDate=Se({config:g.config,l10n:g.l10n}),g._handlers=[],g._bind=o,g._setHoursFromDate=i,g._positionCalendar=w,g.changeMonth=d,g.changeYear=b,g.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],!(g.latestSelectedDateObj=void 0)===t&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),!(g.showTimeInput=!1)===g.config.enableTime&&F(),g.redraw(),e&&E("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),E("onClose")},g._createElement=me,g.destroy=function(){void 0!==g.config&&E("onDestroy");for(var e=g._handlers.length;e--;){var t=g._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete g[e]}catch(e){}})},g.isEnabled=_,g.jumpToDate=B,g.open=function(e,t){if(void 0===t&&(t=g._positionElement),!0===g.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void E("onOpen");var n;g._input.disabled||g.config.inline||(n=g.isOpen,g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),E("onOpen"),w(t)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&z(),!1!==g.config.allowInput||void 0!==e&&g.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return g.hourElement.select()},50)))},g.redraw=X,g.set=function(e,t){null!==e&&"object"==typeof e?Object.assign(g.config,e):(g.config[e]=t,void 0!==Z[e]?Z[e].forEach(function(e){return e()}):-1<ue.indexOf(e)&&(g.config[e]=pe(t))),g.redraw(),k(!1)},g.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=g.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return g.clear(t);ee(e,n),g.showTimeInput=0<g.selectedDates.length,g.latestSelectedDateObj=g.selectedDates[0],g.redraw(),B(),i(),k(t),t&&E("onChange")},g.toggle=function(e){if(!0===g.isOpen)return g.close();g.open(e)};var Z={locale:[K,q],showMonths:[W,U,G]};function ee(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return g.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[g.parseDate(e,t)];else if("string"==typeof e)switch(g.config.mode){case"single":case"time":n=[g.parseDate(e,t)];break;case"multiple":n=e.split(g.config.conjunction).map(function(e){return g.parseDate(e,t)});break;case"range":n=e.split(g.l10n.rangeSeparator).map(function(e){return g.parseDate(e,t)})}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));g.selectedDates=n.filter(function(e){return e instanceof Date&&_(e,!1)}),"range"===g.config.mode&&g.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function te(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?g.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:g.parseDate(e.from,void 0),to:g.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function E(e,t){if(void 0!==g.config){var n=g.config[e];if(void 0!==n&&0<n.length)for(var i=0;n[i]&&i<n.length;i++)n[i](g.selectedDates,g.input.value,g,t);"onChange"===e&&(g.input.dispatchEvent(ne("change")),g.input.dispatchEvent(ne("input")))}}function ne(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ie(e){for(var t=0;t<g.selectedDates.length;t++)if(0===we(g.selectedDates[t],e))return""+t;return!1}function C(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach(function(e,t){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),g.monthElements[t].textContent=be(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ",e.value=n.getFullYear().toString()}),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function re(t){return g.selectedDates.map(function(e){return g.formatDate(e,t)}).filter(function(e,t,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(e)===t}).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function k(e){if(void 0===e&&(e=!0),0===g.selectedDates.length)return g.clear(e);void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=re(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=re(g.config.altFormat)),!1!==e&&E("onValueUpdate")}function ae(e){e.preventDefault();var t=g.prevMonthNav.contains(e.target),n=g.nextMonthNav.contains(e.target);t||n?d(t?-1:1):0<=g.yearElements.indexOf(e.target)?e.target.select():e.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):e.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}function oe(t){return function(e){g.config["min"===t?"_minTime":"_maxTime"]=g.parseDate(e,"H:i")}}g.element=g.input=e,g.isOpen=!1;var D=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],A=le({},t,JSON.parse(JSON.stringify(e.dataset||{}))),t={},x=(g.config.parseDate=A.parseDate,g.config.formatDate=A.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(e){g.config._enable=te(e)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(e){g.config._disable=te(e)}}),"time"===A.mode);A.dateFormat||!A.enableTime&&!x||(t.dateFormat=A.noCalendar||x?"H:i"+(A.enableSeconds?":S":""):De.defaultConfig.dateFormat+" H:i"+(A.enableSeconds?":S":"")),A.altInput&&(A.enableTime||x)&&!A.altFormat&&(t.altFormat=A.noCalendar||x?"h:i"+(A.enableSeconds?":S K":" K"):De.defaultConfig.altFormat+" h:i"+(A.enableSeconds?":S":"")+" K"),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:$("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:$("max")}),Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:oe("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:oe("max")}),"time"===A.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,t,A);for(var L=0;L<D.length;L++)g.config[D[L]]=!0===g.config[D[L]]||"true"===g.config[D[L]];for(ue.filter(function(e){return void 0!==g.config[e]}).forEach(function(e){g.config[e]=pe(g.config[e]||[]).map(N)}),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),L=0;L<g.config.plugins.length;L++){var O,se=g.config.plugins[L](g)||{};for(O in se)-1<ue.indexOf(O)?g.config[O]=pe(se[O]).map(N).concat(g.config[O]):void 0===A[O]&&(g.config[O]=se[O])}if(E("onParseConfig"),K(),g.input=g.config.wrap?e.querySelector("[data-input]"):e,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=me(g.input.nodeName,g.input.className+" "+g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date,(x=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null))&&ee(x,g.config.dateFormat),g._initialDate=0<g.selectedDates.length?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),0<g.selectedDates.length&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(0<g.config.minDate.getHours()||0<g.config.minDate.getMinutes()||0<g.config.minDate.getSeconds()),g.maxDateHasTime=!!g.config.maxDate&&(0<g.config.maxDate.getHours()||0<g.config.maxDate.getMinutes()||0<g.config.maxDate.getSeconds()),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(e){g._showTimeInput=e,g.calendarContainer&&ge(g.calendarContainer,"showTimeInput",e),g.isOpen&&w()}}),g.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=g.currentMonth),void 0===t&&(t=g.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:g.l10n.daysInMonth[e]}},g.isMobile||(t=window.document.createDocumentFragment(),g.calendarContainer=me("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,g.config.noCalendar||(t.appendChild((g.monthNav=me("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=me("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=me("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,W(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(e){g.__hidePrevMonthArrow!==e&&(ge(g.prevMonthNav,"disabled",e),g.__hidePrevMonthArrow=e)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(e){g.__hideNextMonthArrow!==e&&(ge(g.nextMonthNav,"disabled",e),g.__hideNextMonthArrow=e)}}),g.currentYearElement=g.yearElements[0],C(),g.monthNav)),g.innerContainer=me("div","flatpickr-innerContainer"),g.config.weekNumbers&&(g.calendarContainer.classList.add("hasWeeks"),(P=me("div","flatpickr-weekwrapper")).appendChild(me("span","flatpickr-weekday",g.l10n.weekAbbreviation)),R=me("div","flatpickr-weeks"),P.appendChild(R),R=(P={weekWrapper:P,weekNumbers:R}).weekNumbers,g.innerContainer.appendChild(P=P.weekWrapper),g.weekNumbers=R,g.weekWrapper=P),g.rContainer=me("div","flatpickr-rContainer"),g.rContainer.appendChild(G()),g.daysContainer||(g.daysContainer=me("div","flatpickr-days"),g.daysContainer.tabIndex=-1),s(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),t.appendChild(g.innerContainer)),g.config.enableTime&&t.appendChild((g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=me("div","flatpickr-time"),g.timeContainer.tabIndex=-1,R=me("span","flatpickr-time-separator",":"),P=ve("flatpickr-hour"),g.hourElement=P.getElementsByTagName("input")[0],M=ve("flatpickr-minute"),g.minuteElement=M.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=de(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(g.config.defaultHour)),g.minuteElement.value=de(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(P),g.timeContainer.appendChild(R),g.timeContainer.appendChild(M),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds&&(g.timeContainer.classList.add("hasSeconds"),P=ve("flatpickr-second"),g.secondElement=P.getElementsByTagName("input")[0],g.secondElement.value=de(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(me("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(P)),g.config.time_24hr||(g.amPM=me("span","flatpickr-am-pm",g.l10n.amPM[he(11<(g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour))]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer)),ge(g.calendarContainer,"rangeMode","range"===g.config.mode),ge(g.calendarContainer,"animate",!0===g.config.animate),ge(g.calendarContainer,"multiMonth",1<g.config.showMonths),g.calendarContainer.appendChild(t),M=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType,(g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!M&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)&&(t=me("div","flatpickr-wrapper"),g.element.parentNode&&g.element.parentNode.insertBefore(t,g.element),t.appendChild(g.element),g.altInput&&t.appendChild(g.altInput),t.appendChild(g.calendarContainer)),g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)),g.config.wrap&&["open","close","toggle","clear"].forEach(function(t){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+t+"]"),function(e){return o(e,"click",g[t])})}),g.isMobile){var I=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=me("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=I,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"==I?"Y-m-d\\TH:i:S":"date"==I?"Y-m-d":"H:i:S",0<g.selectedDates.length&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(I){}o(g.mobileInput,"change",function(e){g.setDate(e.target.value,!1,g.mobileFormatStr),E("onChange"),E("onClose")})}else x=fe(Y,50),g._debouncedChange=fe(r,ke),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&o(g.daysContainer,"mouseover",function(e){"range"===g.config.mode&&S(e.target)}),o(window.document.body,"keydown",V),g.config.static||o(g._input,"keydown",V),g.config.inline||g.config.static||o(window,"resize",x),void 0!==window.ontouchstart?o(window.document,"click",v):o(window.document,"mousedown",n(v)),o(window.document,"focus",v,{capture:!0}),!0===g.config.clickOpens&&(o(g._input,"focus",g.open),o(g._input,"mousedown",n(g.open))),void 0!==g.daysContainer&&(o(g.monthNav,"mousedown",n(ae)),o(g.monthNav,["keyup","increment"],j),o(g.daysContainer,"mousedown",n(J))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(o(g.timeContainer,["increment"],l),o(g.timeContainer,"blur",l,{capture:!0}),o(g.timeContainer,"mousedown",n(H)),o([g.hourElement,g.minuteElement],["focus","click"],function(e){return e.target.select()}),void 0!==g.secondElement&&o(g.secondElement,"focus",function(){return g.secondElement&&g.secondElement.select()}),void 0!==g.amPM&&o(g.amPM,"mousedown",n(function(e){l(e),r()})));(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&i(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),k(!1)),U(),g.showTimeInput=0<g.selectedDates.length||g.config.noCalendar;var R,P,M,t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return!g.isMobile&&t&&w(),E("onReady"),g}function n(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),i=[],r=0;r<n.length;r++){var a=n[r];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=s(a,t||{}),i.push(a._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return n(this,e)},HTMLElement.prototype.flatpickr=function(e){return n([this],e)});var De=function(e,t){return"string"==typeof e?n(window.document.querySelectorAll(e),t):e instanceof Node?n([e],t):n(e,t)};return De.defaultConfig=y,De.l10ns={en:le({},ce),default:le({},ce)},De.localize=function(e){De.l10ns.default=le({},De.l10ns.default,e)},De.setDefaults=function(e){De.defaultConfig=le({},De.defaultConfig,e)},De.parseDate=Se({}),De.formatDate=Te({}),De.compareDates=we,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return n(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=De),De}),jQuery.extend({highlight:function(e,t,n,i){if(3===e.nodeType){var r,a,o=e.data.match(t);if(o)return(r=document.createElement(n||"span")).className=i||"highlight",(a=e.splitText(o.index)).splitText(o[0].length),o=a.cloneNode(!0),r.appendChild(o),a.parentNode.replaceChild(r,a),1}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&(e.tagName!==n.toUpperCase()||e.className!==i))for(var s=0;s<e.childNodes.length;s++)s+=jQuery.highlight(e.childNodes[s],t,n,i);return 0}}),jQuery.fn.unhighlight=function(e){var t={className:"highlight",element:"span"};return jQuery.extend(t,e),this.find(t.element+"."+t.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},jQuery.fn.highlight=function(e,t){var n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(n,t),e.constructor===String&&(e=[e]),e=jQuery.grep(e,function(e,t){return""!=e}),0==(e=jQuery.map(e,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length)return this;var t=n.caseSensitive?"":"i",e="("+e.join("|")+")",i=(n.wordsOnly&&(e="\\b"+e+"\\b"),new RegExp(e,t));return this.each(function(){jQuery.highlight(this,i,n.element,n.className)})},function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(t){(e=t&&t.fn&&t.fn.select2&&t.fn.select2.amd?t.fn.select2.amd:e)&&e.requirejs||(e?n=e:e={},f={},p={},g={},m={},i=Object.prototype.hasOwnProperty,r=[].slice,y=/\.js$/,v=function(e,t){var n,i,r=c(e),a=r[0],t=t[1];return e=r[1],a&&(n=S(a=u(a,t))),a?e=n&&n.normalize?n.normalize(e,(i=t,function(e){return u(e,i)})):u(e,t):(a=(r=c(e=u(e,t)))[0],e=r[1],a&&(n=S(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:n}},b={require:function(e){return T(e)},exports:function(e){var t=f[e];return void 0!==t?t:f[e]={}},module:function(e){return{id:e,uri:"",exports:f[e],config:(t=e,function(){return g&&g.config&&g.config[t]||{}})};var t}},o=function(e,t,n,i){var r,a,o,s,l,u=[],c=typeof n,d=w(i=i||e);if("undefined"==c||"function"==c){for(t=!t.length&&n.length?["require","exports","module"]:t,s=0;s<t.length;s+=1)if("require"===(a=(o=v(t[s],d)).f))u[s]=b.require(e);else if("exports"===a)u[s]=b.exports(e),l=!0;else if("module"===a)r=u[s]=b.module(e);else if(_(f,a)||_(p,a)||_(m,a))u[s]=S(a);else{if(!o.p)throw new Error(e+" missing "+a);o.p.load(o.n,T(i,!0),function(t){return function(e){f[t]=e}}(a),{}),u[s]=f[a]}c=n?n.apply(f[e],u):void 0,e&&(r&&r.exports!==h&&r.exports!==f[e]?f[e]=r.exports:c===h&&l||(f[e]=c))}else e&&(f[e]=n)},s=n=a=function(e,t,n,i,r){if("string"==typeof e)return b[e]?b[e](t):S(v(e,w(t)).f);if(!e.splice){if((g=e).deps&&a(g.deps,g.callback),!t)return;t.splice?(e=t,t=n,n=null):e=h}return t=t||function(){},"function"==typeof n&&(n=i,i=r),i?o(h,e,t,n):setTimeout(function(){o(h,e,t,n)},4),a},a.config=function(e){return a(e)},s._defined=f,(l=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),_(f,e)||_(p,e)||(p[e]=[e,t,n])}).amd={jQuery:!0},e.requirejs=s,e.require=n,e.define=l),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(a){function u(e){var t,n=e.prototype,i=[];for(t in n)"function"==typeof n[t]&&"constructor"!==t&&i.push(t);return i}function e(){this.listeners={}}var i={Extend:function(e,t){function n(){this.constructor=e}var i,r={}.hasOwnProperty;for(i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}},n=(i.Decorate=function(i,r){function a(){var e=Array.prototype.unshift,t=r.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=r.prototype.constructor),n.apply(this,arguments)}var e=u(r),t=u(i);r.displayName=i.displayName,a.prototype=new function(){this.constructor=a};for(var n=0;n<t.length;n++){var o=t[n];a.prototype[o]=i.prototype[o]}for(var s=0;s<e.length;s++){var l=e[s];a.prototype[l]=function(e){var t=function(){},n=(e in a.prototype&&(t=a.prototype[e]),r.prototype[e]);return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}}(l)}return a},e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},0===(n=null==n?[]:n).length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},i.Observable=e,i.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var a=n[r];(a=a.substring(0,1).toLowerCase()+a.substring(1))in i||(i[a]={}),r==n.length-1&&(i[a]=e[t]),i=i[a]}delete e[t]}}return e},i.hasScroll=function(e,t){var n=a(t),i=t.style.overflowX,r=t.style.overflowY;return(i!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===i||"scroll"===r||n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth)},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(e,t){var n;"1.7"===a.fn.jquery.substr(0,3)&&(n=a(),a.map(t,function(e){n=n.add(e)}),t=n),e.append(t)},i.__cache={},0);return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++n),t=n.toString())),t},i.StoreData=function(e,t,n){e=i.GetUniqueElementId(e);i.__cache[e]||(i.__cache[e]={}),i.__cache[e][t]=n},i.GetData=function(e,t){var n=i.GetUniqueElementId(e);return t?i.__cache[n]&&null!=i.__cache[n][t]?i.__cache[n][t]:a(e).data(t):i.__cache[n]},i.RemoveData=function(e){e=i.GetUniqueElementId(e);null!=i.__cache[e]&&delete i.__cache[e]},i}),e.define("select2/results",["jquery","./utils"],function(d,h){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return h.Extend(i,h.Observable),i.prototype.render=function(){var e=d('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup"),n=(this.clear(),this.hideLoading(),d('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>')),i=this.options.get("translations").get(e.message);n.append(t(i(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"});else{e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],i=this.option(i);t.push(i)}this.$results.append(t)}},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");(0<t.length?t:e).first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(e){var i=d.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=d(this),t=h.GetData(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<d.inArray(n,i)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},e=this.option(e);e.className+=" loading-results",this.$results.prepend(e)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var t,n=document.createElement("li"),i=(n.className="select2-results__option",{role:"treeitem","aria-selected":"false"});for(t in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var r=i[t];n.setAttribute(t,r)}if(e.children){var a=d(n),o=document.createElement("strong");o.className="select2-results__group",d(o),this.template(e,o);for(var s=[],l=0;l<e.children.length;l++){var u=e.children[l],u=this.option(u);s.push(u)}var c=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});c.append(s),a.append(o),a.append(c)}else this.template(e,n);return h.StoreData(n,"data",e),n},i.prototype.bind=function(t,e){var r=this,n=t.id+"-results";this.$results.attr("id",n),t.on("results:all",function(e){r.clear(),r.append(e.data),t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("results:append",function(e){r.append(e.data),t.isOpen()&&r.setClasses()}),t.on("query",function(e){r.hideMessages(),r.showLoading(e)}),t.on("select",function(){t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),t.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e,t=r.getHighlightedResults();0!==t.length&&(e=h.GetData(t[0],"data"),"true"==t.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:e}))}),t.on("results:previous",function(){var e,t=r.getHighlightedResults(),n=r.$results.find("[aria-selected]"),i=n.index(t);0!==i&&(i=i-1,0===t.length&&(i=0),(t=n.eq(i)).trigger("mouseenter"),n=r.$results.offset().top,t=t.offset().top,e=r.$results.scrollTop()+(t-n),0===i?r.$results.scrollTop(0):t-n<0&&r.$results.scrollTop(e))}),t.on("results:next",function(){var e,t,n=r.getHighlightedResults(),i=r.$results.find("[aria-selected]"),n=i.index(n)+1;n>=i.length||((i=i.eq(n)).trigger("mouseenter"),e=r.$results.offset().top+r.$results.outerHeight(!1),i=i.offset().top+i.outerHeight(!1),t=r.$results.scrollTop()+i-e,0===n?r.$results.scrollTop(0):e<i&&r.$results.scrollTop(t))}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){r.displayMessage(e)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,t=0<e.deltaY&&t-e.deltaY<=0,n=e.deltaY<0&&n<=r.$results.height();t?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):n&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=d(this),n=h.GetData(this,"data");"true"===t.attr("aria-selected")?r.options.get("multiple")?r.trigger("unselect",{originalEvent:e,data:n}):r.trigger("close",{}):r.trigger("select",{originalEvent:e,data:n})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=h.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:t,element:d(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e,t,n,i,r=this.getHighlightedResults();0!==r.length&&(e=this.$results.find("[aria-selected]").index(r),t=this.$results.offset().top,i=r.offset().top,n=this.$results.scrollTop()+(i-t),i=i-t,n-=2*r.outerHeight(!1),e<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(n))},i.prototype.template=function(e,t){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),n=n(e,t);null==n?t.style.display="none":"string"==typeof n?t.innerHTML=i(n):d(t).append(n)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(n,i,r){function a(e,t){this.$element=e,this.options=t,a.__super__.constructor.call(this)}return i.Extend(a,i.Observable),a.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],"old-tabindex")?this._tabindex=i.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e},a.prototype.bind=function(e,t){var n=this,i=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===r.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},a.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},a.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){n(this),this!=t[0]&&i.GetData(this,"element").select2("close")})})},a.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},a.prototype.position=function(e,t){t.find(".selection").append(e)},a.prototype.destroy=function(){this._detachCloseHandler(this.container)},a.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},a}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(t,e){var n=this,i=(r.__super__.bind.apply(this,arguments),t.id+"-container");this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){var t,n;0===e.length?this.clear():(e=e[0],t=this.$selection.find(".select2-selection__rendered"),n=this.display(e,t),t.empty().append(n),t.attr("title",e.title||e.text))},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,e,s){function r(e,t){r.__super__.constructor.apply(this,arguments)}return s.Extend(r,e),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){n.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){var t;n.options.get("disabled")||(t=i(this).parent(),t=s.GetData(t[0],"data"),n.trigger("unselect",{originalEvent:e,data:t}))})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.selectionContainer(),a=this.display(i,r);r.append(a),r.attr("title",i.title||i.text),s.StoreData(r[0],"data",i),t.push(r)}var o=this.$selection.find(".select2-selection__rendered");s.appendMany(o,t)}},r}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return t="string"==typeof t?{id:"",text:t}:t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(n,i,s){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var i=s.GetData(n[0],"data"),r=this.$element.val(),a=(this.$element.val(this.placeholder.id),{data:i});if(this.trigger("clear",a),a.prevented)this.$element.val(r);else{for(var o=0;o<i.length;o++)if(a={data:i[o]},this.trigger("unselect",a),a.prevented)return void this.$element.val(r);this.$element.trigger("change"),this.trigger("toggle",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=i.DELETE&&t.which!=i.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){e.call(this,t),0<this.$selection.find(".select2-selection__placeholder").length||0===t.length||(e=n('<span class="select2-selection__clear">&times;</span>'),s.StoreData(e[0],"data",t),this.$selection.find(".select2-selection__rendered").prepend(e))},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(n,a,o){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>'),t=(this.$searchContainer=t,this.$search=t.find("input"),e.call(this));return this._transferTabIndex(),t},e.prototype.bind=function(e,t,n){var i=this,e=(e.call(this,t,n),t.on("open",function(){i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){var t;e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===o.BACKSPACE&&""===i.$search.val()&&0<(t=i.$searchContainer.prev(".select2-selection__choice")).length&&(t=a.GetData(t[0],"data"),i.searchRemoveChoice(t),e.preventDefault())}),document.documentMode),r=e&&e<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){r?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){var t;r&&"input"===e.type?i.$selection.off("input.search input.searchcheck"):(t=e.which)!=o.SHIFT&&t!=o.CTRL&&t!=o.ALT&&t!=o.TAB&&i.handleSearch(e)})},e.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},e.prototype.handleSearch=function(){var e;this.resizeSearch(),this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="",e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},e}),e.define("select2/selection/eventRelay",["jquery"],function(o){function e(){}return e.prototype.bind=function(e,t,n){var i=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,t,n),t.on("*",function(e,t){var n;-1!==o.inArray(e,r)&&(n=o.Event("select2:"+e,{params:t=t||{}}),i.$element.trigger(n),-1!==o.inArray(e,a)&&(t.prevented=n.isDefaultPrevented()))})},e}),e.define("select2/translation",["jquery","require"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){var t;return e in i._cache||(t=n(e),i._cache[e]=t),new i(i._cache[e])},i}),e.define("select2/diacritics",[],function(){return{"Ã¢âÂ¶":"A","Ã¯Â¼Â¡":"A","Ãâ¬":"A","ÃÂ":"A","Ãâ":"A","Ã¡ÂºÂ¦":"A","Ã¡ÂºÂ¤":"A","Ã¡ÂºÂª":"A","Ã¡ÂºÂ¨":"A","ÃÆ":"A","Ãâ¬":"A","Ãâ":"A","Ã¡ÂºÂ°":"A","Ã¡ÂºÂ®":"A","Ã¡ÂºÂ´":"A","Ã¡ÂºÂ²":"A","ÃÂ¦":"A","Ã ":"A","Ãâ":"A","ÃÅ¾":"A","Ã¡ÂºÂ¢":"A","Ãâ¦":"A","ÃÂº":"A","ÃÂ":"A","Ãâ¬":"A","Ãâ":"A","Ã¡Âº ":"A","Ã¡ÂºÂ¬":"A","Ã¡ÂºÂ¶":"A","Ã¡Â¸â¬":"A","Ãâ":"A","ÃÂº":"A","Ã¢Â±Â¯":"A","ÃªÅÂ²":"AA","Ãâ ":"AE","ÃÂ¼":"AE","ÃÂ¢":"AE","ÃªÅÂ´":"AO","ÃªÅÂ¶":"AU","ÃªÅÂ¸":"AV","ÃªÅÂº":"AV","ÃªÅÂ¼":"AY","Ã¢âÂ·":"B","Ã¯Â¼Â¢":"B","Ã¡Â¸â":"B","Ã¡Â¸â":"B","Ã¡Â¸â ":"B","ÃÆ":"B","Ãâ":"B","ÃÂ":"B","Ã¢âÂ¸":"C","Ã¯Â¼Â£":"C","Ãâ ":"C","ÃË":"C","ÃÅ ":"C","ÃÅ":"C","Ãâ¡":"C","Ã¡Â¸Ë":"C","Ãâ¡":"C","ÃÂ»":"C","ÃªÅÂ¾":"C","Ã¢âÂ¹":"D","Ã¯Â¼Â¤":"D","Ã¡Â¸Å ":"D","ÃÅ½":"D","Ã¡Â¸Å":"D","Ã¡Â¸Â":"D","Ã¡Â¸â":"D","Ã¡Â¸Å½":"D","ÃÂ":"D","Ãâ¹":"D","ÃÅ ":"D","Ãâ°":"D","ÃªÂÂ¹":"D","ÃÂ±":"DZ","Ãâ":"DZ","ÃÂ²":"Dz","Ãâ¦":"Dz","Ã¢âÂº":"E","Ã¯Â¼Â¥":"E","ÃË":"E","Ãâ°":"E","ÃÅ ":"E","Ã¡Â»â¬":"E","Ã¡ÂºÂ¾":"E","Ã¡Â»â":"E","Ã¡Â»â":"E","Ã¡ÂºÂ¼":"E","Ãâ":"E","Ã¡Â¸â":"E","Ã¡Â¸â":"E","Ãâ":"E","Ãâ":"E","Ãâ¹":"E","Ã¡ÂºÂº":"E","ÃÅ¡":"E","Ãâ":"E","Ãâ ":"E","Ã¡ÂºÂ¸":"E","Ã¡Â»â ":"E","ÃÂ¨":"E","Ã¡Â¸Å":"E","ÃË":"E","Ã¡Â¸Ë":"E","Ã¡Â¸Å¡":"E","ÃÂ":"E","ÃÅ½":"E","Ã¢âÂ»":"F","Ã¯Â¼Â¦":"F","Ã¡Â¸Å¾":"F","Ãâ":"F","ÃªÂÂ»":"F","Ã¢âÂ¼":"G","Ã¯Â¼Â§":"G","ÃÂ´":"G","ÃÅ":"G","Ã¡Â¸ ":"G","ÃÅ¾":"G","Ã ":"G","ÃÂ¦":"G","ÃÂ¢":"G","ÃÂ¤":"G","Ãâ":"G","ÃªÅ¾ ":"G","ÃªÂÂ½":"G","ÃªÂÂ¾":"G","Ã¢âÂ½":"H","Ã¯Â¼Â¨":"H","ÃÂ¤":"H","Ã¡Â¸Â¢":"H","Ã¡Â¸Â¦":"H","ÃÅ¾":"H","Ã¡Â¸Â¤":"H","Ã¡Â¸Â¨":"H","Ã¡Â¸Âª":"H","ÃÂ¦":"H","Ã¢Â±Â§":"H","Ã¢Â±Âµ":"H","ÃªÅ¾Â":"H","Ã¢âÂ¾":"I","Ã¯Â¼Â©":"I","ÃÅ":"I","ÃÂ":"I","ÃÅ½":"I","ÃÂ¨":"I","ÃÂª":"I","ÃÂ¬":"I","ÃÂ°":"I","ÃÂ":"I","Ã¡Â¸Â®":"I","Ã¡Â»Ë":"I","ÃÂ":"I","ÃË":"I","ÃÅ ":"I","Ã¡Â»Å ":"I","ÃÂ®":"I","Ã¡Â¸Â¬":"I","Ãâ":"I","Ã¢âÂ¿":"J","Ã¯Â¼Âª":"J","ÃÂ´":"J","ÃË":"J","Ã¢ââ¬":"K","Ã¯Â¼Â«":"K","Ã¡Â¸Â°":"K","ÃÂ¨":"K","Ã¡Â¸Â²":"K","ÃÂ¶":"K","Ã¡Â¸Â´":"K","ÃË":"K","Ã¢Â±Â©":"K","ÃªÂâ¬":"K","ÃªÂâ":"K","ÃªÂâ":"K","ÃªÅ¾Â¢":"K","Ã¢âÂ":"L","Ã¯Â¼Â¬":"L","ÃÂ¿":"L","ÃÂ¹":"L","ÃÂ½":"L","Ã¡Â¸Â¶":"L","Ã¡Â¸Â¸":"L","ÃÂ»":"L","Ã¡Â¸Â¼":"L","Ã¡Â¸Âº":"L","ÃÂ":"L","ÃÂ½":"L","Ã¢Â±Â¢":"L","Ã¢Â± ":"L","ÃªÂË":"L","ÃªÂâ ":"L","ÃªÅ¾â¬":"L","Ãâ¡":"LJ","ÃË":"Lj","Ã¢ââ":"M","Ã¯Â¼Â­":"M","Ã¡Â¸Â¾":"M","Ã¡Â¹â¬":"M","Ã¡Â¹â":"M","Ã¢Â±Â®":"M","ÃÅ":"M","Ã¢âÆ":"N","Ã¯Â¼Â®":"N","ÃÂ¸":"N","ÃÆ":"N","Ãâ":"N","Ã¡Â¹â":"N","Ãâ¡":"N","Ã¡Â¹â ":"N","Ãâ¦":"N","Ã¡Â¹Å ":"N","Ã¡Â¹Ë":"N","Ã ":"N","ÃÂ":"N","ÃªÅ¾Â":"N","ÃªÅ¾Â¤":"N","ÃÅ ":"NJ","Ãâ¹":"Nj","Ã¢ââ":"O","Ã¯Â¼Â¯":"O","Ãâ":"O","Ãâ":"O","Ãâ":"O","Ã¡Â»â":"O","Ã¡Â»Â":"O","Ã¡Â»â":"O","Ã¡Â»â":"O","Ãâ¢":"O","Ã¡Â¹Å":"O","ÃÂ¬":"O","Ã¡Â¹Å½":"O","ÃÅ":"O","Ã¡Â¹Â":"O","Ã¡Â¹â":"O","ÃÅ½":"O","ÃÂ®":"O","ÃÂ°":"O","Ãâ":"O","ÃÂª":"O","Ã¡Â»Å½":"O","ÃÂ":"O","Ãâ":"O","ÃÅ":"O","ÃÅ½":"O","Ã ":"O","Ã¡Â»Å":"O","Ã¡Â»Å¡":"O","Ã¡Â» ":"O","Ã¡Â»Å¾":"O","Ã¡Â»Â¢":"O","Ã¡Â»Å":"O","Ã¡Â»Ë":"O","ÃÂª":"O","ÃÂ¬":"O","ÃË":"O","ÃÂ¾":"O","Ãâ ":"O","ÃÅ¸":"O","ÃªÂÅ ":"O","ÃªÂÅ":"O","ÃÂ¢":"OI","ÃªÂÅ½":"OO","ÃÂ¢":"OU","Ã¢ââ¦":"P","Ã¯Â¼Â°":"P","Ã¡Â¹â":"P","Ã¡Â¹â":"P","ÃÂ¤":"P","Ã¢Â±Â£":"P","ÃªÂÂ":"P","ÃªÂâ":"P","ÃªÂâ":"P","Ã¢ââ ":"Q","Ã¯Â¼Â±":"Q","ÃªÂâ":"Q","ÃªÂË":"Q","ÃÅ ":"Q","Ã¢ââ¡":"R","Ã¯Â¼Â²":"R","Ãâ":"R","Ã¡Â¹Ë":"R","ÃË":"R","ÃÂ":"R","Ãâ":"R","Ã¡Â¹Å¡":"R","Ã¡Â¹Å":"R","Ãâ":"R","Ã¡Â¹Å¾":"R","ÃÅ":"R","Ã¢Â±Â¤":"R","ÃªÂÅ¡":"R","ÃªÅ¾Â¦":"R","ÃªÅ¾â":"R","Ã¢âË":"S","Ã¯Â¼Â³":"S","Ã¡ÂºÅ¾":"S","ÃÅ¡":"S","Ã¡Â¹Â¤":"S","ÃÅ":"S","Ã¡Â¹ ":"S","Ã ":"S","Ã¡Â¹Â¦":"S","Ã¡Â¹Â¢":"S","Ã¡Â¹Â¨":"S","ÃË":"S","ÃÅ¾":"S","Ã¢Â±Â¾":"S","ÃªÅ¾Â¨":"S","ÃªÅ¾â":"S","Ã¢ââ°":"T","Ã¯Â¼Â´":"T","Ã¡Â¹Âª":"T","ÃÂ¤":"T","Ã¡Â¹Â¬":"T","ÃÅ¡":"T","ÃÂ¢":"T","Ã¡Â¹Â°":"T","Ã¡Â¹Â®":"T","ÃÂ¦":"T","ÃÂ¬":"T","ÃÂ®":"T","ÃÂ¾":"T","ÃªÅ¾â ":"T","ÃªÅÂ¨":"TZ","Ã¢âÅ ":"U","Ã¯Â¼Âµ":"U","Ãâ¢":"U","ÃÅ¡":"U","Ãâº":"U","ÃÂ¨":"U","Ã¡Â¹Â¸":"U","ÃÂª":"U","Ã¡Â¹Âº":"U","ÃÂ¬":"U","ÃÅ":"U","Ãâº":"U","Ãâ":"U","Ãâ¢":"U","Ãâ¢":"U","Ã¡Â»Â¦":"U","ÃÂ®":"U","ÃÂ°":"U","Ãâ":"U","Ãâ":"U","Ãâ":"U","ÃÂ¯":"U","Ã¡Â»Âª":"U","Ã¡Â»Â¨":"U","Ã¡Â»Â®":"U","Ã¡Â»Â¬":"U","Ã¡Â»Â°":"U","Ã¡Â»Â¤":"U","Ã¡Â¹Â²":"U","ÃÂ²":"U","Ã¡Â¹Â¶":"U","Ã¡Â¹Â´":"U","Ãâ":"U","Ã¢ââ¹":"V","Ã¯Â¼Â¶":"V","Ã¡Â¹Â¼":"V","Ã¡Â¹Â¾":"V","ÃÂ²":"V","ÃªÂÅ¾":"V","Ãâ¦":"V","ÃªÂ ":"VY","Ã¢âÅ":"W","Ã¯Â¼Â·":"W","Ã¡Âºâ¬":"W","Ã¡Âºâ":"W","ÃÂ´":"W","Ã¡Âºâ ":"W","Ã¡Âºâ":"W","Ã¡ÂºË":"W","Ã¢Â±Â²":"W","Ã¢âÂ":"X","Ã¯Â¼Â¸":"X","Ã¡ÂºÅ ":"X","Ã¡ÂºÅ":"X","Ã¢âÅ½":"Y","Ã¯Â¼Â¹":"Y","Ã¡Â»Â²":"Y","ÃÂ":"Y","ÃÂ¶":"Y","Ã¡Â»Â¸":"Y","ÃÂ²":"Y","Ã¡ÂºÅ½":"Y","ÃÂ¸":"Y","Ã¡Â»Â¶":"Y","Ã¡Â»Â´":"Y","ÃÂ³":"Y","ÃÅ½":"Y","Ã¡Â»Â¾":"Y","Ã¢âÂ":"Z","Ã¯Â¼Âº":"Z","ÃÂ¹":"Z","Ã¡ÂºÂ":"Z","ÃÂ»":"Z","ÃÂ½":"Z","Ã¡Âºâ":"Z","Ã¡Âºâ":"Z","ÃÂµ":"Z","ÃÂ¤":"Z","Ã¢Â±Â¿":"Z","Ã¢Â±Â«":"Z","ÃªÂÂ¢":"Z","Ã¢âÂ":"a","Ã¯Â½Â":"a","Ã¡ÂºÅ¡":"a","Ã ":"a","ÃÂ¡":"a","ÃÂ¢":"a","Ã¡ÂºÂ§":"a","Ã¡ÂºÂ¥":"a","Ã¡ÂºÂ«":"a","Ã¡ÂºÂ©":"a","ÃÂ£":"a","ÃÂ":"a","ÃÆ":"a","Ã¡ÂºÂ±":"a","Ã¡ÂºÂ¯":"a","Ã¡ÂºÂµ":"a","Ã¡ÂºÂ³":"a","ÃÂ§":"a","ÃÂ¡":"a","ÃÂ¤":"a","ÃÅ¸":"a","Ã¡ÂºÂ£":"a","ÃÂ¥":"a","ÃÂ»":"a","ÃÅ½":"a","ÃÂ":"a","ÃÆ":"a","Ã¡ÂºÂ¡":"a","Ã¡ÂºÂ­":"a","Ã¡ÂºÂ·":"a","Ã¡Â¸Â":"a","Ãâ¦":"a","Ã¢Â±Â¥":"a","ÃÂ":"a","ÃªÅÂ³":"aa","ÃÂ¦":"ae","ÃÂ½":"ae","ÃÂ£":"ae","ÃªÅÂµ":"ao","ÃªÅÂ·":"au","ÃªÅÂ¹":"av","ÃªÅÂ»":"av","ÃªÅÂ½":"ay","Ã¢ââ":"b","Ã¯Â½â":"b","Ã¡Â¸Æ":"b","Ã¡Â¸â¦":"b","Ã¡Â¸â¡":"b","Ãâ¬":"b","ÃÆ":"b","Ãâ":"b","Ã¢ââ":"c","Ã¯Â½Æ":"c","Ãâ¡":"c","Ãâ°":"c","Ãâ¹":"c","ÃÂ":"c","ÃÂ§":"c","Ã¡Â¸â°":"c","ÃË":"c","ÃÂ¼":"c","ÃªÅÂ¿":"c","Ã¢â â":"c","Ã¢ââ":"d","Ã¯Â½â":"d","Ã¡Â¸â¹":"d","ÃÂ":"d","Ã¡Â¸Â":"d","Ã¡Â¸â":"d","Ã¡Â¸â":"d","Ã¡Â¸Â":"d","Ãâ":"d","ÃÅ":"d","Ãâ":"d","Ãâ":"d","ÃªÂÂº":"d","ÃÂ³":"dz","Ãâ ":"dz","Ã¢ââ":"e","Ã¯Â½â¦":"e","ÃÂ¨":"e","ÃÂ©":"e","ÃÂª":"e","Ã¡Â»Â":"e","Ã¡ÂºÂ¿":"e","Ã¡Â»â¦":"e","Ã¡Â»Æ":"e","Ã¡ÂºÂ½":"e","Ãâ":"e","Ã¡Â¸â¢":"e","Ã¡Â¸â":"e","Ãâ¢":"e","Ãâ":"e","ÃÂ«":"e","Ã¡ÂºÂ»":"e","Ãâº":"e","Ãâ¦":"e","Ãâ¡":"e","Ã¡ÂºÂ¹":"e","Ã¡Â»â¡":"e","ÃÂ©":"e","Ã¡Â¸Â":"e","Ãâ¢":"e","Ã¡Â¸â¢":"e","Ã¡Â¸âº":"e","Ãâ¡":"e","Ãâº":"e","ÃÂ":"e","Ã¢ââ¢":"f","Ã¯Â½â ":"f","Ã¡Â¸Å¸":"f","Ãâ":"f","ÃªÂÂ¼":"f","Ã¢ââ":"g","Ã¯Â½â¡":"g","ÃÂµ":"g","ÃÂ":"g","Ã¡Â¸Â¡":"g","ÃÅ¸":"g","ÃÂ¡":"g","ÃÂ§":"g","ÃÂ£":"g","ÃÂ¥":"g","Ã ":"g","ÃªÅ¾Â¡":"g","Ã¡ÂµÂ¹":"g","ÃªÂÂ¿":"g","Ã¢ââ":"h","Ã¯Â½Ë":"h","ÃÂ¥":"h","Ã¡Â¸Â£":"h","Ã¡Â¸Â§":"h","ÃÅ¸":"h","Ã¡Â¸Â¥":"h","Ã¡Â¸Â©":"h","Ã¡Â¸Â«":"h","Ã¡Âºâ":"h","ÃÂ§":"h","Ã¢Â±Â¨":"h","Ã¢Â±Â¶":"h","ÃÂ¥":"h","Ãâ¢":"hv","Ã¢âË":"i","Ã¯Â½â°":"i","ÃÂ¬":"i","ÃÂ­":"i","ÃÂ®":"i","ÃÂ©":"i","ÃÂ«":"i","ÃÂ­":"i","ÃÂ¯":"i","Ã¡Â¸Â¯":"i","Ã¡Â»â°":"i","ÃÂ":"i","Ãâ°":"i","Ãâ¹":"i","Ã¡Â»â¹":"i","ÃÂ¯":"i","Ã¡Â¸Â­":"i","ÃÂ¨":"i","ÃÂ±":"i","Ã¢ââ¢":"j","Ã¯Â½Å ":"j","ÃÂµ":"j","ÃÂ°":"j","Ãâ°":"j","Ã¢âÅ¡":"k","Ã¯Â½â¹":"k","Ã¡Â¸Â±":"k","ÃÂ©":"k","Ã¡Â¸Â³":"k","ÃÂ·":"k","Ã¡Â¸Âµ":"k","Ãâ¢":"k","Ã¢Â±Âª":"k","ÃªÂÂ":"k","ÃªÂÆ":"k","ÃªÂâ¦":"k","ÃªÅ¾Â£":"k","Ã¢ââº":"l","Ã¯Â½Å":"l","Ãâ¬":"l","ÃÂº":"l","ÃÂ¾":"l","Ã¡Â¸Â·":"l","Ã¡Â¸Â¹":"l","ÃÂ¼":"l","Ã¡Â¸Â½":"l","Ã¡Â¸Â»":"l","ÃÂ¿":"l","Ãâ":"l","ÃÅ¡":"l","ÃÂ«":"l","Ã¢Â±Â¡":"l","ÃªÂâ°":"l","ÃªÅ¾Â":"l","ÃªÂâ¡":"l","Ãâ°":"lj","Ã¢âÅ":"m","Ã¯Â½Â":"m","Ã¡Â¸Â¿":"m","Ã¡Â¹Â":"m","Ã¡Â¹Æ":"m","ÃÂ±":"m","ÃÂ¯":"m","Ã¢âÂ":"n","Ã¯Â½Å½":"n","ÃÂ¹":"n","Ãâ":"n","ÃÂ±":"n","Ã¡Â¹â¦":"n","ÃË":"n","Ã¡Â¹â¡":"n","Ãâ ":"n","Ã¡Â¹â¹":"n","Ã¡Â¹â°":"n","ÃÅ¾":"n","ÃÂ²":"n","Ãâ°":"n","ÃªÅ¾â":"n","ÃªÅ¾Â¥":"n","ÃÅ":"nj","Ã¢âÅ¾":"o","Ã¯Â½Â":"o","ÃÂ²":"o","ÃÂ³":"o","ÃÂ´":"o","Ã¡Â»â":"o","Ã¡Â»â":"o","Ã¡Â»â":"o","Ã¡Â»â¢":"o","ÃÂµ":"o","Ã¡Â¹Â":"o","ÃÂ­":"o","Ã¡Â¹Â":"o","ÃÂ":"o","Ã¡Â¹â":"o","Ã¡Â¹â":"o","ÃÂ":"o","ÃÂ¯":"o","ÃÂ±":"o","ÃÂ¶":"o","ÃÂ«":"o","Ã¡Â»Â":"o","Ãâ":"o","Ãâ":"o","ÃÂ":"o","ÃÂ":"o","ÃÂ¡":"o","Ã¡Â»Â":"o","Ã¡Â»âº":"o","Ã¡Â»Â¡":"o","Ã¡Â»Å¸":"o","Ã¡Â»Â£":"o","Ã¡Â»Â":"o","Ã¡Â»â¢":"o","ÃÂ«":"o","ÃÂ­":"o","ÃÂ¸":"o","ÃÂ¿":"o","Ãâ":"o","ÃªÂâ¹":"o","ÃªÂÂ":"o","ÃÂµ":"o","ÃÂ£":"oi","ÃÂ£":"ou","ÃªÂÂ":"oo","Ã¢âÅ¸":"p","Ã¯Â½Â":"p","Ã¡Â¹â¢":"p","Ã¡Â¹â":"p","ÃÂ¥":"p","Ã¡ÂµÂ½":"p","ÃªÂâ":"p","ÃªÂâ":"p","ÃªÂâ¢":"p","Ã¢â ":"q","Ã¯Â½â":"q","Ãâ¹":"q","ÃªÂâ":"q","ÃªÂâ¢":"q","Ã¢âÂ¡":"r","Ã¯Â½â":"r","Ãâ¢":"r","Ã¡Â¹â¢":"r","Ãâ¢":"r","Ãâ":"r","Ãâ":"r","Ã¡Â¹âº":"r","Ã¡Â¹Â":"r","Ãâ":"r","Ã¡Â¹Å¸":"r","ÃÂ":"r","ÃÂ½":"r","ÃªÂâº":"r","ÃªÅ¾Â§":"r","ÃªÅ¾Æ":"r","Ã¢âÂ¢":"s","Ã¯Â½â":"s","ÃÅ¸":"s","Ãâº":"s","Ã¡Â¹Â¥":"s","ÃÂ":"s","Ã¡Â¹Â¡":"s","ÃÂ¡":"s","Ã¡Â¹Â§":"s","Ã¡Â¹Â£":"s","Ã¡Â¹Â©":"s","Ãâ¢":"s","ÃÅ¸":"s","ÃÂ¿":"s","ÃªÅ¾Â©":"s","ÃªÅ¾â¦":"s","Ã¡Âºâº":"s","Ã¢âÂ£":"t","Ã¯Â½â":"t","Ã¡Â¹Â«":"t","Ã¡Âºâ":"t","ÃÂ¥":"t","Ã¡Â¹Â­":"t","Ãâº":"t","ÃÂ£":"t","Ã¡Â¹Â±":"t","Ã¡Â¹Â¯":"t","ÃÂ§":"t","ÃÂ­":"t","ÃË":"t","Ã¢Â±Â¦":"t","ÃªÅ¾â¡":"t","ÃªÅÂ©":"tz","Ã¢âÂ¤":"u","Ã¯Â½â¢":"u","ÃÂ¹":"u","ÃÂº":"u","ÃÂ»":"u","ÃÂ©":"u","Ã¡Â¹Â¹":"u","ÃÂ«":"u","Ã¡Â¹Â»":"u","ÃÂ­":"u","ÃÂ¼":"u","ÃÅ":"u","ÃË":"u","Ãâ":"u","ÃÅ¡":"u","Ã¡Â»Â§":"u","ÃÂ¯":"u","ÃÂ±":"u","Ãâ":"u","Ãâ¢":"u","Ãâ":"u","ÃÂ°":"u","Ã¡Â»Â«":"u","Ã¡Â»Â©":"u","Ã¡Â»Â¯":"u","Ã¡Â»Â­":"u","Ã¡Â»Â±":"u","Ã¡Â»Â¥":"u","Ã¡Â¹Â³":"u","ÃÂ³":"u","Ã¡Â¹Â·":"u","Ã¡Â¹Âµ":"u","Ãâ°":"u","Ã¢âÂ¥":"v","Ã¯Â½â":"v","Ã¡Â¹Â½":"v","Ã¡Â¹Â¿":"v","Ãâ¹":"v","ÃªÂÅ¸":"v","ÃÅ":"v","ÃªÂÂ¡":"vy","Ã¢âÂ¦":"w","Ã¯Â½â":"w","Ã¡ÂºÂ":"w","Ã¡ÂºÆ":"w","ÃÂµ":"w","Ã¡Âºâ¡":"w","Ã¡Âºâ¦":"w","Ã¡ÂºË":"w","Ã¡Âºâ°":"w","Ã¢Â±Â³":"w","Ã¢âÂ§":"x","Ã¯Â½Ë":"x","Ã¡Âºâ¹":"x","Ã¡ÂºÂ":"x","Ã¢âÂ¨":"y","Ã¯Â½â¢":"y","Ã¡Â»Â³":"y","ÃÂ½":"y","ÃÂ·":"y","Ã¡Â»Â¹":"y","ÃÂ³":"y","Ã¡ÂºÂ":"y","ÃÂ¿":"y","Ã¡Â»Â·":"y","Ã¡Âºâ¢":"y","Ã¡Â»Âµ":"y","ÃÂ´":"y","ÃÂ":"y","Ã¡Â»Â¿":"y","Ã¢âÂ©":"z","Ã¯Â½Å¡":"z","ÃÂº":"z","Ã¡Âºâ":"z","ÃÂ¼":"z","ÃÂ¾":"z","Ã¡Âºâ":"z","Ã¡Âºâ¢":"z","ÃÂ¶":"z","ÃÂ¥":"z","Ãâ¬":"z","Ã¢Â±Â¬":"z","ÃªÂÂ£":"z","Ãâ ":"Ãâ","ÃË":"Ãâ¢","Ãâ°":"Ãâ","ÃÅ ":"Ãâ¢","ÃÂª":"Ãâ¢","ÃÅ":"ÃÅ¸","ÃÅ½":"ÃÂ¥","ÃÂ«":"ÃÂ¥","ÃÂ":"ÃÂ©","ÃÂ¬":"ÃÂ±","ÃÂ­":"ÃÂµ","ÃÂ®":"ÃÂ·","ÃÂ¯":"ÃÂ¹","ÃÅ ":"ÃÂ¹","ÃÂ":"ÃÂ¹","ÃÅ":"ÃÂ¿","ÃÂ":"Ãâ¦","Ãâ¹":"Ãâ¦","ÃÂ°":"Ãâ¦","Ãâ°":"Ãâ°","Ãâ":"ÃÆ"}}),e.define("select2/data/base",["../utils"],function(n){function i(e,t){i.__super__.constructor.call(this)}return n.Extend(i,n.Observable),i.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},i.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},i.prototype.bind=function(e,t){},i.prototype.destroy=function(){},i.prototype.generateResultId=function(e,t){e=e.id+"-result-";return e+=n.generateChars(4),null!=t.id?e+="-"+t.id.toString():e+="-"+n.generateChars(4),e},i}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,o,s){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return o.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=s(this),e=n.item(e);t.push(e)}),e(t)},n.prototype.select=function(r){var e,a=this;if(r.selected=!0,s(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("change");this.$element.prop("multiple")?this.current(function(e){var t=[];(r=[r]).push.apply(r,e);for(var n=0;n<r.length;n++){var i=r[n].id;-1===s.inArray(i,t)&&t.push(i)}a.$element.val(t),a.$element.trigger("change")}):(e=r.id,this.$element.val(e),this.$element.trigger("change"))},n.prototype.unselect=function(r){var a=this;if(this.$element.prop("multiple")){if(r.selected=!1,s(r.element).is("option"))return r.element.selected=!1,void this.$element.trigger("change");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==r.id&&-1===s.inArray(i,t)&&t.push(i)}a.$element.val(t),a.$element.trigger("change")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){o.RemoveData(this)})},n.prototype.query=function(t,e){var n=[],i=this;this.$element.children().each(function(){var e=s(this);(e.is("option")||e.is("optgroup"))&&(e=i.item(e),null!==(e=i.matches(t,e))&&n.push(e))}),e({results:n})},n.prototype.addOptions=function(e){o.appendMany(this.$element,e)},n.prototype.option=function(e){e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var t,n=s(t),e=this._normalizeItem(e);return e.element=t,o.StoreData(t,"data",e),n},n.prototype.item=function(e){var t={};if(null!=(t=o.GetData(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){for(var t={text:e.prop("label"),children:[],title:e.prop("title")},n=e.children("option"),i=[],r=0;r<n.length;r++){var a=s(n[r]),a=this.item(a);i.push(a)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],o.StoreData(e[0],"data",t),t},n.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});return null!=(e=s.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),s.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,u,c){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return u.Extend(i,e),i.prototype.select=function(n){var e;0===this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()}).length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){for(var t=this,n=this.$element.find("option"),i=n.map(function(){return t.item(c(this)).id}).get(),r=[],a=0;a<e.length;a++){var o,s,l=this._normalizeItem(e[a]);0<=c.inArray(l.id,i)?(o=n.filter(function(e){return function(){return c(this).val()==e.id}}(l)),s=this.item(o),s=c.extend(!0,{},l,s),s=this.option(s),o.replaceWith(s)):(o=this.option(l),l.children&&(s=this.convertToOptions(l.children),u.appendMany(o,s)),r.push(o))}return r},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,a){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){return a.extend({},{data:function(e){return a.extend({},e,{q:e.term})},transport:function(e,t,n){e=a.ajax(e);return e.then(t),e.fail(n),e}},e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(t,n){function e(){var e=r.transport(r,function(e){e=i.processResults(e,t);i.options.get("debug")&&window.console&&console.error&&(e&&e.results&&a.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(e)},function(){"status"in e&&(0===e.status||"0"===e.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=e}var i=this,r=(null!=this._request&&(a.isFunction(this._request.abort)&&this._request.abort(),this._request=null),a.extend({type:"GET"},this.ajaxOptions));"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define("select2/data/tags",["jquery"],function(s){function e(e,t,n){var i=n.get("tags"),r=n.get("createTag"),r=(void 0!==r&&(this.createTag=r),n.get("insertTag"));if(void 0!==r&&(this.insertTag=r),e.call(this,t,n),s.isArray(i))for(var a=0;a<i.length;a++){var o=i[a],o=this._normalizeItem(o),o=this.option(o);this.$element.append(o)}}return e.prototype.query=function(e,u,c){var d=this;this._removeOldTags(),null==u.term||null!=u.page?e.call(this,u,c):e.call(this,u,function e(t,n){for(var i=t.results,r=0;r<i.length;r++){var a=i[r],o=null!=a.children&&!e({results:a.children},!0);if((a.text||"").toUpperCase()===(u.term||"").toUpperCase()||o)return!n&&(t.data=i,void c(t))}if(n)return!0;var s,l=d.createTag(u);null!=l&&((s=d.option(l)).attr("data-select2-tag",!0),d.addOptions([s]),d.insertTag(i,l)),t.results=i,c(t)})},e.prototype.createTag=function(e,t){t=s.trim(t.term);return""===t?null:{id:t,text:t}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||s(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(u){function e(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var i=this,r=(t.term=t.term||"",this.tokenizer(t,this.options,function(e){var t=i._normalizeItem(e);i.$element.find("option").filter(function(){return u(this).val()===t.id}).length||((e=i.option(t)).attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([e])),i.trigger("select",{data:t})}));r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),t.term=r.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var r=n.get("tokenSeparators")||[],a=t.term,o=0,s=this.createTag||function(e){return{id:e.term,text:e.term}};o<a.length;){var l=a[o];-1!==u.inArray(l,r)?(l=a.substr(0,o),null!=(l=s(u.extend({},t,{term:l})))?(i(l),a=a.substr(o+1)||"",o=0):o++):o++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(t,n,i){var r=this;this.current(function(e){e=null!=e?e.length:0;0<r.maximumSelectionLength&&e>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):t.call(r,n,i)})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(r,e){function t(){}return t.prototype.render=function(e){var e=e.call(this),t=r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=t,this.$search=t.find("input"),e.prepend(t),e},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){r(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val(""),i.$search.blur()}),t.on("focus",function(){t.isOpen()||i.$search.focus()}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},t.prototype.handleSearch=function(e){var t;this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return t="string"==typeof t?{id:"",text:t}:t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var e=r.contains(document.documentElement,i.$loadingMore[0]);!i.loading&&e&&i.$results.offset().top+i.$results.outerHeight(!1)+50>=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)&&i.loadMore()})},e.prototype.loadMore=function(){this.loading=!0;var e=r.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=r('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(u,o){function e(e,t,n){this.$dropdownParent=n.get("dropdownParent")||u(document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this,r=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=u("<span></span>"),e=e.call(this);return t.append(e),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._attachPositioningHandler=function(e,t){var n=this,i="scroll.select2."+t.id,r="resize.select2."+t.id,t="orientationchange.select2."+t.id,a=this.$container.parents().filter(o.hasScroll);a.each(function(){o.StoreData(this,"select2-scroll-position",{x:u(this).scrollLeft(),y:u(this).scrollTop()})}),a.on(i,function(e){var t=o.GetData(this,"select2-scroll-position");u(this).scrollTop(t.y)}),u(window).on(i+" "+r+" "+t,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,i="resize.select2."+t.id,t="orientationchange.select2."+t.id;this.$container.parents().filter(o.hasScroll).off(n),u(window).off(n+" "+i+" "+t)},e.prototype._positionDropdown=function(){var e=u(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,r=this.$container.offset(),a=(r.bottom=r.top+this.$container.outerHeight(!1),{height:this.$container.outerHeight(!1)});a.top=r.top,a.bottom=r.top+a.height;var o=this.$dropdown.outerHeight(!1),s=e.scrollTop(),e=e.scrollTop()+e.height(),s=s<r.top-o,e=e>r.bottom+o,r={left:r.left,top:a.bottom},l=this.$dropdownParent,l=(l="static"===l.css("position")?l.offsetParent():l).offset();r.top-=l.top,r.left-=l.left,t||n||(i="below"),e||!s||t?!s&&e&&t&&(i="below"):i="above",("above"==i||t&&"below"!==i)&&(r.top=a.top-l.top-o),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(r)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var r=t[i];r.children?n+=e(r.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(n){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){t=t.originalSelect2Event;if("select"===t._type||"unselect"===t._type)return}var t=this.getHighlightedResults();t.length<1||(null!=(t=n.GetData(t[0],"data")).element&&t.element.selected||null==t.element&&t.selected||this.trigger("select",{data:t}))},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var e=e.input.length-e.maximum,t="Please delete "+e+" character";return 1!=e&&(t+="s"),t},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsÃ¢â¬Â¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"SearchingÃ¢â¬Â¦"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(l,u,c,d,h,f,p,g,m,y,v,t,b,_,T,S,w,E,C,k,D,A,x,L,O,I,R,P,e){function n(){this.reset()}return n.prototype.apply=function(t){if(null==(t=l.extend(!0,{},this.defaults,t)).dataAdapter&&(null!=t.ajax?t.dataAdapter=T:null!=t.data?t.dataAdapter=_:t.dataAdapter=b,0<t.minimumInputLength&&(t.dataAdapter=y.Decorate(t.dataAdapter,E)),0<t.maximumInputLength&&(t.dataAdapter=y.Decorate(t.dataAdapter,C)),0<t.maximumSelectionLength&&(t.dataAdapter=y.Decorate(t.dataAdapter,k)),t.tags&&(t.dataAdapter=y.Decorate(t.dataAdapter,S)),null==t.tokenSeparators&&null==t.tokenizer||(t.dataAdapter=y.Decorate(t.dataAdapter,w)),null!=t.query&&(o=u(t.amdBase+"compat/query"),t.dataAdapter=y.Decorate(t.dataAdapter,o)),null!=t.initSelection&&(o=u(t.amdBase+"compat/initSelection"),t.dataAdapter=y.Decorate(t.dataAdapter,o))),null==t.resultsAdapter&&(t.resultsAdapter=c,null!=t.ajax&&(t.resultsAdapter=y.Decorate(t.resultsAdapter,L)),null!=t.placeholder&&(t.resultsAdapter=y.Decorate(t.resultsAdapter,x)),t.selectOnClose&&(t.resultsAdapter=y.Decorate(t.resultsAdapter,R))),null==t.dropdownAdapter&&(t.multiple?t.dropdownAdapter=D:(o=y.Decorate(D,A),t.dropdownAdapter=o),0!==t.minimumResultsForSearch&&(t.dropdownAdapter=y.Decorate(t.dropdownAdapter,I)),t.closeOnSelect&&(t.dropdownAdapter=y.Decorate(t.dropdownAdapter,P)),null==t.dropdownCssClass&&null==t.dropdownCss&&null==t.adaptDropdownCssClass||(o=u(t.amdBase+"compat/dropdownCss"),t.dropdownAdapter=y.Decorate(t.dropdownAdapter,o)),t.dropdownAdapter=y.Decorate(t.dropdownAdapter,O)),null==t.selectionAdapter&&(t.multiple?t.selectionAdapter=h:t.selectionAdapter=d,null!=t.placeholder&&(t.selectionAdapter=y.Decorate(t.selectionAdapter,f)),t.allowClear&&(t.selectionAdapter=y.Decorate(t.selectionAdapter,p)),t.multiple&&(t.selectionAdapter=y.Decorate(t.selectionAdapter,g)),null==t.containerCssClass&&null==t.containerCss&&null==t.adaptContainerCssClass||(o=u(t.amdBase+"compat/containerCss"),t.selectionAdapter=y.Decorate(t.selectionAdapter,o)),t.selectionAdapter=y.Decorate(t.selectionAdapter,m)),"string"==typeof t.language&&(0<t.language.indexOf("-")?(o=t.language.split("-")[0],t.language=[t.language,o]):t.language=[t.language]),l.isArray(t.language)){var e=new v;t.language.push("en");for(var n=t.language,i=0;i<n.length;i++){var r=n[i],a={};try{a=v.loadPath(r)}catch(e){try{r=this.defaults.amdLanguageBase+r,a=v.loadPath(r)}catch(e){t.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+r+'" could not be automatically loaded. A fallback will be used instead.');continue}}e.extend(a)}t.translations=e}else{var o=v.loadPath(this.defaults.amdLanguageBase+"en"),s=new v(t.language);s.extend(o),t.translations=s}return t},n.prototype.reset=function(){function s(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:y.escapeMarkup,language:e,matcher:function e(t,n){if(""===l.trim(t.term))return n;if(n.children&&0<n.children.length){for(var i=l.extend(!0,{},n),r=n.children.length-1;0<=r;r--)null==e(t,n.children[r])&&i.children.splice(r,1);return 0<i.children.length?i:e(t,i)}var a=s(n.text).toUpperCase(),o=s(t.term).toUpperCase();return-1<a.indexOf(o)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.set=function(e,t){var n={},e=(n[l.camelCase(e)]=t,y._convertData(n));l.extend(!0,this.defaults,e)},new n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(n,r,i,a){function e(e,t){this.options=e,null!=t&&this.fromElement(t),this.options=i.apply(this.options),t&&t.is("input")&&(e=n(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=a.Decorate(this.options.dataAdapter,e))}return e.prototype.fromElement=function(e){var t,n=["select2"],e=(null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),a.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.StoreData(e[0],"data",a.GetData(e[0],"select2Tags")),a.StoreData(e[0],"tags",!0)),a.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",a.GetData(e[0],"ajaxUrl")),a.StoreData(e[0],"ajax-Url",a.GetData(e[0],"ajaxUrl"))),r.fn.jquery&&"1."==r.fn.jquery.substr(0,2)&&e[0].dataset?r.extend(!0,{},e[0].dataset,a.GetData(e[0])):a.GetData(e[0])),i=r.extend(!0,{},e);for(t in i=a._convertData(i))-1<r.inArray(t,n)||(r.isPlainObject(this.options[t])?r.extend(this.options[t],i[t]):this.options[t]=i[t]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(r,a,o,i){function s(e,t){null!=o.GetData(e[0],"select2")&&o.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),this.options=new a(t=t||{},e),s.__super__.constructor.call(this);var t=e.attr("tabindex")||0,t=(o.StoreData(e[0],"old-tabindex",t),e.attr("tabindex","-1"),this.options.get("dataAdapter")),t=(this.dataAdapter=new t(e,this.options),this.render()),n=(this._placeContainer(t),this.options.get("selectionAdapter")),n=(this.selection=new n(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,t),this.options.get("dropdownAdapter")),n=(this.dropdown=new n(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,t),this.options.get("resultsAdapter")),i=(this.results=new n(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown),this);this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),o.StoreData(e[0],"select2",this)}return o.Extend(s,o.Observable),s.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+o.generateChars(2):o.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},s.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},s.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t)return null!=(i=this._resolveWidth(e,"style"))?i:this._resolveWidth(e,"element");if("element"==t)return(i=e.outerWidth(!1))<=0?"auto":i+"px";if("style"!=t)return t;var i=e.attr("style");if("string"!=typeof i)return null;for(var r=i.split(";"),a=0,o=r.length;a<o;a+=1){var s=r[a].replace(/\s/g,"").match(n);if(null!==s&&1<=s.length)return s[1]}return null},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var t=this,e=(this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=o.bind(this._syncAttributes,this),this._syncS=o.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA),window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver);null!=e?(this._observer=new e(function(e){r.each(e,t._syncA),r.each(e,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},s.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},s.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===r.inArray(e,i)&&n.trigger(e,t)})},s.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},s.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},s.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.TAB||t===i.UP&&e.altKey?(n.close(),e.preventDefault()):t===i.ENTER?(n.trigger("results:select",{}),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===i.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===i.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},s.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var r=0;r<t.addedNodes.length;r++)t.addedNodes[r].selected&&(n=!0);else t.removedNodes&&0<t.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},s.prototype.trigger=function(e,t){var n=s.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var r={prevented:!1,name:e,args:t};if(n.call(this,i[e],r),r.prevented)return void(t.prevented=!0)}n.call(this,e,t)},s.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||this.trigger("query",{})},s.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},s.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},s.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},s.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},s.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');e=!(e=null!=e&&0!==e.length?e:[!0])[0];this.$element.prop("disabled",e)},s.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},s.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();e=e[0];r.isArray(e)&&(e=r.map(e,function(e){return e.toString()})),this.$element.val(e).trigger("change")},s.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",o.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),o.RemoveData(this.$element[0]),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var e=r('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),o.StoreData(e[0],"element",this.$element),e},s}),e.define("jquery-mousewheel",["jquery"],function(e){return e}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(r,e,a,t,o){var s;return null==r.fn.select2&&(s=["open","close","destroy"],r.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=r.extend(!0,{},t);new a(r(this),e)}),this;var n,i;if("string"==typeof t)return i=Array.prototype.slice.call(arguments,1),this.each(function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,i)}),-1<r.inArray(t,s)?this:n;throw new Error("Invalid arguments for Select2: "+t)}),null==r.fn.select2.defaults&&(r.fn.select2.defaults=t),a});var e,n,h,a,f,p,g,m,i,r,y,v,b,o,s={define:e.define,require:e.require},l=s.require("jquery.select2");function _(e,t){return i.call(e,t)}function u(e,t){var n,i,r,a,o,s,l,u,c,d,h=t&&t.split("/"),f=g.map,p=f&&f["*"]||{};if(e){for(t=(e=e.split("/")).length-1,g.nodeIdCompat&&y.test(e[t])&&(e[t]=e[t].replace(y,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),u=0;u<e.length;u++)if("."===(d=e[u]))e.splice(u,1),--u;else if(".."===d){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;0<u&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((h||p)&&f){for(u=(n=e.split("/")).length;0<u;--u){if(i=n.slice(0,u).join("/"),h)for(c=h.length;0<c;--c)if((r=f[h.slice(0,c).join("/")])&&(r=r[i])){a=r,o=u;break}if(a)break;!s&&p&&p[i]&&(s=p[i],l=u)}!a&&s&&(a=s,o=l),a&&(n.splice(0,o,a),e=n.join("/"))}return e}function T(t,n){return function(){var e=r.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),a.apply(h,e.concat([t,n]))}}function S(e){var t;if(_(p,e)&&(t=p[e],delete p[e],m[e]=!0,o.apply(h,t)),_(f,e)||_(m,e))return f[e];throw new Error("No "+e)}function c(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function w(e){return e?c(e):[]}return t.fn.select2.amd=s,l}),function(s,n){"use strict";var i,u,r,l,c,a,d,o,h={settings:{},prefix:"transcript"},f=(h.player=this,{autoscroll:!0,clickArea:"text",showTitle:!(h.lineClass="-line"),showTrackSelector:!1,followPlayerTrack:!0,stopScrollWhenInUse:!0}),p={secondsToTime:function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),e=(e=Math.floor(e%60))<10?"0"+e:e,n=0<t&&n<10?"0"+n:n;return 0<t?t+":"+n+":"+e:n+":"+e},localize:function(e){return e},createEl:function(e,t){t=t||"";e=document.createElement(e);return e.className=i.prefix+t,e},extend:function(e){var t,n,i=typeof e;if(!("function"==i||"object"==i&&e))return e;for(var r=1,a=arguments.length;r<a;r++)for(n in t=arguments[r])e[n]=t[n];return e}},g={handlers_:[],on:function(e,t,n){if("function"!=typeof n)throw new TypeError("Callback is not a function.");this.handlers_.push([e,t,n])},trigger:function(t,n){this.handlers_.forEach(function(e){e[0]===t&&e[1]===n&&e[2].apply()})}},m=(u=function(e,t,n,i){return t+n*Math.sin(Math.min(1,e/i)*(Math.PI/2))},{init:function(e,t){return this.element=e,this.userIsScrolling=!1,this.mouseIsOverTranscript=!0,this.isAutoScrolling=!0,function(e){var t=this;e.addEventListener("scroll",function(){t.isAutoScrolling?t.isAutoScrolling=!1:(t.userIsScrolling=!0,e.classList.add("is-inuse"))}),e.addEventListener("mouseenter",function(){t.mouseIsOverTranscript=!0}),e.addEventListener("mouseleave",function(){t.mouseIsOverTranscript=!1,setTimeout(function(){t.mouseIsOverTranscript||(t.userIsScrolling=!1,e.classList.remove("is-inuse"))},1e3)})}.call(this,this.element),this},to:function(e){var t,n,i,r,a,o;this.canScroll()&&(n=(t=e.parentElement).offsetTop+t.clientHeight,i=e.offsetTop+e.clientHeight,r=e.offsetTop-t.offsetTop,a=e.offsetTop+e.clientHeight-t.offsetTop,r<t.scrollTop?o=e.offsetTop-t.offsetTop:a>t.scrollTop+t.clientHeight&&(o=i-n),void 0!==o&&t.scrollTop!==o&&function(t,n,i){var r=Date.now(),a=t.scrollTop,o=this,s=(n=Math.max(0,n),(n=Math.min(t.scrollHeight-t.clientHeight,n))-a),l=function(){var e=Date.now()-r;o.isAutoScrolling=!0,t.scrollTop=u(e,a,s,i),t.scrollTop!==n&&requestAnimationFrame(l,t)};requestAnimationFrame(l,t)}.call(this,t,o,400))},canScroll:function(){var e=this.element;return e.scrollHeight>e.offsetHeight},inUse:function(){return this.userIsScrolling}}),y={get:function(){var e,t,n=[];for(h.tracks=h.player.textTracks(),e=0;e<h.tracks.length;e++)"captions"!==(t=h.tracks[e]).kind&&"subtitles"!==t.kind||n.push(t);return n},active:function(e){for(var t,n=0;n<h.tracks.length;n++)if("showing"===(t=h.tracks[n]).mode)return r=t;return r||e[0]}},v=(l=i=h,c={element:{},body:{}},d=function(e){"object"!=typeof e&&(e=l.player.textTracks()[e]);var t,n,i=p.createEl("div","-body"),r=document.createDocumentFragment();if(e.activeCues){for(var a=e.cues,o=0;o<a.length;o++)t=function(e){let t="-line";c.lineClass&&(t=c.lineClass);var n=p.createEl("div",t),i=p.createEl("span","-text");return n.setAttribute("data-begin",e.startTime),i.innerHTML=e.text,n.appendChild(i),n}(a[o]),r.appendChild(t);i.innerHTML="",i.appendChild(r),i.setAttribute("lang",e.language),i.scroll=(n=i,Object.create(m).init(n)),i.addEventListener("click",b),c.element.replaceChild(i,c.body),c.body=i}else"showing"!==e.mode&&(e.mode="hidden"),s.setTimeout(function(){d(e)},100)},{create:function(){var e,i,t=document.createElement("div");return(c.element=t).setAttribute("id",l.prefix+"-"+l.player.id()),l.settings.showTitle&&((e=p.createEl("header","-header")).textContent=p.localize("Transcript"),t.appendChild(e)),l.settings.showTrackSelector&&(i=p.createEl("select","-selector"),l.validTracks.forEach(function(e,t){var n=document.createElement("option");n.value=t,n.textContent=e.label+" ("+e.language+")",i.appendChild(n)}),i.addEventListener("change",function(e){o(document.querySelector("#"+l.prefix+"-"+l.player.id()+" option:checked").value),a("trackchanged")}),e=i,t.appendChild(e)),c.body=p.createEl("div","-body"),t.appendChild(c.body),o(l.currentTrack),this},setTrack:o=function(e,t){d(e,t)},setCue:function(e){for(var t,n,i,r=c.body.children,a=0;a<r.length;a++)n=(t=r[a]).getAttribute("data-begin"),i=a<r.length-1?r[a+1].getAttribute("data-begin"):l.player.duration()||1/0,n<e&&e<i?t.classList.contains("is-active")||(t.classList.add("is-active"),!l.settings.autoscroll||l.settings.stopScrollWhenInUse&&c.body.scroll.inUse()||c.body.scroll.to(t)):t.classList.remove("is-active")},el:function(){return c.element},setLineClass:function(e){return c.lineClass=e,c.lineClass},on:function(e,t){g.on(this,e,t)},trigger:a=function(e){g.trigger(this,e)}});function b(e){var t=e.target.classList;null!=(e=e.target.getAttribute("data-begin")||e.target.parentElement.getAttribute("data-begin"))&&("line"===l.settings.clickArea||"text"===l.settings.clickArea&&t.contains(l.prefix+"-text"))&&l.player.currentTime(e)}n.registerPlugin("transcriptVideoEditing",function(e){h.player=this,h.validTracks=y.get(),h.currentTrack=y.active(h.validTracks),h.settings=n.mergeOptions(f,e),h.widget=v.create();function t(){h.currentTrack=y.active(h.validTracks),h.widget.setTrack(h.currentTrack)}if(0<h.validTracks.length)return t(),h.player.on("timeupdate",function(){h.widget.setCue(h.player.currentTime())}),h.settings.followPlayerTrack&&(h.player.on("captionstrackchange",t),h.player.on("subtitlestrackchange",t)),{el:function(){return h.widget.el()},setTrack:h.widget.setTrack,setLineClass:h.widget.setLineClass};throw new Error("transcript-video-editing: No tracks found!")})}(window,videojs),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("video.js"));else if("function"==typeof define&&define.amd)define(["video.js"],t);else{var n,i=t("object"==typeof exports?require("video.js"):e.videojs);for(n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(this,function(n){return r=[function(e,t,n){e.exports=function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r={};return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=8)}([function(e,t,n){"use strict";function i(){}function r(a){var o=self.console[a];return o?function(){for(var e,t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=(e=a,t=i[0],"["+e+"] > "+t)),o.apply(self.console,i)}:i}n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={trace:i,debug:i,log:i,warn:i,info:i,error:i},s=o,l=function(e){if(!0===e||"object"===(void 0===e?"undefined":a(e))){!function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){s[e]=t[e]?t[e].bind(t):r(e)})}(e,"debug","log","info","warn","error");try{s.log()}catch(e){s=o}}else s=o},u=s},function(e,t,n){"use strict";t.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),s.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s.getID3Data=function(e,t){for(var n=t,i=0;s.isHeader(e,t);)i=(i+=10)+s._readSize(e,t+6),s.isFooter(e,t+10)&&(i+=10),t+=i;if(0<i)return e.subarray(n,n+i)},s._readSize=function(e,t){var n=0,n=(127&e[t])<<21;return(n=(n|=(127&e[t+1])<<14)|(127&e[t+2])<<7)|127&e[t+3]},s.getTimeStamp=function(e){for(var t=s.getID3Frames(e),n=0;n<t.length;n++){var i=t[n];if(s.isTimeStampFrame(i))return s._readTimeStamp(i)}},s.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},s._getFrameData=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s._readSize(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},s.getID3Frames=function(e){for(var t=0,n=[];s.isHeader(e,t);){for(var i=s._readSize(e,t+6),r=(t+=10)+i;t+8<r;){var a=s._getFrameData(e.subarray(t)),o=s._decodeFrame(a);o&&n.push(o),t+=a.size+10}s.isFooter(e,t)&&(t+=10)}return n},s._decodeFrame=function(e){return"PRIV"===e.type?s._decodePrivFrame(e):"T"===e.type[0]?s._decodeTextFrame(e):"W"===e.type[0]?s._decodeURLFrame(e):void 0},s._readTimeStamp=function(e){var t;if(8===e.data.byteLength)return t=1&(e=new Uint8Array(e.data))[3],e=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7],e/=45,t&&(e+=47721858.84),Math.round(e)},s._decodePrivFrame=function(e){var t,n;if(!(e.size<2))return t=s._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1)),{key:e.type,info:t,data:n.buffer}},s._decodeTextFrame=function(e){if(!(e.size<2)){var t;if("TXXX"===e.type)return t=1,t+=(n=s._utf8ArrayToStr(e.data.subarray(1))).length+1,t=s._utf8ArrayToStr(e.data.subarray(t)),{key:e.type,info:n,data:t};var n=s._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:n}}},s._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=s._utf8ArrayToStr(e.data.subarray(1)),t=(t+=n.length+1,s._utf8ArrayToStr(e.data.subarray(t)));return{key:e.type,info:n,data:t}}n=s._utf8ArrayToStr(e.data);return{key:e.type,data:n}};var i=s._utf8ArrayToStr=function(e){for(var t,n,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=e.length,a=void 0,o="",s=0;s<r;){if(0===(t=e[s++])&&i)return o;if(0!==t&&3!==t)switch(t>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(t);break;case 12:case 13:a=e[s++],o+=String.fromCharCode((31&t)<<6|63&a);break;case 14:a=e[s++],n=e[s++],o+=String.fromCharCode((15&t)<<12|(63&a)<<6|(63&n)<<0)}}return o};function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function")}t.a=s},function(e,t,n){"use strict";d.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)};var s=d;o.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])};var l=o;r.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),i=0;i<4;i++)n[i]=t.getUint32(4*i);return n},r.prototype.initTable=function(){for(var e=this.sBox,t=this.invSBox,n=this.subMix,i=n[0],r=n[1],a=n[2],o=n[3],n=this.invSubMix,s=n[0],l=n[1],u=n[2],c=n[3],d=new Uint32Array(256),h=0,f=0,p=0,p=0;p<256;p++)d[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var g=f^f<<1^f<<2^f<<3^f<<4,m=(e[h]=g=g>>>8^255&g^99,d[t[g]=h]),y=d[m],v=d[y],b=257*d[g]^16843008*g;i[h]=b<<24|b>>>8,r[h]=b<<16|b>>>16,a[h]=b<<8|b>>>24,o[h]=b,s[g]=(b=16843009*v^65537*y^257*m^16843008*h)<<24|b>>>8,l[g]=b<<16|b>>>16,u[g]=b<<8|b>>>24,c[g]=b,h?(h=m^d[d[d[v^m]]],f^=d[d[f]]):h=f=1}},r.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,i=0;i<t.length&&n;)n=t[i]===this.key[i],i++;if(!n){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);for(var a=this.ksRows=4*(r+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),c=this.sBox,d=this.rcon,e=this.invSubMix,h=e[0],f=e[1],p=e[2],g=e[3],m=void 0,y=void 0,o=0;o<a;o++)o<r?m=l[o]=t[o]:(y=m,o%r==0?(y=c[(y=y<<8|y>>>24)>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=d[o/r|0]<<24):6<r&&o%r==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),l[o]=m=(l[o-r]^y)>>>0);for(s=0;s<a;s++)o=a-s,y=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?y:h[c[y>>>24]]^f[c[y>>>16&255]]^p[c[y>>>8&255]]^g[c[255&y]],u[s]=u[s]>>>0}},r.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},r.prototype.decrypt=function(e,t,n){for(var i,r,a,o,s,l,u=this.keySize+6,c=this.invKeySchedule,d=this.invSBox,h=this.invSubMix,f=h[0],p=h[1],g=h[2],m=h[3],h=this.uint8ArrayToUint32Array_(n),y=h[0],v=h[1],b=h[2],_=h[3],T=new Int32Array(e),S=new Int32Array(T.length),w=void 0,E=void 0,C=void 0,k=void 0,D=void 0,A=void 0,x=void 0,L=void 0,O=this.networkToHostOrderSwap;t<T.length;){for(a=O(T[t]),o=O(T[t+1]),s=O(T[t+2]),l=O(T[t+3]),D=a^c[0],A=l^c[1],x=s^c[2],L=o^c[3],i=4,r=1;r<u;r++)w=f[D>>>24]^p[A>>16&255]^g[x>>8&255]^m[255&L]^c[i],E=f[A>>>24]^p[x>>16&255]^g[L>>8&255]^m[255&D]^c[i+1],C=f[x>>>24]^p[L>>16&255]^g[D>>8&255]^m[255&A]^c[i+2],k=f[L>>>24]^p[D>>16&255]^g[A>>8&255]^m[255&x]^c[i+3],D=w,A=E,x=C,L=k,i+=4;w=d[D>>>24]<<24^d[A>>16&255]<<16^d[x>>8&255]<<8^d[255&L]^c[i],E=d[A>>>24]<<24^d[x>>16&255]<<16^d[L>>8&255]<<8^d[255&D]^c[i+1],C=d[x>>>24]<<24^d[L>>16&255]<<16^d[D>>8&255]<<8^d[255&A]^c[i+2],k=d[L>>>24]<<24^d[D>>16&255]<<16^d[A>>8&255]<<8^d[255&x]^c[i+3],i+=3,S[t]=O(w^y),S[t+1]=O(k^v),S[t+2]=O(C^b),S[t+3]=O(E^_),y=a,v=o,b=s,_=l,t+=4}return S.buffer},r.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0};var u=r,a=n(2),c=n(0);function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.observer=e,this.config=t,this.logEnabled=!0;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}function o(e,t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.subtle=e,this.key=t}function d(e,t){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.subtle=e,this.aesIV=t}i.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},i.prototype.decrypt=function(t,n,i,r){var e,a,o=this;this.disableWebCrypto&&this.config.enableSoftwareAES?(this.logEnabled&&(c.b.log("JS AES decrypt"),this.logEnabled=!1),(e=this.decryptor)||(this.decryptor=e=new u),e.expandKey(n),r(e.decrypt(t,0,i))):(this.logEnabled&&(c.b.log("WebCrypto AES decrypt"),this.logEnabled=!1),a=this.subtle,this.key!==n&&(this.key=n,this.fastAesKey=new l(a,n)),this.fastAesKey.expandKey().then(function(e){new s(a,i).decrypt(t,e).catch(function(e){o.onWebCryptoError(e,t,n,i,r)}).then(function(e){r(e)})}).catch(function(e){o.onWebCryptoError(e,t,n,i,r)}))},i.prototype.onWebCryptoError=function(e,t,n,i,r){this.config.enableSoftwareAES?(c.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,i,r)):(c.b.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},i.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},t.a=i},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return void 0===e}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,r,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(c(n=this._events[e]))return!1;if(l(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(u(n))for(r=Array.prototype.slice.call(arguments,1),i=(o=n.slice()).length,a=0;a<i;a++)o[a].apply(this,r);return!0},n.prototype.on=n.prototype.addListener=function(e,t){if(l(t))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,l(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(t=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<t&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this;throw TypeError("listener must be a function")},n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!l(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,r,a;if(!l(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(n=this._events[e]).length,i=-1,n===t||l(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(n)){for(a=r;0<a--;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(l(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?l(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){e=this._events[e];if(l(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var i,a,o;i=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,a=/^([^\/;?#]*)(.*)$/,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=this.parseURL(e);if(r)return i.path=o.normalizePath(i.path),o.buildURLFromParts(i);throw new Error("Error trying to parse base URL.")}i=this.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=o.normalizePath(i.path),o.buildURLFromParts(i)):t;var r=this.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");!r.netLoc&&r.path&&"/"!==r.path[0]&&(t=a.exec(r.path),r.netLoc=t[1],r.path=t[2]),r.netLoc&&!r.path&&(r.path="/");e={scheme:r.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};return i.netLoc||(e.netLoc=r.netLoc,"/"===i.path[0])||(i.path?(t=(t=r.path).substring(0,t.lastIndexOf("/")+1)+i.path,e.path=o.normalizePath(t)):(e.path=r.path,i.params||(e.params=r.params,i.query||(e.query=r.query)))),null===e.path&&(e.path=n.alwaysNormalize?o.normalizePath(i.path):i.path),o.buildURLFromParts(e)},parseURL:function(e){e=i.exec(e);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(/(?:\/|^)\.(?=\/)/g,"");e.length!==(e=e.replace(/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},function(L,e,t){"use strict";function i(e,t){return 255===e[t]&&240==(246&e[t+1])}function s(e,t){return 1&e[t+1]?7:9}function l(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function p(e,t){return t+1<e.length&&i(e,t)}function g(e,t,n,i,r){var a,o,s,l,u,c;e.samplerate||(t=t,n=n,i=i,r=r,s=navigator.userAgent.toLowerCase(),l=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],c=1+((192&n[i+2])>>>6),i=(a=(60&n[i+2])>>>2)>u.length-1?void t.trigger(Event.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a}):(t=(1&n[i+2])<<2,t|=(192&n[i+3])>>>6,G.b.log("manifest codec:"+r+",ADTS data:type:"+c+",sampleingIndex:"+a+"["+u[a]+"Hz],channelConfig:"+t),n=/firefox/i.test(s)?6<=a?(c=5,o=new Array(4),a-3):(c=2,o=new Array(2),a):-1!==s.indexOf("android")?(c=2,o=new Array(2),a):(c=5,o=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&6<=a?a-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(6<=a&&1==t||/vivaldi/i.test(s))||!r&&1==t)&&(c=2,o=new Array(2)),a)),o[0]=c<<3,o[0]|=(14&a)>>1,o[1]|=(1&a)<<7,o[1]|=t<<3,5===c&&(o[1]|=(14&n)>>1,o[2]=(1&n)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[a],channelCount:t,codec:"mp4a.40."+c,manifestCodec:l}),e.config=i.config,e.samplerate=i.samplerate,e.channelCount=i.channelCount,e.codec=i.codec,e.manifestCodec=i.manifestCodec,G.b.log("parsed codec:"+e.codec+",rate:"+i.samplerate+",nb channel:"+i.channelCount))}function h(e){return 9216e4/e}function m(e,t,n,i,r){var a,i=function(e,t,n,i,r){var a=e.length,o=s(e,t),e=l(e,t);if(0<(e-=o)&&t+o+e<=a)return{headerLength:o,frameLength:e,stamp:n+i*r}}(t,n,i,r,h(e.samplerate));if(i)return r=i.stamp,a=i.headerLength,i=i.frameLength,t={unit:t.subarray(n+a,n+a+i),pts:r,dts:r},e.samples.push(t),e.len+=i,{sample:t,length:i+a}}var H=t(1),W=t(2),y=t(4),G=t(0),v=t(3),w=(x.prototype.resetInitSegment=function(e,t,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},x.prototype.resetTimeStamp=function(){},x.probe=function(e){if(!e)return!1;for(var t=(v.a.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(function(e,t){if(t+1<e.length&&i(e,t)){var n=s(e,t),t=t+(n=t+5<e.length?l(e,t):n);if(t===e.length||t+1<e.length&&i(e,t))return 1}}(e,t))return G.b.log("ADTS sync word found !"),!0;return!1},x.prototype.append=function(e,t,n,i){for(var r=this._audioTrack,a=v.a.getID3Data(e,0)||[],o=v.a.getTimeStamp(a),s=o?90*o:9e4*t,l=0,u=s,c=e.length,d=a.length,h=[{pts:u,dts:u,data:a}];d<c-1;)if(p(e,d)&&d+5<c){g(r,this.observer,e,d,r.manifestCodec);var f=m(r,e,d,s,l);if(!f){G.b.log("Unable to parse AAC frame");break}d+=f.length,u=f.sample.pts,l++}else v.a.isHeader(e,d)?(a=v.a.getID3Data(e,d),h.push({pts:u,dts:u,data:a}),d+=a.length):d++;this.remuxer.remux(r,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,i)},x.prototype.destroy=function(){},x),a=Math.pow(2,32)-1;A.prototype.resetTimeStamp=function(e){this.initPTS=e},A.prototype.resetInitSegment=function(e,t,n,i){var r,a;e&&e.byteLength?(null==t&&(t="mp4a.40.5"),null==n&&(n="avc1.42e01e"),a={},(r=this.initData=A.parseInitSegment(e)).audio&&r.video?a.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:i?e:null}:(r.audio&&(a.audio={container:"audio/mp4",codec:t,initSegment:i?e:null}),r.video&&(a.video={container:"video/mp4",codec:n,initSegment:i?e:null})),this.observer.trigger(H.a.FRAG_PARSING_INIT_SEGMENT,{tracks:a})):(t&&(this.audioCodec=t),n&&(this.videoCodec=n))},A.probe=function(e){return 0<A.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length},A.bin2str=function(e){return String.fromCharCode.apply(null,e)},A.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);e=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return e<0?4294967296+e:e},A.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},A.findBox=function(e,t){var n,i,r,a,o,s=[];if(e.data?(a=e.start,i=e.end,e=e.data):(a=0,i=e.byteLength),!t.length)return null;for(n=a;n<i;)o=1<(o=A.readUint32(e,n))?n+o:i,A.bin2str(e.subarray(n+4,n+8))===t[0]&&(1===t.length?s.push({data:e,start:n+8,end:o}):(r=A.findBox({data:e,start:n+8,end:o},t.slice(1))).length&&(s=s.concat(r))),n=o;return s},A.parseInitSegment=function(e){var r=[];return A.findBox(e,["moov","trak"]).forEach(function(e){var t,n,i=A.findBox(e,["tkhd"])[0];i&&(n=i.data[i.start],i=A.readUint32(i,0===n?12:20),(t=A.findBox(e,["mdia","mdhd"])[0])&&(n=t.data[t.start],t=A.readUint32(t,0===n?12:20),(n=A.findBox(e,["mdia","hdlr"])[0])&&(n={soun:"audio",vide:"video"}[A.bin2str(n.data.subarray(n.start+8,n.start+12))])&&((e=A.findBox(e,["mdia","minf","stbl","stsd"])).length&&(e=e[0],e=A.bin2str(e.data.subarray(e.start+12,e.start+16)),G.b.log("MP4Demuxer:"+n+":"+e+" found")),r[i]={timescale:t,type:n},r[n]={timescale:t,id:i})))}),r},A.getStartDTS=function(n,e){e=A.findBox(e,["moof","traf"]),e=[].concat.apply([],e.map(function(t){return A.findBox(t,["tfhd"]).map(function(e){e=A.readUint32(e,4),e=n[e].timescale||9e4;return A.findBox(t,["tfdt"]).map(function(e){var t=e.data[e.start],n=A.readUint32(e,4);return n=1===t?(n*=Math.pow(2,32))+A.readUint32(e,8):n})[0]/e})})),e=Math.min.apply(null,e);return isFinite(e)?e:0},A.offsetStartDTS=function(n,e,r){A.findBox(e,["moof","traf"]).map(function(t){return A.findBox(t,["tfhd"]).map(function(e){var e=A.readUint32(e,4),i=n[e].timescale||9e4;A.findBox(t,["tfdt"]).map(function(e){var t=e.data[e.start],n=A.readUint32(e,4);0===t?A.writeUint32(e,4,n-r*i):(n=(n=(n*=Math.pow(2,32))+A.readUint32(e,8))-r*i,n=Math.max(n,0),t=Math.floor(n/(1+a)),n=Math.floor(n%(1+a)),A.writeUint32(e,4,t),A.writeUint32(e,8,n))})})})},A.prototype.append=function(e,t,n,i){var r,a=this.initData,o=(a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec),a=this.initData),this.initPTS);void 0===o&&(r=A.getStartDTS(a,e),this.initPTS=o=r-t,this.observer.trigger(H.a.INIT_PTS_FOUND,{initPTS:o})),A.offsetStartDTS(a,e,o),r=A.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,r,n,i,e)},A.prototype.destroy=function(){};var E=A,u={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,i,r){if(!(n+24>t.length)){var a=this.parseHeader(t,n);if(a&&n+a.frameLength<=t.length)return i=i+r*(9e4*a.samplesPerFrame/a.sampleRate),r={unit:t.subarray(n,n+a.frameLength),pts:i,dts:i},e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(r),e.len+=a.frameLength,{sample:r,length:a.frameLength}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,r=e[t+2]>>4&15,a=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!=n&&0!=r&&15!=r&&3!=a)return r=1e3*u.BitratesMap[14*(3==n?3-i:3==i?3:4)+r-1],a=u.SamplingRateMap[3*(3==n?0:2==n?1:2)+a],e=e[t+3]>>6==3?1:2,i=8*(t=u.SamplesCoefficients[n][i])*(n=u.BytesInSlot[i]),{sampleRate:a,channelCount:e,frameLength:parseInt(t*r/a+o,10)*n,samplesPerFrame:i}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),i=4,t=t+(i=n&&n.frameLength?n.frameLength:i);if(t===e.length||t+1<e.length&&this.isHeaderPattern(e,t))return!0}return!1}},b=u;D.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,i=new Uint8Array(4),t=Math.min(4,t);if(0===t)throw new Error("no bytes available");i.set(e.subarray(n,n+t)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*t,this.bytesAvailable-=t},D.prototype.skipBits=function(e){var t;this.bitsAvailable>e||(e=(e-=this.bitsAvailable)-((t=e>>3)>>3),this.bytesAvailable-=t,this.loadWord()),this.word<<=e,this.bitsAvailable-=e},D.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return 32<e&&G.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,0<this.bitsAvailable?this.word<<=t:0<this.bytesAvailable&&this.loadWord(),0<(t=e-t)&&this.bitsAvailable?n<<t|this.readBits(t):n},D.prototype.skipLZ=function(){for(var e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},D.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},D.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},D.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},D.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},D.prototype.readBoolean=function(){return 1===this.readBits(1)},D.prototype.readUByte=function(){return this.readBits(8)},D.prototype.readUShort=function(){return this.readBits(16)},D.prototype.readUInt=function(){return this.readBits(32)},D.prototype.skipScalingList=function(e){for(var t=8,n=8,i=0;i<e;i++)t=0===(n=0!==n?(t+this.readEG()+256)%256:n)?t:n},D.prototype.readSPS=function(){var e,t,n,i=0,r=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);if(s(),g=s(),l(5),d(3),s(),f(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var g=u();if(3===g&&d(1),f(),f(),d(1),c())for(t=3!==g?8:12,n=0;n<t;n++)c()&&p(n<6?16:64)}f();var g=u();if(0===g)u();else if(1===g)for(d(1),h(),h(),e=u(),n=0;n<e;n++)h();f(),d(1),g=u(),f=u(),0===(l=l(1))&&d(1),d(1),c()&&(i=u(),r=u(),a=u(),o=u());var m=[1,1];if(c()&&c())switch(s()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(g+1)-2*i-2*r),height:(2-l)*(f+1)*16-(l?2:4)*(a+o),pixelRatio:m}},D.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()};var S=D;k.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},k.prototype.decryptAacSample=function(t,n,i,r){var a=t[n].unit,e=a.subarray(16,a.length-a.length%16),e=e.buffer.slice(e.byteOffset,e.byteOffset+e.length),o=this;this.decryptBuffer(e,function(e){e=new Uint8Array(e),a.set(e,16),r||o.decryptAacSamples(t,n+1,i)})},k.prototype.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,i),!i)return}}},k.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),i=0,r=32;r<=e.length-16;r+=160,i+=16)n.set(e.subarray(r,r+16),i);return n},k.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,i=32;i<=e.length-16;i+=160,n+=16)e.set(t.subarray(n,n+16),i);return e},k.prototype.decryptAvcSample=function(t,n,i,r,a,o){var s=this.discardEPB(a.data),e=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(e.buffer,function(e){a.data=l.getAvcDecryptedUnit(s,e),o||l.decryptAvcSamples(t,n,i+1,r)})},k.prototype.decryptAvcSamples=function(e,t,n,i){for(;;t++,n=0){if(t>=e.length)return void i();for(var r=e[t].units;!(n>=r.length);n++){var a=r[n];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,i,a,o),!o)return}}}};var n=k,I={video:0,audio:1,id3:2,text:3};O.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new n(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},O.probe=function(e){e=O._syncOffset(e);return!(e<0||(e&&G.b.warn("MPEG2-TS detected but first sync word found @ offset "+e+", junk ahead ?"),0))},O._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},O.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:I[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},O.prototype.resetInitSegment=function(e,t,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=O.createTrack("video",i),this._audioTrack=O.createTrack("audio",i),this._id3Track=O.createTrack("id3",i),this._txtTrack=O.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=i},O.prototype.resetTimeStamp=function(){},O.prototype.append=function(e,t,n,i){var r,a,o,s,l,u=e.length,c=!1,d=(this.contiguous=n,this.pmtParsed),h=this._avcTrack,f=this._audioTrack,p=this._id3Track,g=h.pid,m=f.pid,y=p.pid,v=this._pmtId,b=h.pesData,_=f.pesData,T=p.pesData,S=this._parsePAT,w=this._parsePMT,E=this._parsePES,C=this._parseAVCPES.bind(this),k=this._parseAACPES.bind(this),D=this._parseMPEGPES.bind(this),A=this._parseID3PES.bind(this),x=O._syncOffset(e);for(u-=(u+x)%188,r=x;r<u;r+=188)if(71===e[r]){if(a=!!(64&e[r+1]),o=((31&e[r+1])<<8)+e[r+2],1<(48&e[r+3])>>4){if((s=r+5+e[r+4])===r+188)continue}else s=r+4;switch(o){case g:a&&(b&&(l=E(b))&&C(l,!1),b={data:[],size:0}),b&&(b.data.push(e.subarray(s,r+188)),b.size+=r+188-s);break;case m:a&&(_&&(l=E(_))&&(f.isAAC?k:D)(l),_={data:[],size:0}),_&&(_.data.push(e.subarray(s,r+188)),_.size+=r+188-s);break;case y:a&&(T&&(l=E(T))&&A(l),T={data:[],size:0}),T&&(T.data.push(e.subarray(s,r+188)),T.size+=r+188-s);break;case 0:a&&(s+=e[s]+1),v=this._pmtId=S(e,s);break;case v:a&&(s+=e[s]+1);var L=w(e,s,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);0<(g=L.avc)&&(h.pid=g),0<(m=L.audio)&&(f.pid=m,f.isAAC=L.isAAC),0<(y=L.id3)&&(p.pid=y),c&&!d&&(G.b.log("reparse from beginning"),c=!1,r=x-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(l=E(b))?(C(l,!0),h.pesData=null):h.pesData=b,_&&(l=E(_))?((f.isAAC?k:D)(l),f.pesData=null):(_&&_.size&&G.b.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=_),T&&(l=E(T))?(A(l),p.pesData=null):p.pesData=T,null==this.sampleAes?this.remuxer.remux(f,h,p,this._txtTrack,t,n,i):this.decryptAndRemux(f,h,p,this._txtTrack,t,n,i)},O.prototype.decryptAndRemux=function(e,t,n,i,r,a,o){var s;e.samples&&e.isAAC?(s=this).sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,n,i,r,a,o)}):this.decryptAndRemuxAvc(e,t,n,i,r,a,o)},O.prototype.decryptAndRemuxAvc=function(e,t,n,i,r,a,o){var s;t.samples?(s=this).sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,n,i,r,a,o)}):this.remuxer.remux(e,t,n,i,r,a,o)},O.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},O.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},O.prototype._parsePMT=function(e,t,n,i){var r,a={audio:-1,avc:-1,id3:-1,isAAC:!0},o=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){switch(r=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){G.b.log("unkown stream type:"+e[t]);break}case 15:-1===a.audio&&(a.audio=r);break;case 21:-1===a.id3&&(a.id3=r);break;case 219:if(!i){G.b.log("unkown stream type:"+e[t]);break}case 27:-1===a.avc&&(a.avc=r);break;case 3:case 4:n?-1===a.audio&&(a.audio=r,a.isAAC=!1):G.b.log("MPEG audio found, not supported in this browser for now");break;case 36:G.b.warn("HEVC stream type found, not supported for now");break;default:G.b.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a},O.prototype._parsePES=function(e){var t,n,i,r,a,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&1<s.length;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1!==((h=s[0])[0]<<16)+(h[1]<<8)+h[2])return null;if((t=(h[4]<<8)+h[5])&&t>e.size-6)return null;192&(n=h[7])&&(4294967295<(i=536870912*(14&h[9])+4194304*(255&h[10])+16384*(254&h[11])+128*(255&h[12])+(254&h[13])/2)&&(i-=8589934592),64&n?(4294967295<(r=536870912*(14&h[14])+4194304*(255&h[15])+16384*(254&h[16])+128*(255&h[17])+(254&h[18])/2)&&(r-=8589934592),54e5<i-r&&(G.b.warn(Math.round((i-r)/9e4)+"s delta between PTS and DTS, align them"),i=r)):r=i),n=h[8],e.size-=a=n+9;for(var u=new Uint8Array(e.size),c=0,d=s.length;c<d;c++){var h,f=(h=s[c]).byteLength;if(a){if(f<a){a-=f;continue}h=h.subarray(a),f-=a,a=0}u.set(h,o),o+=f}return t&&(t-=n+3),{data:u,pts:i,dts:r,len:t}},O.prototype.pushAccesUnit=function(e,t){var n,i;e.units.length&&e.frame&&(i=(n=t.samples).length,!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(i||this.contiguous)?(e.id=i,n.push(e)):t.dropped++),e.debug.length&&G.b.log(e.pts+"/"+e.dts+":"+e.debug)},O.prototype._parseAVCPES=function(h,e){function f(e,t,n,i){return{key:e,pts:t,dts:n,units:[],debug:i}}var p,g,m,y=this,v=this._avcTrack,t=this._parseAVCNALu(h.data),b=this.avcSample,_=!1,T=this.pushAccesUnit.bind(this);h.data=null,b&&t.length&&!v.audFound&&(T(b,v),b=this.avcSample=f(!1,h.pts,h.dts,"")),t.forEach(function(e){switch(e.type){case 1:g=!0,(b=b||(y.avcSample=f(!0,h.pts,h.dts,""))).frame=!0;var t=e.data;_&&4<t.length&&(2!==(t=new S(t).readSliceType())&&4!==t&&7!==t&&9!==t||(b.key=!0));break;case 5:g=!0,(b=b||(y.avcSample=f(!0,h.pts,h.dts,""))).key=!0,b.frame=!0;break;case 6:g=!0,(p=new S(y.discardEPB(e.data))).readUByte();for(var n=0,i=0,r=!1,a=0;!r&&1<p.bytesAvailable;){for(n=0;n+=a=p.readUByte(),255===a;);for(i=0;i+=a=p.readUByte(),255===a;);if(4===n&&0!==p.bytesAvailable){if(r=!0,181===p.readUByte()&&49===p.readUShort()&&1195456820===p.readUInt()&&3===p.readUByte()){var o=p.readUByte(),s=31&o,l=[o,p.readUByte()];for(m=0;m<s;m++)l.push(p.readUByte()),l.push(p.readUByte()),l.push(p.readUByte());y._insertSampleInOrder(y._txtTrack.samples,{type:3,pts:h.pts,bytes:l})}}else if(i<p.bytesAvailable)for(m=0;m<i;m++)p.readUByte()}break;case 7:if(_=g=!0,!v.sps){var t=(p=new S(e.data)).readSPS(),u=(v.width=t.width,v.height=t.height,v.pixelRatio=t.pixelRatio,v.sps=[e.data],v.duration=y._duration,e.data.subarray(1,4)),c="avc1.";for(m=0;m<3;m++){var d=u[m].toString(16);c+=d=d.length<2?"0"+d:d}v.codec=c}break;case 8:g=!0,v.pps||(v.pps=[e.data]);break;case 9:g=!1,v.audFound=!0,b&&T(b,v),b=y.avcSample=f(!1,h.pts,h.dts,"");break;case 12:g=!1;break;default:g=!1,b&&(b.debug+="unknown NAL "+e.type+" ")}b&&g&&b.units.push(e)}),e&&b&&(T(b,v),this.avcSample=null)},O.prototype._insertSampleInOrder=function(e,t){var n=e.length;if(0<n){if(t.pts>=e[n-1].pts)e.push(t);else for(var i=n-1;0<=i;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)},O.prototype._getLastNalUnit=function(){var e,t=this.avcSample,n=void 0;return n=(t=t&&0!==t.units.length?t:(e=this._avcTrack.samples)[e.length-1])?(e=t.units)[e.length-1]:n},O.prototype._parseAVCNALu=function(e){var t,n,i,r,a,o,s,l,u=0,c=e.byteLength,d=this._avcTrack,h=d.naluState||0,f=h,p=[],g=-1;for(-1===h&&(r=31&e[g=0],h=0,u=1);u<c;)t=e[u++],h=h?1!==h?t?1===t?(0<=g?(i={data:e.subarray(g,u-h-1),type:r},p.push(i)):(a=this._getLastNalUnit())&&(f&&u<=4-f&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-f)),0<(n=u-h-1))&&((o=new Uint8Array(a.data.byteLength+n)).set(a.data,0),o.set(e.subarray(0,n),a.data.byteLength),a.data=o),u<c?(r=31&e[g=u],0):-1):0:3:t?0:2:t?0:1;return 0<=g&&0<=h&&(i={data:e.subarray(g,c),type:r,state:h},p.push(i)),0===p.length&&(s=this._getLastNalUnit())&&((l=new Uint8Array(s.data.byteLength+e.byteLength)).set(s.data,0),l.set(e,s.data.byteLength),s.data=l),d.naluState=h,p},O.prototype.discardEPB=function(e){for(var t=e.byteLength,n=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;for(var r=t-n.length,a=new Uint8Array(r),o=0,i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),a[i]=e[o];return a},O.prototype._parseAACPES=function(e){var t,n,i,r,a=this._audioTrack,o=e.data,s=e.pts,e=this.aacOverFlow,l=this.aacLastPTS;for(e&&((c=new Uint8Array(e.byteLength+o.byteLength)).set(e,0),c.set(o,e.byteLength),o=c),n=0,r=o.length;n<r-1&&!p(o,n);n++);if(n){var u,c=n<r-1?(u="AAC PES did not start with ADTS header,offset:"+n,!1):(u="no ADTS header found in AAC PES",!0);if(G.b.warn("parsing error:"+u),this.observer.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:c,reason:u}),c)return}for(g(a,this.observer,o,n,this.audioCodec),t=0,u=h(a.samplerate),e&&l&&(c=l+u,1<Math.abs(c-s)&&(G.b.log("AAC: align PTS for overlapping frames by "+Math.round((c-s)/90)),s=c));n<r;)if(p(o,n)&&n+5<r){var d=m(a,o,n,s,t);if(!d)break;n+=d.length,i=d.sample.pts,t++}else n++;e=n<r?o.subarray(n,r):null,this.aacOverFlow=e,this.aacLastPTS=i},O.prototype._parseMPEGPES=function(e){for(var t=e.data,n=t.length,i=0,r=0,a=e.pts;r<n;)if(b.isHeader(t,r)){var o=b.appendFrame(this._audioTrack,t,r,a,i);if(!o)break;r+=o.length,i++}else r++},O.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)};var R=O;T.prototype.resetInitSegment=function(e,t,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},T.prototype.resetTimeStamp=function(){},T.probe=function(e){var t,n,i=v.a.getID3Data(e,0);if(i&&void 0!==v.a.getTimeStamp(i))for(t=i.length,n=Math.min(e.length-1,t+100);t<n;t++)if(b.probe(e,t))return G.b.log("MPEG Audio sync word found !"),!0;return!1},T.prototype.append=function(e,t,n,i){for(var r=v.a.getID3Data(e,0),a=v.a.getTimeStamp(r),o=a?90*a:9e4*t,s=r.length,l=e.length,u=0,c=0,d=this._audioTrack,h=[{pts:o,dts:o,data:r}];s<l;)if(b.isHeader(e,s)){var f=b.appendFrame(d,e,s,o,u);if(!f)break;s+=f.length,c=f.sample.pts,u++}else v.a.isHeader(e,s)?(r=v.a.getID3Data(e,s),h.push({pts:c,dts:c,data:r}),s+=r.length):s++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,i)},T.prototype.destroy=function(){};var P=T;_.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null};var U=_,o=Math.pow(2,32)-1;f.init=function(){for(var e in f.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})f.types.hasOwnProperty(e)&&(f.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),t=(f.HDLR_TYPES={video:t,audio:n},new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])),n=new Uint8Array([0,0,0,0,0,0,0,0]),n=(f.STTS=f.STSC=f.STCO=n,f.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),f.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),f.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),f.STSD=new Uint8Array([0,0,0,0,0,0,0,1]),new Uint8Array([105,115,111,109])),i=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);f.FTYP=f.box(f.types.ftyp,n,r,n,i),f.DINF=f.box(f.types.dinf,f.box(f.types.dref,t))},f.box=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,a=r;r--;)i+=n[r].byteLength;for((t=new Uint8Array(i))[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),r=0,i=8;r<a;r++)t.set(n[r],i),i+=n[r].byteLength;return t},f.hdlr=function(e){return f.box(f.types.hdlr,f.HDLR_TYPES[e])},f.mdat=function(e){return f.box(f.types.mdat,e)},f.mdhd=function(e,t){t*=e;var n=Math.floor(t/(1+o)),t=Math.floor(t%(1+o));return f.box(f.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t,85,196,0,0]))},f.mdia=function(e){return f.box(f.types.mdia,f.mdhd(e.timescale,e.duration),f.hdlr(e.type),f.minf(e))},f.mfhd=function(e){return f.box(f.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},f.minf=function(e){return"audio"===e.type?f.box(f.types.minf,f.box(f.types.smhd,f.SMHD),f.DINF,f.stbl(e)):f.box(f.types.minf,f.box(f.types.vmhd,f.VMHD),f.DINF,f.stbl(e))},f.moof=function(e,t,n){return f.box(f.types.moof,f.mfhd(e),f.traf(n,t))},f.moov=function(e){for(var t=e.length,n=[];t--;)n[t]=f.trak(e[t]);return f.box.apply(null,[f.types.moov,f.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(f.mvex(e)))},f.mvex=function(e){for(var t=e.length,n=[];t--;)n[t]=f.trex(e[t]);return f.box.apply(null,[f.types.mvex].concat(n))},f.mvhd=function(e,t){t*=e;var n=Math.floor(t/(1+o)),t=Math.floor(t%(1+o)),e=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return f.box(f.types.mvhd,e)},f.sdtp=function(e){for(var t,n=e.samples||[],i=new Uint8Array(4+n.length),r=0;r<n.length;r++)t=n[r].flags,i[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return f.box(f.types.sdtp,i)},f.stbl=function(e){return f.box(f.types.stbl,f.stsd(e),f.box(f.types.stts,f.STTS),f.box(f.types.stsc,f.STSC),f.box(f.types.stsz,f.STSZ),f.box(f.types.stco,f.STCO))},f.avc1=function(e){for(var t,n,i=[],r=[],a=0;a<e.sps.length;a++)n=(t=e.sps[a]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(t));for(a=0;a<e.pps.length;a++)n=(t=e.pps[a]).byteLength,r.push(n>>>8&255),r.push(255&n),r=r.concat(Array.prototype.slice.call(t));var o=f.box(f.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(r))),s=e.width,l=e.height,u=e.pixelRatio[0],c=e.pixelRatio[1];return f.box(f.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,f.box(f.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),f.box(f.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,c>>24,c>>16&255,c>>8&255,255&c])))},f.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},f.mp4a=function(e){var t=e.samplerate;return f.box(f.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]),f.box(f.types.esds,f.esds(e)))},f.mp3=function(e){var t=e.samplerate;return f.box(f.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]))},f.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?f.box(f.types.stsd,f.STSD,f.mp4a(e)):f.box(f.types.stsd,f.STSD,f.mp3(e)):f.box(f.types.stsd,f.STSD,f.avc1(e))},f.tkhd=function(e){var t=e.id,n=e.duration*e.timescale,i=e.width,e=e.height,r=Math.floor(n/(1+o)),n=Math.floor(n%(1+o));return f.box(f.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,e>>8&255,255&e,0,0]))},f.traf=function(e,t){var n=f.sdtp(e),i=e.id,r=Math.floor(t/(1+o)),t=Math.floor(t%(1+o));return f.box(f.types.traf,f.box(f.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),f.box(f.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,t>>24,t>>16&255,t>>8&255,255&t])),f.trun(e,n.length+16+20+8+16+8+8),n)},f.trak=function(e){return e.duration=e.duration||4294967295,f.box(f.types.trak,f.tkhd(e),f.mdia(e))},f.trex=function(e){e=e.id;return f.box(f.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},f.trun=function(e,t){var n,i,r,a,o,s=e.samples||[],l=s.length,e=12+16*l,u=new Uint8Array(e);for(u.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,(t+=8+e)>>>24&255,t>>>16&255,t>>>8&255,255&t],0),n=0;n<l;n++)i=(o=s[n]).duration,r=o.size,a=o.flags,o=o.cts,u.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,o>>>24&255,o>>>16&255,o>>>8&255,255&o],12+16*n);return f.box(f.types.trun,u)},f.initSegment=function(e){f.types||f.init();var e=f.moov(e),t=new Uint8Array(f.FTYP.byteLength+e.byteLength);return t.set(f.FTYP),t.set(e,f.FTYP.byteLength),t};var q=f;d.prototype.destroy=function(){},d.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},d.prototype.resetInitSegment=function(){this.ISGenerated=!1},d.prototype.remux=function(e,t,n,i,r,a,o){var s,l,u,c,d;this.ISGenerated||this.generateIS(e,t,r),this.ISGenerated&&(c=e.samples.length,s=t.samples.length,u=l=r,c&&s&&(d=(e.samples[0].dts-t.samples[0].dts)/t.inputTimeScale,l+=Math.max(0,d),u+=Math.max(0,-d)),c?(e.timescale||(G.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,r)),d=this.remuxAudio(e,l,a,o),s&&(c=void 0,d&&(c=d.endPTS-d.startPTS),t.timescale||(G.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,r)),this.remuxVideo(t,u,a,c,o))):(d=void 0,(d=s?this.remuxVideo(t,u,a,o):d)&&e.codec&&this.remuxEmptyAudio(e,l,a,d))),n.samples.length&&this.remuxID3(n,r),i.samples.length&&this.remuxText(i,r),this.observer.trigger(H.a.FRAG_PARSED)},d.prototype.generateIS=function(e,t,n){var i,r,a=this.observer,o=e.samples,s=t.samples,l=this.typeSupported,u="audio/mp4",c={},d={tracks:c},h=void 0===this._initPTS;h&&(i=r=1/0),e.config&&o.length&&(e.timescale=e.samplerate,G.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(l.mpeg?(u="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3")),c.audio={container:u,codec:e.codec,initSegment:!e.isAAC&&l.mpeg?new Uint8Array:q.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(i=r=o[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&s.length&&(u=t.inputTimeScale,t.timescale=u,c.video={container:"video/mp4",codec:t.codec,initSegment:q.initSegment([t]),metadata:{width:t.width,height:t.height}},h&&(i=Math.min(i,s[0].pts-u*n),r=Math.min(r,s[0].dts-u*n),this.observer.trigger(H.a.INIT_PTS_FOUND,{initPTS:i}))),Object.keys(c).length?(a.trigger(H.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,h&&(this._initPTS=i,this._initDTS=r)):a.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},d.prototype.remuxVideo=function(e,t,n,i,r){var a,o,s=8,l=e.timescale,u=e.samples,c=[],d=u.length,h=this._PTSNormalize,f=this._initDTS,p=this.nextAvcDts,g=this.isSafari,m=(g&&(n|=u.length&&p&&(r&&Math.abs(t-p/l)<.1||Math.abs(u[0].pts-p-f)<l/5)),n||(p=t*l),u.forEach(function(e){e.pts=h(e.pts-f,p),e.dts=h(e.dts-f,p)}),u.sort(function(e,t){var n=e.dts-t.dts,i=e.pts-t.pts;return n||i||e.id-t.id}),u.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0));if(m<0){G.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(m/90)+" ms to overcome this issue");for(var y=0;y<u.length;y++)u[y].dts+=m}var r=u[0],v=Math.max(r.dts,0),b=Math.max(r.pts,0),t=Math.round((v-p)/90);n&&t&&(1<t?G.b.log("AVC:"+t+" ms hole between fragments detected,filling it"):t<-1&&G.b.log("AVC:"+-t+" ms overlapping between fragments detected"),v=p,u[0].dts=v,b=Math.max(b-t,p),u[0].pts=b,G.b.log("Video/PTS/DTS adjusted: "+Math.round(b/90)+"/"+Math.round(v/90)+",delta:"+t+" ms")),r=u[u.length-1],n=Math.max(r.dts,0),t=Math.max(r.pts,0,n),g&&(a=Math.round((n-v)/(u.length-1)));for(var _=0,T=0,S=0;S<d;S++){for(var w=u[S],E=w.units,C=E.length,k=0,D=0;D<C;D++)k+=E[D].data.length;T+=k,_+=C,w.length=k,w.dts=g?v+S*a:Math.max(w.dts,v),w.pts=Math.max(w.pts,w.dts)}r=T+4*_+8;try{o=new Uint8Array(r)}catch(e){return void this.observer.trigger(H.a.ERROR,{type:W.b.MUX_ERROR,details:W.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:r,reason:"fail allocating video mdat "+r})}var A=new DataView(o.buffer);A.setUint32(0,r),o.set(q.types.mdat,4);for(var x=0;x<d;x++){for(var L,O,I,R=u[x],N=R.units,U=0,F=void 0,P=0,j=N.length;P<j;P++){var M=N[P],B=M.data,M=M.data.byteLength;A.setUint32(s,M),s+=4,o.set(B,s),s+=M,U+=4+M}F=g?Math.max(0,a*Math.round((R.pts-R.dts)/a)):(x<d-1?a=u[x+1].dts-R.dts:(O=this.config,L=R.dts-u[0<x?x-1:x].dts,O.stretchShortVideoTrack?(I=O.maxBufferHole,O=O.maxSeekHole,Math.floor(Math.min(I,O)*l)<(I=(i?b+i*l:this.nextAudioPts)-R.pts)?((a=I-L)<0&&(a=L),G.b.log("It is approximately "+I/90+" ms to the next segment; using duration "+a/90+" ms for the last video frame.")):a=L):a=L),Math.round(R.pts-R.dts)),c.push({size:U,duration:a,cts:F,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:R.key?2:1,isNonSync:R.key?0:1}})}this.nextAvcDts=n+a;r=e.dropped,e.len=0,e.nbNalu=0,e.dropped=0,c.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&((n=c[0].flags).dependsOn=2,n.isNonSync=0),e.samples=c,n=q.moof(e.sequenceNumber++,v,e),e.samples=[],n={data1:n,data2:o,startPTS:b/l,endPTS:(t+a)/l,startDTS:v/l,endDTS:this.nextAvcDts/l,type:"video",nb:c.length,dropped:r};return this.observer.trigger(H.a.FRAG_PARSING_DATA,n),n},d.prototype.remuxAudio=function(e,t,n,i){var r,a,o,s,l=e.inputTimeScale,u=e.timescale,c=l/u,d=(e.isAAC?1024:1152)*c,h=this._PTSNormalize,f=this._initDTS,p=!e.isAAC&&this.typeSupported.mpeg,g=e.samples,m=[],y=this.nextAudioPts;if(n|=g.length&&y&&(i&&Math.abs(t-y/l)<.1||Math.abs(g[0].pts-y-f)<20*d),g.forEach(function(e){e.pts=e.dts=h(e.pts-f,t*l)}),0!==(g=g.filter(function(e){return 0<=e.pts})).length){if(n||(y=i?t*l:g[0].pts),e.isAAC)for(var v=this.config.maxAudioFramesDrift,b=0,_=y;b<g.length;){var T=g[b],S=T.pts-_,w=Math.abs(1e3*S/l);if(S<=-v*d)G.b.warn("Dropping 1 audio frame @ "+(_/l).toFixed(3)+"s due to "+Math.round(w)+" ms overlap."),g.splice(b,1),e.len-=T.unit.length;else if(v*d<=S&&w<1e4&&_){var E=Math.round(S/d);G.b.warn("Injecting "+E+" audio frame @ "+(_/l).toFixed(3)+"s due to "+Math.round(1e3*S/l)+" ms gap.");for(var C=0;C<E;C++){var k,D=Math.max(_,0);(k=U.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(G.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),k=T.unit.subarray()),g.splice(b,0,{unit:k,pts:D,dts:D}),e.len+=k.length,_+=d,b++}T.pts=T.dts=_,_+=d,b++}else Math.abs(S),T.pts=T.dts=_,_+=d,b++}for(var A=0,N=g.length;A<N;A++){var x=g[A],L=x.unit,x=x.pts;if(void 0!==s)r.duration=Math.round((x-s)/c);else{var O=Math.round(1e3*(x-y)/l),I=0;if(n&&e.isAAC&&O){if(0<O&&O<1e4)I=Math.round((x-y)/d),G.b.log(O+" ms hole between AAC samples detected,filling it"),0<I&&(k=(k=U.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||L.subarray(),e.len+=I*k.length);else if(O<-12){G.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(y/l).toFixed(3)+"s/"+(x/l).toFixed(3)+"s/"+-O+"ms"),e.len-=L.byteLength;continue}x=y}if(o=x,!(0<e.len))return;var O=p?e.len:e.len+8,R=p?0:8;try{a=new Uint8Array(O)}catch(e){return void this.observer.trigger(H.a.ERROR,{type:W.b.MUX_ERROR,details:W.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:O,reason:"fail allocating audio mdat "+O})}p||(new DataView(a.buffer).setUint32(0,O),a.set(q.types.mdat,4));for(var P=0;P<I;P++)(k=U.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(G.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),k=L.subarray()),a.set(k,R),R+=k.byteLength,r={size:k.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},m.push(r)}a.set(L,R);O=L.byteLength;R+=O,m.push(r={size:O,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}}),s=x}var M,u=0,i=m.length;return(2<=i&&(u=m[i-2].duration,r.duration=u),i)?(this.nextAudioPts=y=s+c*u,e.len=0,e.samples=m,u=p?new Uint8Array:q.moof(e.sequenceNumber++,o/c,e),e.samples=[],this.observer.trigger(H.a.FRAG_PARSING_DATA,u={data1:u,data2:a,startPTS:u=o/l,endPTS:M=y/l,startDTS:u,endDTS:M,type:"audio",nb:i}),u):null}},d.prototype.remuxEmptyAudio=function(e,t,n,i){var r=e.inputTimeScale,a=e.samplerate||r,o=this.nextAudioPts,s=(void 0!==o?o:i.startDTS*r)+this._initDTS,o=i.endDTS*r+this._initDTS,l=1024*(r/a),u=Math.ceil((o-s)/l),c=U.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(G.b.warn("remux empty Audio"),c){for(var d=[],h=0;h<u;h++){var f=s+h*l;d.push({unit:c,pts:f,dts:f}),e.len+=c.length}e.samples=d,this.remuxAudio(e,t,n)}else G.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},d.prototype.remuxID3=function(e,t){var n,i=e.samples.length,r=e.inputTimeScale,a=this._initPTS,o=this._initDTS;if(i){for(var s=0;s<i;s++)(n=e.samples[s]).pts=(n.pts-a)/r,n.dts=(n.dts-o)/r;this.observer.trigger(H.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},d.prototype.remuxText=function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var n,i=e.samples.length,r=e.inputTimeScale,a=this._initPTS;if(i){for(var o=0;o<i;o++)(n=e.samples[o]).pts=(n.pts-a)/r;this.observer.trigger(H.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},d.prototype._PTSNormalize=function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;4294967296<Math.abs(e-t);)e+=n;return e};var C=d;c.prototype.destroy=function(){},c.prototype.resetTimeStamp=function(){},c.prototype.resetInitSegment=function(){},c.prototype.remux=function(e,t,n,i,r,a,o,s){var l=this.observer,u="";e&&(u+="audio"),t&&(u+="video"),l.trigger(H.a.FRAG_PARSING_DATA,{data1:s,startPTS:r,startDTS:r,type:u,nb:1,dropped:0}),l.trigger(H.a.FRAG_PARSED)};var M=c;function r(e,t,n,i){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.observer=e,this.typeSupported=t,this.config=n,this.vendor=i}function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.observer=e}function d(e,t,n,i){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.observer=e,this.config=t,this.typeSupported=n;e=navigator.userAgent;this.isSafari=i&&-1<i.indexOf("Apple")&&e&&!e.match("CriOS"),this.ISGenerated=!1}function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function")}function _(){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function")}function T(e,t,n){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");this.observer=e,this.config=n,this.remuxer=t}function O(e,t,n,i){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");this.observer=e,this.config=n,this.typeSupported=i,this.remuxer=t,this.sampleAes=null}function k(e,t,n,i){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this.decryptdata=n,this.discardEPB=i,this.decrypter=new y.a(e,t)}function D(e){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}function A(e,t){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.observer=e,this.remuxer=t}function x(e,t,n){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.observer=e,this.config=n,this.remuxer=t}r.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},r.prototype.push=function(e,n,i,r,a,o,s,l,u,c,d,h){if(0<e.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method){var t=this.decrypter;null==t&&(t=this.decrypter=new y.a(this.observer,this.config));var f,p=this;try{f=performance.now()}catch(e){f=Date.now()}t.decrypt(e,n.key.buffer,n.iv.buffer,function(e){var t;try{t=performance.now()}catch(e){t=Date.now()}p.observer.trigger(H.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:t}}),p.pushDecrypted(new Uint8Array(e),n,new Uint8Array(i),r,a,o,s,l,u,c,d,h)})}else this.pushDecrypted(new Uint8Array(e),n,new Uint8Array(i),r,a,o,s,l,u,c,d,h)},r.prototype.pushDecrypted=function(e,t,n,i,r,a,o,s,l,u,c,d){if(!(T=this.demuxer)||o&&!this.probe(e)){for(var h=this.observer,f=this.typeSupported,p=this.config,g=[{demux:R,remux:C},{demux:E,remux:M},{demux:w,remux:C},{demux:P,remux:C}],m=0,y=g.length;m<y;m++){var v=g[m],b=v.demux.probe;if(b(e)){var _=this.remuxer=new v.remux(h,p,f,this.vendor),T=new v.demux(h,_,p,f);this.probe=b;break}}if(!T)return void h.trigger(H.a.ERROR,{type:W.b.MEDIA_ERROR,details:W.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=T}var S=this.remuxer;(o||s)&&(T.resetInitSegment(n,i,r,u),S.resetInitSegment()),o&&(T.resetTimeStamp(d),S.resetTimeStamp(d)),"function"==typeof T.setDecryptData&&T.setDecryptData(t),T.append(e,a,l,c)},e.a=r},function(N,U,e){"use strict";function F(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}function H(e,t,n){var i=e[t],e=e[n],r=e.startPTS;isNaN(r)?e.start=t<n?i.start+i.duration:Math.max(i.start-e.duration,0):t<n?(i.duration=r-i.start,i.duration<0&&T.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(e.duration=i.start-r,e.duration<0&&T.b.warn("negative duration computed for frag "+e.sn+",level "+e.level+", there should be some duration drift between playlist and fragment!"))}function W(e,t,n,i,r,a){var o,s,l=n,u=(isNaN(t.startPTS)||(u=Math.abs(t.startPTS-n),isNaN(t.deltaPTS)?t.deltaPTS=u:t.deltaPTS=Math.max(u,t.deltaPTS),l=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),i=Math.max(i,t.endPTS),r=Math.min(r,t.startDTS),a=Math.max(a,t.endDTS)),n-t.start),l=(t.start=t.startPTS=n,t.maxStartPTS=l,t.endPTS=i,t.startDTS=r,t.endDTS=a,t.duration=i-n,t.sn);if(!e||l<e.startSN||l>e.endSN)return 0;for(r=l-e.startSN,(o=e.fragments)[r]=t,s=r;0<s;s--)H(o,s,s-1);for(s=r;s<o.length-1;s++)H(o,s,s+1);return e.PTSKnown=!0,u}function G(e,t){var n,i=Math.max(e.startSN,t.startSN)-t.startSN,r=Math.min(e.endSN,t.endSN)-t.startSN,a=t.startSN-e.startSN,o=e.fragments,s=t.fragments,l=0;if(r<i)return t.PTSKnown=!1;for(var u=i;u<=r;u++){var c=o[a+u],d=s[u];d&&c&&(l=c.cc-d.cc,isNaN(c.startPTS)||(d.start=d.startPTS=c.startPTS,d.endPTS=c.endPTS,d.duration=c.duration,d.backtracked=c.backtracked,d.dropped=c.dropped,n=d))}if(l)for(T.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<s.length;u++)s[u].cc+=l;if(n)W(t,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(0<=a&&a<o.length)for(var h=o[a].start,u=0;u<s.length;u++)s[u].start+=h;t.PTSKnown=e.PTSKnown}function q(e,t){var e=e.fragments,t=t.fragments;{if(t.length&&e.length)return(e=function(e,t){for(var n=null,i=0;i<e.length;i+=1){var r=e[i];if(r&&r.cc===t){n=r;break}}return n}(e,t[0].cc))&&e.startPTS?e:void T.b.log("No frag in previous level to align on");T.b.log("No fragments to align")}}function V(n,e){e.fragments.forEach(function(e){var t;e&&(t=e.start+n,e.start=e.startPTS=t,e.endPTS=t+e.duration)}),e.PTSKnown=!0}function Y(e,t,n){var i,r,a;e=e,a=n,r=!1,(r=!!((i=t)&&i.details&&a&&(a.endCC>a.startCC||e&&e.cc<a.startCC))||r)&&(i=q(t.details,n))&&(T.b.log("Adjusting PTS using last level due to CC increase within current level"),V(i.start,n)),!1===n.PTSKnown&&t&&t.details&&(e=t.details.programDateTime,a=(n.programDateTime-e)/1e3+t.details.fragments[0].start,isNaN(a)||(T.b.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),V(a,n)))}function z(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Be,this.regionList=[]}function $(){this.values=Object.create(null)}function K(e,t,n,i){var r,a,o=i?e.split(i):[e];for(r in o)"string"!=typeof o[r]||2===(a=o[r].split(n)).length&&t(a[0],a[1])}function X(n,e,a){function t(){var e=(e=(e=n).match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/))?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null;function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}if(null===e)throw new Error("Malformed timestamp: "+s);return n=n.replace(/^[^\sa-zA-Z-]+/,""),e}function i(){n=n.replace(/^\s+/,"")}var r,o,s=n;if(i(),e.startTime=t(),i(),"--\x3e"!==n.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);n=n.substr(3),i(),e.endTime=t(),i(),r=n,e=e,o=new $,K(r,function(e,t){switch(e){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===t){o.set(e,a[n].region);break}break;case"vertical":o.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),r=i[0];o.integer(e,r),o.percent(e,r)&&o.set("snapToLines",!1),o.alt(e,r,["auto"]),2===i.length&&o.alt("lineAlign",i[1],["start",pt,"end"]);break;case"position":i=t.split(","),o.percent(e,i[0]),2===i.length&&o.alt("positionAlign",i[1],["start",pt,"end","line-left","line-right","auto"]);break;case"size":o.percent(e,t);break;case"align":o.alt(e,t,["start",pt,"end","left","right"])}},/:/,/\s/),e.region=o.get("region",null),e.vertical=o.get("vertical",""),"auto"===(r=o.get("line","auto"))&&-1===ft.line&&(r=-1),e.line=r,e.lineAlign=o.get("lineAlign","start"),e.snapToLines=o.get("snapToLines",!0),e.size=o.get("size",100),e.align=o.get("align",pt),"auto"===(r=o.get("position","auto"))&&50===ft.position&&(r="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=r}function Q(e){return e.replace(/<br(?: \/)?>/gi,"\n")}function J(e,t,n,i){for(var r,a,o,s,l,u=window.VTTCue||window.TextTrackCue,c=0;c<i.rows.length;c++)if(o=!0,s=0,l="",!(r=i.rows[c]).isEmpty()){for(var d=0;d<r.chars.length;d++)r.chars[d].uchar.match(/\s/)&&o?s++:(l+=r.chars[d].uchar,o=!1);(r.cueStartTime=t)===n&&(n+=1e-4),a=new u(t,n,Q(l.trim())),16<=s?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=c+1:a.line=7<c?c-2:c+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){if(e&&e.cues)for(;0<e.cues.length;)e.removeCue(e.cues[0])}function Z(e){for(var t=[],n=0;n<e.length;n++)"subtitles"===e[n].kind&&t.push(e[n]);return t}Object.defineProperty(U,"__esModule",{value:!0});var ee={},t=(e.d(ee,"newCue",function(){return J}),e(6)),r=e.n(t),b=e(1),_=e(2),T=e(0),te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};v.prototype.destroy=function(){this.unregisterListeners()},v.prototype.isEventHandler=function(){return"object"===te(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},v.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)},this)},v.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},v.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},v.prototype.onEventGeneric=function(e,t){try{!function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}.call(this,e,t).call()}catch(t){T.b.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(b.a.ERROR,{type:_.b.OTHER_ERROR,details:_.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}};var s=v,ne=/^(\d+)x(\d+)$/,ie=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;y.prototype.decimalInteger=function(e){e=parseInt(this[e],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},y.prototype.hexadecimalInteger=function(e){if(this[e]){for(var t=(1&(t=(this[e]||"0x").slice(2)).length?"0":"")+t,n=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)n[i]=parseInt(t.slice(2*i,2*i+2),16);return n}return null},y.prototype.hexadecimalIntegerAsNumber=function(e){e=parseInt(this[e],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},y.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},y.prototype.enumeratedString=function(e){return this[e]},y.prototype.decimalResolution=function(e){e=ne.exec(this[e]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},y.parseAttrList=function(e){var t,n={};for(ie.lastIndex=0;null!==(t=ie.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[t[1]]=i}return n};var S=y,re={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},t=function(e,t,n){return t&&dt(e.prototype,t),n&&dt(e,n),e},ae=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,oe=/#EXT-X-MEDIA:(.*)/g,se=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),le=(t(ct,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=r.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),ct),ue=(m.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},m.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new le).method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n},m.prototype.cloneObj=function(e){return JSON.parse(JSON.stringify(e))},t(m,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=r.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){var e,t,n;return this._byteRange||(e=this._byteRange=[],this.rawByteRange&&(1===(t=this.rawByteRange.split("@",2)).length?(n=this.lastByteRangeEndOffset,e[0]=n||0):e[0]=parseInt(t[1]),e[1]=parseInt(t[0])+e[0])),this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),m),ce=function(t){function n(e){j(this,n);e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.MANIFEST_LOADING,b.a.LEVEL_LOADING,b.a.AUDIO_TRACK_LOADING,b.a.SUBTITLE_TRACK_LOADING));return e.loaders={},e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype.destroy=function(){for(var e in this.loaders){e=this.loaders[e];e&&e.destroy()}this.loaders={},s.prototype.destroy.call(this)},n.prototype.onManifestLoading=function(e){this.load(e.url,{type:"manifest"})},n.prototype.onLevelLoading=function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})},n.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:"audioTrack",id:e.id})},n.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})},n.prototype.load=function(e,t){var n=this.loaders[t.type];if(void 0!==n){var i=n.context;if(i&&i.url===e)return void T.b.trace("playlist request ongoing");T.b.warn("abort previous loader for type:"+t.type),n.abort()}var i=this.hls.config,r=void 0,a=void 0,o=void 0,s=void 0,i=("manifest"===t.type?(r=i.manifestLoadingMaxRetry,a=i.manifestLoadingTimeOut,o=i.manifestLoadingRetryDelay,s=i.manifestLoadingMaxRetryTimeout):"level"===t.type?(r=0,a=i.levelLoadingTimeOut):(r=i.levelLoadingMaxRetry,a=i.levelLoadingTimeOut,o=i.levelLoadingRetryDelay,s=i.levelLoadingMaxRetryTimeout,T.b.log("loading playlist for "+t.type+" "+(t.level||t.id))),n=this.loaders[t.type]=t.loader=new(void 0!==i.pLoader?i.pLoader:i.loader)(i),t.url=e,t.responseType="",{timeout:a,maxRetry:r,retryDelay:o,maxRetryDelay:s}),e={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};n.load(t,i,e)},n.prototype.resolve=function(e,t){return r.a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},n.prototype.parseMasterPlaylist=function(e,t){var n=[];for(ae.lastIndex=0;null!=(a=ae.exec(e));){var i={},r=i.attrs=new S(a[1]),a=(i.url=this.resolve(a[2],t),r.decimalResolution("RESOLUTION"));a&&(i.width=a.width,i.height=a.height),i.bitrate=r.decimalInteger("AVERAGE-BANDWIDTH")||r.decimalInteger("BANDWIDTH"),i.name=r.NAME,function(i,r){["video","audio"].forEach(function(n){var e,t=i.filter(function(e){return e=e,!!(t=re[t=n])&&!0===t[e.slice(0,4)];var t});t.length&&(e=t.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}),r[n+"Codec"]=(0<e.length?e:t)[0],i=i.filter(function(e){return-1===t.indexOf(e)}))}),r.unknownCodecs=i}([].concat((r.CODECS||"").split(/[ ,]+/)),i),i.videoCodec&&-1!==i.videoCodec.indexOf("avc1")&&(i.videoCodec=this.avc1toavcoti(i.videoCodec)),n.push(i)}return n},n.prototype.parseMasterPlaylistMedia=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],r=[],a=0;for(oe.lastIndex=0;null!==(s=oe.exec(e));){var o={},s=new S(s[1]);s.TYPE===n&&(o.groupId=s["GROUP-ID"],o.name=s.NAME,o.type=n,o.default="YES"===s.DEFAULT,o.autoselect="YES"===s.AUTOSELECT,o.forced="YES"===s.FORCED,s.URI&&(o.url=this.resolve(s.URI,t)),o.lang=s.LANGUAGE,o.name||(o.name=o.lang),i.length&&(s=function(e,t){if(!e)return null;for(var n=null,i=0;i<e.length;i++){var r=e[i];r.id===t&&(n=r)}return n}(i,o.groupId),o.audioCodec=(s||i[0]).codec),o.id=a++,r.push(o))}return r},n.prototype.avc1toavcoti=function(e){var t,n=e.split(".");return 2<n.length?(t=n.shift()+".",t=(t+=parseInt(n.shift()).toString(16))+("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},n.prototype.parseLevelPlaylist=function(e,t,n,i){var r,a,o=0,s=0,l={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},u=new le,c=0,d=null,h=new ue;for(se.lastIndex=0;null!==(r=se.exec(e));){var f=r[1];if(f){h.duration=parseFloat(f);var p=(" "+r[2]).slice(1);h.title=p||null,h.tagList.push(p?["INF",f,p]:["INF",f])}else if(r[3])isNaN(h.duration)||(p=o++,h.type=i,h.start=s,h.levelkey=u,h.sn=p,h.level=n,h.cc=c,h.baseurl=t,h.relurl=(" "+r[3]).slice(1),l.fragments.push(h),s+=(d=h).duration,h=new ue);else if(r[4])h.rawByteRange=(" "+r[4]).slice(1),d&&(f=d.byteRangeEndOffset)&&(h.lastByteRangeEndOffset=f);else if(r[5])h.rawProgramDateTime=(" "+r[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(r[5]))-1e3*s));else{for(r=r[0].match(/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/),a=1;a<r.length&&void 0===r[a];a++);var g=(" "+r[a+1]).slice(1),m=(" "+r[a+2]).slice(1);switch(r[a]){case"#":h.tagList.push(m?[g,m]:[g]);break;case"PLAYLIST-TYPE":l.type=g.toUpperCase();break;case"MEDIA-SEQUENCE":o=l.startSN=parseInt(g);break;case"TARGETDURATION":l.targetduration=parseFloat(g);break;case"VERSION":l.version=parseInt(g);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":c++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(g);break;case"KEY":var y=new S(g),v=y.enumeratedString("METHOD"),b=y.URI,y=y.hexadecimalInteger("IV");v&&(u=new le,b&&0<=["AES-128","SAMPLE-AES"].indexOf(v)&&(u.method=v,u.baseuri=t,u.reluri=b,u.key=null,u.iv=y));break;case"START":v=new S(g).decimalFloatingPoint("TIME-OFFSET");isNaN(v)||(l.startTimeOffset=v);break;case"MAP":b=new S(g);h.relurl=b.URI,h.rawByteRange=b.BYTERANGE,h.baseurl=t,h.level=n,h.type=i,h.sn="initSegment",l.initSegment=h,h=new ue;break;default:T.b.warn("line parsed but not handled: "+r)}}}return(h=d)&&!h.relurl&&(l.fragments.pop(),s-=h.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=o-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=c,l},n.prototype.loadsuccess=function(e,t,n){var i,r,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=e.data,e=e.url,s=n.type,l=n.id,u=n.level,c=this.hls;(this.loaders[s]=void 0)!==e&&0!==e.indexOf("data:")||(e=n.url),t.tload=performance.now(),0===o.indexOf("#EXTM3U")?0<o.indexOf("#EXTINF:")?(n="audioTrack"!==s&&"subtitleTrack"!==s,i=isNaN(u)?isNaN(l)?0:l:u,(i=this.parseLevelPlaylist(o,e,i,"audioTrack"===s?"audio":"subtitleTrack"===s?"subtitle":"main")).tload=t.tload,"manifest"===s&&c.trigger(b.a.MANIFEST_LOADED,{levels:[{url:e,details:i}],audioTracks:[],url:e,stats:t,networkDetails:a}),t.tparsed=performance.now(),i.targetduration?n?c.trigger(b.a.LEVEL_LOADED,{details:i,level:u||0,id:l||0,stats:t,networkDetails:a}):"audioTrack"===s?c.trigger(b.a.AUDIO_TRACK_LOADED,{details:i,id:l,stats:t,networkDetails:a}):"subtitleTrack"===s&&c.trigger(b.a.SUBTITLE_TRACK_LOADED,{details:i,id:l,stats:t,networkDetails:a}):c.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.MANIFEST_PARSING_ERROR,fatal:!0,url:e,reason:"invalid targetduration",networkDetails:a})):(n=this.parseMasterPlaylist(o,e)).length?(u=n.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),s=this.parseMasterPlaylistMedia(o,e,"AUDIO",u),i=this.parseMasterPlaylistMedia(o,e,"SUBTITLES"),s.length&&(r=!1,s.forEach(function(e){e.url||(r=!0)}),!1===r&&n[0].audioCodec&&!n[0].attrs.AUDIO&&(T.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),s.unshift({type:"main",name:"main"}))),c.trigger(b.a.MANIFEST_LOADED,{levels:n,audioTracks:s,subtitles:i,url:e,stats:t,networkDetails:a})):c.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.MANIFEST_PARSING_ERROR,fatal:!0,url:e,reason:"no level found in manifest",networkDetails:a}):c.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.MANIFEST_PARSING_ERROR,fatal:!0,url:e,reason:"no EXTM3U delimiter",networkDetails:a})},n.prototype.loaderror=function(e,t){var n,i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=t.loader;switch(t.type){case"manifest":n=_.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":n=_.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":n=_.a.AUDIO_TRACK_LOAD_ERROR,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:n,fatal:i,url:a.url,loader:a,response:e,context:t,networkDetails:r})},n.prototype.loadtimeout=function(e,t){var n,i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=t.loader;switch(t.type){case"manifest":n=_.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":n=_.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":n=_.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:n,fatal:i,url:a.url,loader:a,context:t,networkDetails:r})},n}(s),de=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.FRAG_LOADING));return e.loaders={},e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype.destroy=function(){var e,t=this.loaders;for(e in t){var n=t[e];n&&n.destroy()}this.loaders={},s.prototype.destroy.call(this)},n.prototype.onFragLoading=function(e){var e=e.frag,t=e.type,n=this.loaders[t],i=this.hls.config,t=(e.loaded=0,n&&(T.b.warn("abort previous fragment loader for type:"+t),n.abort()),n=this.loaders[t]=e.loader=new(void 0!==i.fLoader?i.fLoader:i.loader)(i),void 0),t={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1},r=e.byteRangeStartOffset,e=e.byteRangeEndOffset;isNaN(r)||isNaN(e)||(t.rangeStart=r,t.rangeEnd=e),r={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},e={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(t,r,e)},n.prototype.loadsuccess=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,e=e.data,n=n.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(b.a.FRAG_LOADED,{payload:e,frag:n,stats:t,networkDetails:i})},n.prototype.loaderror=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},n.prototype.loadtimeout=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},n.prototype.loadprogress=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,t=t.frag;t.loaded=e.loaded,this.hls.trigger(b.a.FRAG_LOAD_PROGRESS,{frag:t,stats:e,networkDetails:i})},n}(s),he=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.KEY_LOADING));return e.loaders={},e.decryptkey=null,e.decrypturl=null,e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype.destroy=function(){for(var e in this.loaders){e=this.loaders[e];e&&e.destroy()}this.loaders={},s.prototype.destroy.call(this)},n.prototype.onKeyLoading=function(e){var t,n,e=e.frag,i=e.type,r=this.loaders[i],a=e.decryptdata,o=a.uri;o!==this.decrypturl||null===this.decryptkey?(t=this.hls.config,r&&(T.b.warn("abort previous key loader for type:"+i),r.abort()),e.loader=this.loaders[i]=new t.loader(t),this.decrypturl=o,r=void(this.decryptkey=null),n=i=void 0,r={url:o,frag:e,responseType:"arraybuffer"},i={timeout:t.fragLoadingTimeOut,maxRetry:t.fragLoadingMaxRetry,retryDelay:t.fragLoadingRetryDelay,maxRetryDelay:t.fragLoadingMaxRetryTimeout},n={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(r,i,n)):this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(b.a.KEY_LOADED,{frag:e}))},n.prototype.loadsuccess=function(e,t,n){n=n.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(b.a.KEY_LOADED,{frag:n})},n.prototype.loaderror=function(e,t){var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},n.prototype.loadtimeout=function(e,t){var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(b.a.ERROR,{type:_.b.NETWORK_ERROR,details:_.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},n}(s),w={search:function(e,t){for(var n=0,i=e.length-1;n<=i;){var r,a,o=t(a=e[r=(n+i)/2|0]);if(0<o)n=1+r;else{if(!(o<0))return a;i=r-1}}return null}},E={isBuffered:function(e,t){try{if(e)for(var n=e.buffered,i=0;i<n.length;i++)if(t>=n.start(i)&&t<=n.end(i))return!0}catch(e){}return!1},bufferInfo:function(e,t,n){try{if(e){for(var i=e.buffered,r=[],a=0;a<i.length;a++)r.push({start:i.start(a),end:i.end(a)});return this.bufferedInfo(r,t,n)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,n){var i,r,a,o,s,l=[];for(e.sort(function(e,t){return e.start-t.start||t.end-e.end}),s=0;s<e.length;s++){var u,c=l.length;c?(u=l[c-1].end,e[s].start-u<n?e[s].end>u&&(l[c-1].end=e[s].end):l.push(e[s])):l.push(e[s])}for(i=s=0,r=a=t;s<l.length;s++){var d=l[s].start,h=l[s].end;if(d<=t+n&&t<h)r=d,i=(a=h)-t;else if(t+n<d){o=d;break}}return{len:i,start:r,end:a,nextStart:o}}},fe=e(7),t=e(5),pe=e.n(t),t=e(9),ge=e.n(t),me=B();g.prototype.destroy=function(){var e=this.w,e=(e?(e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null):(e=this.demuxer)&&(e.destroy(),this.demuxer=null),this.observer);e&&(e.removeAllListeners(),this.observer=null)},g.prototype.push=function(e,t,n,i,r,a,o,s){var l=this.w,u=isNaN(r.startDTS)?r.start:r.startDTS,c=r.decryptdata,d=this.frag,h=!(d&&r.cc===d.cc),f=!(d&&r.level===d.level),d=d&&r.sn===d.sn+1,d=!f&&d;h&&T.b.log(this.id+":discontinuity detected"),f&&T.b.log(this.id+":switch detected"),this.frag=r,l?l.postMessage({cmd:"demux",data:e,decryptdata:c,initSegment:t,audioCodec:n,videoCodec:i,timeOffset:u,discontinuity:h,trackSwitch:f,contiguous:d,duration:a,accurateTimeOffset:o,defaultInitPTS:s},e instanceof ArrayBuffer?[e]:[]):(r=this.demuxer)&&r.push(e,c,t,n,i,u,h,f,d,a,o,s)},g.prototype.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case b.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}};var ye=g,ve={toString:function(e){for(var t="",n=e.length,i=0;i<n;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}},be=function(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),e},l="STOPPED",u="IDLE",_e="KEY_LOADING",Te="FRAG_LOADING",Se="FRAG_LOADING_WAITING_RETRY",we="WAITING_LEVEL",c="PARSING",Ee="PARSED",Ce="BUFFER_FLUSHING",ke="ENDED",d="ERROR",De=function(n){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,e,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.MANIFEST_LOADING,b.a.MANIFEST_PARSED,b.a.LEVEL_LOADED,b.a.KEY_LOADED,b.a.FRAG_LOADED,b.a.FRAG_LOAD_EMERGENCY_ABORTED,b.a.FRAG_PARSING_INIT_SEGMENT,b.a.FRAG_PARSING_DATA,b.a.FRAG_PARSED,b.a.ERROR,b.a.AUDIO_TRACK_SWITCHING,b.a.AUDIO_TRACK_SWITCHED,b.a.BUFFER_CREATED,b.a.BUFFER_APPENDED,b.a.BUFFER_FLUSHED));return t.config=e.config,t.audioCodecSwap=!1,t.ticks=0,t._state=l,t.ontick=t.tick.bind(t),t}var e=i,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),s.prototype.destroy.call(this),this.state=l},i.prototype.startLoad=function(e){var t,n,i;this.levels?(t=this.lastCurrentTime,n=this.hls,this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,this.startFragRequested||(-1===(i=n.startLevel)&&(this.bitrateTest=!(i=0)),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1),0<t&&-1===e&&(T.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=u,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()):(this.forceStartLoad=!0,this.state=l)},i.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=l,this.forceStartLoad=!1},i.prototype.tick=function(){1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},i.prototype.doTick=function(){switch(this.state){case d:break;case Ce:this.fragLoadError=0;break;case u:this._doTickIdle();break;case we:var e=this.levels[this.level];e&&e.details&&(this.state=u);break;case Se:var e=performance.now(),t=this.retryDate;(!t||t<=e||this.media&&this.media.seeking)&&(T.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=u)}this._checkBuffer(),this._checkFragmentChanged()},i.prototype._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var i=this.loadedmetadata?n.currentTime:this.nextLoadPosition,r=e.nextLoadLevel,a=this.levels[r];if(a){var o=a.bitrate,s=void 0,s=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,o=(s=Math.min(s,t.maxMaxBufferLength),E.bufferInfo(this.mediaBuffer||n,i,t.maxBufferHole)),t=o.len;if(!(s<=t)){T.b.trace("buffer length of "+t.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=r;t=a.details;if(void 0===t||!0===t.live&&this.levelLastLoaded!==r)this.state=we;else{s=this.fragPrevious;if(!t.live&&s&&!s.backtracked&&s.sn===t.endSN&&!o.nextStart)if(Math.min(n.duration,s.start+s.duration)-Math.max(o.end,s.start)<=Math.max(.2,s.duration))return e={},this.altAudio&&(e.type="video"),this.hls.trigger(b.a.BUFFER_EOS,e),void(this.state=ke);this._fetchPayloadOrEos(i,o,t)}}}}},i.prototype._fetchPayloadOrEos=function(e,t,n){var i=this.fragPrevious,r=this.level,a=n.fragments,o=a.length;if(0!==o){var s=a[0].start,l=a[o-1].start+a[o-1].duration,t=t.end,u=void 0;if(n.initSegment&&!n.initSegment.data)u=n.initSegment;else if(n.live){var c=this.config.initialLiveManifestSize;if(o<c)return void T.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+c);if(null===(u=this._ensureFragmentAtLivePoint(n,t,s,l,i,a,o)))return}else t<s&&(u=a[0]);(u=u||this._findFragment(s,i,o,a,t,l,n))&&this._loadFragmentOrKey(u,r,n,e,t)}},i.prototype._ensureFragmentAtLivePoint=function(e,t,n,i,r,a,o){var s=this.hls.config,l=this.media,u=void 0,c=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;return t<Math.max(n-s.maxFragLookUpTolerance,i-c)&&(s=this.liveSyncPosition=this.computeLivePosition(n,e),T.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+s.toFixed(3)),t=s,l&&l.readyState&&l.duration>s&&(l.currentTime=s),this.nextLoadPosition=s),e.PTSKnown&&i<t&&l&&l.readyState?null:(this.startFragRequested&&!e.PTSKnown&&(r&&((c=r.sn+1)>=e.startSN&&c<=e.endSN&&(n=a[c-e.startSN],r.cc===n.cc&&T.b.log("live playlist, switching playlist, load frag with next SN: "+(u=n).sn)),u||(u=w.search(a,function(e){return r.cc-e.cc}))&&T.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)),u||(u=a[Math.min(o-1,Math.round(o/2))],T.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))),u)},i.prototype._findFragment=function(e,t,n,i,r,a,o){function s(e){var t=Math.min(d,e.duration+(e.deltaPTS||0));return e.start+e.duration-t<=r?1:e.start-t>r&&e.start?-1:0}var l=this.hls.config,u=void 0,c=void 0,d=l.maxFragLookUpTolerance,h=t?i[t.sn-i[0].sn+1]:void 0;return(c=r<a?(a-d<r&&(d=0),h&&!s(h)?h:w.search(i,s)):i[n-1])&&(a=(u=c).sn-o.startSN,h=t&&u.level===t.level,n=i[a-1],c=i[1+a],t&&u.sn===t.sn&&(h&&!u.backtracked?u.sn<o.endSN?(i=t.deltaPTS)&&i>l.maxBufferHole&&t.dropped&&a?(u=n,T.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):T.b.log("SN just loaded, load next one: "+(u=c).sn):u=null:u.backtracked&&(c&&c.backtracked?(T.b.warn("Already backtracked from fragment "+c.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+c.sn),u=c):(T.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,n?(n.loadCounter&&n.loadCounter--,(u=n).backtracked=!0):a&&(u=null))))),u},i.prototype._loadFragmentOrKey=function(e,t,n,i,r){var a=this.hls,o=a.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(T.b.log("Loading "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t+", currentTime:"+i.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;i=o.fragLoadingLoopThreshold;if(e.loadCounter>i&&Math.abs(this.fragLoadIdx-e.loadIdx)<i)return void a.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e})}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,e.autoLevel=a.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||e.bitrateTest||(this.nextLoadPosition=e.start+e.duration),a.trigger(b.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new ye(a,"main")),void(this.state=Te)}T.b.log("Loading key for "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t),this.state=_e,a.trigger(b.a.KEY_LOADING,{frag:e})},i.prototype.getBufferedFrag=function(t){return w.search(this._bufferedFrags,function(e){return t<e.startPTS?-1:t>e.endPTS?1:0})},i.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},i.prototype._checkFragmentChanged=function(){var e,t,n=this.media;n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),E.isBuffered(n,t)?e=this.getBufferedFrag(t):E.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)&&((n=e)!==this.fragPlaying&&(this.hls.trigger(b.a.FRAG_CHANGED,{frag:n}),t=n.level,this.fragPlaying&&this.fragPlaying.level===t||this.hls.trigger(b.a.LEVEL_SWITCHED,{level:t}),this.fragPlaying=n))},i.prototype.immediateLevelSwitch=function(){T.b.log("immediateLevelSwitch"),this.immediateSwitch||(this.immediateSwitch=!0,e=void 0,(t=this.media)?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e);var e,t=this.fragCurrent;t&&t.loader&&t.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},i.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,E.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},i.prototype.nextLevelSwitch=function(){var e,t,n,i,r=this.media;r&&r.readyState&&((e=i=n=void 0)!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),(i=this.getBufferedFrag(r.currentTime))&&1<i.startPTS&&this.flushMainBuffer(0,i.startPTS-1),n=r.paused?0:(i=this.hls.nextLoadLevel,i=this.levels[i],(t=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*i.bitrate/(1e3*t)+1:0),(e=this.getBufferedFrag(r.currentTime+n))&&(e=this.followingBufferedFrag(e))&&((i=this.fragCurrent)&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(e.maxStartPTS,Number.POSITIVE_INFINITY)))},i.prototype.flushMainBuffer=function(e,t){this.state=Ce;e={startOffset:e,endOffset:t};this.altAudio&&(e.type="video"),this.hls.trigger(b.a.BUFFER_FLUSHING,e)},i.prototype.onMediaAttached=function(e){e=this.media=this.mediaBuffer=e.media,this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended),e=this.config;this.levels&&e.autoStartLoad&&this.hls.startLoad(e.startPosition)},i.prototype.onMediaDetaching=function(){var e=this.media,t=(e&&e.ended&&(T.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),this.levels);t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.prototype.onMediaSeeking=function(){var e,t,n,i=this.media,r=i?i.currentTime:void 0,a=this.config,o=(isNaN(r)||T.b.log("media seeking to "+r.toFixed(3)),this.mediaBuffer||i),o=E.bufferInfo(o,r,this.config.maxBufferHole);this.state===Te?(e=this.fragCurrent,0===o.len&&e&&(n=a.maxFragLookUpTolerance,t=e.start-n,n=e.start+e.duration+n,r<t||n<r?(e.loader&&(T.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=u):T.b.log("seeking outside of buffer but within currently loaded fragment range"))):this.state===ke&&(0===o.len&&(this.fragPrevious=0),this.state=u),i&&(this.lastCurrentTime=r),this.state!==Te&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*a.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=r),this.tick()},i.prototype.onMediaSeeked=function(){var e=this.media,e=e?e.currentTime:void 0;isNaN(e)||T.b.log("media seeked to "+e.toFixed(3)),this.tick()},i.prototype.onMediaEnded=function(){T.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},i.prototype.onManifestLoading=function(){T.b.log("trigger BUFFER_RESET"),this.hls.trigger(b.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},i.prototype.onManifestParsed=function(e){var t,n=!1,i=!1,e=(e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&T.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1,this.config);(e.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(e.startPosition)},i.prototype.onLevelLoaded=function(e){var t,n=e.details,e=e.level,i=this.levels[this.levelLastLoaded],r=this.levels[e],a=n.totalduration,o=0;T.b.log("level "+e+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live?(t=r.details)&&0<n.fragments.length?(G(t,n),o=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,t),n.PTSKnown&&!isNaN(o)?T.b.log("live playlist sliding:"+o.toFixed(3)):(T.b.log("live playlist - outdated PTS, unknown sliding"),Y(this.fragPrevious,i,n))):(T.b.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,Y(this.fragPrevious,i,n)):n.PTSKnown=!1,r.details=n,this.levelLastLoaded=e,this.hls.trigger(b.a.LEVEL_UPDATED,{details:n,level:e}),!1===this.startFragRequested&&(-1!==this.startPosition&&-1!==this.lastCurrentTime||(t=n.startTimeOffset,isNaN(t)?n.live?(this.startPosition=this.computeLivePosition(o,n),T.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(t<0&&(T.b.log("negative start time offset "+t+", count from end of last fragment"),t=o+a+t),T.b.log("start time offset found in playlist, adjust startPosition to "+t),this.startPosition=t),this.lastCurrentTime=this.startPosition),this.nextLoadPosition=this.startPosition),this.state===we&&(this.state=u),this.tick()},i.prototype.onKeyLoaded=function(){this.state===_e&&(this.state=u,this.tick())},i.prototype.onFragLoaded=function(e){var t,n,i,r,a,o=this.fragCurrent,s=e.frag;this.state===Te&&o&&"main"===s.type&&s.level===o.level&&s.sn===o.sn&&(r=e.stats,a=(t=this.levels[o.level]).details,T.b.log("Loaded  "+o.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+o.level),this.bitrateTest=!1,this.stats=r,!0===s.bitrateTest&&this.hls.nextLoadLevel?(this.state=u,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(b.a.FRAG_BUFFERED,{stats:r,frag:o,id:"main"}),this.tick()):"initSegment"===s.sn?(this.state=u,r.tparsed=r.tbuffered=performance.now(),a.initSegment.data=e.payload,this.hls.trigger(b.a.FRAG_BUFFERED,{stats:r,frag:o,id:"main"}),this.tick()):(this.state=c,s=a.totalduration,r=o.level,i=o.sn,n=this.config.defaultAudioCodec||t.audioCodec,this.audioCodecSwap&&(T.b.log("swapping playlist audio codec"),n=(n=void 0===n?this.lastAudioCodec:n)&&(-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,T.b.log("Parsing "+i+" of ["+a.startSN+" ,"+a.endSN+"],level "+r+", cc "+o.cc),i=(i=this.demuxer)||(this.demuxer=new ye(this.hls,"main")),r=!((r=this.media)&&r.seeking)&&(a.PTSKnown||!a.live),a=a.initSegment?a.initSegment.data:[],i.push(e.payload,a,n,t.videoCodec,o,s,r,void 0))),this.fragLoadError=0},i.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===c){var i,r,a=e.tracks;for(i in a.audio&&this.altAudio&&delete a.audio,(r=a.audio)&&(n=this.levels[this.level].audioCodec,t=navigator.userAgent.toLowerCase(),n&&this.audioCodecSwap&&(T.b.log("swapping playlist audio codec"),n=-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===t.indexOf("firefox")&&(n="mp4a.40.5"),-1!==t.indexOf("android")&&"audio/mpeg"!==r.container&&T.b.log("Android: force audio codec to "+(n="mp4a.40.2")),r.levelCodec=n,r.id=e.id),(r=a.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=e.id),this.hls.trigger(b.a.BUFFER_CODECS,a),a){r=a[i],T.b.log("main track:"+i+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;o&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(b.a.BUFFER_APPENDING,{type:i,data:o,parent:"main",content:"initSegment"}))}this.tick()}},i.prototype.onFragParsingData=function(t){var n=this,e=this.fragCurrent,i=t.frag;if(e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&("audio"!==t.type||!this.altAudio)&&this.state===c){var i=this.levels[this.level],r=e;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+e.duration,t.endDTS=t.startDTS+e.duration),T.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(r.dropped=t.dropped,r.dropped)if(r.backtracked)T.b.warn("Already backtracked on this fragment, appending with the gap");else{e=i.details;if(!e||r.sn!==e.startSN)return T.b.warn("missing video frame(s), backtracking fragment"),r.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=u,this.fragPrevious=r,void this.tick();T.b.warn("missing video frame(s) on first frag, appending with gap")}else r.backtracked=!1;var e=W(i.details,r,t.startPTS,t.endPTS,t.startDTS,t.endDTS),a=this.hls;a.trigger(b.a.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:e,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&n.state===c&&(n.appended=!0,n.pendingBuffering=!0,a.trigger(b.a.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},i.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===c&&(this.stats.tparsed=performance.now(),this.state=Ee,this._checkAppendedParsed())},i.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,e=e.id;t||(this.mediaBuffer!==this.media&&(T.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,(t=this.fragCurrent).loader&&(T.b.log("switching to main audio track, cancel main fragment load"),t.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=u),(t=this.hls).trigger(b.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),t.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:e}),this.altAudio=!1)},i.prototype.onAudioTrackSwitched=function(e){var t,e=e.id,e=!!this.hls.audioTracks[e].url;e&&(t=this.videoBuffer)&&this.mediaBuffer!==t&&(T.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t),this.altAudio=e,this.tick()},i.prototype.onBufferCreated=function(e){var t,n=e.tracks,i=void 0,r=void 0,a=!1;for(t in n){var o=n[t];"main"===o.id?(i=o,"video"===(r=t)&&(this.videoBuffer=n[t].buffer)):a=!0}a&&i?(T.b.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},i.prototype.onBufferAppended=function(e){var t;"main"!==e.parent||(t=this.state)!==c&&t!==Ee||(this.pendingBuffering=0<e.pending,this._checkAppendedParsed())},i.prototype._checkAppendedParsed=function(){var e,t,n;this.state!==Ee||this.appended&&this.pendingBuffering||((e=this.fragCurrent)&&(t=this.mediaBuffer||this.media,T.b.log("main buffered : "+ve.toString(t.buffered)),(n=this._bufferedFrags.filter(function(e){return E.isBuffered(t,(e.startPTS+e.endPTS)/2)})).push(e),this._bufferedFrags=n.sort(function(e,t){return e.startPTS-t.startPTS}),this.fragPrevious=e,(n=this.stats).tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(b.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=u),this.tick())},i.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n,i=!!this.media&&E.isBuffered(this.media,this.media.currentTime)&&E.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:case _.a.KEY_LOAD_ERROR:case _.a.KEY_LOAD_TIMEOUT:e.fatal||(this.fragLoadError+1<=this.config.fragLoadingMaxRetry?(n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout),t.loadCounter=0,T.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Se):(T.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=d));break;case _.a.FRAG_LOOP_LOADING_ERROR:e.fatal||(i?(this._reduceMaxBufferLength(t.duration),this.state=u):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=d));break;case _.a.LEVEL_LOAD_ERROR:case _.a.LEVEL_LOAD_TIMEOUT:this.state!==d&&(e.fatal?(this.state=d,T.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==we||(this.state=u));break;case _.a.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==c&&this.state!==Ee||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=u):(T.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},i.prototype._reduceMaxBufferLength=function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,T.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*t.fragLoadingLoopThreshold))},i.prototype._checkBuffer=function(){var e,t,n,i,r,a,o,s,l=this.media,u=this.config;l&&l.readyState&&(e=l.currentTime,n=(o=this.mediaBuffer||l).buffered,!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,t=l.seeking?e:this.startPosition,o=E.isBuffered(o,t),n=n.start(0),o=!o&&Math.abs(t-n)<u.maxSeekHole,e===t&&!o||(T.b.log("target start position:"+t),o&&T.b.log("target start position not buffered, seek to buffered.start(0) "+(t=n)),T.b.log("adjust currentTime from "+e+" to "+t),l.currentTime=t)):this.immediateSwitch?this.immediateLevelSwitchEnd():(o=E.bufferInfo(l,e,0),n=!(l.paused||l.ended||0===l.buffered.length),e!==this.lastCurrentTime?(this.stallReported&&(T.b.warn("playback not stuck anymore @"+e+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0):n&&(t=performance.now(),n=this.hls,this.stalled?(i=t-this.stalled,r=o.len,a=this.nudgeRetry||0,r<=.5&&i>1e3*u.lowBufferWatchdogPeriod?(this.stallReported||(this.stallReported=!0,T.b.warn("playback stalling in low buffer @"+e),n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:r})),s=(o=o.nextStart)-e,o&&s<u.maxSeekHole&&0<s&&(this.nudgeRetry=++a,s=a*u.nudgeOffset,T.b.log("adjust currentTime from "+l.currentTime+" to next buffered @ "+o+" + nudge "+s),l.currentTime=o+s,this.stalled=void 0,n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:o+s-e}))):.5<r&&i>1e3*u.highBufferWatchdogPeriod&&(this.stallReported||(this.stallReported=!0,T.b.warn("playback stalling in high buffer @"+e),n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:r})),this.stalled=void 0,this.nudgeRetry=++a,a<u.nudgeMaxRetry?(s=(o=l.currentTime)+a*u.nudgeOffset,T.b.log("adjust currentTime from "+o+" to "+s),l.currentTime=s,n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_NUDGE_ON_STALL,fatal:!1})):(T.b.error("still stuck in high buffer @"+e+" after "+u.nudgeMaxRetry+", raise fatal error"),n.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_STALLED_ERROR,fatal:!0})))):(this.stalled=t,this.stallReported=!1))))},i.prototype.onFragLoadEmergencyAborted=function(){this.state=u,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},i.prototype.onBufferFlushed=function(){var t=this.mediaBuffer||this.media;this._bufferedFrags=this._bufferedFrags.filter(function(e){return E.isBuffered(t,(e.startPTS+e.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=u,this.fragPrevious=null},i.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},i.prototype.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},be(i,[{key:"state",set:function(e){var t;this.state!==e&&(t=this.state,this._state=e,T.b.log("main stream:"+t+"->"+e),this.hls.trigger(b.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e}))},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){e=this.getBufferedFrag(e.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),i}(s),Ae=function(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),e},xe=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.MANIFEST_LOADED,b.a.LEVEL_LOADED,b.a.FRAG_LOADED,b.a.ERROR));return e.canload=!1,e.currentLevelIndex=null,e.manualLevelIndex=-1,e.timer=null,e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},n.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},n.prototype.stopLoad=function(){this.canload=!1},n.prototype.onManifestLoaded=function(e){var t,n=[],i={},r=null,a=!1,o=!1,s=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),l=[];if(e.levels.forEach(function(e){e.loadError=0,e.fragmentError=!1,a=a||!!e.videoCodec,o=o||!!e.audioCodec||!(!e.attrs||!e.attrs.AUDIO),!0===s&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),void 0===(r=i[e.bitrate])?(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,n.push(e)):r.url.push(e.url)}),n=(n=!0===a&&!0===o?n.filter(function(e){return!!e.videoCodec}):n).filter(function(e){var t=e.audioCodec,e=e.videoCodec;return(!t||F(t))&&(!e||F(e))}),e.audioTracks&&(l=e.audioTracks.filter(function(e){return!e.audioCodec||F(e.audioCodec,"audio")})),0<n.length){t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var u=0;u<n.length;u++)if(n[u].bitrate===t){this._firstLevel=u,T.b.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(b.a.MANIFEST_PARSED,{levels:n,audioTracks:l,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:a,altAudio:0<l.length})}else this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},n.prototype.setLevelInternal=function(e){var t,n=this._levels,i=this.hls;0<=e&&e<n.length?(this.cleanTimer(),this.currentLevelIndex!==e&&(T.b.log("switching to level "+e),(t=n[this.currentLevelIndex=e]).level=e,i.trigger(b.a.LEVEL_SWITCH,t),i.trigger(b.a.LEVEL_SWITCHING,t)),(n=(t=n[e]).details)&&!0!==n.live||(n=t.urlId,i.trigger(b.a.LEVEL_LOADING,{url:t.url[n],level:e,id:n}))):i.trigger(b.a.ERROR,{type:_.b.OTHER_ERROR,details:_.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},n.prototype.onError=function(e){if(!0===e.fatal)e.type===_.b.NETWORK_ERROR&&this.cleanTimer();else{var t=!1,n=!1,i=void 0;switch(e.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:case _.a.FRAG_LOOP_LOADING_ERROR:case _.a.KEY_LOAD_ERROR:case _.a.KEY_LOAD_TIMEOUT:i=e.frag.level,n=!0;break;case _.a.LEVEL_LOAD_ERROR:case _.a.LEVEL_LOAD_TIMEOUT:i=e.context.level,t=!0;break;case _.a.REMUX_ALLOC_ERROR:i=e.level,t=!0}void 0!==i&&this.recoverLevel(e,i,t,n)}},n.prototype.recoverLevel=function(e,t,n,i){var r=this,a=this.hls.config,o=e.details,s=this._levels[t];if(s.loadError++,s.fragmentError=i,!0===n){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return T.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(e.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return r.loadLevel()},a),e.levelRetry=!0,this.levelRetryCount++,T.b.warn("level controller, "+o+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}!0!==n&&!0!==i||(1<(e=s.url.length)&&s.loadError<e?(T.b.warn("level controller, "+o+" for level "+t+": switching to redundant stream id "+s.urlId),s.urlId=(s.urlId+1)%e,s.details=void 0):-1===this.manualLevelIndex?(a=0===t?this._levels.length-1:t-1,T.b.warn("level controller, "+o+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):!0===i&&(T.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},n.prototype.onFragLoaded=function(e){var e=e.frag;void 0!==e&&"main"===e.type&&void 0!==(e=this._levels[e.level])&&(e.fragmentError=!1,e.loadError=0,this.levelRetryCount=0)},n.prototype.onLevelLoaded=function(e){var t,n,i=this,r=e.level;r===this.currentLevelIndex&&(!1===(r=this._levels[r]).fragmentError&&(r.loadError=0,this.levelRetryCount=0),(t=e.details).live?(n=1e3*(t.averagetargetduration||t.targetduration),(r=r.details)&&t.endSN===r.endSN&&(n/=2,T.b.log("same live playlist, reload twice faster")),n-=performance.now()-e.stats.trequest,n=Math.max(1e3,Math.round(n)),T.b.log("live playlist, reload in "+n+" ms"),this.timer=setTimeout(function(){return i.loadLevel()},n)):this.cleanTimer())},n.prototype.loadLevel=function(){var e,t=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&0<t.url.length&&(e=t.urlId,this.hls.trigger(b.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},Ae(n,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){var e;return void 0===this._startLevel?void 0!==(e=this.hls.config.startLevel)?e:this._firstLevel:this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),n}(s),Le=e(3),Oe=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.FRAG_PARSING_METADATA));return e.id3Track=void 0,e.media=void 0,e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype.destroy=function(){s.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(e){this.media=e.media,this.media},n.prototype.onMediaDetaching=function(){this.media=void 0},n.prototype.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var a=Le.a.getID3Frames(n[r].data);if(a){var o=n[r].pts,s=r<n.length-1?n[r+1].pts:t.endPTS;o===s&&(s+=1e-4);for(var l=0;l<a.length;l++){var u,c=a[l];Le.a.isTimeStampFrame(c)||((u=new i(o,s,"")).value=c,this.id3Track.addCue(u))}}}},n}(s);i.prototype.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},i.prototype.getTotalWeight=function(){return this.totalWeight_},i.prototype.getEstimate=function(){var e;return this.alpha_?(e=1-Math.pow(this.alpha_,this.totalWeight_),this.estimate_/e):this.estimate_};var Ie=i;p.prototype.sample=function(e,t){t=8e3*t/(e=Math.max(e,this.minDelayMs_)),e/=1e3;this.fast_.sample(e,t),this.slow_.sample(e,t)},p.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},p.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},p.prototype.destroy=function(){};var Re=p,Pe=function(e,t,n){return t&&st(e.prototype,t),n&&st(e,n),e},t=function(n){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,e,b.a.FRAG_LOADING,b.a.FRAG_LOADED,b.a.FRAG_BUFFERED,b.a.ERROR));return t.lastLoadedFragLevel=0,t._nextAutoLevel=-1,t.hls=e,t.timer=null,t._bwEstimator=null,t.onCheck=t._abandonRulesCheck.bind(t),t}var e=i,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i.prototype.destroy=function(){this.clearTimer(),s.prototype.destroy.call(this)},i.prototype.onFragLoading=function(e){var t,n,i,r,a=e.frag;"main"===a.type&&(this.timer||(this.timer=setInterval(this.onCheck,100)),this._bwEstimator||(t=this.hls,e=e.frag.level,e=t.levels[e].details.live,n=t.config,r=i=void 0,r=e?(i=n.abrEwmaFastLive,n.abrEwmaSlowLive):(i=n.abrEwmaFastVoD,n.abrEwmaSlowVoD),this._bwEstimator=new Re(t,r,i,n.abrEwmaDefaultEstimate)),this.fragCurrent=a)},i.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent,i=n.loader,r=e.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return T.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=i.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var o=performance.now()-a.trequest,s=Math.abs(t.playbackRate);if(o>500*n.duration/s){var l=e.levels,u=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),c=l[n.level],c=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,c=a.total||Math.max(a.loaded,Math.round(n.duration*c/8)),d=t.currentTime,c=(c-a.loaded)/u,h=(E.bufferInfo(t,d,e.config.maxBufferHole).end-d)/s;if(h<2*n.duration/s&&h<c){for(var f=void 0,p=void 0,p=n.level-1;r<p;p--){var g=l[p].realBitrate?Math.max(l[p].realBitrate,l[p].bitrate):l[p].bitrate;if((f=n.duration*g/(6.4*u))<h)break}f<c&&(T.b.warn("loading too slow, abort fragment loading and switch to level "+p+":fragLoadedDelay["+p+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+f.toFixed(1)+"<"+c.toFixed(1)+":"+h.toFixed(1)),e.nextLoadLevel=p,this._bwEstimator.sample(o,a.loaded),i.abort(),this.clearTimer(),e.trigger(b.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}},i.prototype.onFragLoaded=function(e){var t,n,i=e.frag;"main"!==i.type||isNaN(i.sn)||(this.clearTimer(),this.lastLoadedFragLevel=i.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate&&(t=((i=this.hls.levels[i.level]).loaded?i.loaded.bytes:0)+e.stats.loaded,n=(i.loaded?i.loaded.duration:0)+e.frag.duration,i.loaded={bytes:t,duration:n},i.realBitrate=Math.round(8*t/n)),e.frag.bitrateTest&&((i=e.stats).tparsed=i.tbuffered=i.tload,this.onFragBuffered(e)))},i.prototype.onFragBuffered=function(e){var t,n=e.stats,e=e.frag;!0===n.aborted||1!==e.loadCounter||"main"!==e.type||isNaN(e.sn)||e.bitrateTest&&n.tload!==n.tbuffered||(t=n.tparsed-n.trequest,T.b.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(t,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),e.bitrateTest?this.bitrateTestDelay=t/1e3:this.bitrateTestDelay=0)},i.prototype.onError=function(e){switch(e.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},i.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},i.prototype._findBestLevel=function(e,t,n,i,r,a,o,s,l){for(var u=r;i<=u;u--){var c=l[u].details,d=c?c.totalduration/c.fragments.length:t,c=!!c&&c.live,h=u<=e?o*n:s*n,f=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,p=f*d/h;if(T.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(h)+"/"+f+"/"+d+"/"+a+"/"+p),f<h&&(!p||c&&!this.bitrateTestDelay||p<a))return u}return-1},Pe(i,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;t=this._nextABRAutoLevel;return t=-1!==e?Math.min(e,t):t},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,i=e.config,r=e.minAutoLevel,e=e.media,a=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,s=e?e.currentTime:0,l=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,u=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,e=(E.bufferInfo(e,s,i.maxBufferHole).end-s)/l,s=this._findBestLevel(a,o,u,r,t,e,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(0<=s)return s;T.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var c,l=o?Math.min(o,i.maxStarvationDelay):i.maxStarvationDelay,d=i.abrBandWidthFactor,h=i.abrBandWidthUpFactor;return 0==e&&(c=this.bitrateTestDelay)&&(l=(o?Math.min(o,i.maxLoadingDelay):i.maxLoadingDelay)-c,T.b.trace("bitrate test took "+Math.round(1e3*c)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*l)+" ms"),d=h=1),s=this._findBestLevel(a,o,u,r,t,e+l,d,h,n),Math.max(s,0)}}]),i}(s),Me=B(),Ne=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.MEDIA_ATTACHING,b.a.MEDIA_DETACHING,b.a.MANIFEST_PARSED,b.a.BUFFER_RESET,b.a.BUFFER_APPENDING,b.a.BUFFER_CODECS,b.a.BUFFER_EOS,b.a.BUFFER_FLUSHING,b.a.LEVEL_PTS_UPDATED,b.a.LEVEL_UPDATED));return e._msDuration=null,e._levelDuration=null,e._live=null,e._objectUrl=null,e.onsbue=e.onSBUpdateEnd.bind(e),e.onsbe=e.onSBUpdateError.bind(e),e.pendingTracks={},e.tracks={},e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype.destroy=function(){s.prototype.destroy.call(this)},n.prototype.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){t=this.sourceBuffer.audio;if(.1<Math.abs(t.timestampOffset-e.start)){n=t.updating;try{t.abort()}catch(e){n=!0,T.b.warn("can not abort audio buffer: "+e)}n?this.audioTimestampOffset=e.start:(T.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+e.start),t.timestampOffset=e.start)}}},n.prototype.onManifestParsed=function(e){var t=e.audio,n=e.video||e.levels.length&&e.audio,i=0;e.altAudio&&(t||n)&&T.b.log((i=(t?1:0)+(n?1:0))+" sourceBuffer(s) expected"),this.sourceBufferNb=i},n.prototype.onMediaAttaching=function(e){var t,e=this.media=e.media;e&&(t=this.mediaSource=new Me,this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),t.addEventListener("sourceopen",this.onmso),t.addEventListener("sourceended",this.onmse),t.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(t),this._objectUrl=e.src)},n.prototype.onMediaDetaching=function(){T.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){T.b.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):T.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(b.a.MEDIA_DETACHED)},n.prototype.onMediaSourceOpen=function(){T.b.log("media source opened"),this.hls.trigger(b.a.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},n.prototype.checkPendingTracks=function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},n.prototype.onMediaSourceClose=function(){T.b.log("media source closed")},n.prototype.onMediaSourceEnded=function(){T.b.log("media source ended")},n.prototype.onSBUpdateEnd=function(){this.audioTimestampOffset&&(e=this.sourceBuffer.audio,T.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset),this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var n=this.parent,e=this.segments.reduce(function(e,t){return t.parent===n?e+1:e},0);this.hls.trigger(b.a.BUFFER_APPENDED,{parent:n,pending:e}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},n.prototype.onSBUpdateError=function(e){T.b.error("sourceBuffer error:",e),this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferReset=function(){var e,t=this.sourceBuffer;for(e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.prototype.onBufferCodecs=function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},n.prototype.createSourceBuffers=function(e){var t,n=this.sourceBuffer,i=this.mediaSource;for(t in e)if(!n[t]){var r=e[t],a=r.levelCodec||r.codec,o=r.container+";codecs="+a;T.b.log("creating sourceBuffer("+o+")");try{var s=n[t]=i.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[t]={codec:a,container:r.container},r.buffer=s}catch(e){T.b.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:o})}}this.hls.trigger(b.a.BUFFER_CREATED,{tracks:e})},n.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},n.prototype.onBufferAppendFail=function(e){T.b.error("sourceBuffer error:",e.event),this.hls.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferEos=function(e){var t,n=this.sourceBuffer,i=e.type;for(t in n)i&&t!==i||n[t].ended||(n[t].ended=!0,T.b.log(t+" sourceBuffer now EOS"));this.checkEos()},n.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){n=e[n];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}T.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){T.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},n.prototype.onLevelUpdated=function(e){e=e.details;0<e.fragments.length&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},n.prototype.updateMediaElementDuration=function(){var e,t=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(T.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||e===1/0||isNaN(e))&&(T.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var i in n)t+=n[i].buffered.length}catch(e){T.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(b.a.BUFFER_FLUSHED)}},n.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void T.b.error("trying to append although a media error occured, flush segment and abort");if(!this.appending&&(n&&n.length)){var i=n.shift();try{var r=t[i.type];r?r.updating?n.unshift(i):(r.ended=!1,this.parent=i.parent,r.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){T.b.error("error while trying to append buffer:"+t.message),n.unshift(i);r={type:_.b.MEDIA_ERROR,parent:i.parent};if(22===t.code)return this.segments=[],r.details=_.a.BUFFER_FULL_ERROR,r.fatal=!1,void e.trigger(b.a.ERROR,r);if(this.appendError?this.appendError++:this.appendError=1,r.details=_.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return T.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],r.fatal=!0,void e.trigger(b.a.ERROR,r);r.fatal=!1,e.trigger(b.a.ERROR,r)}}}},n.prototype.flushBuffer=function(e,t,n){var i,r,a,o,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(T.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var c in u)if(!n||c===n){if((i=u[c]).ended=!1,i.updating)return T.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<i.buffered.length;r++)if(a=i.buffered.start(r),o=i.buffered.end(r),l=-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,t):(s=Math.max(a,e),Math.min(o,t)),.5<Math.min(l,o)-s)return this.flushBufferCounter++,T.b.log("flush "+c+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),i.remove(s,l),!1}catch(e){T.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else T.b.warn("abort flushing too many retries");T.b.log("buffer flushed")}return!0},n}(s),Ue=function(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),e},Fe=function(n){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var t=this,e=n.call(this,e,b.a.FPS_DROP_LEVEL_CAPPING,b.a.MEDIA_ATTACHING,b.a.MANIFEST_PARSED);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var e=r,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},r.prototype.onFpsDropLevelCapping=function(e){r.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},r.prototype.onMediaAttaching=function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null},r.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.prototype.detectPlayerSize=function(){var e,t;this.media&&(e=this.levels?this.levels.length:0)&&((t=this.hls).autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping)},r.prototype.getMaxLevel=function(n){var i=this;if(!this.levels)return-1;var e=this.levels.filter(function(e,t){return r.isLevelAllowed(t,i.restrictedLevels)&&t<=n});return r.getMaxLevelByMediaSize(e,this.mediaWidth,this.mediaHeight)},r.isLevelAllowed=function(e){return-1===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)},r.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var i,r=e.length-1,a=0;a<e.length;a+=1){var o=e[a];if((o.width>=t||o.height>=n)&&(!(i=e[a+1])||o.width!==i.width||o.height!==i.height)){r=a;break}}return r},Ue(r,[{key:"mediaWidth",get:function(){var e=void 0,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=r.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=r.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),r}(s),je=function(n){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var t=this,e=n.call(this,e,b.a.MEDIA_ATTACHING);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var e=i,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},i.prototype.checkFPS=function(e,t,n){var i,r,a,o,s=performance.now();t&&(this.lastTime&&(o=s-this.lastTime,i=n-this.lastDroppedFrames,r=t-this.lastDecodedFrames,o=1e3*i/o,(a=this.hls).trigger(b.a.FPS_DROP,{currentDropped:i,currentDecoded:r,totalDroppedFrames:n}),0<o&&i>a.config.fpsDroppedMonitoringThreshold*r&&(o=a.currentLevel,T.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+o),0<o&&(-1===a.autoLevelCapping||a.autoLevelCapping>=o)&&(a.trigger(b.a.FPS_DROP_LEVEL_CAPPING,{level:--o,droppedLevel:a.currentLevel}),a.autoLevelCapping=o,a.streamController.nextLevelSwitch()))),this.lastTime=s,this.lastDroppedFrames=n,this.lastDecodedFrames=t)},i.prototype.checkFPSInterval=function(){var e,t=this.video;t&&(this.isVideoPlaybackQualityAvailable?(e=t.getVideoPlaybackQuality(),this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)):this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount))},i}(s);n.prototype.destroy=function(){this.abort(),this.loader=null},n.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},n.prototype.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},n.prototype.loadInternal=function(){var e=this.context,t=this.loader=new XMLHttpRequest,n=this.stats,i=(n.tfirst=0,n.loaded=0,this.xhrSetup);try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},n.prototype.readystatechange=function(e){var t,n,e=e.currentTarget,i=e.readyState,r=this.stats,a=this.context,o=this.config;!r.aborted&&2<=i&&(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===i?200<=(i=e.status)&&i<300?(r.tload=Math.max(r.tfirst,performance.now()),n=t=void 0,n="arraybuffer"===a.responseType?(t=e.response).byteLength:(t=e.responseText).length,r.loaded=r.total=n,n={url:e.responseURL,data:t},this.callbacks.onSuccess(n,r,a,e)):r.retry>=o.maxRetry||400<=i&&i<499?(T.b.error(i+" while loading "+a.url),this.callbacks.onError({code:i,text:e.statusText},a,e)):(T.b.warn(i+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++):this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout))},n.prototype.loadtimeout=function(){T.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},n.prototype.loadprogress=function(e){var t=e.currentTarget,n=this.stats,e=(n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total),this.callbacks.onProgress);e&&e(n,this.context,null,t)};function Be(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}}var He=n,We=function(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),e},Ge=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.MANIFEST_LOADING,b.a.MANIFEST_PARSED,b.a.AUDIO_TRACK_LOADED,b.a.ERROR));return e.ticks=0,e.ontick=e.tick.bind(e),e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype.destroy=function(){this.cleanTimer(),s.prototype.destroy.call(this)},n.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.tick=function(){1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},n.prototype.doTick=function(){this.updateTrack(this.trackId)},n.prototype.onError=function(e){e.fatal&&e.type===_.b.NETWORK_ERROR&&this.cleanTimer()},n.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},n.prototype.onManifestParsed=function(e){var t=this,e=e.audioTracks||[],n=!1,i=(this.tracks=e,this.hls.trigger(b.a.AUDIO_TRACKS_UPDATED,{audioTracks:e}),0);e.forEach(function(e){if(e.default&&!n)return t.audioTrack=i,void(n=!0);i++}),!1===n&&e.length&&(T.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},n.prototype.onAudioTrackLoaded=function(e){e.id<this.tracks.length&&(T.b.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&this.cleanTimer())},n.prototype.setAudioTrackInternal=function(e){var t,n,i,r;0<=e&&e<this.tracks.length&&(this.cleanTimer(),this.trackId=e,T.b.log("switching to audioTrack "+e),t=this.tracks[e],n=this.hls,r=t.type,i=t.url,n.trigger(b.a.AUDIO_TRACK_SWITCH,r={id:e,type:r,url:i}),n.trigger(b.a.AUDIO_TRACK_SWITCHING,r),r=t.details,!i||void 0!==r&&!0!==r.live||(T.b.log("(re)loading playlist for audioTrack "+e),n.trigger(b.a.AUDIO_TRACK_LOADING,{url:i,id:e})))},n.prototype.updateTrack=function(e){var t,n;0<=e&&e<this.tracks.length&&(this.cleanTimer(),this.trackId=e,T.b.log("updating audioTrack "+e),t=(n=this.tracks[e]).url,n=n.details,!t||void 0!==n&&!0!==n.live||(T.b.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(b.a.AUDIO_TRACK_LOADING,{url:t,id:e})))},We(n,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),n}(s),qe=function(e,t,n){return t&&rt(e.prototype,t),n&&rt(e,n),e},Ve="STOPPED",Ye="STARTING",C="IDLE",ze="PAUSED",$e="KEY_LOADING",Ke="FRAG_LOADING",Xe="FRAG_LOADING_WAITING_RETRY",Qe="WAITING_TRACK",h="PARSING",f="PARSED",Je="BUFFER_FLUSHING",Ze="ENDED",et="ERROR",tt="WAITING_INIT_PTS",nt=function(n){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,e,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.AUDIO_TRACKS_UPDATED,b.a.AUDIO_TRACK_SWITCHING,b.a.AUDIO_TRACK_LOADED,b.a.KEY_LOADED,b.a.FRAG_LOADED,b.a.FRAG_PARSING_INIT_SEGMENT,b.a.FRAG_PARSING_DATA,b.a.FRAG_PARSED,b.a.ERROR,b.a.BUFFER_RESET,b.a.BUFFER_CREATED,b.a.BUFFER_APPENDED,b.a.BUFFER_FLUSHED,b.a.INIT_PTS_FOUND));return t.config=e.config,t.audioCodecSwap=!1,t.ticks=0,t._state=Ve,t.ontick=t.tick.bind(t),t.initPTS=[],t.waitingFragment=null,t.videoTrackCC=null,t}var e=i,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),s.prototype.destroy.call(this),this.state=Ve},i.prototype.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,e=e.initPTS;"main"===t&&(this.initPTS[n]=e,this.videoTrackCC=n,T.b.log("InitPTS for cc:"+n+" found from video track:"+e),this.state===tt&&this.tick())},i.prototype.startLoad=function(e){var t;this.tracks?(t=this.lastCurrentTime,this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),(this.fragLoadError=0)<t&&-1===e?(T.b.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=C):(this.lastCurrentTime=this.startPosition||e,this.state=Ye),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()):(this.startPosition=e,this.state=Ve)},i.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ve},i.prototype.tick=function(){1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},i.prototype.doTick=function(){var e,t,n,i=this.hls,r=i.config;switch(this.state){case et:case ze:case Je:break;case Ye:this.state=Qe,this.loadedmetadata=!1;break;case C:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var o=this.mediaBuffer||this.media,s=this.videoBuffer||this.media,l=E.bufferInfo(o,e,r.maxBufferHole),s=E.bufferInfo(s,e,r.maxBufferHole),u=l.len,c=l.end,d=this.fragPrevious,s=Math.max(r.maxBufferLength,s.len),h=this.audioSwitch,f=this.trackId;if((u<s||h)&&f<a.length){if(void 0===(u=a[f].details)){this.state=Qe;break}if(!h&&!u.live&&d&&d.sn===u.endSN&&!l.nextStart&&(!this.media.seeking||this.media.duration-c<d.duration/2)){this.hls.trigger(b.a.BUFFER_EOS,{type:"audio"}),this.state=Ze;break}var s=u.fragments,a=s.length,p=s[0].start,g=s[a-1].start+s[a-1].duration,m=void 0;if(h)if(u.live&&!u.PTSKnown)T.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),c=0;else if(c=e,u.PTSKnown&&e<p){if(!(l.end>p||l.nextStart))return;T.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=p+.05}if(u.initSegment&&!u.initSegment.data)m=u.initSegment;else if(c<=p){m=s[0];if(null!==this.videoTrackCC&&m.cc!==this.videoTrackCC&&(n=this.videoTrackCC,m=w.search(s,function(e){return e.cc<n?1:e.cc>n?-1:0})),u.live&&m.loadIdx&&m.loadIdx===this.fragLoadIdx)return h=l.nextStart||p,T.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(h+.05)),void(this.media.currentTime=h+.05)}else{var l=void 0,y=r.maxFragLookUpTolerance,h=d?s[d.sn-s[0].sn+1]:void 0,v=function(e){var t=Math.min(y,e.duration);return e.start+e.duration-t<=c?1:e.start-t>c&&e.start?-1:0};(l=c<g?(g-y<c&&(y=0),h&&!v(h)?h:w.search(s,v)):s[a-1])&&(p=(m=l).start,d&&m.level===d.level&&m.sn===d.sn&&(m.sn<u.endSN?(m=s[m.sn+1-u.startSN],T.b.log("SN just loaded, load next one: "+m.sn)):m=null))}if(m)if(m.decryptdata&&null!=m.decryptdata.uri&&null==m.decryptdata.key)T.b.log("Loading key for "+m.sn+" of ["+u.startSN+" ,"+u.endSN+"],track "+f),this.state=$e,i.trigger(b.a.KEY_LOADING,{frag:m});else{if(T.b.log("Loading "+m.sn+", cc: "+m.cc+" of ["+u.startSN+" ,"+u.endSN+"],track "+f+", currentTime:"+e+",bufferEnd:"+c.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,m.loadCounter){m.loadCounter++;g=r.fragLoadingLoopThreshold;if(m.loadCounter>g&&Math.abs(this.fragLoadIdx-m.loadIdx)<g)return void i.trigger(b.a.ERROR,{type:_.b.MEDIA_ERROR,details:_.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:m})}else m.loadCounter=1;m.loadIdx=this.fragLoadIdx,this.fragCurrent=m,this.startFragRequested=!0,isNaN(m.sn)||(this.nextLoadPosition=m.start+m.duration),i.trigger(b.a.FRAG_LOADING,{frag:m}),this.state=Ke}}break;case Qe:(t=this.tracks[this.trackId])&&t.details&&(this.state=C);break;case Xe:h=performance.now(),v=this.retryDate,a=(o=this.media)&&o.seeking;(!v||v<=h||a)&&(T.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=C);break;case tt:l=this.videoTrackCC;if(void 0===this.initPTS[l])break;p=this.waitingFragment;p?l!==(d=p.frag.cc)?(t=this.tracks[this.trackId]).details&&t.details.live&&(T.b.warn("Waiting fragment CC ("+d+") does not match video track CC ("+l+")"),this.waitingFragment=null,this.state=C):(this.state=Ke,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null):this.state=C}},i.prototype.onMediaAttached=function(e){e=this.media=this.mediaBuffer=e.media,this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended),e=this.config;this.tracks&&e.autoStartLoad&&this.startLoad(e.startPosition)},i.prototype.onMediaDetaching=function(){var e=this.media,t=(e&&e.ended&&(T.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),this.tracks);t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.prototype.onMediaSeeking=function(){this.state===Ze&&(this.state=C),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},i.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.prototype.onAudioTracksUpdated=function(e){T.b.log("audio tracks updated"),this.tracks=e.audioTracks},i.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=ze,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=C,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},i.prototype.onAudioTrackLoaded=function(e){var t=e.details,e=e.id,n=this.tracks[e],i=t.totalduration,r=0;T.b.log("track "+e+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live?(e=n.details)&&0<t.fragments.length?(G(e,t),r=t.fragments[0].start,t.PTSKnown?T.b.log("live audio playlist sliding:"+r.toFixed(3)):T.b.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,T.b.log("live audio playlist - first load, unknown sliding")):t.PTSKnown=!1,n.details=t,this.startFragRequested||(-1===this.startPosition&&(i=t.startTimeOffset,isNaN(i)?this.startPosition=0:(T.b.log("start time offset found in playlist, adjust startPosition to "+i),this.startPosition=i)),this.nextLoadPosition=this.startPosition),this.state===Qe&&(this.state=C),this.tick()},i.prototype.onKeyLoaded=function(){this.state===$e&&(this.state=C,this.tick())},i.prototype.onFragLoaded=function(e){var t,n,i,r,a,o,s,l=this.fragCurrent,u=e.frag;this.state===Ke&&l&&"audio"===u.type&&u.level===l.level&&u.sn===l.sn&&(n=(t=(u=this.tracks[this.trackId]).details).totalduration,i=l.level,r=l.sn,a=l.cc,u=this.config.defaultAudioCodec||u.audioCodec||"mp4a.40.2",o=this.stats=e.stats,"initSegment"===r?(this.state=C,o.tparsed=o.tbuffered=performance.now(),t.initSegment.data=e.payload,this.hls.trigger(b.a.FRAG_BUFFERED,{stats:o,frag:l,id:"audio"}),this.tick()):(this.state=h,this.appended=!1,this.demuxer||(this.demuxer=new ye(this.hls,"audio")),o=this.initPTS[a],s=t.initSegment?t.initSegment.data:[],t.initSegment||void 0!==o?(this.pendingBuffering=!0,T.b.log("Demuxing "+r+" of ["+t.startSN+" ,"+t.endSN+"],track "+i),this.demuxer.push(e.payload,s,u,null,l,n,!1,o)):(T.b.log("unknown video PTS for continuity counter "+a+", waiting for video PTS before demuxing audio frag "+r+" of ["+t.startSN+" ,"+t.endSN+"],track "+i),this.waitingFragment=e,this.state=tt))),this.fragLoadError=0},i.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===h&&(n=void 0,(t=e.tracks).video&&delete t.video,(n=t.audio)&&(n.levelCodec=n.codec,n.id=e.id,this.hls.trigger(b.a.BUFFER_CODECS,t),T.b.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]"),(e=n.initSegment)&&(t={type:"audio",data:e,parent:"audio",content:"initSegment"},this.audioSwitch?this.pendingData=[t]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(b.a.BUFFER_APPENDING,t))),this.tick()))},i.prototype.onFragParsingData=function(t){var e,n,i,r,a=this,o=this.fragCurrent,s=t.frag;o&&"audio"===t.id&&"audio"===t.type&&s.sn===o.sn&&s.level===o.level&&this.state===h&&(s=this.trackId,i=this.tracks[s],e=this.hls,isNaN(t.endPTS)&&(t.endPTS=t.startPTS+o.duration,t.endDTS=t.startDTS+o.duration),T.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),W(i.details,o,t.startPTS,t.endPTS),i=this.audioSwitch,o=this.media,n=!1,i&&o&&(o.readyState?(i=o.currentTime,T.b.log("switching audio track : currentTime:"+i),i>=t.startPTS&&(T.b.log("switching audio track : flushing all audio"),this.state=Je,e.trigger(b.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),this.audioSwitch=!(n=!0),e.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:s}))):(this.audioSwitch=!1,e.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:s}))),r=this.pendingData,this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&r.push({type:t.type,data:e,parent:"audio",content:"data"})}),!n&&r.length&&(r.forEach(function(e){a.state===h&&(a.pendingBuffering=!0,a.hls.trigger(b.a.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick())},i.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===h&&(this.stats.tparsed=performance.now(),this.state=f,this._checkAppendedParsed())},i.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},i.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},i.prototype.onBufferAppended=function(e){var t;"audio"!==e.parent||(t=this.state)!==h&&t!==f||(this.pendingBuffering=0<e.pending,this._checkAppendedParsed())},i.prototype._checkAppendedParsed=function(){var e,t,n;this.state!==f||this.appended&&this.pendingBuffering||(e=this.fragCurrent,n=this.stats,t=this.hls,e&&(this.fragPrevious=e,n.tbuffered=performance.now(),t.trigger(b.a.FRAG_BUFFERED,{stats:n,frag:e,id:"audio"}),n=this.mediaBuffer||this.media,T.b.log("audio buffered : "+ve.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,t.trigger(b.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=C),this.tick())},i.prototype.onError=function(e){var t,n,i=e.frag;if(!i||"audio"===i.type)switch(e.details){case _.a.FRAG_LOAD_ERROR:case _.a.FRAG_LOAD_TIMEOUT:e.fatal||((t=this.fragLoadError)?t++:t=1,t<=(n=this.config).fragLoadingMaxRetry?(this.fragLoadError=t,i.loadCounter=0,t=Math.min(Math.pow(2,t-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout),T.b.warn("audioStreamController: frag loading failed, retry in "+t+" ms"),this.retryDate=performance.now()+t,this.state=Xe):(T.b.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=et));break;case _.a.FRAG_LOOP_LOADING_ERROR:case _.a.AUDIO_TRACK_LOAD_ERROR:case _.a.AUDIO_TRACK_LOAD_TIMEOUT:case _.a.KEY_LOAD_ERROR:case _.a.KEY_LOAD_TIMEOUT:this.state!==et&&(this.state=e.fatal?et:C,T.b.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case _.a.BUFFER_FULL_ERROR:"audio"!==e.parent||this.state!==h&&this.state!==f||(n=this.mediaBuffer,t=this.media.currentTime,n&&E.isBuffered(n,t)&&E.isBuffered(n,t+.5)?((n=this.config).maxMaxBufferLength>=n.maxBufferLength&&(n.maxMaxBufferLength/=2,T.b.warn("audio:reduce max buffer length to "+n.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.state=C):(T.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Je,this.hls.trigger(b.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})))}},i.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(T.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(b.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=f):(this.state=C,this.fragPrevious=null,this.tick())},qe(i,[{key:"state",set:function(e){var t;this.state!==e&&(t=this.state,this._state=e,T.b.log("audio stream:"+t+"->"+e))},get:function(){return this._state}}]),i}(s),it=function(){function _(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function T(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)e[n]=i[n]}return e}function e(e,t,n){var i=this,r=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),a={},o=(r?i=document.createElement("custom"):a.enumerable=!0,i.hasBeenReset=!1,""),s=!1,l=e,u=t,c=n,d=null,h="",f=!0,p="auto",g="start",m=50,y="middle",v=50,b="middle";if(Object.defineProperty(i,"id",T({},a,{get:function(){return o},set:function(e){o=""+e}})),Object.defineProperty(i,"pauseOnExit",T({},a,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(i,"startTime",T({},a,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",T({},a,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",T({},a,{get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",T({},a,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",T({},a,{get:function(){return h},set:function(e){e="string"==typeof(e=e)&&!!S[e.toLowerCase()]&&e.toLowerCase();if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",T({},a,{get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",T({},a,{get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",T({},a,{get:function(){return g},set:function(e){e=_(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",T({},a,{get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",T({},a,{get:function(){return y},set:function(e){e=_(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",T({},a,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",T({},a,{get:function(){return b},set:function(e){e=_(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),i.displayState=void 0,r)return i}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var S={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};return e.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},e}();function rt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function at(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}function ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function st(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n,i){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.hls=e,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ie(t),this.fast_=new Ie(n)}function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}function lt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ut(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(n,e){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.hls=n,this.id=e;var r=this.observer=new pe.a,t=n.config,i=(r.trigger=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e,e].concat(n))},r.off=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.removeListener.apply(r,[e].concat(n))},function(e,t){(t=t||{}).frag=this.frag,t.id=this.id,n.trigger(e,t)}.bind(this)),i=(r.on(b.a.FRAG_DECRYPTED,i),r.on(b.a.FRAG_PARSING_INIT_SEGMENT,i),r.on(b.a.FRAG_PARSING_DATA,i),r.on(b.a.FRAG_PARSED,i),r.on(b.a.ERROR,i),r.on(b.a.FRAG_PARSING_METADATA,i),r.on(b.a.FRAG_PARSING_USERDATA,i),r.on(b.a.INIT_PTS_FOUND,i),{mp4:me.isTypeSupported("video/mp4"),mpeg:me.isTypeSupported("audio/mpeg"),mp3:me.isTypeSupported('audio/mp4; codecs="mp3"')}),a=navigator.vendor;if(t.enableWorker&&"undefined"!=typeof Worker){T.b.log("demuxing in webworker");var o=void 0;try{o=this.w=ge()(10),this.onwmsg=this.onWorkerMessage.bind(this),o.addEventListener("message",this.onwmsg),o.onerror=function(e){n.trigger(b.a.ERROR,{type:_.b.OTHER_ERROR,details:_.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},o.postMessage({cmd:"init",typeSupported:i,vendor:a,id:e,config:JSON.stringify(t)})}catch(e){T.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),o&&URL.revokeObjectURL(o.objectURL),this.demuxer=new fe.a(r,i,t,a),this.w=void 0}}else this.demuxer=new fe.a(r,i,t,a)}function m(){j(this,m),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function ct(){j(this,ct),this.method=null,this.key=null,this.iv=null,this._uri=null}function dt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");for(var t in e="string"==typeof e?y.parseAttrList(e):e)e.hasOwnProperty(t)&&(this[t]=e[t])}function v(e){var t=this,n=v;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");this.hls=e,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(1<i?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}$.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};function ht(e){var t=e;return mt.hasOwnProperty(e)&&(t=mt[e]),String.fromCharCode(t)}function k(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t}var ft=new it(0,0,0),pt="middle"===ft.align?"middle":"center",gt=(z.prototype={parse:function(e){function t(){for(var e=0,t=Q(t=i.buffer);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,i.buffer=t.substr(e),n}var i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var n,r=(n=t()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var a=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(a?a=!1:n=t(),i.state){case"HEADER":/:/.test(n)?K(n,function(e,t){"Region"===e&&console.log("parse region",t)},/:/):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new it(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{X(n,i.cue,i.regionList)}catch(e){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(e){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},z),mt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},yt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},vt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},bt={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},_t={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Tt=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],D={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},St=(P.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},P.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var i=t[n];e.hasOwnProperty(i)&&(this[i]=e[i])}},P.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},P.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},P.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},P.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},P),wt=(R.prototype.reset=function(){this.uchar=" ",this.penState.reset()},R.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},R.prototype.setPenState=function(e){this.penState.copy(e)},R.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},R.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},R.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},R),Et=(I.prototype.equals=function(e){for(var t=!0,n=0;n<100;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},I.prototype.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},I.prototype.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},I.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(D.log("ERROR","Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(D.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},I.prototype.moveCursor=function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},I.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},I.prototype.insertChar=function(e){144<=e&&this.backSpace();var t=ht(e);100<=this.pos?D.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},I.prototype.clearFromPos=function(e){for(var t=e;t<100;t++)this.chars[t].reset()},I.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},I.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},I.prototype.getTextString=function(){for(var e=[],t=!0,n=0;n<100;n++){var i=this.chars[n].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},I.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},I),Ct=(O.prototype.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},O.prototype.equals=function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},O.prototype.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},O.prototype.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},O.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},O.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},O.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},O.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},O.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},O.prototype.setCursor=function(e){D.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},O.prototype.setPAC=function(e){D.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<15;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[i].cueStartTime;if(a&&a<D.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(r.rows[i+o])}}this.currRow=t;var s,a=this.rows[this.currRow],a=(null!==e.indent&&(s=e.indent,s=Math.max(s-1,0),a.setCursor(e.indent),e.color=a.chars[s].penState.foreground),{foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1});this.setPen(a)},O.prototype.setBkgData=function(e){D.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},O.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},O.prototype.rollUp=function(){var e;null===this.nrRollUpRows?D.log("DEBUG","roll_up but nrRollUpRows not set yet"):(D.log("TEXT",this.getDisplayText()),e=this.currRow+1-this.nrRollUpRows,(e=this.rows.splice(e,1)[0]).clear(),this.rows.splice(this.currRow,0,e),D.log("INFO","Rolling up"))},O.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],n="",i=0;i<15;i++){var r=this.rows[i].getTextString();r&&(e?t.push("Row "+(i+1)+": '"+r+"'"):t.push(r.trim()))}return n=0<t.length?e?"["+t.join(" | ")+"]":t.join("\n"):n},O.prototype.getTextAndFormat=function(){return this.rows},O),kt=(L.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},L.prototype.getHandler=function(){return this.outputFilter},L.prototype.setHandler=function(e){this.outputFilter=e},L.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},L.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},L.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,D.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},L.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";D.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(D.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},L.prototype.ccRCL=function(){D.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},L.prototype.ccBS=function(){D.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},L.prototype.ccAOF=function(){},L.prototype.ccAON=function(){},L.prototype.ccDER=function(){D.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},L.prototype.ccRU=function(e){D.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},L.prototype.ccFON=function(){D.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},L.prototype.ccRDC=function(){D.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},L.prototype.ccTR=function(){D.log("INFO","TR"),this.setMode("MODE_TEXT")},L.prototype.ccRTD=function(){D.log("INFO","RTD"),this.setMode("MODE_TEXT")},L.prototype.ccEDM=function(){D.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},L.prototype.ccCR=function(){D.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},L.prototype.ccENM=function(){D.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},L.prototype.ccEOC=function(){var e;D.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(e=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,D.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate(!0)},L.prototype.ccTO=function(e){D.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},L.prototype.ccMIDROW=function(e){var t={flash:!1};t.underline=e%2==1,t.italics=46<=e,t.italics?t.foreground="white":(e=Math.floor(e/2)-16,t.foreground=["white","green","blue","cyan","red","yellow","magenta"][e]),D.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},L.prototype.outputDataUpdate=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=D.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},L.prototype.cueSplitAtTime=function(e){!this.outputFilter||this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e)},L);x.prototype.getHandler=function(e){return this.channels[e].getHandler()},x.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},x.prototype.addData=function(e,t){var n,i,r,a=!1;this.lastTime=e,D.setTime(e);for(var o=0;o<t.length;o+=2)i=127&t[o],r=127&t[o+1],0!=i||0!=r?(D.log("DATA","["+k([t[o],t[o+1]])+"] -> ("+k([i,r])+")"),!(n=(n=(n=(n=this.parseCmd(i,r))||this.parseMidrow(i,r))||this.parsePAC(i,r))||this.parseBackgroundAttributes(i,r))&&(a=this.parseChars(i,r))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(a):D.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,D.log("WARNING","Couldn't parse cleaned data "+k([i,r])+" orig: "+k([t[o],t[o+1]])))):this.dataCounters.padding+=2},x.prototype.parseCmd=function(e,t){if(!((20===e||28===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,D.log("DEBUG","Repeated command ("+k([e,t])+") is dropped"),!0;var n,i=this.channels[(n=20===e||23===e?1:2)-1];return 20===e||28===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},x.prototype.parseMidrow=function(e,t){var n;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(D.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),D.log("DEBUG","MIDROW ("+k([e,t])+")"),!0))},x.prototype.parsePAC=function(e,t){if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,!(this.lastCmdB=null);var n=e<=23?1:2,i=this.interpretPAC((64<=t&&t<=95?1==n?yt:bt:1==n?vt:_t)[e],t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},x.prototype.interpretPAC=function(e,t){e={color:null,italics:!1,indent:null,underline:!1,row:e};return e.underline=1==(1&(t=95<t?t-96:t-64)),t<=13?e.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(t/2)]:t<=15?(e.italics=!0,e.color="white"):e.indent=4*Math.floor((t-16)/2),e},x.prototype.parseChars=function(e,t){var n,i=null,r=null,a=null;return 17<=(a=25<=e?(i=2,e-8):(i=1,e))&&a<=19?(n=t,D.log("INFO","Special char '"+ht(n=17===a?t+80:18===a?t+112:t+144)+"' in channel "+i),r=[n]):32<=e&&e<=127&&(r=0===t?[e]:[e,t]),r&&(a=k(r),D.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null),r},x.prototype.parseBackgroundAttributes=function(e,t){var n,i;return!(!((16===e||24===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&45<=t&&t<=47)||(n={},16===e||24===e?(i=Math.floor((t-32)/2),n.background=Tt[i],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),this.channels[(e<24?1:2)-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null))},x.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},x.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)};var Dt=x;Ht.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},Ht.prototype.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.track)};function At(e,t,n){return e.substr(n||0,t.length)===t}function xt(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}var Lt=Ht,Ot={parse:function(e,a,i,r,t,n){var e=Object(Le.b)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),o="00:00.000",s=0,l=0,u=0,c=[],d=void 0,h=!0,f=new gt;f.oncue=function(e){var t=i[r],n=i.ccOffset;t&&t.new&&(void 0!==l?n=i.ccOffset=t.start:function(e,t,n){var i=e[t],r=e[i.prevCC];if(!r||!r.new&&i.new)return e.ccOffset=e.presentationOffset=i.start,i.new=!1;for(;r&&r.new;)e.ccOffset+=i.start-r.start,i.new=!1,r=e[(i=r).prevCC];e.presentationOffset=n}(i,r,u)),u&&(n=u+i.ccOffset-i.presentationOffset),e.startTime+=n-l,e.endTime+=n-l,e.id=xt(e.startTime.toString())+xt(e.endTime.toString())+xt(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),0<e.endTime&&c.push(e)},f.onparsingerror=function(e){d=e},f.onflush=function(){d&&n?n(d):t(c)},e.forEach(function(t){if(h){if(At(t,"X-TIMESTAMP-MAP=")){h=!1,t.substr(16).split(",").forEach(function(e){At(e,"LOCAL:")?o=e.substr(6):At(e,"MPEGTS:")&&(s=parseInt(e.substr(7)))});try{s-=a=a<0?a+8589934592:a,e=o,n=parseInt(e.substr(-3)),i=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),e=9<e.length?parseInt(e.substr(0,e.indexOf(":"))):0,l=(isNaN(n)||isNaN(i)||isNaN(r)||isNaN(e)?-1:(n=n+1e3*i+6e4*r)+36e5*e)/1e3,u=s/9e4,-1===l&&(d=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){d=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(h=!1)}var e,n,i,r;f.parse(t+"\n")}),f.flush()}},It=function(i){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var t,n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e,b.a.MEDIA_ATTACHING,b.a.MEDIA_DETACHING,b.a.FRAG_PARSING_USERDATA,b.a.FRAG_DECRYPTED,b.a.MANIFEST_LOADING,b.a.MANIFEST_LOADED,b.a.FRAG_LOADED,b.a.LEVEL_SWITCHING,b.a.INIT_PTS_FOUND));return n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions&&(e=new Lt(n,1),t=new Lt(n,2),n.cea608Parser=new Dt(0,e,t)),n}var e=r,t=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r.prototype.addCues=function(e,t,n,i){for(var r,a,o=this.cueRanges,s=!1,l=o.length;l--;){var u=o[l],c=(r=u[0],c=u[1],a=t,Math.min(c,n)-Math.max(r,a));if(0<=c&&(u[0]=Math.min(u[0],t),u[1]=Math.max(u[1],n),s=!0,.5<c/(n-t)))return}s||o.push([t,n]),this.Cues.newCue(this[e],t,n,i)},r.prototype.onInitPtsFound=function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])},r.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var i=t.textTracks[n];if(!0===i["textTrack"+e])return i}return null},r.prototype.sendAddTrackEvent=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},r.prototype.createCaptionsTrack=function(e){var t,n="textTrack"+e;this[n]||((t=this.getExistingTrack(e))?(this[n]=t,a(this[n]),this.sendAddTrackEvent(this[n],this.media)):(t=this.createTextTrack("captions",this.config["captionsTextTrack"+e+"Label"],this.config.captionsTextTrack1LanguageCode))&&(t[n]=!0,this[n]=t))},r.prototype.createTextTrack=function(e,t,n){var i=this.media;if(i)return i.addTextTrack(e,t,n)},r.prototype.destroy=function(){s.prototype.destroy.call(this)},r.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},r.prototype.onMediaDetaching=function(){a(this.textTrack1),a(this.textTrack2)},r.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},r.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)a(t[n])}},r.prototype.onManifestLoaded=function(e){var a,o=this;this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT&&(this.tracks=e.subtitles||[],a=this.media?this.media.textTracks:[],this.tracks.forEach(function(e,t){var n,i,r=void 0;t<a.length&&(t=a[t],i=e,!(n=t)||n.label!==i.name||n.textTrack1||n.textTrack2||(r=t)),(r=r||o.createTextTrack("subtitles",e.name,e.lang)).mode=e.default?"showing":"hidden",o.textTracks.push(r)}))},r.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},r.prototype.onFragLoaded=function(e){var t,n,i=e.frag,r=e.payload;"main"===i.type?((t=i.sn)!==this.lastSn+1&&(n=this.cea608Parser)&&n.reset(),this.lastSn=t):"subtitle"===i.type&&(r.byteLength?void 0===this.initPTS?this.unparsedVttFrags.push(e):null!=(n=i.decryptdata)&&null!=n.key&&"AES-128"===n.method||this._parseVTTs(i,r):this.hls.trigger(b.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i}))},r.prototype._parseVTTs=function(t,e){var n=this.vttCCs,r=(n[t.cc]||(n[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc),this.textTracks),a=this.hls;Ot.parse(e,this.initPTS,n,t.cc,function(e){var i=r[t.trackId];e.forEach(function(t){if(!i.cues.getCueById(t.id))try{i.addCue(t)}catch(e){var n=new window.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,i.addCue(n)}}),a.trigger(b.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){T.b.log("Failed to parse VTT cue: "+e),a.trigger(b.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},r.prototype.onFragDecrypted=function(e){var t=e.payload,n=e.frag;"subtitle"===n.type&&(void 0===this.initPTS?this.unparsedVttFrags.push(e):this._parseVTTs(n,t))},r.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}},r.prototype.extractCea608Data=function(e){for(var t,n,i,r=31&e[0],a=2,o=[],s=0;s<r;s++)t=e[a++],n=127&e[a++],i=127&e[a++],0==n&&0==i||0!=(4&t)&&0==(3&t)&&(o.push(n),o.push(i));return o},r}(s),Rt=function(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),e},Pt=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,b.a.MEDIA_ATTACHED,b.a.MEDIA_DETACHING,b.a.MANIFEST_LOADING,b.a.MANIFEST_LOADED,b.a.SUBTITLE_TRACK_LOADED));return e.tracks=[],e.trackId=-1,e.media=void 0,e.subtitleDisplay=!1,e}var e=n,i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);return e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i),n.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=Z(this.media.textTracks),n=0;n<t.length;n++)"showing"===t[n].mode&&(e=n);this.subtitleTrack=e}},n.prototype.destroy=function(){s.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},n.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},n.prototype.onManifestLoaded=function(e){var t=this,e=e.subtitles||[];this.tracks=e,this.trackId=-1,this.hls.trigger(b.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:e}),e.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},n.prototype.onTick=function(){var e,t=this.trackId,n=this.tracks[t];!n||void 0!==(e=n.details)&&!0!==e.live||(T.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(b.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))},n.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(T.b.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},n.prototype.setSubtitleTrackInternal=function(e){var t,n;e<-1||e>=this.tracks.length||(this.timer&&(clearInterval(this.timer),this.timer=null),n=Z(this.media.textTracks),-1!==this.trackId&&this.subtitleDisplay&&(n[this.trackId].mode="hidden"),this.trackId=e,T.b.log("switching to subtitle track "+e),this.hls.trigger(b.a.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e&&(t=this.tracks[e],this.subtitleDisplay&&(n[e].mode="showing"),void 0!==(n=t.details)&&!0!==n.live||(T.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(b.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))))},Rt(n,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),n}(s),Mt=e(4),Nt="STOPPED",Ut="IDLE",Ft="KEY_LOADING",jt="FRAG_LOADING",e=function(n){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,e,b.a.MEDIA_ATTACHED,b.a.ERROR,b.a.KEY_LOADED,b.a.FRAG_LOADED,b.a.SUBTITLE_TRACKS_UPDATED,b.a.SUBTITLE_TRACK_SWITCH,b.a.SUBTITLE_TRACK_LOADED,b.a.SUBTITLE_FRAG_PROCESSED));return t.config=e.config,t.vttFragSNsProcessed={},t.vttFragQueues=void 0,t.currentlyProcessing=null,t.state=Nt,t.currentTrackId=-1,t.ticks=0,t.decrypter=new Mt.a(e.observer,e.config),t}var e=i,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i.prototype.destroy=function(){s.prototype.destroy.call(this),this.state=Nt},i.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},i.prototype.nextFrag=function(){var e;null===this.currentlyProcessing&&-1<this.currentTrackId&&this.vttFragQueues[this.currentTrackId].length&&(e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift(),this.fragCurrent=e,this.hls.trigger(b.a.FRAG_LOADING,{frag:e}),this.state=jt)},i.prototype.onSubtitleFragProcessed=function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.state=Ut,this.nextFrag()},i.prototype.onMediaAttached=function(){this.state=Ut},i.prototype.onError=function(e){e=e.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},i.prototype.tick=function(){var e=this;1==++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(function(){e.tick()},1),this.ticks=0)},i.prototype.doTick=function(){var n=this;switch(this.state){case Ut:var e,t=this.tracks,i=this.currentTrackId,r=this.vttFragSNsProcessed[i],a=this.vttFragQueues[i],o=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!t)break;if(void 0===(e=i<t.length?t[i].details:e))break;e.fragments.forEach(function(e){var t;-1<r.indexOf(e.sn)||e.sn===o||(t=e,a.some(function(e){return e.sn===t.sn}))||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(T.b.log("Loading key for "+e.sn),n.state=Ft,n.hls.trigger(b.a.KEY_LOADING,{frag:e})):(e.trackId=i,a.push(e),n.nextFrag()))})}},i.prototype.onSubtitleTracksUpdated=function(e){var t=this;T.b.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})},i.prototype.onSubtitleTrackSwitch=function(e){this.currentTrackId=e.id,this.clearVttFragQueues()},i.prototype.onSubtitleTrackLoaded=function(){this.tick()},i.prototype.onKeyLoaded=function(){this.state===Ft&&(this.state=Ut,this.tick())},i.prototype.onFragLoaded=function(e){var n,t=this.fragCurrent,i=e.frag.decryptdata,r=e.frag,a=this.hls;if(this.state===jt&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&0<e.payload.byteLength&&null!=i&&null!=i.key&&"AES-128"===i.method){try{n=performance.now()}catch(e){n=Date.now()}this.decrypter.decrypt(e.payload,i.key.buffer,i.iv.buffer,function(e){var t;try{t=performance.now()}catch(e){t=Date.now()}a.trigger(b.a.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:n,tdecrypt:t}})})}},i}(s),A={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:He,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:t,bufferController:Ne,capLevelController:Fe,fpsController:je,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};function Bt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ht(e,t){if(!(this instanceof Ht))throw new TypeError("Cannot call a class as a function");this.timelineController=e,this.track=t,this.startTime=null,this.endTime=null,this.screen=null}function x(e,t,n){o(this,x),this.field=e||1,this.outputs=[t,n],this.channels=[new kt(1,t),new kt(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}function L(e,t){o(this,L),this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Ct,this.nonDisplayedMemory=new Ct,this.lastOutputScreen=new Ct,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function O(){o(this,O),this.rows=[];for(var e=0;e<15;e++)this.rows.push(new Et);this.currRow=14,this.nrRollUpRows=null,this.reset()}function I(){o(this,I),this.chars=[];for(var e=0;e<100;e++)this.chars.push(new wt);this.pos=0,this.currPenState=new St}function R(e,t,n,i,r,a){o(this,R),this.uchar=e||" ",this.penState=new St(t,n,i,r,a)}function P(e,t,n,i,r){o(this,P),this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1}A.subtitleStreamController=e,A.subtitleTrackController=Pt,A.timelineController=It,A.cueHandler=ee,A.enableCEA708Captions=!0,A.enableWebVTT=!0,A.captionsTextTrack1Label="English",A.captionsTextTrack1LanguageCode="en",A.captionsTextTrack2Label="Spanish",A.captionsTextTrack2LanguageCode="es",A.audioStreamController=nt,A.audioTrackController=Ge;He=function(e,t,n){return t&&Wt(e.prototype,t),n&&Wt(e,n),e},M.isSupported=function(){return e=B(),t=window.SourceBuffer||window.WebKitSourceBuffer,e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove,!!e&&!!t;var e,t},He(M,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return b.a}},{key:"ErrorTypes",get:function(){return _.b}},{key:"ErrorDetails",get:function(){return _.a}},{key:"DefaultConfig",get:function(){return M.defaultConfig||A},set:function(e){M.defaultConfig=e}}]),M.prototype.destroy=function(){T.b.log("destroy"),this.trigger(b.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},M.prototype.attachMedia=function(e){T.b.log("attachMedia"),this.media=e,this.trigger(b.a.MEDIA_ATTACHING,{media:e})},M.prototype.detachMedia=function(){T.b.log("detachMedia"),this.trigger(b.a.MEDIA_DETACHING),this.media=null},M.prototype.loadSource=function(e){e=r.a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),T.b.log("loadSource:"+e),this.url=e,this.trigger(b.a.MANIFEST_LOADING,{url:e})},M.prototype.startLoad=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;T.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},M.prototype.stopLoad=function(){T.b.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},M.prototype.swapAudioCodec=function(){T.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},M.prototype.recoverMediaError=function(){T.b.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},He(M,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){T.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){T.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){T.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){T.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){T.b.log("set startLevel:"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){T.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,i=0;i<n;i++)if((e[i].realBitrate?Math.max(e[i].realBitrate,e[i].bitrate):e[i].bitrate)>t)return i;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),t=M;function M(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this,i=M;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");var r,a=M.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(r in a)r in e||(e[r]=a[r]);if(void 0!==e.liveMaxLatencyDurationCount&&e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(e.liveMaxLatencyDuration<=e.liveSyncDuration||void 0===e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(T.a)(e.debug),this.config=e,this._autoLevelCapping=-1;var o=this.observer=new pe.a,n=(o.trigger=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit.apply(o,[e,e].concat(n))},o.off=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.removeListener.apply(o,[e].concat(n))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o),this.abrController=new e.abrController(this)),i=new e.bufferController(this),s=new e.capLevelController(this),l=new e.fpsController(this),u=new ce(this),c=new de(this),d=new he(this),h=new Oe(this),f=[this.levelController=new xe(this),this.streamController=new De(this)],p=e.audioStreamController,g=(p&&f.push(new p(this)),this.networkControllers=f,[u,c,d,n,i,s,l,h]);(p=e.audioTrackController)&&(f=new p(this),this.audioTrackController=f,g.push(f)),(p=e.subtitleTrackController)&&(u=new p(this),this.subtitleTrackController=u,g.push(u)),[e.subtitleStreamController,e.timelineController].forEach(function(e){e&&g.push(new e(t))}),this.coreComponents=g}function Wt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}U.default=t},function(e,t,r){function a(e,t){for(var n=[t],i=[],r={};n.length;){var a=n.pop();!r[a]&&e[a]&&(r[a]=!0,i.push(a),a=function(e){var t=[],n=e.toString();if(!(e=n.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/)))return t;for(var i,e=e[1],r=new RegExp("(\\\\n|\\W)"+(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");i=r.exec(n);)t.push(i[3]);return t}(e[a]),n=n.concat(a))}return i}e.exports=function(e,t){var n=r.m,i=(t=t||{}).all?Object.keys(n):a(n,e),e="("+function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r={},e=(i.m=n,i.c=r,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e},i(i.s=ENTRY_MODULE));return e.default||e}.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.map(function(e){return JSON.stringify(e)+": "+n[e].toString()}).join(",")+"})(self);",i=new window.Blob([e],{type:"text/javascript"});if(t.bare)return i;e=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(i),t=new window.Worker(e);return t.objectURL=e,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),s=n(1),l=n(0),i=n(5),u=n.n(i);t.default=function(i){function r(e,t){i.postMessage({event:e,data:t})}var a=new u.a;a.trigger=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.emit.apply(a,[e,e].concat(n))},a.off=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.removeListener.apply(a,[e].concat(n))};i.addEventListener("message",function(e){var t=e.data;switch(t.cmd){case"init":var n=JSON.parse(t.config);i.demuxer=new o.a(a,t.typeSupported,n,t.vendor);try{Object(l.a)(!0===n.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":i.demuxer.push(t.data,t.decryptdata,t.initSegment,t.audioCodec,t.videoCodec,t.timeOffset,t.discontinuity,t.trackSwitch,t.contiguous,t.duration,t.accurateTimeOffset,t.defaultInitPTS)}}),a.on(s.a.FRAG_DECRYPTED,r),a.on(s.a.FRAG_PARSING_INIT_SEGMENT,r),a.on(s.a.FRAG_PARSED,r),a.on(s.a.ERROR,r),a.on(s.a.FRAG_PARSING_METADATA,r),a.on(s.a.FRAG_PARSING_USERDATA,r),a.on(s.a.INIT_PTS_FOUND,r),a.on(s.a.FRAG_PARSING_DATA,function(e,t){var n=[],e={event:e,data:t};t.data1&&(e.data1=t.data1.buffer,n.push(t.data1.buffer),delete t.data1),t.data2&&(e.data2=t.data2.buffer,n.push(t.data2.buffer),delete t.data2),i.postMessage(e,n)})}}]).default},function(e,t){e.exports=n},function(e,t,n){"use strict";function i(e,i){function t(){var t=null,n=null;return function(){var e=Date.now();!t||2e3<e-t?(t=e,o.recoverMediaError()):!n||2e3<e-n?(n=e,o.swapAudioCodec(),o.recoverMediaError()):console.error("Error loading media: File could not be played. e = "+n+"; r = "+e)}}var n=i.options_,r=i.el(),a=null,o=this.hls=new u(n.hlsjsConfig),s=t(),l=t();r.addEventListener("error",function(e){e=e.currentTarget.error;e.code===e.MEDIA_ERR_DECODE?l():console.error("Error loading media: File could not be played")}),this.dispose=function(){o.destroy()},this.duration=function(){return a||r.duration||0},o.on(u.Events.LEVEL_LOADED,function(e,t){a=t.details.live?1/0:t.details.totalduration}),o.on(u.Events.ERROR,function(e,t){if(t.fatal)switch(t.type){case u.ErrorTypes.NETWORK_ERROR:o.startLoad();break;case u.ErrorTypes.MEDIA_ERROR:s();break;default:console.error("Error loading media: File could not be played")}}),Object.keys(u.Events).forEach(function(e){var n=u.Events[e];o.on(n,function(e,t){i.trigger(n,t)})}),i.featuresNativeTextTracks||(Object.defineProperty(r,"textTracks",{value:i.textTracks,writable:!1}),r.addTextTrack=function(){return i.addTextTrack.apply(i,arguments)}),o.attachMedia(r),o.loadSource(e.src)}var r,u=n(0),a=(window.Hls||(window.Hls=u),/^application\/(x-mpegURL|vnd\.apple\.mpegURL)$/i),o=/\.m3u8/i,s={canHandleSource:function(e){return e.skipContribHlsJs?"":a.test(e.type)?"probably":o.test(e.src)?"maybe":""},handleSource:function(e,t){return new i(e,t)},canPlayType:function(e){return a.test(e)?"probably":""}};u.isSupported()&&((n=(n=n(1))&&n.default||n)?(r=(r=n.getTech&&n.getTech("Html5"))||n.getComponent&&n.getComponent("Html5"))&&r.registerSourceHandler(s,0):console.warn("videojs-contrib-hls.js: Couldn't find find window.videojs nor require('video.js')"))}],a={},i.m=r,i.c=a,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2);function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r,a}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsOffset=t(e.videojs)}(this,function(r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;function e(t){var n=this,i=(t=t||{},this.constructor);this._offsetStart=t.start||0,this._offsetEnd=t.end||0,this._restartBeginning=t.restart_beginning||!1,i.__super__&&i.__super__.__offsetInit||(i.__super__={__offsetInit:!0,duration:i.prototype.duration,currentTime:i.prototype.currentTime,bufferedPercent:i.prototype.bufferedPercent,remainingTime:i.prototype.remainingTime},i.prototype.duration=function(){return 0<this._offsetEnd?this._offsetEnd-this._offsetStart:i.__super__.duration.apply(this,arguments)-this._offsetStart},i.prototype.currentTime=function(e){return void 0!==e?i.__super__.currentTime.call(this,e+this._offsetStart)-this._offsetStart:i.__super__.currentTime.apply(this,arguments)-this._offsetStart},i.prototype.remainingTime=function(){var e=this.currentTime();return e<this._offsetStart&&(e=0),this.duration()-e},i.prototype.startOffset=function(){return this._offsetStart},i.prototype.endOffset=function(){return 0<this._offsetEnd?this._offsetEnd:this.duration()}),this.ready(function(){var e;e=n,r.mergeOptions(a,t),e.one("play",function(){e.on("timeupdate",o)})})}var a={},t=r.registerPlugin||r.plugin,o=function e(){var t=this.currentTime();t<0&&(this.currentTime(0),this.play()),0<this._offsetEnd&&t>this._offsetEnd-this._offsetStart&&(this.off("timeupdate",e),this.pause(),this.trigger("ended"),this._restartBeginning?(this.trigger("loadstart"),this.currentTime(0)):this.currentTime(this._offsetEnd-this._offsetStart))};return t("offset",e),e.VERSION="__VERSION__",e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsCutButtons=t(e.videojs)}(this,function(r){"use strict";function e(n){var i=this;this.ready(function(){var e,t;e=i,t=r.mergeOptions(a,n),e.addClass("vjs-rangeset-buttons"),t.to&&(e.controlBar.cutTo=e.controlBar.addChild("cutButton",{cut:"to"}),e.controlBar.el().insertBefore(e.controlBar.cutTo.el(),e.controlBar.el().lastChild.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling)),t.from&&(e.controlBar.cutFrom=e.controlBar.addChild("cutButton",{cut:"from"}),e.controlBar.el().insertBefore(e.controlBar.cutFrom.el(),e.controlBar.cutTo.el()))})}var t=(r="default"in r?r.default:r).getComponent("Button"),n=r.getComponent("Component"),a={},i=r.registerPlugin||r.plugin,t=function(n){function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,e,t));return"to"===e.options_.cut?e.controlText(e.localize("Set Range Slider end time to current time")):"from"===e.options_.cut&&e.controlText(e.localize("Set Range Slider start time to current time")),e}var e=i,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i.prototype.buildCSSClass=function(){return"vjs-rangeset-button "+this.options_.cut+" "+n.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function(){function e(e,t){var n=e.currentTime(),i=(r=e.getValueSlider()).start,r=r.end;t?e.playBetween(n,r):e.playBetween(i,n),e.currentTime(n)}"to"===this.options_.cut?e(this.player_,!1):"from"===this.options_.cut&&e(this.player_,!0)},i}(t);return n.registerComponent("CutButton",t),i("cutButtons",e),e.VERSION="1.0.0",e}),function(c,n){"use strict";var i,u,r,d,h,a,f,o,s={settings:{},prefix:"transcript"},l=(s.player=this,{autoscroll:!0,clickArea:"text",showTitle:!0,showTrackSelector:!0,followPlayerTrack:!0,stopScrollWhenInUse:!0}),p={secondsToTime:function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),e=(e=Math.floor(e%60))<10?"0"+e:e,n=0<t&&n<10?"0"+n:n;return 0<t?t+":"+n+":"+e:n+":"+e},localize:function(e){return e},createEl:function(e,t){t=t||"";e=document.createElement(e);return e.className=i.prefix+t,e},extend:function(e){var t,n,i=typeof e;if(!("function"==i||"object"==i&&e))return e;for(var r=1,a=arguments.length;r<a;r++)for(n in t=arguments[r])e[n]=t[n];return e}},g={handlers_:[],on:function(e,t,n){if("function"!=typeof n)throw new TypeError("Callback is not a function.");this.handlers_.push([e,t,n])},trigger:function(t,n){this.handlers_.forEach(function(e){e[0]===t&&e[1]===n&&e[2].apply()})}},m=(u=function(e,t,n,i){return t+n*Math.sin(Math.min(1,e/i)*(Math.PI/2))},{init:function(e,t){return this.element=e,this.userIsScrolling=!1,this.mouseIsOverTranscript=!0,this.isAutoScrolling=!0,function(e){var t=this;e.addEventListener("scroll",function(){t.isAutoScrolling?t.isAutoScrolling=!1:(t.userIsScrolling=!0,e.classList.add("is-inuse"))}),e.addEventListener("mouseenter",function(){t.mouseIsOverTranscript=!0}),e.addEventListener("mouseleave",function(){t.mouseIsOverTranscript=!1,setTimeout(function(){t.mouseIsOverTranscript||(t.userIsScrolling=!1,e.classList.remove("is-inuse"))},1e3)})}.call(this,this.element),this},to:function(e){var t,n,i,r,a,o;this.canScroll()&&(n=(t=e.parentElement).offsetTop+t.clientHeight,i=e.offsetTop+e.clientHeight,r=e.offsetTop-t.offsetTop,a=e.offsetTop+e.clientHeight-t.offsetTop,r<t.scrollTop?o=e.offsetTop-t.offsetTop:a>t.scrollTop+t.clientHeight&&(o=i-n),void 0!==o&&t.scrollTop!==o&&function(t,n,i){var r=Date.now(),a=t.scrollTop,o=this,s=(n=Math.max(0,n),(n=Math.min(t.scrollHeight-t.clientHeight,n))-a),l=function(){var e=Date.now()-r;o.isAutoScrolling=!0,t.scrollTop=u(e,a,s,i),t.scrollTop!==n&&requestAnimationFrame(l,t)};requestAnimationFrame(l,t)}.call(this,t,o,400))},canScroll:function(){var e=this.element;return e.scrollHeight>e.offsetHeight},inUse:function(){return this.userIsScrolling}}),y={get:function(){var e,t,n=[];for(s.tracks=s.player.textTracks(),e=0;e<s.tracks.length;e++)"captions"!==(t=s.tracks[e]).kind&&"subtitles"!==t.kind||n.push(t);return n},active:function(e){for(var t,n=0;n<s.tracks.length;n++)if("showing"===(t=s.tracks[n]).mode)return r=t;return r||e[0]}},v=(d=i=s,h={element:{},body:{}},f=function(e){"object"!=typeof e&&(e=d.player.textTracks()[e]);var t,n,i,r,a,o=p.createEl("div","-body"),s=document.createDocumentFragment();if(e.activeCues){for(var l=e.cues,u=0;u<l.length;u++)n=l[u],a=r=i=void 0,i=p.createEl("div","-line"),r=p.createEl("span","-timestamp"),a=p.createEl("span","-text"),i.setAttribute("data-begin",n.startTime),r.textContent=p.secondsToTime(n.startTime),a.innerHTML=n.text,i.appendChild(r),i.appendChild(a),n=i,s.appendChild(n);o.innerHTML="",o.appendChild(s),o.setAttribute("lang",e.language),o.scroll=(t=o,Object.create(m).init(t)),o.addEventListener("click",b),h.element.replaceChild(o,h.body),h.body=o}else"showing"!==e.mode&&(e.mode="hidden"),c.setTimeout(function(){f(e)},100)},{create:function(){var e,i,t=document.createElement("div");return(h.element=t).setAttribute("id",d.prefix+"-"+d.player.id()),d.settings.showTitle&&((e=p.createEl("header","-header")).textContent=p.localize("Transcript"),t.appendChild(e)),d.settings.showTrackSelector&&(i=p.createEl("select","-selector"),d.validTracks.forEach(function(e,t){var n=document.createElement("option");n.value=t,n.textContent=e.label+" ("+e.language+")",i.appendChild(n)}),i.addEventListener("change",function(e){o(document.querySelector("#"+d.prefix+"-"+d.player.id()+" option:checked").value),a("trackchanged")}),e=i,t.appendChild(e)),h.body=p.createEl("div","-body"),t.appendChild(h.body),o(d.currentTrack),this},setTrack:o=function(e,t){f(e,t)},setCue:function(e){for(var t,n,i,r=h.body.children,a=0;a<r.length;a++)n=(t=r[a]).getAttribute("data-begin"),i=a<r.length-1?r[a+1].getAttribute("data-begin"):d.player.duration()||1/0,n<e&&e<i?t.classList.contains("is-active")||(t.classList.add("is-active"),!d.settings.autoscroll||d.settings.stopScrollWhenInUse&&h.body.scroll.inUse()||h.body.scroll.to(t)):t.classList.remove("is-active")},el:function(){return h.element},on:function(e,t){g.on(this,e,t)},trigger:a=function(e){g.trigger(this,e)}});function b(e){var t=e.target.classList;null!=(e=e.target.getAttribute("data-begin")||e.target.parentElement.getAttribute("data-begin"))&&("line"===d.settings.clickArea||"timestamp"===d.settings.clickArea&&t.contains(d.prefix+"-timestamp")||"text"===d.settings.clickArea&&t.contains(d.prefix+"-text"))&&d.player.currentTime(e)}n.registerPlugin("transcript",function(e){s.player=this,s.validTracks=y.get(),s.currentTrack=y.active(s.validTracks),s.settings=n.mergeOptions(l,e),s.widget=v.create();function t(){s.currentTrack=y.active(s.validTracks),s.widget.setTrack(s.currentTrack)}if(0<s.validTracks.length)return t(),s.player.on("timeupdate",function(){s.widget.setCue(s.player.currentTime())}),s.settings.followPlayerTrack&&(s.player.on("captionstrackchange",t),s.player.on("subtitlestrackchange",t)),{el:function(){return s.widget.el()},setTrack:s.widget.setTrack};throw new Error("videojs-transcript: No tracks found!")})}(window,videojs),function(t){"undefined"!=typeof window&&window.videojs?t(window.videojs):"function"==typeof define&&define.amd?define("videojs-hotkeys",["video.js"],function(e){return t(e.default||e)}):"undefined"!=typeof module&&module.exports&&(module.exports=t(require("video.js")))}(function(a){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.22"}),(a.registerPlugin||a.plugin)("hotkeys",function(c){function d(e){return"function"==typeof n?n(e):n}function e(e){var t;h.controls()&&(t=p.activeElement,(_||t==f||t==f.querySelector(".vjs-tech")||t==f.querySelector(".iframeblocker")||t==f.querySelector(".vjs-control-bar"))&&i&&(e=window.event||e,t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault(),1==t?h.volume(h.volume()+g):-1==t&&h.volume(h.volume()-g)))}var h=this,f=h.el(),p=document,t=a.mergeOptions||a.util.mergeOptions,g=(c=t({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},c||{})).volumeStep,n=c.seekStep,m=c.enableMute,i=c.enableVolumeScroll,y=c.enableFullscreen,v=c.enableNumbers,b=c.enableJogStyle,_=c.alwaysCaptureHotkeys,T=c.enableModifiersForNumbers,t=c.enableInactiveFocus,r=c.skipInitialFocus;f.hasAttribute("tabIndex")||f.setAttribute("tabIndex","-1"),f.style.outline="none",!_&&h.autoplay()||r||h.one("play",function(){f.focus()}),t&&h.on("userinactive",function(){function n(){clearTimeout(e)}var e=setTimeout(function(){h.off("useractive",n);var e=p.activeElement,t=f.querySelector(".vjs-control-bar");e&&e.parentElement==t&&f.focus()},10);h.one("useractive",n)}),h.on("play",function(){var e=f.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});return h.on("keydown",function(e){var t,n=e.which,i=e.preventDefault,r=h.duration();if(h.controls()){var a,o,s,l=p.activeElement;if(_||l==f||l==f.querySelector(".vjs-tech")||l==f.querySelector(".vjs-control-bar")||l==f.querySelector(".iframeblocker"))switch(l=e,t=h,c.playPauseKey(l,t)?1:c.rewindKey(l,t)?2:c.forwardKey(l,t)?3:c.volumeUpKey(l,t)?4:c.volumeDownKey(l,t)?5:c.muteKey(l,t)?6:c.fullscreenKey(l,t)?7:void 0){case 1:i(),_&&e.stopPropagation(),h.paused()?h.play():h.pause();break;case 2:a=!h.paused(),i(),a&&h.pause(),(o=h.currentTime()-d(e))<=0&&(o=0),h.currentTime(o),a&&h.play();break;case 3:a=!h.paused(),i(),a&&h.pause(),(o=h.currentTime()+d(e))>=r&&(o=a?r-.001:r),h.currentTime(o),a&&h.play();break;case 5:i(),b?(o=h.currentTime()-1,h.currentTime()<=1&&(o=0),h.currentTime(o)):h.volume(h.volume()-g);break;case 4:i(),b?((o=h.currentTime()+1)>=r&&(o=r),h.currentTime(o)):h.volume(h.volume()+g);break;case 6:m&&h.muted(!h.muted());break;case 7:y&&(h.isFullscreen()?h.exitFullscreen():h.requestFullscreen());break;default:for(s in(47<n&&n<59||95<n&&n<106)&&(T||!(e.metaKey||e.ctrlKey||e.altKey))&&v&&(a=48,o=n-(a=95<n?96:a),i(),h.currentTime(h.duration()*o*.1)),c.customKeys){var u=c.customKeys[s];u&&u.key&&u.handler&&u.key(e)&&(i(),u.handler(h,c,e))}}}}),h.on("dblclick",function(e){!h.controls()||(e=e.relatedTarget||e.toElement||p.activeElement)!=f&&e!=f.querySelector(".vjs-tech")&&e!=f.querySelector(".iframeblocker")||y&&(h.isFullscreen()?h.exitFullscreen():h.requestFullscreen())}),h.on("mousewheel",e),h.on("DOMMouseScroll",e),this})});