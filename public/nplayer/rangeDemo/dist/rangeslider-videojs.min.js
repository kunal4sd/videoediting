/*! rangeslider-videojs 31-03-2016 */
_vjs4={on:function(a,b,c,d){a.addEventListener(b,c,d)},off:function(a,b,c,d){a.removeEventListener(b,c,d)},addClass:function(a,b){a.classList.add(b)},removeClass:function(a,b){a.classList.remove(b)},findPosition:function(a){return a.getBoundingClientRect()},round:function(a,b){return parseFloat(a.toFixed(b))},formatTime:function(a){var b=Math.floor(a/60).toFixed(0),c=(a%60).toFixed(0);return 1===c.length&&(c="0"+c),b+":"+c},blockTextSelection:function(){}},function(){function a(a){for(var b="Unknown Error",c=[[2,"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks."],[5,"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred."],[100,"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private."],[101,"The owner of the requested video does not allow it to be played in embedded players."],[150,"The owner of the requested video does not allow it to be played in embedded players."]],d=b,e=0;e<c.length;e++)if(c[e][0]==a){d=c[e][1];break}return d}function b(b){function d(a){var b=e.rangeslider;for(var c in b.components)b.components[c].init_();b.options.hidden&&b.hide(),b.options.locked&&b.lock(),b.options.panel===!1&&b.hidePanel(),b.options.controlTime===!1&&b.hidecontrolTime(),b._reset(),e.trigger("loadedRangeSlider")}var e=this;e.rangeslider=new c(e,b),"Youtube"==e.techName?(e.one("error",function(b){alert(a(e.error))}),e.on("firstplay",d)):e.one("playing",d)}function c(a,b){var c=a||this;this.player=c,this.components={},b=b||{},b.hasOwnProperty("locked")||(b.locked=!1),b.hasOwnProperty("hidden")||(b.hidden=!0),b.hasOwnProperty("panel")||(b.panel=!0),b.hasOwnProperty("controlTime")||(b.controlTime=!0),this.options=b,this.init()}videojs.plugin("rangeslider",b),c.prototype={init:function(){var a=this.player||{};this.updatePrecision=3,this.start=0,this.end=0;var b=a.controlBar,c=b.progressControl.seekBar;this.components.RSTimeBar=c.RSTimeBar,this.components.ControlTimePanel=b.ControlTimePanel,this.rstb=this.components.RSTimeBar,this.box=this.components.SeekRSBar=this.rstb.SeekRSBar,this.bar=this.components.SelectionBar=this.box.SelectionBar,this.left=this.components.SelectionBarLeft=this.box.SelectionBarLeft,this.right=this.components.SelectionBarRight=this.box.SelectionBarRight,this.tp=this.components.TimePanel=this.box.TimePanel,this.tpl=this.components.TimePanelLeft=this.tp.TimePanelLeft,this.tpr=this.components.TimePanelRight=this.tp.TimePanelRight,this.ctp=this.components.ControlTimePanel,this.ctpl=this.components.ControlTimePanelLeft=this.ctp.ControlTimePanelLeft,this.ctpr=this.components.ControlTimePanelRight=this.ctp.ControlTimePanelRight},lock:function(){this.options.locked=!0,this.ctp.enable(!1),"undefined"!=typeof this.box&&_vjs4.addClass(this.box.el_,"locked")},unlock:function(){this.options.locked=!1,this.ctp.enable(),"undefined"!=typeof this.box&&_vjs4.removeClass(this.box.el_,"locked")},show:function(){this.options.hidden=!1,"undefined"!=typeof this.rstb&&(this.rstb.show(),this.options.controlTime&&this.showcontrolTime())},hide:function(){this.options.hidden=!0,"undefined"!=typeof this.rstb&&(this.rstb.hide(),this.ctp.hide())},showPanel:function(){this.options.panel=!0,"undefined"!=typeof this.tp&&_vjs4.removeClass(this.tp.el_,"disable")},hidePanel:function(){this.options.panel=!1,"undefined"!=typeof this.tp&&_vjs4.addClass(this.tp.el_,"disable")},showcontrolTime:function(){this.options.controlTime=!0,"undefined"!=typeof this.ctp&&this.ctp.show()},hidecontrolTime:function(){this.options.controlTime=!1,"undefined"!=typeof this.ctp&&this.ctp.hide()},setValue:function(a,b,c){c="undefined"!=typeof c?c:!0;var d=this._percent(b),e=0===a||1===a,f=!this.locked;f&&e&&this.box.setPosition(a,d,c)},setValues:function(a,b,c){c="undefined"!=typeof c?c:!0,this._reset(),this._setValuesLocked(a,b,c)},getValues:function(){var a,b;return a=this.start||this._getArrowValue(0),b=this.end||this._getArrowValue(1),{start:a,end:b}},playBetween:function(a,b,c){c="undefined"==typeof c?!0:c,this.player.currentTime(a),this.player.play(),c?(this.show(),this._reset()):this.hide(),this._setValuesLocked(a,b),this.bar.activatePlay(a,b)},loop:function(a,b,c){var d=this.player;d&&(d.on("pause",videojs.bind(this,function(){this.looping=!1})),c="undefined"==typeof c?!0:c,c?(this.show(),this._reset()):this.hide(),this._setValuesLocked(a,b),this.timeStart=a,this.timeEnd=b,this.looping=!0,this.player.currentTime(a),this.player.play(),this.player.on("timeupdate",videojs.bind(this,this.bar.process_loop)))},_getArrowValue:function(a){a=a||0;var b=this.player.duration();b="undefined"==typeof b?0:b;var c=this[0===a?"left":"right"].el_.style.left.replace("%","");return""===c&&(c=0===a?0:100),_vjs4.round(this._seconds(c/100),this.updatePrecision-1)},_percent:function(a){var b=this.player.duration();return isNaN(b)?0:Math.min(1,Math.max(0,a/b))},_seconds:function(a){var b=this.player.duration();return isNaN(b)?0:Math.min(b,Math.max(0,a*b))},_reset:function(){var a=this.player.duration();this.tpl.el_.style.left="0%",this.tpr.el_.style.left="100%",this._setValuesLocked(0,a)},_setValuesLocked:function(a,b,c){var d="undefined"!=typeof c;c="undefined"!=typeof c?c:!0,this.options.locked?(this.unlock(),this.setValue(0,a,c),this.setValue(1,b,c),this.lock()):(this.setValue(0,a,c),this.setValue(1,b,c)),d&&this._triggerSliderChange()},_checkControlTime:function(a,b,c){var d,e,f,g=b[0],h=b[1],i=b[2],j=g.value,k=h.value,l=i.value;if(a=a||0,j!=c[0])d=g,e=j,f=c[0];else if(k!=c[1])d=h,e=k,f=c[1];else{if(l==c[2])return!1;d=i,e=l,f=c[2]}var m,n=this.player.duration()||0,o=/^\d+$/;if((!o.test(e)||e>60)&&(e=""===e?"":f),j=""===j?0:j,k=""===k?0:k,l=""===l?0:l,m=videojs.TextTrack.prototype.parseCueTime(j+":"+k+":"+l),m>n?(d.value=f,d.style.border="1px solid red"):(d.value=e,g.style.border=h.style.border=i.style.border="1px solid transparent",this.setValue(a,m,!1),this._triggerSliderChange()),1===a){var p=this.ctpl.el_.children,q=videojs.TextTrack.prototype.parseCueTime(p[0].value+":"+p[1].value+":"+p[2].value);q>m&&(d.style.border="1px solid red")}else{var r=this.ctpr.el_.children,s=videojs.TextTrack.prototype.parseCueTime(r[0].value+":"+r[1].value+":"+r[2].value);m>s&&(d.style.border="1px solid red")}},_triggerSliderChange:function(){this.player.trigger("sliderchange")}};var d=videojs.getComponent("Player");d.prototype.lockSlider=function(){return this.rangeslider.lock()},d.prototype.unlockSlider=function(){return this.rangeslider.unlock()},d.prototype.showSlider=function(){return this.rangeslider.show()},d.prototype.hideSlider=function(){return this.rangeslider.hide()},d.prototype.showSliderPanel=function(){return this.rangeslider.showPanel()},d.prototype.hideSliderPanel=function(){return this.rangeslider.hidePanel()},d.prototype.showControlTime=function(){return this.rangeslider.showcontrolTime()},d.prototype.hideControlTime=function(){return this.rangeslider.hidecontrolTime()},d.prototype.setValueSlider=function(a,b){return this.rangeslider.setValues(a,b)},d.prototype.playBetween=function(a,b){return this.rangeslider.playBetween(a,b)},d.prototype.loopBetween=function(a,b){return this.rangeslider.loop(a,b)},d.prototype.getValueSlider=function(){return this.rangeslider.getValues()};var e=videojs.getComponent("SeekBar");e.prototype.options_.children.push("RSTimeBar");var f=videojs.getComponent("ControlBar");f.prototype.options_.children.push("ControlTimePanel");var g=videojs.getComponent("Component"),h=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b)}});h.prototype.init_=function(){this.rs=this.player_.rangeslider},h.prototype.options_={children:{SeekRSBar:{}}},h.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-timebar-RS",innerHTML:""})},videojs.registerComponent("RSTimeBar",h);var i=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b),this.on("mousedown",this.onMouseDown)}});i.prototype.init_=function(){this.rs=this.player_.rangeslider},i.prototype.options_={children:{SelectionBar:{},SelectionBarLeft:{},SelectionBarRight:{},TimePanel:{}}},i.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-rangeslider-holder"})},i.prototype.onMouseDown=function(a){a.preventDefault(),_vjs4.blockTextSelection(),this.rs.options.locked||(_vjs4.on(document,"mousemove",videojs.bind(this,this.onMouseMove)),_vjs4.on(document,"mouseup",videojs.bind(this,this.onMouseUp)))},i.prototype.onMouseUp=function(a){_vjs4.off(document,"mousemove",this.onMouseMove,!1),_vjs4.off(document,"mouseup",this.onMouseUp,!1)},i.prototype.onMouseMove=function(a){var b=this.calculateDistance(a);this.rs.left.pressed?this.setPosition(0,b):this.rs.right.pressed&&this.setPosition(1,b);var c=this.player_.controlBar.currentTimeDisplay;c.contentEl_.innerHTML='<span class="vjs-control-text">'+c.localize("Current Time")+"</span>"+_vjs4.formatTime(this.rs._seconds(b),this.player_.duration()),(this.rs.left.pressed||this.rs.right.pressed)&&this.rs._triggerSliderChange()},i.prototype.setPosition=function(a,b,c){if(c="undefined"!=typeof c?c:!0,a=a||0,this.rs.options.locked)return!1;if(isNaN(b))return!1;if(0!==a&&1!==a)return!1;var d=this.rs.left.el_,e=(this.rs.right.el_,this.rs[0===a?"left":"right"].el_),f=this.rs.tpr.el_,g=this.rs.tpl.el_,h=this.rs.bar,i=this.rs[0===a?"ctpl":"ctpr"].el_;if(0===a?h.updateLeft(b):h.updateRight(b)){e.style.left=100*b+"%",0===a?h.updateLeft(b):h.updateRight(b),this.rs[0===a?"start":"end"]=this.rs._seconds(b),0===a&&(b>=.9?d.style.zIndex=25:d.style.zIndex=10);var j,k,l,m=_vjs4.formatTime(this.rs._seconds(b)),n=g.children[0].innerHTML.length;if(l=4>=n?this.player_.isFullScreen?3.25:6.5:5>=n?this.player_.isFullScreen?4:8:this.player_.isFullScreen?5:10,m.length<=4?(j=this.player_.isFullScreen?97:93,k=this.player_.isFullScreen?.1:.5):m.length<=5?(j=this.player_.isFullScreen?96:92,k=this.player_.isFullScreen?.1:.5):(j=this.player_.isFullScreen?95:91,k=this.player_.isFullScreen?.1:.5),0===a?(g.style.left=Math.max(k,Math.min(j,100*b-l/2))+"%",f.style.left.replace("%","")-g.style.left.replace("%","")<=l&&(g.style.left=Math.max(k,Math.min(j,f.style.left.replace("%","")-l))+"%"),g.children[0].innerHTML=m):(f.style.left=Math.max(k,Math.min(j,100*b-l/2))+"%",(f.style.left.replace("%","")||100)-g.style.left.replace("%","")<=l&&(f.style.left=Math.max(k,Math.min(j,g.style.left.replace("%","")-0+l))+"%"),f.children[0].innerHTML=m),c){var o,p,q,r=m.split(":");2==r.length?(o=0,p=r[0],q=r[1]):(o=r[0],p=r[1],q=r[2]),i.children[0].value=o,i.children[1].value=p,i.children[2].value=q}}return!0},i.prototype.calculateDistance=function(a){var b=this.getRSTBX(),c=this.getRSTBWidth(),d=this.getWidth();return b+=d/2,c-=d,Math.max(0,Math.min(1,(a.pageX-b)/c))},i.prototype.getRSTBWidth=function(){return this.el_.offsetWidth},i.prototype.getRSTBX=function(){return _vjs4.findPosition(this.el_).left},i.prototype.getWidth=function(){return this.rs.left.el_.offsetWidth},videojs.registerComponent("SeekRSBar",i);var j=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b),this.on("mouseup",this.onMouseUp),this.fired=!1}});j.prototype.init_=function(){this.rs=this.player_.rangeslider},j.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-selectionbar-RS"})},j.prototype.onMouseUp=function(){var a=this.rs.left.el_.style.left.replace("%",""),b=this.rs.right.el_.style.left.replace("%",""),c=this.player_.duration(),d=this.rs.updatePrecision,e=_vjs4.round(a*c/100,d),f=_vjs4.round(b*c/100,d);this.player_.currentTime(e),this.player_.play(),this.rs.bar.activatePlay(e,f)},j.prototype.updateLeft=function(a){var b=""!==this.rs.right.el_.style.left?this.rs.right.el_.style.left:100,c=parseFloat(b)/100,d=_vjs4.round(c-a,this.rs.updatePrecision);return c+1e-5>=a?(this.rs.bar.el_.style.left=100*a+"%",this.rs.bar.el_.style.width=100*d+"%",!0):!1},j.prototype.updateRight=function(a){var b=""!==this.rs.left.el_.style.left?this.rs.left.el_.style.left:0,c=parseFloat(b)/100,d=_vjs4.round(a-c,this.rs.updatePrecision);return a+1e-5>=c?(this.rs.bar.el_.style.width=100*d+"%",this.rs.bar.el_.style.left=100*(a-d)+"%",!0):!1},j.prototype.activatePlay=function(a,b){this.timeStart=a,this.timeEnd=b,this.suspendPlay(),this.player_.on("timeupdate",videojs.bind(this,this._processPlay))},j.prototype.suspendPlay=function(){this.fired=!1,this.player_.off("timeupdate",videojs.bind(this,this._processPlay))},j.prototype._processPlay=function(){if(this.player_.currentTime()>=this.timeStart&&(this.timeEnd<0||this.player_.currentTime()<this.timeEnd)){if(this.fired)return;this.fired=!0}else{if(!this.fired)return;this.fired=!1,this.player_.pause(),this.player_.currentTime(this.timeEnd),this.suspendPlay()}},j.prototype.process_loop=function(){var a=this.player;if(a&&this.looping){var b=a.currentTime();(b<this.timeStart||this.timeEnd>0&&this.timeEnd<b)&&a.currentTime(this.timeStart)}},videojs.registerComponent("SelectionBar",j);var k=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b),this.on("mousedown",this.onMouseDown),this.pressed=!1}});k.prototype.init_=function(){this.rs=this.player_.rangeslider},k.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-rangeslider-handle vjs-selectionbar-left-RS",innerHTML:'<div class="vjs-selectionbar-arrow-RS"></div><div class="vjs-selectionbar-line-RS"></div>'})},k.prototype.onMouseDown=function(a){a.preventDefault(),_vjs4.blockTextSelection(),this.rs.options.locked||(this.pressed=!0,_vjs4.on(document,"mouseup",videojs.bind(this,this.onMouseUp)),_vjs4.addClass(this.el_,"active"))},k.prototype.onMouseUp=function(a){_vjs4.off(document,"mouseup",this.onMouseUp,!1),_vjs4.removeClass(this.el_,"active"),this.rs.options.locked||(this.pressed=!1)},videojs.registerComponent("SelectionBarLeft",k);var l=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b),this.on("mousedown",this.onMouseDown),this.pressed=!1}});l.prototype.init_=function(){this.rs=this.player_.rangeslider},l.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-rangeslider-handle vjs-selectionbar-right-RS",innerHTML:'<div class="vjs-selectionbar-arrow-RS"></div><div class="vjs-selectionbar-line-RS"></div>'})},l.prototype.onMouseDown=function(a){a.preventDefault(),_vjs4.blockTextSelection(),this.rs.options.locked||(this.pressed=!0,_vjs4.on(document,"mouseup",videojs.bind(this,this.onMouseUp)),_vjs4.addClass(this.el_,"active"))},l.prototype.onMouseUp=function(a){_vjs4.off(document,"mouseup",this.onMouseUp,!1),_vjs4.removeClass(this.el_,"active"),this.rs.options.locked||(this.pressed=!1)},videojs.registerComponent("SelectionBarRight",l);var m=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b)}});m.prototype.init_=function(){this.rs=this.player_.rangeslider},m.prototype.options_={children:{TimePanelLeft:{},TimePanelRight:{}}},m.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-timepanel-RS"})},videojs.registerComponent("TimePanel",m);var n=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b)}});n.prototype.init_=function(){this.rs=this.player_.rangeslider},n.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-timepanel-left-RS",innerHTML:'<span class="vjs-time-text">00:00</span>'})},videojs.registerComponent("TimePanelLeft",n);var o=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b)}});o.prototype.init_=function(){this.rs=this.player_.rangeslider},o.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-timepanel-right-RS",innerHTML:'<span class="vjs-time-text">00:00</span>'})},videojs.registerComponent("TimePanelRight",o);var p=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b)}});p.prototype.init_=function(){this.rs=this.player_.rangeslider},p.prototype.options_={children:{ControlTimePanelLeft:{},ControlTimePanelRight:{}}},p.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-controltimepanel-RS vjs-control"})},p.prototype.enable=function(a){a="undefined"!=typeof a?a:!0,this.rs.ctpl.el_.children[0].disabled=a?"":"disabled",this.rs.ctpl.el_.children[1].disabled=a?"":"disabled",this.rs.ctpl.el_.children[2].disabled=a?"":"disabled",this.rs.ctpr.el_.children[0].disabled=a?"":"disabled",this.rs.ctpr.el_.children[1].disabled=a?"":"disabled",this.rs.ctpr.el_.children[2].disabled=a?"":"disabled"},videojs.registerComponent("ControlTimePanel",p);var q=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b),this.on("keyup",this.onKeyUp),this.on("keydown",this.onKeyDown)}});q.prototype.init_=function(){this.rs=this.player_.rangeslider,this.timeOld={}},q.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-controltimepanel-left-RS",innerHTML:'Start: <input type="text" id="controltimepanel" maxlength="2" value="00"/>:<input type="text" id="controltimepanel" maxlength="2" value="00"/>:<input type="text" id="controltimepanel" maxlength="2" value="00"/>'})},q.prototype.onKeyDown=function(a){this.timeOld[0]=this.el_.children[0].value,this.timeOld[1]=this.el_.children[1].value,this.timeOld[2]=this.el_.children[2].value},q.prototype.onKeyUp=function(a){this.rs._checkControlTime(0,this.el_.children,this.timeOld)},videojs.registerComponent("ControlTimePanelLeft",q);var r=videojs.extend(g,{constructor:function(a,b){g.call(this,a,b),this.on("keyup",this.onKeyUp),this.on("keydown",this.onKeyDown)}});r.prototype.init_=function(){this.rs=this.player_.rangeslider,this.timeOld={}},r.prototype.createEl=function(){return g.prototype.createEl.call(this,"div",{className:"vjs-controltimepanel-right-RS",innerHTML:'End: <input type="text" id="controltimepanel" maxlength="2" value="00"/>:<input type="text" id="controltimepanel" maxlength="2" value="00"/>:<input type="text" id="controltimepanel" maxlength="2" value="00"/>'})},r.prototype.onKeyDown=function(a){this.timeOld[0]=this.el_.children[0].value,this.timeOld[1]=this.el_.children[1].value,this.timeOld[2]=this.el_.children[2].value},r.prototype.onKeyUp=function(a){this.rs._checkControlTime(1,this.el_.children,this.timeOld)},videojs.registerComponent("ControlTimePanelRight",r)}();